"use strict";(self.webpackChunkSherlyn=self.webpackChunkSherlyn||[]).push([[491],{81491:(tt,w,l)=>{l.r(w),l.d(w,{DashboardModule:()=>q});var u=l(60177),E=l(30803),b=l(67376),t=l(17705),z=l(31088),g=l(8585),c=l(69153),C=l(53339),I=l(31591),_=l(20205),v=l(32102),S=l(25084),y=l(89417),D=l(5779),h=l(81455);const T=["container"];function M(a,d){1&a&&t.eu8(0)}function G(a,d){if(1&a){const e=t.RV6();t.j41(0,"div",6),t.bIt("mousedown",function(s){t.eBV(e);const n=t.XpG().index,r=t.XpG();return t.Njj(r.onGutterMouseDown(s,n))})("touchstart",function(s){t.eBV(e);const n=t.XpG().index,r=t.XpG();return t.Njj(r.onGutterTouchStart(s,n))})("touchmove",function(s){t.eBV(e);const n=t.XpG(2);return t.Njj(n.onGutterTouchMove(s))})("touchend",function(s){t.eBV(e);const n=t.XpG().index,r=t.XpG();return t.Njj(r.onGutterTouchEnd(s,n))}),t.j41(1,"div",7),t.bIt("keyup",function(s){t.eBV(e);const n=t.XpG(2);return t.Njj(n.onGutterKeyUp(s))})("keydown",function(s){t.eBV(e);const n=t.XpG().index,r=t.XpG();return t.Njj(r.onGutterKeyDown(s,n))}),t.k0s()()}if(2&a){const e=t.XpG(2);t.BMQ("data-p-gutter-resizing",!1)("data-pc-section","gutter"),t.R7$(1),t.Y8G("ngStyle",e.gutterStyle()),t.BMQ("aria-orientation",e.layout)("aria-valuenow",e.prevSize)("data-pc-section","gutterhandle")}}function P(a,d){if(1&a&&(t.j41(0,"div",3),t.DNE(1,M,1,0,"ng-container",4),t.k0s(),t.DNE(2,G,2,6,"div",5)),2&a){const e=d.$implicit,i=d.index,s=t.XpG();t.HbH(s.panelStyleClass),t.Y8G("ngClass",s.panelContainerClass())("ngStyle",s.panelStyle),t.BMQ("data-pc-name","splitter")("data-pc-section","root"),t.R7$(1),t.Y8G("ngTemplateOutlet",e),t.R7$(1),t.Y8G("ngIf",i!==s.panels.length-1)}}let k=(()=>{class a{document;platformId;renderer;cd;el;styleClass;panelStyleClass;style;panelStyle;stateStorage="session";stateKey=null;layout="horizontal";gutterSize=4;step=5;minSizes=[];get panelSizes(){return this._panelSizes}set panelSizes(e){if(this._panelSizes=e,this.el&&this.el.nativeElement&&this.panels.length>0){let i=[...this.el.nativeElement.children[0].children].filter(n=>h.D.hasClass(n,"p-splitter-panel")),s=[];this.panels.map((n,r)=>{let o=(this.panelSizes.length-1>=r?this.panelSizes[r]:null)||100/this.panels.length;s[r]=o,i[r].style.flexBasis="calc("+o+"% - "+(this.panels.length-1)*this.gutterSize+"px)"})}}onResizeEnd=new t.bkB;onResizeStart=new t.bkB;templates;containerViewChild;nested=!1;panels=[];dragging=!1;mouseMoveListener;mouseUpListener;touchMoveListener;touchEndListener;size;gutterElement;startPos;prevPanelElement;nextPanelElement;nextPanelSize;prevPanelSize;_panelSizes=[];prevPanelIndex;timer;prevSize;window;constructor(e,i,s,n,r){this.document=e,this.platformId=i,this.renderer=s,this.cd=n,this.el=r,this.window=this.document.defaultView}ngOnInit(){this.nested=this.isNested()}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.panels.push(e.template)})}ngAfterViewInit(){if(this.panels&&this.panels.length){let e=!1;if(this.isStateful()&&(0,u.UE)(this.platformId)&&(e=this.restoreState()),!e){let i=[...this.el.nativeElement.children[0].children].filter(n=>h.D.hasClass(n,"p-splitter-panel")),s=[];this.panels.map((n,r)=>{let o=(this.panelSizes.length-1>=r?this.panelSizes[r]:null)||100/this.panels.length;s[r]=o,i[r].style.flexBasis="calc("+o+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),this._panelSizes=s,this.prevSize=parseFloat(s[0]).toFixed(4)}}}resizeStart(e,i,s){this.gutterElement=e.currentTarget||e.target.parentElement,this.size=this.horizontal()?h.D.getWidth(this.containerViewChild.nativeElement):h.D.getHeight(this.containerViewChild.nativeElement),s||(this.dragging=!0,this.startPos=this.horizontal()?e instanceof MouseEvent?e.pageX:e.changedTouches[0].pageX:e instanceof MouseEvent?e.pageY:e.changedTouches[0].pageY),this.prevPanelElement=this.gutterElement.previousElementSibling,this.nextPanelElement=this.gutterElement.nextElementSibling,s?(this.prevPanelSize=this.horizontal()?h.D.getOuterWidth(this.prevPanelElement,!0):h.D.getOuterHeight(this.prevPanelElement,!0),this.nextPanelSize=this.horizontal()?h.D.getOuterWidth(this.nextPanelElement,!0):h.D.getOuterHeight(this.nextPanelElement,!0)):(this.prevPanelSize=100*(this.horizontal()?h.D.getOuterWidth(this.prevPanelElement,!0):h.D.getOuterHeight(this.prevPanelElement,!0))/this.size,this.nextPanelSize=100*(this.horizontal()?h.D.getOuterWidth(this.nextPanelElement,!0):h.D.getOuterHeight(this.nextPanelElement,!0))/this.size),this.prevPanelIndex=i,h.D.addClass(this.gutterElement,"p-splitter-gutter-resizing"),this.gutterElement.setAttribute("data-p-gutter-resizing","true"),h.D.addClass(this.containerViewChild.nativeElement,"p-splitter-resizing"),this.containerViewChild.nativeElement.setAttribute("data-p-resizing","true"),this.onResizeStart.emit({originalEvent:e,sizes:this._panelSizes})}onResize(e,i,s){let n,r,p;s?this.horizontal()?(r=100*(this.prevPanelSize+i)/this.size,p=100*(this.nextPanelSize-i)/this.size):(r=100*(this.prevPanelSize-i)/this.size,p=100*(this.nextPanelSize+i)/this.size):(n=this.horizontal()?100*e.pageX/this.size-100*this.startPos/this.size:100*e.pageY/this.size-100*this.startPos/this.size,r=this.prevPanelSize+n,p=this.nextPanelSize-n),this.prevSize=parseFloat(r).toFixed(4),this.validateResize(r,p)&&(this.prevPanelElement.style.flexBasis="calc("+r+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this.nextPanelElement.style.flexBasis="calc("+p+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this._panelSizes[this.prevPanelIndex]=r,this._panelSizes[this.prevPanelIndex+1]=p)}resizeEnd(e){this.isStateful()&&this.saveState(),this.onResizeEnd.emit({originalEvent:e,sizes:this._panelSizes}),h.D.removeClass(this.gutterElement,"p-splitter-gutter-resizing"),h.D.removeClass(this.containerViewChild.nativeElement,"p-splitter-resizing"),this.clear()}onGutterMouseDown(e,i){this.resizeStart(e,i),this.bindMouseListeners()}onGutterTouchStart(e,i){e.cancelable&&(this.resizeStart(e,i),this.bindTouchListeners(),e.preventDefault())}onGutterTouchMove(e){this.onResize(e),e.preventDefault()}onGutterTouchEnd(e){this.resizeEnd(e),this.unbindTouchListeners(),e.cancelable&&e.preventDefault()}repeat(e,i,s){this.resizeStart(e,i,!0),this.onResize(e,s,!0)}setTimer(e,i,s){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,i,s)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}onGutterKeyUp(e){this.clearTimer(),this.resizeEnd(e)}onGutterKeyDown(e,i){switch(e.code){case"ArrowLeft":"horizontal"===this.layout&&this.setTimer(e,i,-1*this.step),e.preventDefault();break;case"ArrowRight":"horizontal"===this.layout&&this.setTimer(e,i,this.step),e.preventDefault();break;case"ArrowDown":"vertical"===this.layout&&this.setTimer(e,i,-1*this.step),e.preventDefault();break;case"ArrowUp":"vertical"===this.layout&&this.setTimer(e,i,this.step),e.preventDefault()}}validateResize(e,i){return!(this.minSizes.length>=1&&this.minSizes[0]&&this.minSizes[0]>e||this.minSizes.length>1&&this.minSizes[1]&&this.minSizes[1]>i)}bindMouseListeners(){this.mouseMoveListener||(this.mouseMoveListener=this.renderer.listen(this.document,"mousemove",e=>{this.onResize(e)})),this.mouseUpListener||(this.mouseUpListener=this.renderer.listen(this.document,"mouseup",e=>{this.resizeEnd(e),this.unbindMouseListeners()}))}bindTouchListeners(){this.touchMoveListener||(this.touchMoveListener=this.renderer.listen(this.document,"touchmove",e=>{this.onResize(e.changedTouches[0])})),this.touchEndListener||(this.touchEndListener=this.renderer.listen(this.document,"touchend",e=>{this.resizeEnd(e),this.unbindTouchListeners()}))}unbindMouseListeners(){this.mouseMoveListener&&(this.mouseMoveListener(),this.mouseMoveListener=null),this.mouseUpListener&&(this.mouseUpListener(),this.mouseUpListener=null)}unbindTouchListeners(){this.touchMoveListener&&(this.touchMoveListener(),this.touchMoveListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}clear(){this.dragging=!1,this.size=null,this.startPos=null,this.prevPanelElement=null,this.nextPanelElement=null,this.prevPanelSize=null,this.nextPanelSize=null,this.gutterElement=null,this.prevPanelIndex=null}isNested(){if(this.el.nativeElement){let e=this.el.nativeElement.parentElement;for(;e&&!h.D.hasClass(e,"p-splitter");)e=e.parentElement;return null!==e}return!1}isStateful(){return null!=this.stateKey}getStorage(){if(!(0,u.UE)(this.platformId))throw new Error("Storage is not a available by default on the server.");switch(this.stateStorage){case"local":return this.window.localStorage;case"session":return this.window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}saveState(){this.getStorage().setItem(this.stateKey,JSON.stringify(this._panelSizes))}restoreState(){const i=this.getStorage().getItem(this.stateKey);return!!i&&(this._panelSizes=JSON.parse(i),[...this.containerViewChild.nativeElement.children].filter(n=>h.D.hasClass(n,"p-splitter-panel")).forEach((n,r)=>{n.style.flexBasis="calc("+this._panelSizes[r]+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),!0)}containerClass(){return{"p-splitter p-component":!0,"p-splitter-horizontal":"horizontal"===this.layout,"p-splitter-vertical":"vertical"===this.layout}}panelContainerClass(){return{"p-splitter-panel":!0,"p-splitter-panel-nested":!0}}gutterStyle(){return this.horizontal()?{width:this.gutterSize+"px"}:{height:this.gutterSize+"px"}}horizontal(){return"horizontal"===this.layout}static \u0275fac=function(i){return new(i||a)(t.rXU(u.qQ),t.rXU(t.Agw),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(t.aKT))};static \u0275cmp=t.VBU({type:a,selectors:[["p-splitter"]],contentQueries:function(i,s,n){if(1&i&&t.wni(n,D.Ei,4),2&i){let r;t.mGM(r=t.lsd())&&(s.templates=r)}},viewQuery:function(i,s){if(1&i&&t.GBs(T,5),2&i){let n;t.mGM(n=t.lsd())&&(s.containerViewChild=n.first)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,s){2&i&&t.AVh("p-splitter-panel-nested",s.nested)},inputs:{styleClass:"styleClass",panelStyleClass:"panelStyleClass",style:"style",panelStyle:"panelStyle",stateStorage:"stateStorage",stateKey:"stateKey",layout:"layout",gutterSize:"gutterSize",step:"step",minSizes:"minSizes",panelSizes:"panelSizes"},outputs:{onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart"},decls:3,vars:8,consts:[[3,"ngClass","ngStyle"],["container",""],["ngFor","",3,"ngForOf"],["tabindex","-1",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-splitter-gutter","role","separator","tabindex","-1",3,"mousedown","touchstart","touchmove","touchend",4,"ngIf"],["role","separator","tabindex","-1",1,"p-splitter-gutter",3,"mousedown","touchstart","touchmove","touchend"],["tabindex","0",1,"p-splitter-gutter-handle",3,"ngStyle","keyup","keydown"]],template:function(i,s){1&i&&(t.j41(0,"div",0,1),t.DNE(2,P,3,8,"ng-template",2),t.k0s()),2&i&&(t.HbH(s.styleClass),t.Y8G("ngClass",s.containerClass())("ngStyle",s.style),t.BMQ("data-pc-name","splitter")("data-p-gutter-resizing",!1)("data-pc-section","root"),t.R7$(2),t.Y8G("ngForOf",s.panels))},dependencies:[u.YU,u.Sq,u.bT,u.T3,u.B3],styles:["@layer primeng{.p-splitter{display:flex;flex-wrap:nowrap}.p-splitter-vertical{flex-direction:column}.p-splitter-panel{flex-grow:1}.p-splitter-panel-nested{display:flex;min-width:0}.p-splitter-panel p-splitter{flex-grow:1}.p-splitter-panel .p-splitter{flex-grow:1;border:0 none}.p-splitter-gutter{flex-grow:0;flex-shrink:0;display:flex;align-items:center;justify-content:center;cursor:col-resize}.p-splitter-horizontal.p-splitter-resizing{cursor:col-resize;-webkit-user-select:none;user-select:none}.p-splitter-horizontal>.p-splitter-gutter>.p-splitter-gutter-handle{height:24px;width:100%}.p-splitter-horizontal>.p-splitter-gutter{cursor:col-resize}.p-splitter-vertical.p-splitter-resizing{cursor:row-resize;-webkit-user-select:none;user-select:none}.p-splitter-vertical>.p-splitter-gutter{cursor:row-resize}.p-splitter-vertical>.p-splitter-gutter>.p-splitter-gutter-handle{width:24px;height:100%}}\n"],encapsulation:2,changeDetection:0})}return a})(),R=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=t.$C({type:a});static \u0275inj=t.G2t({imports:[u.MD,D.Gg]})}return a})();g.DPo(C.A);let X=(()=>{class a{constructor(e,i){this.data=e,this.fb=i,this.dataarrayobj=[],this.content="",this.groupedData=[],this.msg="",this.grpcount=0,this.dataforfilter=[],this.colorlist=[],this.enddaterange=new Date,this.startdaterange=(0,I.e)(new Date,30),this.dataEmitter=new t.bkB}ngOnChanges(){this.groupedData=this.spendlist,console.log(this.spendlist),this.initializeChart()}ngAfterViewInit(){this.initializeChart()}onDateRangeChanged(){console.log("Start Date:",this.startdaterange),console.log("End Date:",this.enddaterange),this.enddaterange&&this.dataEmitter.emit({startdate:this.startdaterange,enddate:this.enddaterange})}initializeChart(){this.chart=g.vtF("subdonut-chartdiv",c.KC),this.chart.hiddenState.properties.opacity=0,this.chart.data=this.groupedData;const e=this.chart.series.push(new c.tB);e.dataFields.value="totalPrice",e.dataFields.category="matgroup",e.labels.template.fontSize=12,this.chart.legend=new c.s$,this.chart.legend.scrollable=!0,this.chart.legend.maxHeight=80,this.chart.legend.fontSize=14,e.slices.template.events.on("hit",i=>{console.log(i.target.dataItem.category)})}disposeChart(){this.chart?(this.chart.dispose(),console.log("Chart disposed successfully.")):console.warn("Chart was not initialized before disposal.")}static#t=this.\u0275fac=function(i){return new(i||a)(t.rXU(_.i),t.rXU(z.f))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-breakdowndonut"]],inputs:{spendlist:["Spendlist","spendlist"],selectedgroup:["Chosengroup","selectedgroup"]},outputs:{dataEmitter:"dataEmitter"},features:[t.OA$],decls:1,vars:0,consts:[["id","subdonut-chartdiv",1,"shadow-lg","p-2","mx-1",2,"width","99%","height","80vh"]],template:function(i,s){1&i&&t.nrm(0,"div",0)},styles:["#subdonut-chartdiv[_ngcontent-%COMP%]{font-size:12px!important}"]})}return a})();function F(a,d){1&a&&t.nrm(0,"div",9)}function A(a,d){if(1&a){const e=t.RV6();t.j41(0,"span",11)(1,"button",12),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.selectedgroup=!1)}),t.EFF(2,"X"),t.k0s(),t.j41(3,"marquee",13),t.EFF(4),t.k0s(),t.nrm(5,"app-breakdowndonut",14),t.k0s()}if(2&a){const e=t.XpG(2);t.R7$(4),t.SpI("Drill Down ",e.selectedgroup,""),t.R7$(1),t.Y8G("Spendlist",e.matnamedata)("Chosengroup",e.selectedgroup)}}function Y(a,d){if(1&a&&t.DNE(0,A,6,3,"span",10),2&a){const e=t.XpG();t.Y8G("ngIf",e.selectedgroup)}}const B=function(){return{height:"80vh"}},j=function(a,d){return[a,d]};g.DPo(C.A);let L=(()=>{class a{constructor(e,i){this.data=e,this.fb=i,this.dataarrayobj=[],this.content="",this.groupedData=[],this.msg="",this.grpcount=0,this.dataforfilter=[],this.colorlist=[],this.enddaterange=new Date,this.startdaterange=(0,I.e)(new Date,30),this.selectedgroup=!1,this.showFiller=!1,this.dataEmitter=new t.bkB}ngOnChanges(){this.groupedData=this.spendlist,console.log(this.spendlist),this.initializeChart()}ngAfterViewInit(){this.initializeChart()}ngOnInit(){}onDateRangeChanged(){console.log("Start Date:",this.startdaterange),console.log("End Date:",this.enddaterange),this.enddaterange&&this.dataEmitter.emit({startdate:this.startdaterange,enddate:this.enddaterange})}initializeChart(){this.chart=g.vtF("donut-chartdiv",c.KC),this.chart.data=this.groupedData;const e=this.chart.series.push(new c.tB);this.chart.hiddenState.properties.opacity=0,e.dataFields.value="totalPrice",e.dataFields.category="matgroup",e.labels.template.fontSize=12,this.chart.legend=new c.s$,this.chart.legend.scrollable=!0,this.chart.legend.maxHeight=80,this.chart.legend.fontSize=14,this.matnamedata=void 0,this.selectedgroup=void 0,e.slices.template.events.on("hit",i=>{e.slices.each(n=>{n.isActive=!1}),console.log(i.target.dataItem.category),this.selectedgroup=i.target.dataItem.category,this.fb.getmatnamespendItems(i.target.dataItem.category,this.startdaterange,this.enddaterange).subscribe(n=>{this.matnamedata=n,this.matnamedata=b.orderBy(this.matnamedata,"totalPrice","desc"),console.log(n,"group spend items")})})}disposeChart(){this.chart?(this.chart.dispose(),console.log("Chart disposed successfully.")):console.warn("Chart was not initialized before disposal.")}generateAmChartsHexColors(e){const i=[],s=360/e;for(let n=0;n<e;n++){const r=n*s,p=70+20*Math.random(),o=40+20*Math.random(),m=this.hslToHex(r,p,o);i.push(m)}return i}hslToHex(e,i,s){i/=100,s/=100;let n=(1-Math.abs(2*s-1))*i,r=n*(1-Math.abs(e/60%2-1)),p=s-n/2,o=0,m=0,f=0;return 0<=e&&e<60?(o=n,m=r,f=0):60<=e&&e<120?(o=r,m=n,f=0):120<=e&&e<180?(o=0,m=n,f=r):180<=e&&e<240?(o=0,m=r,f=n):240<=e&&e<300?(o=r,m=0,f=n):300<=e&&e<360&&(o=n,m=0,f=r),o=Math.round(255*(o+p)),m=Math.round(255*(m+p)),f=Math.round(255*(f+p)),`#${((1<<24)+(o<<16)+(m<<8)+f).toString(16).slice(1).toUpperCase()}`}static#t=this.\u0275fac=function(i){return new(i||a)(t.rXU(_.i),t.rXU(z.f))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["donut-chart"]],inputs:{spendlist:["Spendlist","spendlist"]},outputs:{dataEmitter:"dataEmitter"},features:[t.OA$],decls:13,vars:11,consts:[[1,"d-flex","justify-content-center"],[1,"hide-subscript"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date",3,"ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],[3,"panelSizes"],["pTemplate",""],["id","donut-chartdiv",1,"shadow-lg","p-2","mx-1",2,"width","100%","height","80vh"],["style","width: 100%; height: 70vh;",4,"ngIf"],[2,"width","100%","height","70vh"],[1,"btn","btn-sm","btn-danger","closersub",3,"click"],[1,"subheader"],[3,"Spendlist","Chosengroup"]],template:function(i,s){if(1&i&&(t.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),t.EFF(3,"Selected date range MM/DD/YYYY"),t.k0s(),t.j41(4,"mat-date-range-input",2)(5,"input",3),t.bIt("ngModelChange",function(r){return s.startdaterange=r}),t.k0s(),t.j41(6,"input",4),t.bIt("ngModelChange",function(r){return s.enddaterange=r})("ngModelChange",function(){return s.onDateRangeChanged()}),t.k0s()(),t.nrm(7,"mat-datepicker-toggle",5)(8,"mat-date-range-picker",null,6),t.k0s()(),t.j41(10,"p-splitter",7),t.DNE(11,F,1,0,"ng-template",8),t.DNE(12,Y,1,1,"ng-template",8),t.k0s()),2&i){const n=t.sdS(9);t.R7$(4),t.Y8G("rangePicker",n),t.R7$(1),t.Y8G("ngModel",s.startdaterange),t.R7$(1),t.Y8G("ngModel",s.enddaterange),t.R7$(1),t.Y8G("for",n),t.R7$(3),t.Aen(t.lJ4(7,B)),t.Y8G("panelSizes",t.l_i(8,j,s.selectedgroup?40:99,s.selectedgroup?60:1))}},dependencies:[u.bT,v.rl,v.nJ,v.yw,S.bU,S.el,S.xR,S.IG,S.SG,y.me,y.BC,y.vS,k,D.Ei,X],styles:[".subheader[_ngcontent-%COMP%]{position:absolute;top:25%;left:52%}.closersub[_ngcontent-%COMP%]{position:absolute;top:25%;right:2%;z-index:5;opacity:.5}  .hide-subscript .mat-mdc-form-field-subscript-wrapper{display:none!important}"]})}return a})();var x=l(36554);g.DPo(C.A);let O=(()=>{class a{constructor(e,i,s,n){this.data=e,this.fb=i,this.ngZone=s,this.spinner=n,this.dataarrayobj=[],this.chartdiv="",this.chartCreated=!1,this.zoomRange="days"}ngOnChanges(){this.spendlist&&this.Idtoken&&(this.dataarrayobj=this.spendlist,this.chartdiv="chartdiv-"+this.Idtoken,this.chartCreated=!1,this.spinner.show())}ngOnInit(){this.spendlist&&this.Idtoken&&(this.spinner.show(),this.createChart())}ngAfterViewChecked(){this.spendlist&&this.Idtoken&&!this.chartCreated&&this.createChart()}createChart(){this.ngZone.runOutsideAngular(()=>{if(this.chart&&this.chart.dispose(),!document.getElementById(this.chartdiv))return console.warn(`Element with id ${this.chartdiv} is missing in DOM.`),void this.spinner.hide();this.chart=g.vtF(this.chartdiv,c.C1),this.chartCreated=!0,this.chart.data=this.dataarrayobj;let i=this.chart.xAxes.push(new c.cX);i.renderer.minGridDistance=25,i.renderer.labels.template.fontSize=12,i.renderer.labels.template.rotation=45,i.renderer.grid.template.location=0,this.chart.yAxes.push(new c.FL);let n=this.chart.series.push(new c.kW);n.name="matprice",n.fill=g.yWT(this.colorcode),n.dataFields.valueY="matprice",n.dataFields.dateX="date",n.columns.template.propertyFields.fillOpacity="fillOpacity",n.columns.template.propertyFields.stroke="stroke",n.columns.template.propertyFields.strokeWidth="strokeWidth",n.columns.template.propertyFields.strokeDasharray="columnDash",n.tooltip&&(n.tooltip.label.textAlign="middle");let r=this.chart.series.push(new c.Im);r.name="Expenses",r.dataFields.valueY="matprice",r.dataFields.dateX="date",r.stroke=g.yWT(this.colorcode,.3),r.strokeWidth=3,r.propertyFields.strokeDasharray="lineDash",r.tooltip&&(r.tooltip.label.textAlign="middle");let p=r.bullets.push(new c.Dv);p.fill=g.yWT("#fdd400"),p.tooltipText="[#fff font-size: 0.8rem]{name} \n {dateX}\n[/][#fff font-size: 1rem]{valueY}[/] [#fff]{additional}[/]";let o=p.createChild(g.jlt);o.radius=4,o.fill=g.yWT("#fff"),o.strokeWidth=1,this.chart.cursor=new c.Av,this.chart.cursor.behavior="zoomX",this.chart.cursor.lineX.disabled=!0,this.chart.cursor.lineY.disabled=!0,this.chart.scrollbarX=new g.ZeV,this.chart.scrollbarX.marginBottom=30,this.chart.events.on("ready",()=>{this.spinner.hide()})}),this.chart.events.on("ready",()=>{const e=new Date;let i;if("days"===this.zoomRange)i=new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),this.chart.xAxes.getIndex(0).zoomToDates(i,e,!0);else if("months"===this.zoomRange){i=new Date(e.getFullYear(),e.getMonth()-6,1);const s=new Date(e.getFullYear(),e.getMonth()+1,1);this.chart.xAxes.getIndex(0).zoomToDates(i,s,!0)}})}ngOnDestroy(){this.chart&&this.chart.dispose(),this.spinner.hide()}static#t=this.\u0275fac=function(i){return new(i||a)(t.rXU(_.i),t.rXU(z.f),t.rXU(t.SKi),t.rXU(x.ex))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-bar-line"]],inputs:{spendlist:["Spendlist","spendlist"],Idtoken:"Idtoken",colorcode:"colorcode",zoomRange:"zoomRange"},features:[t.OA$],decls:4,vars:2,consts:[[1,"shadow-lg","p-2","m-2",2,"width","99%","height","86vh",3,"id"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-clip-rotate-multiple",3,"fullScreen"],[2,"color","white"]],template:function(i,s){1&i&&(t.nrm(0,"div",0),t.j41(1,"ngx-spinner",1)(2,"p",2),t.EFF(3," Loading... "),t.k0s()()),2&i&&(t.Y8G("id","chartdiv-"+s.Idtoken),t.R7$(1),t.Y8G("fullScreen",!0))},dependencies:[x.et],styles:["#chartdiv[_ngcontent-%COMP%]{flex:1;height:90%;min-height:10px;width:100%;max-height:1500px}  g>rect{position:absolute;top:50px;background-color:red!important}  .amcharts-amexport-item.amcharts-amexport-item-level-0{position:relative;top:100px}"]})}return a})();function U(a,d){if(1&a){const e=t.RV6();t.j41(0,"donut-chart",2),t.bIt("dataEmitter",function(s){t.eBV(e);const n=t.XpG();return t.Njj(n.receiveData(s))}),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("Spendlist",e.groupeddata)}}function V(a,d){if(1&a&&t.nrm(0,"app-bar-line",3),2&a){const e=t.XpG();t.Y8G("Idtoken",1)("colorcode","red")("Spendlist",e.data)("zoomRange","days")}}function N(a,d){if(1&a&&t.nrm(0,"app-bar-line",3),2&a){const e=t.XpG();t.Y8G("Idtoken",2)("colorcode","red")("Spendlist",e.groupeddatamonthly)("zoomRange","months")}}function $(a,d){if(1&a&&t.nrm(0,"app-bar-line",3),2&a){const e=t.XpG();t.Y8G("Idtoken",3)("colorcode","green")("Spendlist",e.investdata)("zoomRange","days")}}function H(a,d){if(1&a&&t.nrm(0,"app-bar-line",3),2&a){const e=t.XpG();t.Y8G("Idtoken",4)("colorcode","green")("Spendlist",e.groupeddatamonthlyinv)("zoomRange","months")}}const W=[{path:"main",component:(()=>{class a{constructor(e){this.fb=e,this.ischart="SDAY"}ngOnInit(){this.fb.emitViewTokem().subscribe(e=>{this.ischart=e}),this.fb.getAllspendItems().subscribe(e=>{this.data=e}),this.fb.getmatgroupspendItems().subscribe(e=>{this.groupeddata=e,this.groupeddata=b.orderBy(this.groupeddata,"totalPrice","desc")}),this.fb.getAllSpendItemsMonthly().subscribe(e=>{this.groupeddatamonthly=e}),this.fb.getAllinvestItems().subscribe(e=>{this.investdata=e}),this.fb.getAllInvestItemsMonthly().subscribe(e=>{this.groupeddatamonthlyinv=e})}receiveData(e){console.log(e),this.fb.getmatgroupspendItems(e.startdate,e.enddate).subscribe(i=>{this.groupeddata=i,this.groupeddata=b.orderBy(this.groupeddata,"totalPrice","desc")})}static#t=this.\u0275fac=function(i){return new(i||a)(t.rXU(z.f))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-dashboardmain"]],decls:5,vars:5,consts:[[3,"Spendlist","dataEmitter",4,"ngIf"],[3,"Idtoken","colorcode","Spendlist","zoomRange",4,"ngIf"],[3,"Spendlist","dataEmitter"],[3,"Idtoken","colorcode","Spendlist","zoomRange"]],template:function(i,s){1&i&&(t.DNE(0,U,1,1,"donut-chart",0),t.DNE(1,V,1,4,"app-bar-line",1),t.DNE(2,N,1,4,"app-bar-line",1),t.DNE(3,$,1,4,"app-bar-line",1),t.DNE(4,H,1,4,"app-bar-line",1)),2&i&&(t.Y8G("ngIf","GROUP"==s.ischart),t.R7$(1),t.Y8G("ngIf","SDAY"==s.ischart),t.R7$(1),t.Y8G("ngIf","SMONTH"==s.ischart),t.R7$(1),t.Y8G("ngIf","IDAY"==s.ischart),t.R7$(1),t.Y8G("ngIf","IMONTH"==s.ischart))},dependencies:[u.bT,L,O]})}return a})()},{path:"**",redirectTo:"main"}];let K=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.$C({type:a});static#i=this.\u0275inj=t.G2t({imports:[E.iI.forChild(W),E.iI]})}return a})();var Q=l(99631),J=l(86600),Z=l(90882);let q=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.$C({type:a});static#i=this.\u0275inj=t.G2t({imports:[u.MD,K,x.PO,v.RG,Q.fS,S.X6,J.WX,y.YN,Z.vg,R]})}return a})()}}]);