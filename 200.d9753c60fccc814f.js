(self.webpackChunkSherlyn=self.webpackChunkSherlyn||[]).push([[200],{4200:(Zi,Gs,mi)=>{"use strict";mi.r(Gs),mi.d(Gs,{SummaryModule:()=>SB});var ji=mi(177),Qt=mi(803),Y=mi(467),Ne=mi(7376),Z=mi(7705),ce=mi(1088),xe=mi(6600);const ve=["*"],te=new Z.nKC("MAT_CARD_CONFIG");let ee=(()=>{class e{constructor(i){this.appearance=i?.appearance||"raised"}static#e=this.\u0275fac=function(s){return new(s||e)(Z.rXU(te,8))};static#t=this.\u0275cmp=Z.VBU({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(s,r){2&s&&Z.AVh("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ve,decls:1,vars:0,template:function(s,r){1&s&&(Z.NAR(),Z.SdG(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),b=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Z.$C({type:e});static#i=this.\u0275inj=Z.G2t({imports:[xe.yE,ji.MD,xe.yE]})}return e})(),l=(()=>{class e{constructor(){this.cardsdata=[]}ngOnInit(){}ngOnChanges(){this.cardsdata=this.carddetails}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275cmp=Z.VBU({type:e,selectors:[["app-summarycard"]],inputs:{carddetails:"carddetails"},features:[Z.OA$],decls:9,vars:5,consts:[[1,"card-wrapper"],[1,"example-card"],[1,"mx-auto","mt-2"],[1,"text-center","highcard"],[1,"text-center"]],template:function(s,r){1&s&&(Z.j41(0,"div",0)(1,"mat-card",1)(2,"h1",2),Z.EFF(3),Z.k0s(),Z.j41(4,"span",3),Z.EFF(5),Z.k0s(),Z.j41(6,"h3",4),Z.EFF(7),Z.nI1(8,"uppercase"),Z.k0s()()()),2&s&&(Z.R7$(3),Z.JRh(r.carddetails.heading),Z.R7$(2),Z.JRh(r.carddetails.matprice),Z.R7$(2),Z.JRh(Z.bMT(8,3,r.carddetails.matname)))},dependencies:[ee,ji.Pc],styles:['.card-wrapper[_ngcontent-%COMP%]{margin:5px;box-sizing:border-box;transition:transform .3s ease,box-shadow .3s ease}.example-card[_ngcontent-%COMP%]{background:linear-gradient(to right,#0980b2,#0ca6d9);color:#fff!important;width:250px;height:120px;overflow:hidden;position:relative}.example-card[_ngcontent-%COMP%]:before{content:"";position:absolute;height:200px;width:20px;box-shadow:0 0 10px #fff;background-color:#fff;filter:blur(1px);opacity:.9;top:-30px;transform:rotate(-20deg) translate(-60px);animation:_ngcontent-%COMP%_slide 7s infinite}@keyframes _ngcontent-%COMP%_slide{0%{transform:rotate(-20deg) translate(-60px);opacity:.9}40%{transform:rotate(-20deg) translate(400px,70px);opacity:.9}50%{opacity:0}to{transform:rotate(-20deg) translate(-60px);opacity:0}}@media (max-width: 650px){.cardlength[_ngcontent-%COMP%]{width:10rem}.cardlengthtotal[_ngcontent-%COMP%]{width:100%}.h1[_ngcontent-%COMP%]{font-size:.5em}.cards[_ngcontent-%COMP%]{font-size:1em}}.highcard[_ngcontent-%COMP%]{color:beige;text-transform:uppercase;font-size:20px;font-weight:800;padding-bottom:1vh}']})}return e})();var n={version:"0.18.5"},o=1200,h=1252,d=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],c={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},f=function(e){-1!=d.indexOf(e)&&(h=c[0]=e)},M=function(e){o=e,f(e)};var w,J=function(t){return String.fromCharCode(t)},y=function(t){return String.fromCharCode(t)},X=null,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function R(e){for(var t="",i=0,s=0,r=0,a=0,g=0,k=0,V=0,se=0;se<e.length;)a=(i=e.charCodeAt(se++))>>2,g=(3&i)<<4|(s=e.charCodeAt(se++))>>4,k=(15&s)<<2|(r=e.charCodeAt(se++))>>6,V=63&r,isNaN(s)?k=V=64:isNaN(r)&&(V=64),t+=F.charAt(a)+F.charAt(g)+F.charAt(k)+F.charAt(V);return t}function _(e){var t="",a=0,g=0,k=0,V=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var se=0;se<e.length;)a=F.indexOf(e.charAt(se++)),g=F.indexOf(e.charAt(se++)),t+=String.fromCharCode(a<<2|g>>4),64!==(k=F.indexOf(e.charAt(se++)))&&(t+=String.fromCharCode((15&g)<<4|k>>2)),64!==(V=F.indexOf(e.charAt(se++)))&&(t+=String.fromCharCode((3&k)<<6|V));return t}var G=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),K=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,i){return i?new Buffer(t,i):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function oe(e){return G?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function ae(e){return G?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ue=function(t){return G?K(t,"binary"):t.split("").map(function(i){return 255&i.charCodeAt(0)})};function be(e){if(typeof ArrayBuffer>"u")return ue(e);for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),s=0;s!=e.length;++s)i[s]=255&e.charCodeAt(s);return t}function Se(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],i=0;i<e.length;++i)t[i]=String.fromCharCode(e[i]);return t.join("")}var re=G?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:K(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,i=0;for(t=0;t<e.length;++t)i+=e[t].length;var s=new Uint8Array(i),r=0;for(t=0,i=0;t<e.length;i+=r,++t)if(r=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],i);else{if("string"==typeof e[t])throw"wtf";s.set(new Uint8Array(e[t]),i)}return s}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))},pe=/\u0000/g,ge=/[\u0001-\u0006]/g;function we(e){for(var t="",i=e.length-1;i>=0;)t+=e.charAt(i--);return t}function ye(e,t){var i=""+e;return i.length>=t?i:zi("0",t-i.length)+i}function Me(e,t){var i=""+e;return i.length>=t?i:zi(" ",t-i.length)+i}function Pe(e,t){var i=""+e;return i.length>=t?i:i+zi(" ",t-i.length)}var De=Math.pow(2,32);function He(e,t){return e>De||e<-De?function Re(e,t){var i=""+Math.round(e);return i.length>=t?i:zi("0",t-i.length)+i}(e,t):function Fe(e,t){var i=""+e;return i.length>=t?i:zi("0",t-i.length)+i}(Math.round(e),t)}function ze(e,t){return e.length>=7+(t=t||0)&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var Oe=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],it=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],rt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},bt={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Ht={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function zt(e,t,i){for(var s=e<0?-1:1,r=e*s,a=0,g=1,k=0,V=1,se=0,ne=0,fe=Math.floor(r);se<t&&(k=(fe=Math.floor(r))*g+a,ne=fe*se+V,!(r-fe<5e-8));)r=1/(r-fe),a=g,g=k,V=se,se=ne;if(ne>t&&(se>t?(ne=V,k=a):(ne=se,k=g)),!i)return[0,s*k,ne];var Ce=Math.floor(s*k/ne);return[Ce,s*k-Ce*ne,ne]}function yt(e,t,i){if(e>2958465||e<0)return null;var s=0|e,r=Math.floor(86400*(e-s)),a=0,g=[],k={D:s,T:r,u:86400*(e-s)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(k.u)<1e-6&&(k.u=0),t&&t.date1904&&(s+=1462),k.u>.9999&&(k.u=0,86400==++r&&(k.T=r=0,++s,++k.D)),60===s)g=i?[1317,10,29]:[1900,2,29],a=3;else if(0===s)g=i?[1317,8,29]:[1900,1,0],a=6;else{s>60&&--s;var V=new Date(1900,0,1);V.setDate(V.getDate()+s-1),g=[V.getFullYear(),V.getMonth()+1,V.getDate()],a=V.getDay(),s<60&&(a=(a+6)%7),i&&(a=function Ys(e,t){t[0]-=581;var i=e.getDay();return e<60&&(i=(i+6)%7),i}(V,g))}return k.y=g[0],k.m=g[1],k.d=g[2],k.S=r%60,r=Math.floor(r/60),k.M=r%60,r=Math.floor(r/60),k.H=r,k.q=a,k}var hi=new Date(1899,11,31,0,0,0),Zt=hi.getTime(),Ei=new Date(1900,2,1,0,0,0);function _t(e,t){var i=e.getTime();return t?i-=1262304e5:e>=Ei&&(i+=864e5),(i-(Zt+6e4*(e.getTimezoneOffset()-hi.getTimezoneOffset())))/864e5}function Ut(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ss(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):function cs(e){var i,t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return i=t>=-4&&t<=-1?e.toPrecision(10+t):Math.abs(t)<=9?function Wr(e){var t=e<0?12:11,i=Ut(e.toFixed(12));return i.length<=t||(i=e.toPrecision(10)).length<=t?i:e.toExponential(5)}(e):10===t?e.toFixed(10).substr(0,12):function jr(e){var t=Ut(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),Ut(function si(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(i.toUpperCase()))}(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return qs(14,_t(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function $s(e,t,i,s){var V,r="",a=0,g=0,k=i.y,se=0;switch(e){case 98:k=i.y+543;case 121:switch(t.length){case 1:case 2:V=k%100,se=2;break;default:V=k%1e4,se=4}break;case 109:switch(t.length){case 1:case 2:V=i.m,se=t.length;break;case 3:return it[i.m-1][1];case 5:return it[i.m-1][0];default:return it[i.m-1][2]}break;case 100:switch(t.length){case 1:case 2:V=i.d,se=t.length;break;case 3:return Oe[i.q][0];default:return Oe[i.q][1]}break;case 104:switch(t.length){case 1:case 2:V=1+(i.H+11)%12,se=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:V=i.H,se=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:V=i.M,se=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==i.u||"s"!=t&&"ss"!=t?(g=s>=2?3===s?1e3:100:1===s?10:1,(a=Math.round(g*(i.S+i.u)))>=60*g&&(a=0),"s"===t?0===a?"0":""+a/g:(r=ye(a,2+s),"ss"===t?r.substr(0,2):"."+r.substr(2,t.length-1))):ye(i.S,t.length);case 90:switch(t){case"[h]":case"[hh]":V=24*i.D+i.H;break;case"[m]":case"[mm]":V=60*(24*i.D+i.H)+i.M;break;case"[s]":case"[ss]":V=60*(60*(24*i.D+i.H)+i.M)+Math.round(i.S+i.u);break;default:throw"bad abstime format: "+t}se=3===t.length?1:2;break;case 101:V=k,se=1}return se>0?ye(V,se):""}function Fi(e){if(e.length<=3)return e;for(var i=e.length%3,s=e.substr(0,i);i!=e.length;i+=3)s+=(s.length>0?",":"")+e.substr(i,3);return s}var zs=/%/g;function _s(e,t){var i,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+_s(e,-t);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%r;if(a<0&&(a+=r),-1===(i=(t/Math.pow(10,a)).toPrecision(s+1+(r+a)%r)).indexOf("e")){var g=Math.floor(Math.log(t)*Math.LOG10E);for(-1===i.indexOf(".")?i=i.charAt(0)+"."+i.substr(1)+"E+"+(g-i.length+a):i+="E+"+(g-a);"0."===i.substr(0,2);)i=(i=i.charAt(0)+i.substr(2,r)+"."+i.substr(2+r)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(k,V,se,ne){return V+se+ne.substr(0,(r+a)%r)+"."+ne.substr(a)+"E"})}else i=t.toExponential(s);return e.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),e.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}var Bi=/# (\?+)( ?)\/( ?)(\d+)/,Ni=/^#*0*\.([0#]+)/,Yd=/\).*[0#]/,$d=/\(###\) ###\\?-####/;function As(e){for(var i,t="",s=0;s!=e.length;++s)switch(i=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(i)}return t}function Kd(e,t){var i=Math.pow(10,t);return""+Math.round(e*i)/i}function qd(e,t){var i=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(i*s)).length?0:Math.round(i*s)}function sr(e,t,i){if(40===e.charCodeAt(0)&&!t.match(Yd)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?sr("n",s,i):"("+sr("n",s,-i)+")"}if(44===t.charCodeAt(t.length-1))return function us(e,t,i){for(var s=t.length-1;44===t.charCodeAt(s-1);)--s;return Vr(e,t.substr(0,s),i/Math.pow(10,3*(t.length-s)))}(e,t,i);if(-1!==t.indexOf("%"))return function ds(e,t,i){var s=t.replace(zs,""),r=t.length-s.length;return Vr(e,s,i*Math.pow(10,2*r))+zi("%",r)}(e,t,i);if(-1!==t.indexOf("E"))return _s(t,i);if(36===t.charCodeAt(0))return"$"+sr(e,t.substr(" "==t.charAt(1)?2:1),i);var r,a,g,k,V=Math.abs(i),se=i<0?"-":"";if(t.match(/^00+$/))return se+He(V,t.length);if(t.match(/^[#?]+$/))return"0"===(r=He(i,0))&&(r=""),r.length>t.length?r:As(t.substr(0,t.length-r.length))+r;if(a=t.match(Bi))return function Vi(e,t,i){var s=parseInt(e[4],10),r=Math.round(t*s),a=Math.floor(r/s),g=r-a*s,k=s;return i+(0===a?"":""+a)+" "+(0===g?zi(" ",e[1].length+1+e[4].length):Me(g,e[1].length)+e[2]+"/"+e[3]+ye(k,e[4].length))}(a,V,se);if(t.match(/^#+0+$/))return se+He(V,t.length-t.indexOf("0"));if(a=t.match(Ni))return r=Kd(i,a[1].length).replace(/^([^\.]+)$/,"$1."+As(a[1])).replace(/\.$/,"."+As(a[1])).replace(/\.(\d*)$/,function(Ae,Ee){return"."+Ee+zi("0",As(a[1]).length-Ee.length)}),-1!==t.indexOf("0.")?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return se+Kd(V,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return se+Fi(He(V,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+sr(e,t,-i):Fi(""+(Math.floor(i)+function nv(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(i,a[1].length)))+"."+ye(qd(i,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return sr(e,t.replace(/^#,#*,/,""),i);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=we(sr(e,t.replace(/[\\-]/g,""),i)),g=0,we(we(t.replace(/\\/g,"")).replace(/[0#]/g,function(Ae){return g<r.length?r.charAt(g++):"0"===Ae?"0":""}));if(t.match($d))return"("+(r=sr(e,"##########",i)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var ne="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return g=Math.min(a[4].length,7),k=zt(V,Math.pow(10,g)-1,!1),r=""+se," "==(ne=Vr("n",a[1],k[1])).charAt(ne.length-1)&&(ne=ne.substr(0,ne.length-1)+"0"),r+=ne+a[2]+"/"+a[3],(ne=Pe(k[2],g)).length<a[4].length&&(ne=As(a[4].substr(a[4].length-ne.length))+ne),r+=ne;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return g=Math.min(Math.max(a[1].length,a[4].length),7),se+((k=zt(V,Math.pow(10,g)-1,!0))[0]||(k[1]?"":"0"))+" "+(k[1]?Me(k[1],g)+a[2]+"/"+a[3]+Pe(k[2],g):zi(" ",2*g+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return r=He(i,0),t.length<=r.length?r:As(t.substr(0,t.length-r.length))+r;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){r=""+i.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),g=r.indexOf(".");var fe=t.indexOf(".")-g,Ce=t.length-r.length-fe;return As(t.substr(0,fe)+r+t.substr(t.length-Ce))}if(a=t.match(/^00,000\.([#0]*0)$/))return g=qd(i,a[1].length),i<0?"-"+sr(e,t,-i):Fi(function av(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(i)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(Ae){return"00,"+(Ae.length<3?ye(0,3-Ae.length):"")+Ae})+"."+ye(g,a[1].length);switch(t){case"###,##0.00":return sr(e,"#,##0.00",i);case"###,###":case"##,###":case"#,###":var ke=Fi(He(V,0));return"0"!==ke?se+ke:"";case"###,###.00":return sr(e,"###,##0.00",i).replace(/^0\./,".");case"#,###.00":return sr(e,"#,##0.00",i).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Zd(e,t){var i,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Zd(e,-t);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%r;if(a<0&&(a+=r),!(i=(t/Math.pow(10,a)).toPrecision(s+1+(r+a)%r)).match(/[Ee]/)){var g=Math.floor(Math.log(t)*Math.LOG10E);-1===i.indexOf(".")?i=i.charAt(0)+"."+i.substr(1)+"E+"+(g-i.length+a):i+="E+"+(g-a),i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(k,V,se,ne){return V+se+ne.substr(0,(r+a)%r)+"."+ne.substr(a)+"E"})}else i=t.toExponential(s);return e.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),e.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}function Ar(e,t,i){if(40===e.charCodeAt(0)&&!t.match(Yd)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?Ar("n",s,i):"("+Ar("n",s,-i)+")"}if(44===t.charCodeAt(t.length-1))return function lv(e,t,i){for(var s=t.length-1;44===t.charCodeAt(s-1);)--s;return Vr(e,t.substr(0,s),i/Math.pow(10,3*(t.length-s)))}(e,t,i);if(-1!==t.indexOf("%"))return function hv(e,t,i){var s=t.replace(zs,""),r=t.length-s.length;return Vr(e,s,i*Math.pow(10,2*r))+zi("%",r)}(e,t,i);if(-1!==t.indexOf("E"))return Zd(t,i);if(36===t.charCodeAt(0))return"$"+Ar(e,t.substr(" "==t.charAt(1)?2:1),i);var r,a,g,k,V=Math.abs(i),se=i<0?"-":"";if(t.match(/^00+$/))return se+ye(V,t.length);if(t.match(/^[#?]+$/))return r=""+i,0===i&&(r=""),r.length>t.length?r:As(t.substr(0,t.length-r.length))+r;if(a=t.match(Bi))return function Ks(e,t,i){return i+(0===t?"":""+t)+zi(" ",e[1].length+2+e[4].length)}(a,V,se);if(t.match(/^#+0+$/))return se+ye(V,t.length-t.indexOf("0"));if(a=t.match(Ni))return r=(r=(""+i).replace(/^([^\.]+)$/,"$1."+As(a[1])).replace(/\.$/,"."+As(a[1]))).replace(/\.(\d*)$/,function(Ae,Ee){return"."+Ee+zi("0",As(a[1]).length-Ee.length)}),-1!==t.indexOf("0.")?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return se+(""+V).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return se+Fi(""+V);if(a=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+Ar(e,t,-i):Fi(""+i)+"."+zi("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Ar(e,t.replace(/^#,#*,/,""),i);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=we(Ar(e,t.replace(/[\\-]/g,""),i)),g=0,we(we(t.replace(/\\/g,"")).replace(/[0#]/g,function(Ae){return g<r.length?r.charAt(g++):"0"===Ae?"0":""}));if(t.match($d))return"("+(r=Ar(e,"##########",i)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var ne="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return g=Math.min(a[4].length,7),k=zt(V,Math.pow(10,g)-1,!1),r=""+se," "==(ne=Vr("n",a[1],k[1])).charAt(ne.length-1)&&(ne=ne.substr(0,ne.length-1)+"0"),r+=ne+a[2]+"/"+a[3],(ne=Pe(k[2],g)).length<a[4].length&&(ne=As(a[4].substr(a[4].length-ne.length))+ne),r+=ne;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return g=Math.min(Math.max(a[1].length,a[4].length),7),se+((k=zt(V,Math.pow(10,g)-1,!0))[0]||(k[1]?"":"0"))+" "+(k[1]?Me(k[1],g)+a[2]+"/"+a[3]+Pe(k[2],g):zi(" ",2*g+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return t.length<=(r=""+i).length?r:As(t.substr(0,t.length-r.length))+r;if(a=t.match(/^([#0]+)\.([#0]+)$/)){r=""+i.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),g=r.indexOf(".");var fe=t.indexOf(".")-g,Ce=t.length-r.length-fe;return As(t.substr(0,fe)+r+t.substr(t.length-Ce))}if(a=t.match(/^00,000\.([#0]*0)$/))return i<0?"-"+Ar(e,t,-i):Fi(""+i).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(Ae){return"00,"+(Ae.length<3?ye(0,3-Ae.length):"")+Ae})+"."+ye(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var ke=Fi(""+V);return"0"!==ke?se+ke:"";default:if(t.match(/\.[0#?]*$/))return Ar(e,t.slice(0,t.lastIndexOf(".")),i)+As(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Vr(e,t,i){return(0|i)===i?Ar(e,t,i):sr(e,t,i)}var Qd=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ln(e){for(var t=0,i="",s="";t<e.length;)switch(i=e.charAt(t)){case"G":ze(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase()||"AM/PM"===e.substr(t,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(s=i;"]"!==e.charAt(t++)&&t<e.length;)s+=e.charAt(t);if(s.match(Qd))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(i=e.charAt(++t))>-1||"\\"==i&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===i;);break;case"*":++t,(" "==e.charAt(t)||"*"==e.charAt(t))&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var Jd=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function eu(e,t){if(null==t)return!1;var i=parseFloat(t[2]);switch(t[1]){case"=":if(e==i)return!0;break;case">":if(e>i)return!0;break;case"<":if(e<i)return!0;break;case"<>":if(e!=i)return!0;break;case">=":if(e>=i)return!0;break;case"<=":if(e<=i)return!0}return!1}function qs(e,t,i){null==i&&(i={});var s="";switch(typeof e){case"string":s="m/d/yy"==e&&i.dateNF?i.dateNF:e;break;case"number":null==(s=14==e&&i.dateNF?i.dateNF:(null!=i.table?i.table:rt)[e])&&(s=i.table&&i.table[bt[e]]||rt[bt[e]]),null==s&&(s=Ht[e]||"General")}if(ze(s,0))return ss(t,i);t instanceof Date&&(t=_t(t,i.date1904));var r=function uv(e,t){var i=function cv(e){for(var t=[],i=!1,s=0,r=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:i=!i;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(r,s-r),r=s+1}if(t[t.length]=e.substr(r),!0===i)throw new Error("Format |"+e+"| unterminated string ");return t}(e),s=i.length,r=i[s-1].indexOf("@");if(s<4&&r>-1&&--s,i.length>4)throw new Error("cannot find right format for |"+i.join("|")+"|");if("number"!=typeof t)return[4,4===i.length||r>-1?i[i.length-1]:"@"];switch(i.length){case 1:i=r>-1?["General","General","General",i[0]]:[i[0],i[0],i[0],"@"];break;case 2:i=r>-1?[i[0],i[0],i[0],i[1]]:[i[0],i[1],i[0],"@"];break;case 3:i=r>-1?[i[0],i[1],i[0],i[2]]:[i[0],i[1],i[2],"@"]}var a=t>0?i[0]:t<0?i[1]:i[2];if(-1===i[0].indexOf("[")&&-1===i[1].indexOf("["))return[s,a];if(null!=i[0].match(/\[[=<>]/)||null!=i[1].match(/\[[=<>]/)){var g=i[0].match(Jd),k=i[1].match(Jd);return eu(t,g)?[s,i[0]]:eu(t,k)?[s,i[1]]:[s,i[null!=g&&null!=k?2:1]]}return[s,a]}(s,t);if(ze(r[1]))return ss(t,i);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function dv(e,t,i,s){for(var se,ne,fe,r=[],a="",g=0,k="",V="t",Ce="H";g<e.length;)switch(k=e.charAt(g)){case"G":if(!ze(e,g))throw new Error("unrecognized character "+k+" in "+e);r[r.length]={t:"G",v:"General"},g+=7;break;case'"':for(a="";34!==(fe=e.charCodeAt(++g))&&g<e.length;)a+=String.fromCharCode(fe);r[r.length]={t:"t",v:a},++g;break;case"\\":var ke=e.charAt(++g);r[r.length]={t:"("===ke||")"===ke?ke:"t",v:ke},++g;break;case"_":r[r.length]={t:"t",v:" "},g+=2;break;case"@":r[r.length]={t:"T",v:t},++g;break;case"B":case"b":if("1"===e.charAt(g+1)||"2"===e.charAt(g+1)){if(null==se&&null==(se=yt(t,i,"2"===e.charAt(g+1))))return"";r[r.length]={t:"X",v:e.substr(g,2)},V=k,g+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":k=k.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||null==se&&null==(se=yt(t,i)))return"";for(a=k;++g<e.length&&e.charAt(g).toLowerCase()===k;)a+=k;"m"===k&&"h"===V.toLowerCase()&&(k="M"),"h"===k&&(k=Ce),r[r.length]={t:k,v:a},V=k;break;case"A":case"a":case"\u4e0a":var Ee={t:k,v:k};if(null==se&&(se=yt(t,i)),"A/P"===e.substr(g,3).toUpperCase()?(null!=se&&(Ee.v=se.H>=12?"P":"A"),Ee.t="T",Ce="h",g+=3):"AM/PM"===e.substr(g,5).toUpperCase()?(null!=se&&(Ee.v=se.H>=12?"PM":"AM"),Ee.t="T",g+=5,Ce="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(g,5).toUpperCase()?(null!=se&&(Ee.v=se.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),Ee.t="T",g+=5,Ce="h"):(Ee.t="t",++g),null==se&&"T"===Ee.t)return"";r[r.length]=Ee,V=k;break;case"[":for(a=k;"]"!==e.charAt(g++)&&g<e.length;)a+=e.charAt(g);if("]"!==a.slice(-1))throw'unterminated "[" block: |'+a+"|";if(a.match(Qd)){if(null==se&&null==(se=yt(t,i)))return"";r[r.length]={t:"Z",v:a.toLowerCase()},V=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",ln(e)||(r[r.length]={t:"t",v:a}));break;case".":if(null!=se){for(a=k;++g<e.length&&"0"===(k=e.charAt(g));)a+=k;r[r.length]={t:"s",v:a};break}case"0":case"#":for(a=k;++g<e.length&&"0#?.,E+-%".indexOf(k=e.charAt(g))>-1;)a+=k;r[r.length]={t:"n",v:a};break;case"?":for(a=k;e.charAt(++g)===k;)a+=k;r[r.length]={t:k,v:a},V=k;break;case"*":++g,(" "==e.charAt(g)||"*"==e.charAt(g))&&++g;break;case"(":case")":r[r.length]={t:1===s?"t":k,v:k},++g;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=k;g<e.length&&"0123456789".indexOf(e.charAt(++g))>-1;)a+=e.charAt(g);r[r.length]={t:"D",v:a};break;case" ":r[r.length]={t:k,v:k},++g;break;case"$":r[r.length]={t:"t",v:"$"},++g;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(k))throw new Error("unrecognized character "+k+" in "+e);r[r.length]={t:"t",v:k},++g}var Be,Te=0,Ie=0;for(g=r.length-1,V="t";g>=0;--g)switch(r[g].t){case"h":case"H":r[g].t=Ce,V="h",Te<1&&(Te=1);break;case"s":(Be=r[g].v.match(/\.0+$/))&&(Ie=Math.max(Ie,Be[0].length-1)),Te<3&&(Te=3);case"d":case"y":case"M":case"e":V=r[g].t;break;case"m":"s"===V&&(r[g].t="M",Te<2&&(Te=2));break;case"X":break;case"Z":Te<1&&r[g].v.match(/[Hh]/)&&(Te=1),Te<2&&r[g].v.match(/[Mm]/)&&(Te=2),Te<3&&r[g].v.match(/[Ss]/)&&(Te=3)}switch(Te){case 0:break;case 1:se.u>=.5&&(se.u=0,++se.S),se.S>=60&&(se.S=0,++se.M),se.M>=60&&(se.M=0,++se.H);break;case 2:se.u>=.5&&(se.u=0,++se.S),se.S>=60&&(se.S=0,++se.M)}var Ye,Le="";for(g=0;g<r.length;++g)switch(r[g].t){case"t":case"T":case" ":case"D":break;case"X":r[g].v="",r[g].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[g].v=$s(r[g].t.charCodeAt(0),r[g].v,se,Ie),r[g].t="t";break;case"n":case"?":for(Ye=g+1;null!=r[Ye]&&("?"===(k=r[Ye].t)||"D"===k||(" "===k||"t"===k)&&null!=r[Ye+1]&&("?"===r[Ye+1].t||"t"===r[Ye+1].t&&"/"===r[Ye+1].v)||"("===r[g].t&&(" "===k||"n"===k||")"===k)||"t"===k&&("/"===r[Ye].v||" "===r[Ye].v&&null!=r[Ye+1]&&"?"==r[Ye+1].t));)r[g].v+=r[Ye].v,r[Ye]={v:"",t:";"},++Ye;Le+=r[g].v,g=Ye-1;break;case"G":r[g].t="t",r[g].v=ss(t,i)}var tt,We,Ze="";if(Le.length>0){40==Le.charCodeAt(0)?(tt=t<0&&45===Le.charCodeAt(0)?-t:t,We=Vr("n",Le,tt)):(We=Vr("n",Le,tt=t<0&&s>1?-t:t),tt<0&&r[0]&&"t"==r[0].t&&(We=We.substr(1),r[0].v="-"+r[0].v)),Ye=We.length-1;var Je=r.length;for(g=0;g<r.length;++g)if(null!=r[g]&&"t"!=r[g].t&&r[g].v.indexOf(".")>-1){Je=g;break}var et=r.length;if(Je===r.length&&-1===We.indexOf("E")){for(g=r.length-1;g>=0;--g)null==r[g]||-1==="n?".indexOf(r[g].t)||(Ye>=r[g].v.length-1?r[g].v=We.substr(1+(Ye-=r[g].v.length),r[g].v.length):Ye<0?r[g].v="":(r[g].v=We.substr(0,Ye+1),Ye=-1),r[g].t="t",et=g);Ye>=0&&et<r.length&&(r[et].v=We.substr(0,Ye+1)+r[et].v)}else if(Je!==r.length&&-1===We.indexOf("E")){for(Ye=We.indexOf(".")-1,g=Je;g>=0;--g)if(null!=r[g]&&-1!=="n?".indexOf(r[g].t)){for(ne=r[g].v.indexOf(".")>-1&&g===Je?r[g].v.indexOf(".")-1:r[g].v.length-1,Ze=r[g].v.substr(ne+1);ne>=0;--ne)Ye>=0&&("0"===r[g].v.charAt(ne)||"#"===r[g].v.charAt(ne))&&(Ze=We.charAt(Ye--)+Ze);r[g].v=Ze,r[g].t="t",et=g}for(Ye>=0&&et<r.length&&(r[et].v=We.substr(0,Ye+1)+r[et].v),Ye=We.indexOf(".")+1,g=Je;g<r.length;++g)if(null!=r[g]&&(-1!=="n?(".indexOf(r[g].t)||g===Je)){for(ne=r[g].v.indexOf(".")>-1&&g===Je?r[g].v.indexOf(".")+1:0,Ze=r[g].v.substr(0,ne);ne<r[g].v.length;++ne)Ye<We.length&&(Ze+=We.charAt(Ye++));r[g].v=Ze,r[g].t="t",et=g}}}for(g=0;g<r.length;++g)null!=r[g]&&"n?".indexOf(r[g].t)>-1&&(r[g].v=Vr(r[g].t,r[g].v,tt=s>1&&t<0&&g>0&&"-"===r[g-1].v?-t:t),r[g].t="t");var pt="";for(g=0;g!==r.length;++g)null!=r[g]&&(pt+=r[g].v);return pt}(r[1],t,i,r[0])}function Tr(e,t){if("number"!=typeof t){t=+t||-1;for(var i=0;i<392;++i)if(null!=rt[i]){if(rt[i]==e){t=i;break}}else t<0&&(t=i);t<0&&(t=391)}return rt[t]=e,t}function _n(e){for(var t=0;392!=t;++t)void 0!==e[t]&&Tr(e[t],t)}function hn(){rt=function ot(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var tu=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,vv=function(){var e={version:"1.2.0"},i=function t(){for(var We=0,Je=new Array(256),et=0;256!=et;++et)Je[et]=We=1&(We=1&(We=1&(We=1&(We=1&(We=1&(We=1&(We=1&(We=et)?-306674912^We>>>1:We>>>1)?-306674912^We>>>1:We>>>1)?-306674912^We>>>1:We>>>1)?-306674912^We>>>1:We>>>1)?-306674912^We>>>1:We>>>1)?-306674912^We>>>1:We>>>1)?-306674912^We>>>1:We>>>1)?-306674912^We>>>1:We>>>1;return typeof Int32Array<"u"?new Int32Array(Je):Je}(),r=function s(We){var Je=0,et=0,pt=0,gt=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(pt=0;256!=pt;++pt)gt[pt]=We[pt];for(pt=0;256!=pt;++pt)for(et=We[pt],Je=256+pt;Je<4096;Je+=256)et=gt[Je]=et>>>8^We[255&et];var st=[];for(pt=1;16!=pt;++pt)st[pt-1]=typeof Int32Array<"u"?gt.subarray(256*pt,256*pt+256):gt.slice(256*pt,256*pt+256);return st}(i),a=r[0],g=r[1],k=r[2],V=r[3],se=r[4],ne=r[5],fe=r[6],Ce=r[7],ke=r[8],Ae=r[9],Ee=r[10],Te=r[11],Ie=r[12],Be=r[13],Le=r[14];return e.table=i,e.bstr=function Ye(We,Je){for(var et=-1^Je,pt=0,gt=We.length;pt<gt;)et=et>>>8^i[255&(et^We.charCodeAt(pt++))];return~et},e.buf=function Ze(We,Je){for(var et=-1^Je,pt=We.length-15,gt=0;gt<pt;)et=Le[We[gt++]^255&et]^Be[We[gt++]^et>>8&255]^Ie[We[gt++]^et>>16&255]^Te[We[gt++]^et>>>24]^Ee[We[gt++]]^Ae[We[gt++]]^ke[We[gt++]]^Ce[We[gt++]]^fe[We[gt++]]^ne[We[gt++]]^se[We[gt++]]^V[We[gt++]]^k[We[gt++]]^g[We[gt++]]^a[We[gt++]]^i[We[gt++]];for(pt+=15;gt<pt;)et=et>>>8^i[255&(et^We[gt++])];return~et},e.str=function tt(We,Je){for(var et=-1^Je,pt=0,gt=We.length,st=0,Rt=0;pt<gt;)(st=We.charCodeAt(pt++))<128?et=et>>>8^i[255&(et^st)]:st<2048?et=(et=et>>>8^i[255&(et^(192|st>>6&31))])>>>8^i[255&(et^(128|63&st))]:st>=55296&&st<57344?(st=64+(1023&st),Rt=1023&We.charCodeAt(pt++),et=(et=(et=(et=et>>>8^i[255&(et^(240|st>>8&7))])>>>8^i[255&(et^(128|st>>2&63))])>>>8^i[255&(et^(128|Rt>>6&15|(3&st)<<4))])>>>8^i[255&(et^(128|63&Rt))]):et=(et=(et=et>>>8^i[255&(et^(224|st>>12&15))])>>>8^i[255&(et^(128|st>>6&63))])>>>8^i[255&(et^(128|63&st))];return~et},e}(),Xt=function(){var V,t={};function s(Ge){if("/"==Ge.charAt(Ge.length-1))return-1===Ge.slice(0,-1).indexOf("/")?Ge:s(Ge.slice(0,-1));var Ve=Ge.lastIndexOf("/");return-1===Ve?Ge:Ge.slice(0,Ve+1)}function r(Ge){if("/"==Ge.charAt(Ge.length-1))return r(Ge.slice(0,-1));var Ve=Ge.lastIndexOf("/");return-1===Ve?Ge:Ge.slice(Ve+1)}function a(Ge,Ve){"string"==typeof Ve&&(Ve=new Date(Ve));var _e=Ve.getHours();_e=(_e=_e<<6|Ve.getMinutes())<<5|Ve.getSeconds()>>>1,Ge.write_shift(2,_e);var je=Ve.getFullYear()-1980;je=(je=je<<4|Ve.getMonth()+1)<<5|Ve.getDate(),Ge.write_shift(2,je)}function k(Ge){gs(Ge,0);for(var Ve={},_e=0;Ge.l<=Ge.length-4;){var je=Ge.read_shift(2),Ue=Ge.read_shift(2),Xe=Ge.l+Ue,at={};21589===je&&(1&(_e=Ge.read_shift(1))&&(at.mtime=Ge.read_shift(4)),Ue>5&&(2&_e&&(at.atime=Ge.read_shift(4)),4&_e&&(at.ctime=Ge.read_shift(4))),at.mtime&&(at.mt=new Date(1e3*at.mtime))),Ge.l=Xe,Ve[je]=at}return Ve}function se(){return V||(V={})}function ne(Ge,Ve){if(80==Ge[0]&&75==Ge[1])return Jm(Ge,Ve);if(109==(32|Ge[0])&&105==(32|Ge[1]))return function LB(Ge,Ve){if("mime-version:"!=Gt(Ge.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var _e=Ve&&Ve.root||"",je=(G&&Buffer.isBuffer(Ge)?Ge.toString("binary"):Gt(Ge)).split("\r\n"),Ue=0,Xe="";for(Ue=0;Ue<je.length;++Ue)if(/^Content-Location:/i.test(Xe=je[Ue])&&(Xe=Xe.slice(Xe.indexOf("file")),_e||(_e=Xe.slice(0,Xe.lastIndexOf("/")+1)),Xe.slice(0,_e.length)!=_e))for(;_e.length>0&&(_e=(_e=_e.slice(0,_e.length-1)).slice(0,_e.lastIndexOf("/")+1),Xe.slice(0,_e.length)!=_e););var at=(je[1]||"").match(/boundary="(.*?)"/);if(!at)throw new Error("MAD cannot find boundary");var vt="--"+(at[1]||""),dt={FileIndex:[],FullPaths:[]};We(dt);var Mt,Dt=0;for(Ue=0;Ue<je.length;++Ue){var jt=je[Ue];jt!==vt&&jt!==vt+"--"||(Dt++&&FB(dt,je.slice(Mt,Ue),_e),Mt=Ue)}return dt}(Ge,Ve);if(Ge.length<512)throw new Error("CFB file size "+Ge.length+" < 512");var _e,Ue,Xe,at,vt,ht,je=512,lt=[],dt=Ge.slice(0,512);gs(dt,0);var Mt=function fe(Ge){if(80==Ge[Ge.l]&&75==Ge[Ge.l+1])return[0,0];Ge.chk(Wt,"Header Signature: "),Ge.l+=16;var Ve=Ge.read_shift(2,"u");return[Ge.read_shift(2,"u"),Ve]}(dt);switch(_e=Mt[0]){case 3:je=512;break;case 4:je=4096;break;case 0:if(0==Mt[1])return Jm(Ge,Ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+_e)}512!==je&&gs(dt=Ge.slice(0,je),28);var Dt=Ge.slice(0,je);!function Ce(Ge,Ve){var _e;switch(Ge.l+=2,_e=Ge.read_shift(2)){case 9:if(3!=Ve)throw new Error("Sector Shift: Expected 9 saw "+_e);break;case 12:if(4!=Ve)throw new Error("Sector Shift: Expected 12 saw "+_e);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+_e)}Ge.chk("0600","Mini Sector Shift: "),Ge.chk("000000000000","Reserved: ")}(dt,_e);var jt=dt.read_shift(4,"i");if(3===_e&&0!==jt)throw new Error("# Directory Sectors: Expected 0 saw "+jt);dt.l+=4,at=dt.read_shift(4,"i"),dt.l+=4,dt.chk("00100000","Mini Stream Cutoff Size: "),vt=dt.read_shift(4,"i"),Ue=dt.read_shift(4,"i"),ht=dt.read_shift(4,"i"),Xe=dt.read_shift(4,"i");for(var Ft=-1,It=0;It<109&&!((Ft=dt.read_shift(4,"i"))<0);++It)lt[It]=Ft;var Jt=function ke(Ge,Ve){for(var _e=Math.ceil(Ge.length/Ve)-1,je=[],Ue=1;Ue<_e;++Ue)je[Ue-1]=Ge.slice(Ue*Ve,(Ue+1)*Ve);return je[_e-1]=Ge.slice(_e*Ve),je}(Ge,je);Te(ht,Xe,Jt,je,lt);var Di=function Be(Ge,Ve,_e,je){var Ue=Ge.length,Xe=[],at=[],vt=[],ht=[],lt=je-1,dt=0,Mt=0,Dt=0,jt=0;for(dt=0;dt<Ue;++dt)if(vt=[],(Dt=dt+Ve)>=Ue&&(Dt-=Ue),!at[Dt]){ht=[];var Ft=[];for(Mt=Dt;Mt>=0;){Ft[Mt]=!0,at[Mt]=!0,vt[vt.length]=Mt,ht.push(Ge[Mt]);var It=_e[Math.floor(4*Mt/je)];if(je<4+(jt=4*Mt&lt))throw new Error("FAT boundary crossed: "+Mt+" 4 "+je);if(!Ge[It]||Ft[Mt=Po(Ge[It],jt)])break}Xe[Dt]={nodes:vt,data:Su([ht])}}return Xe}(Jt,at,lt,je);Di[at].name="!Directory",Ue>0&&vt!==Rt&&(Di[vt].name="!MiniFAT"),Di[lt[0]].name="!FAT",Di.fat_addrs=lt,Di.ssz=je;var is=[],ir=[],Ga=[];(function Le(Ge,Ve,_e,je,Ue,Xe,at,vt){for(var jt,ht=0,lt=je.length?2:0,dt=Ve[Ge].data,Mt=0,Dt=0;Mt<dt.length;Mt+=128){var Ft=dt.slice(Mt,Mt+128);gs(Ft,64),Dt=Ft.read_shift(2),jt=Ua(Ft,0,Dt-lt),je.push(jt);var It={name:jt,type:Ft.read_shift(1),color:Ft.read_shift(1),L:Ft.read_shift(4,"i"),R:Ft.read_shift(4,"i"),C:Ft.read_shift(4,"i"),clsid:Ft.read_shift(16),state:Ft.read_shift(4,"i"),start:0,size:0};0!==Ft.read_shift(2)+Ft.read_shift(2)+Ft.read_shift(2)+Ft.read_shift(2)&&(It.ct=Ye(Ft,Ft.l-8)),0!==Ft.read_shift(2)+Ft.read_shift(2)+Ft.read_shift(2)+Ft.read_shift(2)&&(It.mt=Ye(Ft,Ft.l-8)),It.start=Ft.read_shift(4,"i"),It.size=Ft.read_shift(4,"i"),It.size<0&&It.start<0&&(It.size=It.type=0,It.start=Rt,It.name=""),5===It.type?(ht=It.start,Ue>0&&ht!==Rt&&(Ve[ht].name="!StreamData")):It.size>=4096?(It.storage="fat",void 0===Ve[It.start]&&(Ve[It.start]=Ie(_e,It.start,Ve.fat_addrs,Ve.ssz)),Ve[It.start].name=It.name,It.content=Ve[It.start].data.slice(0,It.size)):(It.storage="minifat",It.size<0?It.size=0:ht!==Rt&&It.start!==Rt&&Ve[ht]&&(It.content=Ee(It,Ve[ht].data,(Ve[vt]||{}).data))),It.content&&gs(It.content,0),Xe[jt]=It,at.push(It)}})(at,Di,Jt,is,Ue,{},ir,vt),function Ae(Ge,Ve,_e){for(var je=0,Ue=0,Xe=0,at=0,vt=0,ht=_e.length,lt=[],dt=[];je<ht;++je)lt[je]=dt[je]=je,Ve[je]=_e[je];for(;vt<dt.length;++vt)Ue=Ge[je=dt[vt]].L,Xe=Ge[je].R,at=Ge[je].C,lt[je]===je&&(-1!==Ue&&lt[Ue]!==Ue&&(lt[je]=lt[Ue]),-1!==Xe&&lt[Xe]!==Xe&&(lt[je]=lt[Xe])),-1!==at&&(lt[at]=je),-1!==Ue&&je!=lt[je]&&(lt[Ue]=lt[je],dt.lastIndexOf(Ue)<vt&&dt.push(Ue)),-1!==Xe&&je!=lt[je]&&(lt[Xe]=lt[je],dt.lastIndexOf(Xe)<vt&&dt.push(Xe));for(je=1;je<ht;++je)lt[je]===je&&(-1!==Xe&&lt[Xe]!==Xe?lt[je]=lt[Xe]:-1!==Ue&&lt[Ue]!==Ue&&(lt[je]=lt[Ue]));for(je=1;je<ht;++je)if(0!==Ge[je].type){if((vt=je)!=lt[vt])do{Ve[je]=Ve[vt=lt[vt]]+"/"+Ve[je]}while(0!==vt&&-1!==lt[vt]&&vt!=lt[vt]);lt[je]=-1}for(Ve[0]+="/",je=1;je<ht;++je)2!==Ge[je].type&&(Ve[je]+="/")}(ir,Ga,is),is.shift();var za={FileIndex:ir,FullPaths:Ga};return Ve&&Ve.raw&&(za.raw={header:Dt,sectors:Jt}),za}function Ee(Ge,Ve,_e){for(var Ue=Ge.size,Xe=[],at=Ge.start;_e&&Ue>0&&at>=0;)Xe.push(Ve.slice(at*st,at*st+st)),Ue-=st,at=Po(_e,4*at);return 0===Xe.length?ft(0):re(Xe).slice(0,Ge.size)}function Te(Ge,Ve,_e,je,Ue){var Xe=Rt;if(Ge===Rt){if(0!==Ve)throw new Error("DIFAT chain shorter than expected")}else if(-1!==Ge){var at=_e[Ge],vt=(je>>>2)-1;if(!at)return;for(var ht=0;ht<vt&&(Xe=Po(at,4*ht))!==Rt;++ht)Ue.push(Xe);Te(Po(at,je-4),Ve-1,_e,je,Ue)}}function Ie(Ge,Ve,_e,je,Ue){var Xe=[],at=[];Ue||(Ue=[]);var vt=je-1,ht=0,lt=0;for(ht=Ve;ht>=0;){Ue[ht]=!0,Xe[Xe.length]=ht,at.push(Ge[ht]);var dt=_e[Math.floor(4*ht/je)];if(je<4+(lt=4*ht&vt))throw new Error("FAT boundary crossed: "+ht+" 4 "+je);if(!Ge[dt])break;ht=Po(Ge[dt],lt)}return{nodes:Xe,data:Su([at])}}function Ye(Ge,Ve){return new Date(1e3*(ns(Ge,Ve+4)/1e7*Math.pow(2,32)+ns(Ge,Ve)/1e7-11644473600))}function We(Ge,Ve){var _e=Ve||{},je=_e.root||"Root Entry";if(Ge.FullPaths||(Ge.FullPaths=[]),Ge.FileIndex||(Ge.FileIndex=[]),Ge.FullPaths.length!==Ge.FileIndex.length)throw new Error("inconsistent CFB structure");0===Ge.FullPaths.length&&(Ge.FullPaths[0]=je+"/",Ge.FileIndex[0]={name:je,type:5}),_e.CLSID&&(Ge.FileIndex[0].clsid=_e.CLSID),function Je(Ge){var Ve="\x01Sh33tJ5";if(!Xt.find(Ge,"/"+Ve)){var _e=ft(4);_e[0]=55,_e[1]=_e[3]=50,_e[2]=54,Ge.FileIndex.push({name:Ve,type:2,content:_e,size:4,L:69,R:69,C:69}),Ge.FullPaths.push(Ge.FullPaths[0]+Ve),et(Ge)}}(Ge)}function et(Ge,Ve){We(Ge);for(var _e=!1,je=!1,Ue=Ge.FullPaths.length-1;Ue>=0;--Ue){var Xe=Ge.FileIndex[Ue];switch(Xe.type){case 0:je?_e=!0:(Ge.FileIndex.pop(),Ge.FullPaths.pop());break;case 1:case 2:case 5:je=!0,isNaN(Xe.R*Xe.L*Xe.C)&&(_e=!0),Xe.R>-1&&Xe.L>-1&&Xe.R==Xe.L&&(_e=!0);break;default:_e=!0}}if(_e||Ve){var at=new Date(1987,1,19),vt=0,ht=Object.create?Object.create(null):{},lt=[];for(Ue=0;Ue<Ge.FullPaths.length;++Ue)ht[Ge.FullPaths[Ue]]=!0,0!==Ge.FileIndex[Ue].type&&lt.push([Ge.FullPaths[Ue],Ge.FileIndex[Ue]]);for(Ue=0;Ue<lt.length;++Ue){var dt=s(lt[Ue][0]);(je=ht[dt])||(lt.push([dt,{name:r(dt).replace("/",""),type:1,clsid:$t,ct:at,mt:at,content:null}]),ht[dt]=!0)}for(lt.sort(function(jt,Ft){return function i(Ge,Ve){for(var _e=Ge.split("/"),je=Ve.split("/"),Ue=0,Xe=0,at=Math.min(_e.length,je.length);Ue<at;++Ue){if(Xe=_e[Ue].length-je[Ue].length)return Xe;if(_e[Ue]!=je[Ue])return _e[Ue]<je[Ue]?-1:1}return _e.length-je.length}(jt[0],Ft[0])}),Ge.FullPaths=[],Ge.FileIndex=[],Ue=0;Ue<lt.length;++Ue)Ge.FullPaths[Ue]=lt[Ue][0],Ge.FileIndex[Ue]=lt[Ue][1];for(Ue=0;Ue<lt.length;++Ue){var Mt=Ge.FileIndex[Ue],Dt=Ge.FullPaths[Ue];if(Mt.name=r(Dt).replace("/",""),Mt.L=Mt.R=Mt.C=-(Mt.color=1),Mt.size=Mt.content?Mt.content.length:0,Mt.start=0,Mt.clsid=Mt.clsid||$t,0===Ue)Mt.C=lt.length>1?1:-1,Mt.size=0,Mt.type=5;else if("/"==Dt.slice(-1)){for(vt=Ue+1;vt<lt.length&&s(Ge.FullPaths[vt])!=Dt;++vt);for(Mt.C=vt>=lt.length?-1:vt,vt=Ue+1;vt<lt.length&&s(Ge.FullPaths[vt])!=s(Dt);++vt);Mt.R=vt>=lt.length?-1:vt,Mt.type=1}else s(Ge.FullPaths[Ue+1]||"")==s(Dt)&&(Mt.R=Ue+1),Mt.type=2}}}function pt(Ge,Ve){var _e=Ve||{};if("mad"==_e.fileType)return function OB(Ge,Ve){for(var _e=Ve||{},je=_e.boundary||"SheetJS",Ue=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(je="------="+je).slice(2)+'"',"","",""],Xe=Ge.FullPaths[0],at=Xe,vt=Ge.FileIndex[0],ht=1;ht<Ge.FullPaths.length;++ht)if(at=Ge.FullPaths[ht].slice(Xe.length),(vt=Ge.FileIndex[ht]).size&&vt.content&&"\x01Sh33tJ5"!=at){at=at.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Jt){return"_x"+Jt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Jt){return"_u"+Jt.charCodeAt(0).toString(16)+"_"});for(var lt=vt.content,dt=G&&Buffer.isBuffer(lt)?lt.toString("binary"):Gt(lt),Mt=0,Dt=Math.min(1024,dt.length),jt=0,Ft=0;Ft<=Dt;++Ft)(jt=dt.charCodeAt(Ft))>=32&&jt<128&&++Mt;var It=Mt>=4*Dt/5;Ue.push(je),Ue.push("Content-Location: "+(_e.root||"file:///C:/SheetJS/")+at),Ue.push("Content-Transfer-Encoding: "+(It?"quoted-printable":"base64")),Ue.push("Content-Type: "+TB(vt,at)),Ue.push(""),Ue.push(It?RB(dt):PB(dt))}return Ue.push(je+"--\r\n"),Ue.join("\r\n")}(Ge,_e);if("zip"===(et(Ge),_e.fileType))return function AB(Ge,Ve){var _e=Ve||{},je=[],Ue=[],Xe=ft(1),at=_e.compression?8:0,vt=0,lt=0,dt=0,Mt=0,Dt=0,jt=Ge.FullPaths[0],Ft=jt,It=Ge.FileIndex[0],Jt=[],Di=0;for(lt=1;lt<Ge.FullPaths.length;++lt)if(Ft=Ge.FullPaths[lt].slice(jt.length),(It=Ge.FileIndex[lt]).size&&It.content&&"\x01Sh33tJ5"!=Ft){var Xs=Mt,is=ft(Ft.length);for(dt=0;dt<Ft.length;++dt)is.write_shift(1,127&Ft.charCodeAt(dt));is=is.slice(0,is.l),Jt[Dt]=vv.buf(It.content,0);var ir=It.content;8==at&&(ir=Qe(ir)),(Xe=ft(30)).write_shift(4,67324752),Xe.write_shift(2,20),Xe.write_shift(2,vt),Xe.write_shift(2,at),It.mt?a(Xe,It.mt):Xe.write_shift(4,0),Xe.write_shift(-4,8&vt?0:Jt[Dt]),Xe.write_shift(4,8&vt?0:ir.length),Xe.write_shift(4,8&vt?0:It.content.length),Xe.write_shift(2,is.length),Xe.write_shift(2,0),Mt+=Xe.length,je.push(Xe),Mt+=is.length,je.push(is),Mt+=ir.length,je.push(ir),8&vt&&((Xe=ft(12)).write_shift(-4,Jt[Dt]),Xe.write_shift(4,ir.length),Xe.write_shift(4,It.content.length),Mt+=Xe.l,je.push(Xe)),(Xe=ft(46)).write_shift(4,33639248),Xe.write_shift(2,0),Xe.write_shift(2,20),Xe.write_shift(2,vt),Xe.write_shift(2,at),Xe.write_shift(4,0),Xe.write_shift(-4,Jt[Dt]),Xe.write_shift(4,ir.length),Xe.write_shift(4,It.content.length),Xe.write_shift(2,is.length),Xe.write_shift(2,0),Xe.write_shift(2,0),Xe.write_shift(2,0),Xe.write_shift(2,0),Xe.write_shift(4,0),Xe.write_shift(4,Xs),Di+=Xe.l,Ue.push(Xe),Di+=is.length,Ue.push(is),++Dt}return(Xe=ft(22)).write_shift(4,101010256),Xe.write_shift(2,0),Xe.write_shift(2,0),Xe.write_shift(2,Dt),Xe.write_shift(2,Dt),Xe.write_shift(4,Di),Xe.write_shift(4,Mt),Xe.write_shift(2,0),re([re(je),re(Ue),Xe])}(Ge,_e);var je=function(jt){for(var Ft=0,It=0,Jt=0;Jt<jt.FileIndex.length;++Jt){var Di=jt.FileIndex[Jt];if(Di.content){var Xs=Di.content.length;Xs>0&&(Xs<4096?Ft+=Xs+63>>6:It+=Xs+511>>9)}}for(var is=jt.FullPaths.length+3>>2,Ga=Ft+127>>7,za=(Ft+7>>3)+It+is+Ga,on=za+127>>7,Wd=on<=109?0:Math.ceil((on-109)/127);za+on+Wd+127>>7>on;)Wd=++on<=109?0:Math.ceil((on-109)/127);var no=[1,Wd,on,Ga,is,It,Ft,0];return jt.FileIndex[0].size=Ft<<6,no[7]=(jt.FileIndex[0].start=no[0]+no[1]+no[2]+no[3]+no[4]+no[5])+(no[6]+7>>3),no}(Ge),Ue=ft(je[7]<<9),Xe=0,at=0;for(Xe=0;Xe<8;++Xe)Ue.write_shift(1,Ot[Xe]);for(Xe=0;Xe<8;++Xe)Ue.write_shift(2,0);for(Ue.write_shift(2,62),Ue.write_shift(2,3),Ue.write_shift(2,65534),Ue.write_shift(2,9),Ue.write_shift(2,6),Xe=0;Xe<3;++Xe)Ue.write_shift(2,0);for(Ue.write_shift(4,0),Ue.write_shift(4,je[2]),Ue.write_shift(4,je[0]+je[1]+je[2]+je[3]-1),Ue.write_shift(4,0),Ue.write_shift(4,4096),Ue.write_shift(4,je[3]?je[0]+je[1]+je[2]-1:Rt),Ue.write_shift(4,je[3]),Ue.write_shift(-4,je[1]?je[0]-1:Rt),Ue.write_shift(4,je[1]),Xe=0;Xe<109;++Xe)Ue.write_shift(-4,Xe<je[2]?je[1]+Xe:-1);if(je[1])for(at=0;at<je[1];++at){for(;Xe<236+127*at;++Xe)Ue.write_shift(-4,Xe<je[2]?je[1]+Xe:-1);Ue.write_shift(-4,at===je[1]-1?Rt:at+1)}var vt=function(jt){for(at+=jt;Xe<at-1;++Xe)Ue.write_shift(-4,Xe+1);jt&&(++Xe,Ue.write_shift(-4,Rt))};for(at=Xe=0,at+=je[1];Xe<at;++Xe)Ue.write_shift(-4,Vt.DIFSECT);for(at+=je[2];Xe<at;++Xe)Ue.write_shift(-4,Vt.FATSECT);vt(je[3]),vt(je[4]);for(var ht=0,lt=0,dt=Ge.FileIndex[0];ht<Ge.FileIndex.length;++ht)(dt=Ge.FileIndex[ht]).content&&!((lt=dt.content.length)<4096)&&(dt.start=at,vt(lt+511>>9));for(vt(je[6]+7>>3);511&Ue.l;)Ue.write_shift(-4,Vt.ENDOFCHAIN);for(at=Xe=0,ht=0;ht<Ge.FileIndex.length;++ht)(dt=Ge.FileIndex[ht]).content&&(lt=dt.content.length)&&!(lt>=4096)&&(dt.start=at,vt(lt+63>>6));for(;511&Ue.l;)Ue.write_shift(-4,Vt.ENDOFCHAIN);for(Xe=0;Xe<je[4]<<2;++Xe){var Mt=Ge.FullPaths[Xe];if(Mt&&0!==Mt.length){dt=Ge.FileIndex[Xe],0===Xe&&(dt.start=dt.size?dt.start-1:Rt);var Dt=0===Xe&&_e.root||dt.name;if(lt=2*(Dt.length+1),Ue.write_shift(64,Dt,"utf16le"),Ue.write_shift(2,lt),Ue.write_shift(1,dt.type),Ue.write_shift(1,dt.color),Ue.write_shift(-4,dt.L),Ue.write_shift(-4,dt.R),Ue.write_shift(-4,dt.C),dt.clsid)Ue.write_shift(16,dt.clsid,"hex");else for(ht=0;ht<4;++ht)Ue.write_shift(4,0);Ue.write_shift(4,dt.state||0),Ue.write_shift(4,0),Ue.write_shift(4,0),Ue.write_shift(4,0),Ue.write_shift(4,0),Ue.write_shift(4,dt.start),Ue.write_shift(4,dt.size),Ue.write_shift(4,0)}else{for(ht=0;ht<17;++ht)Ue.write_shift(4,0);for(ht=0;ht<3;++ht)Ue.write_shift(4,-1);for(ht=0;ht<12;++ht)Ue.write_shift(4,0)}}for(Xe=1;Xe<Ge.FileIndex.length;++Xe)if((dt=Ge.FileIndex[Xe]).size>=4096)if(Ue.l=dt.start+1<<9,G&&Buffer.isBuffer(dt.content))dt.content.copy(Ue,Ue.l,0,dt.size),Ue.l+=dt.size+511&-512;else{for(ht=0;ht<dt.size;++ht)Ue.write_shift(1,dt.content[ht]);for(;511&ht;++ht)Ue.write_shift(1,0)}for(Xe=1;Xe<Ge.FileIndex.length;++Xe)if((dt=Ge.FileIndex[Xe]).size>0&&dt.size<4096)if(G&&Buffer.isBuffer(dt.content))dt.content.copy(Ue,Ue.l,0,dt.size),Ue.l+=dt.size+63&-64;else{for(ht=0;ht<dt.size;++ht)Ue.write_shift(1,dt.content[ht]);for(;63&ht;++ht)Ue.write_shift(1,0)}if(G)Ue.l=Ue.length;else for(;Ue.l<Ue.length;)Ue.write_shift(1,0);return Ue}t.version="1.2.1";var St,st=64,Rt=-2,Wt="d0cf11e0a1b11ae1",Ot=[208,207,17,224,161,177,26,225],$t="00000000000000000000000000000000",Vt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Rt,FREESECT:-1,HEADER_SIGNATURE:Wt,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:$t,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Gt(Ge){for(var Ve=new Array(Ge.length),_e=0;_e<Ge.length;++_e)Ve[_e]=String.fromCharCode(Ge[_e]);return Ve.join("")}function Qe(Ge){return St?St.deflateRawSync(Ge):ci(Ge)}for(var Ge,Ve,qe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Bt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Tt=typeof Uint8Array<"u",wt=Tt?new Uint8Array(256):[],oi=0;oi<256;++oi)wt[oi]=(void 0,255&((Ve=139536&((Ge=oi)<<1|Ge<<11)|558144&(Ge<<5|Ge<<15))>>16|Ve>>8|Ve));function $e(Ge,Ve){var _e=wt[255&Ge];return Ve<=8?_e>>>8-Ve:(_e=_e<<8|wt[Ge>>8&255],Ve<=16?_e>>>16-Ve:(_e=_e<<8|wt[Ge>>16&255])>>>24-Ve)}function Si(Ge,Ve){var _e=7&Ve,je=Ve>>>3;return(Ge[je]|(_e<=6?0:Ge[je+1]<<8))>>>_e&3}function ui(Ge,Ve){var _e=7&Ve,je=Ve>>>3;return(Ge[je]|(_e<=5?0:Ge[je+1]<<8))>>>_e&7}function pi(Ge,Ve){var _e=7&Ve,je=Ve>>>3;return(Ge[je]|(_e<=3?0:Ge[je+1]<<8))>>>_e&31}function Nt(Ge,Ve){var _e=7&Ve,je=Ve>>>3;return(Ge[je]|(_e<=1?0:Ge[je+1]<<8))>>>_e&127}function Ki(Ge,Ve,_e){var je=7&Ve,Ue=Ve>>>3,at=Ge[Ue]>>>je;return _e<8-je||(at|=Ge[Ue+1]<<8-je,_e<16-je)||(at|=Ge[Ue+2]<<16-je,_e<24-je)||(at|=Ge[Ue+3]<<24-je),at&(1<<_e)-1}function vr(Ge,Ve,_e){var je=7&Ve,Ue=Ve>>>3;return je<=5?Ge[Ue]|=(7&_e)<<je:(Ge[Ue]|=_e<<je&255,Ge[Ue+1]=(7&_e)>>8-je),Ve+3}function _r(Ge,Ve,_e){return Ge[Ve>>>3]|=_e=(1&_e)<<(7&Ve),Ve+1}function ro(Ge,Ve,_e){var Ue=Ve>>>3;return Ge[Ue]|=255&(_e<<=7&Ve),Ge[Ue+1]=_e>>>=8,Ve+8}function Ba(Ge,Ve,_e){var Ue=Ve>>>3;return Ge[Ue]|=255&(_e<<=7&Ve),Ge[Ue+1]=255&(_e>>>=8),Ge[Ue+2]=_e>>>8,Ve+16}function Mo(Ge,Ve){var _e=Ge.length,je=2*_e>Ve?2*_e:Ve+5,Ue=0;if(_e>=Ve)return Ge;if(G){var Xe=ae(je);if(Ge.copy)Ge.copy(Xe);else for(;Ue<Ge.length;++Ue)Xe[Ue]=Ge[Ue];return Xe}if(Tt){var at=new Uint8Array(je);if(at.set)at.set(Ge);else for(;Ue<_e;++Ue)at[Ue]=Ge[Ue];return at}return Ge.length=je,Ge}function tr(Ge){for(var Ve=new Array(Ge),_e=0;_e<Ge;++_e)Ve[_e]=0;return Ve}function oo(Ge,Ve,_e){var je=1,Ue=0,Xe=0,at=0,vt=0,ht=Ge.length,lt=Tt?new Uint16Array(32):tr(32);for(Xe=0;Xe<32;++Xe)lt[Xe]=0;for(Xe=ht;Xe<_e;++Xe)Ge[Xe]=0;ht=Ge.length;var dt=Tt?new Uint16Array(ht):tr(ht);for(Xe=0;Xe<ht;++Xe)lt[Ue=Ge[Xe]]++,je<Ue&&(je=Ue),dt[Xe]=0;for(lt[0]=0,Xe=1;Xe<=je;++Xe)lt[Xe+16]=vt=vt+lt[Xe-1]<<1;for(Xe=0;Xe<ht;++Xe)0!=(vt=Ge[Xe])&&(dt[Xe]=lt[vt+16]++);var Mt=0;for(Xe=0;Xe<ht;++Xe)if(0!=(Mt=Ge[Xe]))for(vt=$e(dt[Xe],je)>>je-Mt,at=(1<<je+4-Mt)-1;at>=0;--at)Ve[vt|at<<Mt]=15&Mt|Xe<<4;return je}var Eo=Tt?new Uint16Array(512):tr(512),Na=Tt?new Uint16Array(32):tr(32);if(!Tt){for(var Ns=0;Ns<512;++Ns)Eo[Ns]=0;for(Ns=0;Ns<32;++Ns)Na[Ns]=0}!function(){for(var Ge=[],Ve=0;Ve<32;Ve++)Ge.push(5);oo(Ge,Na,32);var _e=[];for(Ve=0;Ve<=143;Ve++)_e.push(8);for(;Ve<=255;Ve++)_e.push(9);for(;Ve<=279;Ve++)_e.push(7);for(;Ve<=287;Ve++)_e.push(8);oo(_e,Eo,288)}();var Hr=function(){for(var Ve=Tt?new Uint8Array(32768):[],_e=0,je=0;_e<Bt.length-1;++_e)for(;je<Bt[_e+1];++je)Ve[je]=_e;for(;je<32768;++je)Ve[je]=29;var Ue=Tt?new Uint8Array(259):[];for(_e=0,je=0;_e<xt.length-1;++_e)for(;je<xt[_e+1];++je)Ue[je]=_e;return function(ht,lt){return ht.length<8?function Xe(vt,ht){for(var lt=0;lt<vt.length;){var dt=Math.min(65535,vt.length-lt);for(ht.write_shift(1,+(lt+dt==vt.length)),ht.write_shift(2,dt),ht.write_shift(2,65535&~dt);dt-- >0;)ht[ht.l++]=vt[lt++]}return ht.l}(ht,lt):function at(vt,ht){for(var lt=0,dt=0,Mt=Tt?new Uint16Array(32768):[];dt<vt.length;){var Dt=Math.min(65535,vt.length-dt);if(Dt<10){for(7&(lt=vr(ht,lt,+(dt+Dt==vt.length)))&&(lt+=8-(7&lt)),ht.l=lt/8|0,ht.write_shift(2,Dt),ht.write_shift(2,65535&~Dt);Dt-- >0;)ht[ht.l++]=vt[dt++];lt=8*ht.l}else{lt=vr(ht,lt,+(dt+Dt==vt.length)+2);for(var jt=0;Dt-- >0;){var Ft=vt[dt],It=-1,Jt=0;if((It=Mt[jt=32767&(jt<<5^Ft)])&&((It|=-32768&dt)>dt&&(It-=32768),It<dt))for(;vt[It+Jt]==vt[dt+Jt]&&Jt<250;)++Jt;if(Jt>2){(Ft=Ue[Jt])<=22?lt=ro(ht,lt,wt[Ft+1]>>1)-1:(ro(ht,lt,3),ro(ht,lt+=5,wt[Ft-23]>>5),lt+=3);var Di=Ft<8?0:Ft-4>>2;Di>0&&(Ba(ht,lt,Jt-xt[Ft]),lt+=Di),lt=ro(ht,lt,wt[Ft=Ve[dt-It]]>>3),lt-=3;var Xs=Ft<4?0:Ft-2>>1;Xs>0&&(Ba(ht,lt,dt-It-Bt[Ft]),lt+=Xs);for(var is=0;is<Jt;++is)Mt[jt]=32767&dt,jt=32767&(jt<<5^vt[dt]),++dt;Dt-=Jt-1}else Ft<=143?Ft+=48:lt=_r(ht,lt,1),lt=ro(ht,lt,wt[Ft]),Mt[jt]=32767&dt,++dt}lt=ro(ht,lt,0)-1}}return ht.l=(lt+7)/8|0,ht.l}(ht,lt)}}();function ci(Ge){var Ve=ft(50+Math.floor(1.1*Ge.length)),_e=Hr(Ge,Ve);return Ve.slice(0,_e)}var qi=Tt?new Uint16Array(32768):tr(32768),xr=Tt?new Uint16Array(32768):tr(32768),rs=Tt?new Uint16Array(128):tr(128),rn=1,qm=1;function kB(Ge,Ve){var _e=pi(Ge,Ve)+257,je=pi(Ge,Ve+=5)+1,Ue=function ki(Ge,Ve){var _e=7&Ve,je=Ve>>>3;return(Ge[je]|(_e<=4?0:Ge[je+1]<<8))>>>_e&15}(Ge,Ve+=5)+4;Ve+=4;for(var Xe=0,at=Tt?new Uint8Array(19):tr(19),vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ht=1,lt=Tt?new Uint8Array(8):tr(8),dt=Tt?new Uint8Array(8):tr(8),Mt=at.length,Dt=0;Dt<Ue;++Dt)at[qe[Dt]]=Xe=ui(Ge,Ve),ht<Xe&&(ht=Xe),lt[Xe]++,Ve+=3;var jt=0;for(lt[0]=0,Dt=1;Dt<=ht;++Dt)dt[Dt]=jt=jt+lt[Dt-1]<<1;for(Dt=0;Dt<Mt;++Dt)0!=(jt=at[Dt])&&(vt[Dt]=dt[jt]++);var Ft=0;for(Dt=0;Dt<Mt;++Dt)if(0!=(Ft=at[Dt])){jt=wt[vt[Dt]]>>8-Ft;for(var It=(1<<7-Ft)-1;It>=0;--It)rs[jt|It<<Ft]=7&Ft|Dt<<3}var Jt=[];for(ht=1;Jt.length<_e+je;)switch(jt=rs[Nt(Ge,Ve)],Ve+=7&jt,jt>>>=3){case 16:for(Xe=3+Si(Ge,Ve),Ve+=2,jt=Jt[Jt.length-1];Xe-- >0;)Jt.push(jt);break;case 17:for(Xe=3+ui(Ge,Ve),Ve+=3;Xe-- >0;)Jt.push(0);break;case 18:for(Xe=11+Nt(Ge,Ve),Ve+=7;Xe-- >0;)Jt.push(0);break;default:Jt.push(jt),ht<jt&&(ht=jt)}var Di=Jt.slice(0,_e),Xs=Jt.slice(_e);for(Dt=_e;Dt<286;++Dt)Di[Dt]=0;for(Dt=je;Dt<30;++Dt)Xs[Dt]=0;return rn=oo(Di,qi,286),qm=oo(Xs,xr,30),Ve}function Zm(Ge,Ve){var je=function MB(Ge,Ve){if(3==Ge[0]&&!(3&Ge[1]))return[oe(Ve),2];for(var _e=0,je=0,Ue=ae(Ve||1<<18),Xe=0,at=Ue.length>>>0,vt=0,ht=0;!(1&je);)if(je=ui(Ge,_e),_e+=3,je>>>1)for(je>>1==1?(vt=9,ht=5):(_e=kB(Ge,_e),vt=rn,ht=qm);;){!Ve&&at<Xe+32767&&(at=(Ue=Mo(Ue,Xe+32767)).length);var dt=Ki(Ge,_e,vt),Mt=je>>>1==1?Eo[dt]:qi[dt];if(_e+=15&Mt,(Mt>>>=4)>>>8&255){if(256==Mt)break;var Dt=(Mt-=257)<8?0:Mt-4>>2;Dt>5&&(Dt=0);var jt=Xe+xt[Mt];Dt>0&&(jt+=Ki(Ge,_e,Dt),_e+=Dt),dt=Ki(Ge,_e,ht),_e+=15&(Mt=je>>>1==1?Na[dt]:xr[dt]);var Ft=(Mt>>>=4)<4?0:Mt-2>>1,It=Bt[Mt];for(Ft>0&&(It+=Ki(Ge,_e,Ft),_e+=Ft),!Ve&&at<jt&&(at=(Ue=Mo(Ue,jt+100)).length);Xe<jt;)Ue[Xe]=Ue[Xe-It],++Xe}else Ue[Xe++]=Mt}else{7&_e&&(_e+=8-(7&_e));var lt=Ge[_e>>>3]|Ge[1+(_e>>>3)]<<8;if(_e+=32,lt>0)for(!Ve&&at<Xe+lt&&(at=(Ue=Mo(Ue,Xe+lt)).length);lt-- >0;)Ue[Xe++]=Ge[_e>>>3],_e+=8}return Ve?[Ue,_e+7>>>3]:[Ue.slice(0,Xe),_e+7>>>3]}(Ge.slice(Ge.l||0),Ve);return Ge.l+=je[1],je[0]}function Qm(Ge,Ve){if(!Ge)throw new Error(Ve);typeof console<"u"&&console.error(Ve)}function Jm(Ge,Ve){var _e=Ge;gs(_e,0);var Xe={FileIndex:[],FullPaths:[]};We(Xe,{root:Ve.root});for(var at=_e.length-4;(80!=_e[at]||75!=_e[at+1]||5!=_e[at+2]||6!=_e[at+3])&&at>=0;)--at;_e.l=at+4,_e.l+=4;var vt=_e.read_shift(2);_e.l+=6;var ht=_e.read_shift(4);for(_e.l=ht,at=0;at<vt;++at){_e.l+=20;var lt=_e.read_shift(4),dt=_e.read_shift(4),Mt=_e.read_shift(2),Dt=_e.read_shift(2),jt=_e.read_shift(2);_e.l+=8;var Ft=_e.read_shift(4),It=k(_e.slice(_e.l+Mt,_e.l+Mt+Dt));_e.l+=Mt+Dt+jt;var Jt=_e.l;_e.l=Ft+4,EB(_e,lt,dt,Xe,It),_e.l=Jt}return Xe}function EB(Ge,Ve,_e,je,Ue){Ge.l+=2;var Xe=Ge.read_shift(2),at=Ge.read_shift(2),vt=function g(Ge){var Ve=65535&Ge.read_shift(2),_e=65535&Ge.read_shift(2),je=new Date,Ue=31&_e,Xe=15&(_e>>>=5);_e>>>=4,je.setMilliseconds(0),je.setFullYear(_e+1980),je.setMonth(Xe-1),je.setDate(Ue);var at=31&Ve,vt=63&(Ve>>>=5);return je.setHours(Ve>>>=6),je.setMinutes(vt),je.setSeconds(at<<1),je}(Ge);if(8257&Xe)throw new Error("Unsupported ZIP encryption");Ge.read_shift(4);for(var lt=Ge.read_shift(4),dt=Ge.read_shift(4),Mt=Ge.read_shift(2),Dt=Ge.read_shift(2),jt="",Ft=0;Ft<Mt;++Ft)jt+=String.fromCharCode(Ge[Ge.l++]);if(Dt){var It=k(Ge.slice(Ge.l,Ge.l+Dt));(It[21589]||{}).mt&&(vt=It[21589].mt),((Ue||{})[21589]||{}).mt&&(vt=Ue[21589].mt)}Ge.l+=Dt;var Jt=Ge.slice(Ge.l,Ge.l+lt);switch(at){case 8:Jt=function ct(Ge,Ve){if(!St)return Zm(Ge,Ve);var je=new(0,St.InflateRaw),Ue=je._processChunk(Ge.slice(Ge.l),je._finishFlushFlag);return Ge.l+=je.bytesRead,Ue}(Ge,dt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+at)}var Di=!1;8&Xe&&(134695760==Ge.read_shift(4)&&(Ge.read_shift(4),Di=!0),lt=Ge.read_shift(4),dt=Ge.read_shift(4)),lt!=Ve&&Qm(Di,"Bad compressed size: "+Ve+" != "+lt),dt!=_e&&Qm(Di,"Bad uncompressed size: "+_e+" != "+dt),Hd(je,jt,Jt,{unsafe:!0,mt:vt})}var ih={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function TB(Ge,Ve){if(Ge.ctype)return Ge.ctype;var _e=Ge.name||"",je=_e.match(/\.([^\.]+)$/);return je&&ih[je[1]]||Ve&&(je=(_e=Ve).match(/[\.\\]([^\.\\])+$/))&&ih[je[1]]?ih[je[1]]:"application/octet-stream"}function PB(Ge){for(var Ve=R(Ge),_e=[],je=0;je<Ve.length;je+=76)_e.push(Ve.slice(je,je+76));return _e.join("\r\n")+"\r\n"}function RB(Ge){var Ve=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(lt){var dt=lt.charCodeAt(0).toString(16).toUpperCase();return"="+(1==dt.length?"0"+dt:dt)});"\n"==(Ve=Ve.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(Ve="=0D"+Ve.slice(1));for(var _e=[],je=(Ve=Ve.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),Ue=0;Ue<je.length;++Ue){var Xe=je[Ue];if(0!=Xe.length)for(var at=0;at<Xe.length;){var vt=76,ht=Xe.slice(at,at+vt);"="==ht.charAt(vt-1)?vt--:"="==ht.charAt(vt-2)?vt-=2:"="==ht.charAt(vt-3)&&(vt-=3),ht=Xe.slice(at,at+vt),(at+=vt)<Xe.length&&(ht+="="),_e.push(ht)}else _e.push("")}return _e.join("\r\n")}function FB(Ge,Ve,_e){for(var at,je="",Ue="",Xe="",vt=0;vt<10;++vt){var ht=Ve[vt];if(!ht||ht.match(/^\s*$/))break;var lt=ht.match(/^(.*?):\s*([^\s].*)$/);if(lt)switch(lt[1].toLowerCase()){case"content-location":je=lt[2].trim();break;case"content-type":Xe=lt[2].trim();break;case"content-transfer-encoding":Ue=lt[2].trim()}}switch(++vt,Ue.toLowerCase()){case"base64":at=ue(_(Ve.slice(vt).join("")));break;case"quoted-printable":at=function DB(Ge){for(var Ve=[],_e=0;_e<Ge.length;++_e){for(var je=Ge[_e];_e<=Ge.length&&"="==je.charAt(je.length-1);)je=je.slice(0,je.length-1)+Ge[++_e];Ve.push(je)}for(var Ue=0;Ue<Ve.length;++Ue)Ve[Ue]=Ve[Ue].replace(/[=][0-9A-Fa-f]{2}/g,function(Xe){return String.fromCharCode(parseInt(Xe.slice(1),16))});return ue(Ve.join("\r\n"))}(Ve.slice(vt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ue)}var dt=Hd(Ge,je.slice(_e.length),at,{unsafe:!0});Xe&&(dt.ctype=Xe)}function Hd(Ge,Ve,_e,je){var Ue=je&&je.unsafe;Ue||We(Ge);var Xe=!Ue&&Xt.find(Ge,Ve);if(!Xe){var at=Ge.FullPaths[0];Ve.slice(0,at.length)==at?at=Ve:("/"!=at.slice(-1)&&(at+="/"),at=(at+Ve).replace("//","/")),Xe={name:r(Ve),type:2},Ge.FileIndex.push(Xe),Ge.FullPaths.push(at),Ue||Xt.utils.cfb_gc(Ge)}return Xe.content=_e,Xe.size=_e?_e.length:0,je&&(je.CLSID&&(Xe.clsid=je.CLSID),je.mt&&(Xe.mt=je.mt),je.ct&&(Xe.ct=je.ct)),Xe}return t.find=function gt(Ge,Ve){var _e=Ge.FullPaths.map(function(ht){return ht.toUpperCase()}),je=_e.map(function(ht){var lt=ht.split("/");return lt[lt.length-("/"==ht.slice(-1)?2:1)]}),Ue=!1;47===Ve.charCodeAt(0)?(Ue=!0,Ve=_e[0].slice(0,-1)+Ve):Ue=-1!==Ve.indexOf("/");var Xe=Ve.toUpperCase(),at=!0===Ue?_e.indexOf(Xe):je.indexOf(Xe);if(-1!==at)return Ge.FileIndex[at];var vt=!Xe.match(ge);for(Xe=Xe.replace(pe,""),vt&&(Xe=Xe.replace(ge,"!")),at=0;at<_e.length;++at)if((vt?_e[at].replace(ge,"!"):_e[at]).replace(pe,"")==Xe||(vt?je[at].replace(ge,"!"):je[at]).replace(pe,"")==Xe)return Ge.FileIndex[at];return null},t.read=function tt(Ge,Ve){var _e=Ve&&Ve.type;switch(_e||G&&Buffer.isBuffer(Ge)&&(_e="buffer"),_e||"base64"){case"file":return function Ze(Ge,Ve){return se(),ne(V.readFileSync(Ge),Ve)}(Ge,Ve);case"base64":return ne(ue(_(Ge)),Ve);case"binary":return ne(ue(Ge),Ve)}return ne(Ge,Ve)},t.parse=ne,t.write=function qt(Ge,Ve){var _e=pt(Ge,Ve);switch(Ve&&Ve.type||"buffer"){case"file":return se(),V.writeFileSync(Ve.filename,_e),_e;case"binary":return"string"==typeof _e?_e:Gt(_e);case"base64":return R("string"==typeof _e?_e:Gt(_e));case"buffer":if(G)return Buffer.isBuffer(_e)?_e:K(_e);case"array":return"string"==typeof _e?ue(_e):_e}return _e},t.writeFile=function di(Ge,Ve,_e){se();var je=pt(Ge,_e);V.writeFileSync(Ve,je)},t.utils={cfb_new:function IB(Ge){var Ve={};return We(Ve,Ge),Ve},cfb_add:Hd,cfb_del:function BB(Ge,Ve){We(Ge);var _e=Xt.find(Ge,Ve);if(_e)for(var je=0;je<Ge.FileIndex.length;++je)if(Ge.FileIndex[je]==_e)return Ge.FileIndex.splice(je,1),Ge.FullPaths.splice(je,1),!0;return!1},cfb_mov:function NB(Ge,Ve,_e){We(Ge);var je=Xt.find(Ge,Ve);if(je)for(var Ue=0;Ue<Ge.FileIndex.length;++Ue)if(Ge.FileIndex[Ue]==je)return Ge.FileIndex[Ue].name=r(_e),Ge.FullPaths[Ue]=_e,!0;return!1},cfb_gc:function GB(Ge){et(Ge,!0)},ReadShift:Un,CheckField:Iu,prep_blob:gs,bconcat:re,use_zlib:function Ke(Ge){try{var _e=new(0,Ge.InflateRaw);if(_e._processChunk(new Uint8Array([3,0]),_e._finishFlushFlag),!_e.bytesRead)throw new Error("zlib does not expose bytesRead");St=Ge}catch(je){console.error("cannot use native zlib: "+(je.message||je))}},_deflateRaw:ci,_inflateRaw:Zm,consts:Vt},t}();let ao;function xv(e){return"string"==typeof e?be(e):Array.isArray(e)?function ie(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function Hn(e,t,i){if(typeof ao<"u"&&ao.writeFileSync)return i?ao.writeFileSync(e,t,i):ao.writeFileSync(e,t);if(typeof Deno<"u"){if(i&&"string"==typeof t)switch(i){case"utf8":t=new TextEncoder(i).encode(t);break;case"binary":t=be(t);break;default:throw new Error("Unsupported encoding "+i)}return Deno.writeFileSync(e,t)}var s="utf8"==i?Rr(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var r=new Blob([xv(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(r);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var g=document.createElement("a");if(null!=g.download)return g.download=e,g.href=a,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var k=File(e);return k.open("w"),k.encoding="binary",Array.isArray(t)&&(t=Se(t)),k.write(t),k.close(),t}catch(V){if(!V.message||!V.message.match(/onstruct/))throw V}throw new Error("cannot save file "+e)}function Gi(e){for(var t=Object.keys(e),i=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&i.push(t[s]);return i}function iu(e,t){for(var i=[],s=Gi(e),r=0;r!==s.length;++r)null==i[e[s[r]][t]]&&(i[e[s[r]][t]]=s[r]);return i}function Ha(e){for(var t=[],i=Gi(e),s=0;s!==i.length;++s)t[e[i[s]]]=i[s];return t}function Wa(e){for(var t=[],i=Gi(e),s=0;s!==i.length;++s)t[e[i[s]]]=parseInt(i[s],10);return t}var ja=new Date(1899,11,30,0,0,0);function os(e,t){var i=e.getTime();return t&&(i-=1263168e5),(i-(ja.getTime()+6e4*(e.getTimezoneOffset()-ja.getTimezoneOffset())))/864e5}var su=new Date,wv=ja.getTime()+6e4*(su.getTimezoneOffset()-ja.getTimezoneOffset()),ru=su.getTimezoneOffset();function sh(e){var t=new Date;return t.setTime(24*e*60*60*1e3+wv),t.getTimezoneOffset()!==ru&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-ru)),t}var ou=new Date("2017-02-19T19:06:09.000Z"),nu=isNaN(ou.getFullYear())?new Date("2/19/17"):ou,Sv=2017==nu.getFullYear();function Ii(e,t){var i=new Date(e);if(Sv)return t>0?i.setTime(i.getTime()+60*i.getTimezoneOffset()*1e3):t<0&&i.setTime(i.getTime()-60*i.getTimezoneOffset()*1e3),i;if(e instanceof Date)return e;if(1917==nu.getFullYear()&&!isNaN(i.getFullYear())){var s=i.getFullYear();return e.indexOf(""+s)>-1||i.setFullYear(i.getFullYear()+100),i}var r=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)),a}function To(e,t){if(G&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return Rr(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Rr(function z(e){for(var t=[],i=0;i<e.length>>1;++i)t[i]=String.fromCharCode(e.charCodeAt(2*i+1)+(e.charCodeAt(2*i)<<8));return t.join("")}(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(255==e[0]&&254==e[1])return Rr(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Rr(new TextDecoder("utf-16be").decode(e.slice(2)))}var i={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(a){return i[a]||a})}catch{}for(var s=[],r=0;r!=e.length;++r)s.push(String.fromCharCode(e[r]));return s.join("")}function Mi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=Mi(e[i]));return t}function zi(e,t){for(var i="";i.length<t;)i+=e;return i}function yr(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var i=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return i*=100,""});return isNaN(t=Number(s))&&(s=s.replace(/[(](.*)[)]/,function(r,a){return i=-i,a}),isNaN(t=Number(s)))?t:t/i}var kv=["january","february","march","april","may","june","july","august","september","october","november","december"];function cn(e){var t=new Date(e),i=new Date(NaN),s=t.getYear(),r=t.getMonth(),a=t.getDate();if(isNaN(a))return i;var g=e.toLowerCase();if(g.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((g=g.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==kv.indexOf(g))return i}else if(g.match(/[a-z]/))return i;return s<0||s>8099?i:(r>0||a>1)&&101!=s?t:e.match(/[^-0-9:,\/\\]/)?i:t}function ri(e,t,i){if(e.FullPaths){var s;if("string"==typeof i)return s=G?K(i):function le(e){for(var t=[],i=0,s=e.length+250,r=oe(e.length+255),a=0;a<e.length;++a){var g=e.charCodeAt(a);if(g<128)r[i++]=g;else if(g<2048)r[i++]=192|g>>6&31,r[i++]=128|63&g;else if(g>=55296&&g<57344){g=64+(1023&g);var k=1023&e.charCodeAt(++a);r[i++]=240|g>>8&7,r[i++]=128|g>>2&63,r[i++]=128|k>>6&15|(3&g)<<4,r[i++]=128|63&k}else r[i++]=224|g>>12&15,r[i++]=128|g>>6&63,r[i++]=128|63&g;i>s&&(t.push(r.slice(0,i)),i=0,r=oe(65535),s=65530)}return t.push(r.slice(0,i)),re(t)}(i),Xt.utils.cfb_add(e,t,s);Xt.utils.cfb_add(e,t,i)}else e.file(t,i)}function oh(){return Xt.utils.cfb_new()}var _i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',nh=Ha({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),ah=/[&<>'"]/g,Fv=/[\u0000-\u0008\u000b-\u001f]/g;function bi(e){return(e+"").replace(ah,function(i){return nh[i]}).replace(Fv,function(i){return"_x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+"_"})}function pu(e){return bi(e).replace(/ /g,"_x0020_")}var gu=/[\u0000-\u001f]/g;function fu(e){return(e+"").replace(ah,function(i){return nh[i]}).replace(/\n/g,"<br/>").replace(gu,function(i){return"&#x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+";"})}function lh(e){for(var t="",i=0,s=0,r=0,a=0,g=0,k=0;i<e.length;)(s=e.charCodeAt(i++))<128?t+=String.fromCharCode(s):(r=e.charCodeAt(i++),s>191&&s<224?(g=(31&s)<<6,g|=63&r,t+=String.fromCharCode(g)):(a=e.charCodeAt(i++),s<240?t+=String.fromCharCode((15&s)<<12|(63&r)<<6|63&a):(k=((7&s)<<18|(63&r)<<12|(63&a)<<6|63&(g=e.charCodeAt(i++)))-65536,t+=String.fromCharCode(55296+(k>>>10&1023)),t+=String.fromCharCode(56320+(1023&k)))));return t}function vu(e){var i,s,k,t=oe(2*e.length),r=1,a=0,g=0;for(s=0;s<e.length;s+=r)r=1,(k=e.charCodeAt(s))<128?i=k:k<224?(i=64*(31&k)+(63&e.charCodeAt(s+1)),r=2):k<240?(i=4096*(15&k)+64*(63&e.charCodeAt(s+1))+(63&e.charCodeAt(s+2)),r=3):(r=4,i=262144*(7&k)+4096*(63&e.charCodeAt(s+1))+64*(63&e.charCodeAt(s+2))+(63&e.charCodeAt(s+3)),g=55296+((i-=65536)>>>10&1023),i=56320+(1023&i)),0!==g&&(t[a++]=255&g,t[a++]=g>>>8,g=0),t[a++]=i%256,t[a++]=i>>>8;return t.slice(0,a).toString("ucs2")}function xu(e){return K(e,"binary").toString("utf8")}var Va="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Ai=G&&(xu(Va)==lh(Va)&&xu||vu(Va)==lh(Va)&&vu)||lh,Rr=G?function(e){return K(e,"utf8").toString("binary")}:function(e){for(var t=[],i=0,s=0,r=0;i<e.length;)switch(s=e.charCodeAt(i++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(63&s)));break;case s>=55296&&s<57344:s-=55296,r=e.charCodeAt(i++)-56320+(s<<10),t.push(String.fromCharCode(240+(r>>18&7))),t.push(String.fromCharCode(144+(r>>12&63))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(63&s)))}return t.join("")},Cu=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(i){for(var s=i.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)s=s.replace(e[r][0],e[r][1]);return s}}(),wu=/(^\s|\s$|\n)/;function ps(e,t){return"<"+e+(t.match(wu)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function jn(e){return Gi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Et(e,t,i){return"<"+e+(null!=i?jn(i):"")+(null!=t?(t.match(wu)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function hh(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(i){if(t)throw i}return""}var Ji={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},lo=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Qs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"},bu=function(e){for(var t=[],s=0;s<e[0].length;++s)if(e[0][s])for(var r=0,a=e[0][s].length;r<a;r+=10240)t.push.apply(t,e[0][s].slice(r,r+10240));return t},Su=G?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:K(t)})):bu(e)}:bu,ku=function(e,t,i){for(var s=[],r=t;r<i;r+=2)s.push(String.fromCharCode(Ur(e,r)));return s.join("").replace(pe,"")},Ua=G?function(e,t,i){return Buffer.isBuffer(e)?e.toString("utf16le",t,i).replace(pe,""):ku(e,t,i)}:ku,Mu=function(e,t,i){for(var s=[],r=t;r<t+i;++r)s.push(("0"+e[r].toString(16)).slice(-2));return s.join("")},Eu=G?function(e,t,i){return Buffer.isBuffer(e)?e.toString("hex",t,t+i):Mu(e,t,i)}:Mu,Au=function(e,t,i){for(var s=[],r=t;r<i;r++)s.push(String.fromCharCode(un(e,r)));return s.join("")},dn=G?function(t,i,s){return Buffer.isBuffer(t)?t.toString("utf8",i,s):Au(t,i,s)}:Au,Tu=function(e,t){var i=ns(e,t);return i>0?dn(e,t+4,t+4+i-1):""},dh=Tu,Pu=function(e,t){var i=ns(e,t);return i>0?dn(e,t+4,t+4+i-1):""},uh=Pu,Ru=function(e,t){var i=2*ns(e,t);return i>0?dn(e,t+4,t+4+i-1):""},ph=Ru,Du=function(t,i){var s=ns(t,i);return s>0?Ua(t,i+4,i+4+s):""},gh=Du,Fu=function(e,t){var i=ns(e,t);return i>0?dn(e,t+4,t+4+i):""},fh=Fu,Lu=function(e,t){return function _v(e,t){for(var i=1-2*(e[t+7]>>>7),s=((127&e[t+7])<<4)+(e[t+6]>>>4&15),r=15&e[t+6],a=5;a>=0;--a)r=256*r+e[t+a];return 2047==s?0==r?i*(1/0):NaN:(0==s?s=-1022:(s-=1023,r+=Math.pow(2,52)),i*Math.pow(2,s-52)*r)}(e,t)},Xa=Lu,mh=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};G&&(dh=function(t,i){if(!Buffer.isBuffer(t))return Tu(t,i);var s=t.readUInt32LE(i);return s>0?t.toString("utf8",i+4,i+4+s-1):""},uh=function(t,i){if(!Buffer.isBuffer(t))return Pu(t,i);var s=t.readUInt32LE(i);return s>0?t.toString("utf8",i+4,i+4+s-1):""},ph=function(t,i){if(!Buffer.isBuffer(t))return Ru(t,i);var s=2*t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+s-1)},gh=function(t,i){if(!Buffer.isBuffer(t))return Du(t,i);var s=t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+s)},fh=function(t,i){if(!Buffer.isBuffer(t))return Fu(t,i);var s=t.readUInt32LE(i);return t.toString("utf8",i+4,i+4+s)},Xa=function(t,i){return Buffer.isBuffer(t)?t.readDoubleLE(i):Lu(t,i)},mh=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array}),typeof w<"u"&&function Ou(){Ua=function(e,t,i){return w.utils.decode(1200,e.slice(t,i)).replace(pe,"")},dn=function(e,t,i){return w.utils.decode(65001,e.slice(t,i))},dh=function(e,t){var i=ns(e,t);return i>0?w.utils.decode(h,e.slice(t+4,t+4+i-1)):""},uh=function(e,t){var i=ns(e,t);return i>0?w.utils.decode(o,e.slice(t+4,t+4+i-1)):""},ph=function(e,t){var i=2*ns(e,t);return i>0?w.utils.decode(1200,e.slice(t+4,t+4+i-1)):""},gh=function(e,t){var i=ns(e,t);return i>0?w.utils.decode(1200,e.slice(t+4,t+4+i)):""},fh=function(e,t){var i=ns(e,t);return i>0?w.utils.decode(65001,e.slice(t+4,t+4+i)):""}}();var un=function(e,t){return e[t]},Ur=function(e,t){return 256*e[t+1]+e[t]},Wv=function(e,t){var i=256*e[t+1]+e[t];return i<32768?i:-1*(65535-i+1)},ns=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Po=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},jv=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Un(e,t){var s,r,g,k,V,se,i="",a=[];switch(t){case"dbcs":if(se=this.l,G&&Buffer.isBuffer(this))i=this.slice(this.l,this.l+2*e).toString("utf16le");else for(V=0;V<e;++V)i+=String.fromCharCode(Ur(this,se)),se+=2;e*=2;break;case"utf8":i=dn(this,this.l,this.l+e);break;case"utf16le":i=Ua(this,this.l,this.l+(e*=2));break;case"wstr":if(!(typeof w<"u"))return Un.call(this,e,"dbcs");i=w.utils.decode(o,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":i=dh(this,this.l),e=4+ns(this,this.l);break;case"lpstr-cp":i=uh(this,this.l),e=4+ns(this,this.l);break;case"lpwstr":i=ph(this,this.l),e=4+2*ns(this,this.l);break;case"lpp4":e=4+ns(this,this.l),i=gh(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+ns(this,this.l),i=fh(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,i="";0!==(g=un(this,this.l+e++));)a.push(J(g));i=a.join("");break;case"_wstr":for(e=0,i="";0!==(g=Ur(this,this.l+e));)a.push(J(g)),e+=2;e+=2,i=a.join("");break;case"dbcs-cont":for(i="",se=this.l,V=0;V<e;++V){if(this.lens&&-1!==this.lens.indexOf(se))return g=un(this,se),this.l=se+1,k=Un.call(this,e-V,g?"dbcs-cont":"sbcs-cont"),a.join("")+k;a.push(J(Ur(this,se))),se+=2}i=a.join(""),e*=2;break;case"cpstr":if(typeof w<"u"){i=w.utils.decode(o,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(i="",se=this.l,V=0;V!=e;++V){if(this.lens&&-1!==this.lens.indexOf(se))return g=un(this,se),this.l=se+1,k=Un.call(this,e-V,g?"dbcs-cont":"sbcs-cont"),a.join("")+k;a.push(J(un(this,se))),se+=1}i=a.join("");break;default:switch(e){case 1:return s=un(this,this.l),this.l++,s;case 2:return s=("i"===t?Wv:Ur)(this,this.l),this.l+=2,s;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(r=ns(this,this.l),this.l+=4,r):(s=(e>0?Po:jv)(this,this.l),this.l+=4,s);case 8:case-8:if("f"===t)return r=8==e?Xa(this,this.l):Xa([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:i=Eu(this,this.l,e)}}return this.l+=e,i}var Vv=function(e,t,i){e[i]=255&t,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24&255},Uv=function(e,t,i){e[i]=255&t,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255},Xv=function(e,t,i){e[i]=255&t,e[i+1]=t>>>8&255};function Yv(e,t,i){var s=0,r=0;if("dbcs"===i){for(r=0;r!=t.length;++r)Xv(this,t.charCodeAt(r),this.l+2*r);s=2*t.length}else if("sbcs"===i){if(typeof w<"u"&&874==h)for(r=0;r!=t.length;++r){var a=w.utils.encode(h,t.charAt(r));this[this.l+r]=a[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=255&t.charCodeAt(r);s=t.length}else{if("hex"===i){for(;r<e;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}if("utf16le"===i){var g=Math.min(this.l+e,this.length);for(r=0;r<Math.min(t.length,e);++r){var k=t.charCodeAt(r);this[this.l++]=255&k,this[this.l++]=k>>8}for(;this.l<g;)this[this.l++]=0;return this}switch(e){case 1:s=1,this[this.l]=255&t;break;case 2:s=2,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8);break;case 3:s=3,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8),this[this.l+2]=255&(t>>>=8);break;case 4:s=4,Vv(this,t,this.l);break;case 8:if(s=8,"f"===i){!function Hv(e,t,i){var s=(t<0||1/t==-1/0?1:0)<<7,r=0,a=0,g=s?-t:t;isFinite(g)?0==g?r=a=0:(r=Math.floor(Math.log(g)/Math.LN2),a=g*Math.pow(2,52-r),r<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?r=-1022:(a-=Math.pow(2,52),r+=1023)):(r=2047,a=isNaN(t)?26985:0);for(var k=0;k<=5;++k,a/=256)e[i+k]=255&a;e[i+6]=(15&r)<<4|15&a,e[i+7]=r>>4|s}(this,t,this.l);break}case 16:break;case-4:s=4,Uv(this,t,this.l)}}return this.l+=s,this}function Iu(e,t){var i=Eu(this,this.l,e.length>>1);if(i!==e)throw new Error(t+"Expected "+e+" saw "+i);this.l+=e.length>>1}function gs(e,t){e.l=t,e.read_shift=Un,e.chk=Iu,e.write_shift=Yv}function vs(e,t){e.l+=t}function ft(e){var t=oe(e);return gs(t,0),t}function Ts(){var e=[],t=G?256:2048,i=function(se){var ne=ft(se);return gs(ne,0),ne},s=i(t),r=function(){s&&(s.length>s.l&&((s=s.slice(0,s.l)).l=s.length),s.length>0&&e.push(s),s=null)},a=function(se){return s&&se<s.length-s.l?s:(r(),s=i(Math.max(se+1,t)))};return{next:a,push:function(se){r(),null==(s=se).l&&(s.l=s.length),a(t)},end:function(){return r(),re(e)},_bufs:e}}function Ct(e,t,i,s){var a,r=+t;if(!isNaN(r)){s||(s=ha[r].p||(i||[]).length||0),a=1+(r>=128?1:0)+1,s>=128&&++a,s>=16384&&++a,s>=2097152&&++a;var g=e.next(a);r<=127?g.write_shift(1,r):(g.write_shift(1,128+(127&r)),g.write_shift(1,r>>7));for(var k=0;4!=k;++k){if(!(s>=128)){g.write_shift(1,s);break}g.write_shift(1,128+(127&s)),s>>=7}s>0&&mh(i)&&e.push(i)}}function Xn(e,t,i){var s=Mi(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!i||i.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function Bu(e,t,i){var s=Mi(e);return s.s=Xn(s.s,t.s,i),s.e=Xn(s.e,t.s,i),s}function Yn(e,t){if(e.cRel&&e.c<0)for(e=Mi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Mi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var i=Kt(e);return!e.cRel&&null!=e.cRel&&(i=function qv(e){return e.replace(/^([A-Z])/,"$$$1")}(i)),!e.rRel&&null!=e.rRel&&(i=function $v(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(i)),i}function vh(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?Yn(e.s,t.biff)+":"+Yn(e.e,t.biff):(e.s.rRel?"":"$")+Hi(e.s.r)+":"+(e.e.rRel?"":"$")+Hi(e.e.r):(e.s.cRel?"":"$")+Ti(e.s.c)+":"+(e.e.cRel?"":"$")+Ti(e.e.c)}function xh(e){return parseInt(function Kv(e){return e.replace(/\$(\d+)$/,"$1")}(e),10)-1}function Hi(e){return""+(e+1)}function Ch(e){for(var t=function Zv(e){return e.replace(/^\$([A-Z])/,"$1")}(e),i=0,s=0;s!==t.length;++s)i=26*i+t.charCodeAt(s)-64;return i-1}function Ti(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Ui(e){for(var t=0,i=0,s=0;s<e.length;++s){var r=e.charCodeAt(s);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(i=26*i+(r-64))}return{c:i-1,r:t-1}}function Kt(e){for(var t=e.c+1,i="";t;t=(t-1)/26|0)i=String.fromCharCode((t-1)%26+65)+i;return i+(e.r+1)}function Ps(e){var t=e.indexOf(":");return-1==t?{s:Ui(e),e:Ui(e)}:{s:Ui(e.slice(0,t)),e:Ui(e.slice(t+1))}}function ti(e,t){return typeof t>"u"||"number"==typeof t?ti(e.s,e.e):("string"!=typeof e&&(e=Kt(e)),"string"!=typeof t&&(t=Kt(t)),e==t?e:e+":"+t)}function fi(e){var t={s:{c:0,r:0},e:{c:0,r:0}},i=0,s=0,r=0,a=e.length;for(i=0;s<a&&!((r=e.charCodeAt(s)-64)<1||r>26);++s)i=26*i+r;for(t.s.c=--i,i=0;s<a&&!((r=e.charCodeAt(s)-48)<0||r>9);++s)i=10*i+r;if(t.s.r=--i,s===a||10!=r)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,i=0;s!=a&&!((r=e.charCodeAt(s)-64)<1||r>26);++s)i=26*i+r;for(t.e.c=--i,i=0;s!=a&&!((r=e.charCodeAt(s)-48)<0||r>9);++s)i=10*i+r;return t.e.r=--i,t}function Dr(e,t,i){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&i&&i.dateNF&&(e.z=i.dateNF),"e"==e.t?Yr[e.v]||e.v:function Nu(e,t){var i="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=qs(e.z,i?os(t):t)}catch{}try{return e.w=qs((e.XF||{}).numFmtId||(i?14:0),i?os(t):t)}catch{return""+t}}(e,null==t?e.v:t))}function ho(e,t){var i=t&&t.sheet?t.sheet:"Sheet1",s={};return s[i]=e,{SheetNames:[i],Sheets:s}}function Gu(e,t,i){var s=i||{},r=e?Array.isArray(e):s.dense;null!=X&&null==r&&(r=X);var a=e||(r?[]:{}),g=0,k=0;if(a&&null!=s.origin){if("number"==typeof s.origin)g=s.origin;else{var V="string"==typeof s.origin?Ui(s.origin):s.origin;g=V.r,k=V.c}a["!ref"]||(a["!ref"]="A1:A1")}var se={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var ne=fi(a["!ref"]);se.s.c=ne.s.c,se.s.r=ne.s.r,se.e.c=Math.max(se.e.c,ne.e.c),se.e.r=Math.max(se.e.r,ne.e.r),-1==g&&(se.e.r=g=ne.e.r+1)}for(var fe=0;fe!=t.length;++fe)if(t[fe]){if(!Array.isArray(t[fe]))throw new Error("aoa_to_sheet expects an array of arrays");for(var Ce=0;Ce!=t[fe].length;++Ce)if(!(typeof t[fe][Ce]>"u")){var ke={v:t[fe][Ce]},Ae=g+fe,Ee=k+Ce;if(se.s.r>Ae&&(se.s.r=Ae),se.s.c>Ee&&(se.s.c=Ee),se.e.r<Ae&&(se.e.r=Ae),se.e.c<Ee&&(se.e.c=Ee),!t[fe][Ce]||"object"!=typeof t[fe][Ce]||Array.isArray(t[fe][Ce])||t[fe][Ce]instanceof Date)if(Array.isArray(ke.v)&&(ke.f=t[fe][Ce][1],ke.v=ke.v[0]),null===ke.v)if(ke.f)ke.t="n";else if(s.nullError)ke.t="e",ke.v=0;else{if(!s.sheetStubs)continue;ke.t="z"}else"number"==typeof ke.v?ke.t="n":"boolean"==typeof ke.v?ke.t="b":ke.v instanceof Date?(ke.z=s.dateNF||rt[14],s.cellDates?(ke.t="d",ke.w=qs(ke.z,os(ke.v))):(ke.t="n",ke.v=os(ke.v),ke.w=qs(ke.z,ke.v))):ke.t="s";else ke=t[fe][Ce];if(r)a[Ae]||(a[Ae]=[]),a[Ae][Ee]&&a[Ae][Ee].z&&(ke.z=a[Ae][Ee].z),a[Ae][Ee]=ke;else{var Te=Kt({c:Ee,r:Ae});a[Te]&&a[Te].z&&(ke.z=a[Te].z),a[Te]=ke}}}return se.s.c<1e7&&(a["!ref"]=ti(se)),a}function pn(e,t){return Gu(null,e,t)}function wr(e,t){return t||(t=ft(4)),t.write_shift(4,e),t}function xs(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function as(e,t){var i=!1;return null==t&&(i=!0,t=ft(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),i?t.slice(0,t.l):t}function ex(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function yh(e,t){var i=e.l,s=e.read_shift(1),r=xs(e),a=[],g={t:r,h:r};if(1&s){for(var k=e.read_shift(4),V=0;V!=k;++V)a.push(ex(e));g.r=a}else g.r=[{ich:0,ifnt:0}];return e.l=i+t,g}var sx=yh;function or(e){var t=e.read_shift(4),i=e.read_shift(2);return i+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:i}}function Ro(e,t){return null==t&&(t=ft(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Do(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Fo(e,t){return null==t&&(t=ft(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var ox=xs,zu=as;function wh(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function Ya(e,t){var i=!1;return null==t&&(i=!0,t=ft(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),i?t.slice(0,t.l):t}var nx=xs,bh=wh,Sh=Ya;function kh(e){var t=e.slice(e.l,e.l+4),i=1&t[0],s=2&t[0];e.l+=4;var r=0===s?Xa([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Po(t,0)>>2;return i?r/100:r}function _u(e,t){null==t&&(t=ft(4));var i=0,s=0,r=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?s=1:r==(0|r)&&r>=-(1<<29)&&r<1<<29&&(s=1,i=1),!s)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((i?r:e)<<2)+(i+2))}function Hu(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Lo=Hu,gn=function ax(e,t){return t||(t=ft(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function Cs(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Oo(e,t){return(t||ft(8)).write_shift(8,e,"f")}function $a(e,t){if(t||(t=ft(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var i=e.tint||0;if(i>0?i*=32767:i<0&&(i*=32768),t.write_shift(2,i),e.rgb&&null==e.theme){var s=e.rgb||"FFFFFF";"number"==typeof s&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var Eh={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Ah={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Cx(e){return e.map(function(t){return[t>>16&255,t>>8&255,255&t]})}var Io=Mi(Cx([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Yr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Th={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Qa={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Xu(e,t){var r,i=function yv(e){for(var t=[],i=Gi(e),s=0;s!==i.length;++s)null==t[e[i[s]]]&&(t[e[i[s]]]=[]),t[e[i[s]]].push(i[s]);return t}(Th),s=[];s[s.length]=_i,s[s.length]=Et("Types",null,{xmlns:Ji.CT,"xmlns:xsd":Ji.xsd,"xmlns:xsi":Ji.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(V){return Et("Default",null,{Extension:V[0],ContentType:V[1]})}));var a=function(V){e[V]&&e[V].length>0&&(s[s.length]=Et("Override",null,{PartName:("/"==(r=e[V][0])[0]?"":"/")+r,ContentType:Qa[V][t.bookType]||Qa[V].xlsx}))},g=function(V){(e[V]||[]).forEach(function(se){s[s.length]=Et("Override",null,{PartName:("/"==se[0]?"":"/")+se,ContentType:Qa[V][t.bookType]||Qa[V].xlsx})})},k=function(V){(e[V]||[]).forEach(function(se){s[s.length]=Et("Override",null,{PartName:("/"==se[0]?"":"/")+se,ContentType:i[V][0]})})};return a("workbooks"),g("sheets"),g("charts"),k("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(k),k("vba"),k("comments"),k("threadedcomments"),k("drawings"),g("metadata"),k("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var ii={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function $n(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function fn(e){var t=[_i,Et("Relationships",null,{xmlns:Ji.RELS})];return Gi(e["!id"]).forEach(function(i){t[t.length]=Et("Relationship",null,e["!id"][i])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ci(e,t,i,s,r,a){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,r.Id="rId"+t,r.Type=s,r.Target=i,a?r.TargetMode=a:[ii.HLINK,ii.XPATH,ii.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,t}function Yu(e,t,i){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(i||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Ex(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function $u(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+n.version+"</meta:generator></office:meta></office:document-meta>"}var $r=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Rh(e,t,i,s,r){null!=r[e]||null==t||""===t||(r[e]=t,t=bi(t),s[s.length]=i?Et(e,t,i):ps(e,t))}function qu(e,t){var i=t||{},s=[_i,Et("cp:coreProperties",null,{"xmlns:cp":Ji.CORE_PROPS,"xmlns:dc":Ji.dc,"xmlns:dcterms":Ji.dcterms,"xmlns:dcmitype":Ji.dcmitype,"xmlns:xsi":Ji.xsi})],r={};if(!e&&!i.Props)return s.join("");e&&(null!=e.CreatedDate&&Rh("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:hh(e.CreatedDate,i.WTF),{"xsi:type":"dcterms:W3CDTF"},s,r),null!=e.ModifiedDate&&Rh("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:hh(e.ModifiedDate,i.WTF),{"xsi:type":"dcterms:W3CDTF"},s,r));for(var a=0;a!=$r.length;++a){var g=$r[a],k=i.Props&&null!=i.Props[g[1]]?i.Props[g[1]]:e?e[g[1]]:null;!0===k?k="1":!1===k?k="0":"number"==typeof k&&(k=String(k)),null!=k&&Rh(g[0],k,null,s,r)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Bo=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Zu=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Ju(e){var t=[],i=Et;return e||(e={}),e.Application="SheetJS",t[t.length]=_i,t[t.length]=Et("Properties",null,{xmlns:Ji.EXT_PROPS,"xmlns:vt":Ji.vt}),Bo.forEach(function(s){if(void 0!==e[s[1]]){var r;switch(s[2]){case"string":r=bi(String(e[s[1]]));break;case"bool":r=e[s[1]]?"true":"false"}void 0!==r&&(t[t.length]=i(s[0],r))}}),t[t.length]=i("HeadingPairs",i("vt:vector",i("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+i("vt:variant",i("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=i("TitlesOfParts",i("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+bi(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function ep(e){var t=[_i,Et("Properties",null,{xmlns:Ji.CUST_PROPS,"xmlns:vt":Ji.vt})];if(!e)return t.join("");var i=1;return Gi(e).forEach(function(r){++i,t[t.length]=Et("property",function zv(e,t){switch(typeof e){case"string":var i=Et("vt:lpwstr",bi(e));return t&&(i=i.replace(/&quot;/g,"_x0022_")),i;case"number":return Et((0|e)==e?"vt:i4":"vt:r8",bi(String(e)));case"boolean":return Et("vt:bool",e?"true":"false")}if(e instanceof Date)return Et("vt:filetime",hh(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:i,name:bi(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Dh={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function np(e,t){var i=ft(4),s=ft(4);switch(i.write_shift(4,80==e?31:e),e){case 3:s.write_shift(-4,t);break;case 5:(s=ft(8)).write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=function Ix(e){var i=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,s=i%Math.pow(2,32),r=(i-s)/Math.pow(2,32);r*=1e7;var a=(s*=1e7)/Math.pow(2,32)|0;a>0&&(s%=Math.pow(2,32),r+=a);var g=ft(8);return g.write_shift(4,s),g.write_shift(4,r),g}(t);break;case 31:case 80:for((s=ft(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return re([i,s])}var lp=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Wx(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function hp(e,t,i){var s=ft(8),r=[],a=[],g=8,k=0,V=ft(8),se=ft(8);if(V.write_shift(4,2),V.write_shift(4,1200),se.write_shift(4,1),a.push(V),r.push(se),g+=8+V.length,!t){(se=ft(8)).write_shift(4,0),r.unshift(se);var ne=[ft(4)];for(ne[0].write_shift(4,e.length),k=0;k<e.length;++k){var fe=e[k][0];for((V=ft(8+2*(fe.length+1)+(fe.length%2?0:2))).write_shift(4,k+2),V.write_shift(4,fe.length+1),V.write_shift(0,fe,"dbcs");V.l!=V.length;)V.write_shift(1,0);ne.push(V)}V=re(ne),a.unshift(V),g+=8+V.length}for(k=0;k<e.length;++k)if((!t||t[e[k][0]])&&!(lp.indexOf(e[k][0])>-1||Zu.indexOf(e[k][0])>-1)&&null!=e[k][1]){var Ce=e[k][1],ke=0;if(t){var Ae=i[ke=+t[e[k][0]]];if("version"==Ae.p&&"string"==typeof Ce){var Ee=Ce.split(".");Ce=(+Ee[0]<<16)+(+Ee[1]||0)}V=np(Ae.t,Ce)}else{var Te=Wx(Ce);-1==Te&&(Te=31,Ce=String(Ce)),V=np(Te,Ce)}a.push(V),(se=ft(8)).write_shift(4,t?ke:2+k),r.push(se),g+=8+V.length}var Ie=8*(a.length+1);for(k=0;k<a.length;++k)r[k].write_shift(4,Ie),Ie+=a[k].length;return s.write_shift(4,g),s.write_shift(4,a.length),re([s].concat(r).concat(a))}function dp(e,t,i,s,r,a){var g=ft(r?68:48),k=[g];g.write_shift(2,65534),g.write_shift(2,0),g.write_shift(4,842412599),g.write_shift(16,Xt.utils.consts.HEADER_CLSID,"hex"),g.write_shift(4,r?2:1),g.write_shift(16,t,"hex"),g.write_shift(4,r?68:48);var V=hp(e,i,s);if(k.push(V),r){var se=hp(r,null,null);g.write_shift(16,a,"hex"),g.write_shift(4,68+V.length),k.push(se)}return re(k)}function Rs(e,t){return t||(t=ft(2)),t.write_shift(2,+!!e),t}function es(e){return e.read_shift(2,"u")}function nr(e,t){return t||(t=ft(2)),t.write_shift(2,e),t}function pp(e,t,i){return i||(i=ft(2)),i.write_shift(1,"e"==t?+e:+!!e),i.write_shift(1,"e"==t?1:0),i}function qn(e,t,i){var s=e.read_shift(i&&i.biff>=12?2:1),r="sbcs-cont",a=o;i&&i.biff>=8&&(o=1200),i&&8!=i.biff?12==i.biff&&(r="wstr"):e.read_shift(1)&&(r="dbcs-cont"),i.biff>=2&&i.biff<=5&&(r="cpstr");var k=s?e.read_shift(s,r):"";return o=a,k}function Yx(e){var t=e.t||"",s=ft(3);s.write_shift(2,t.length),s.write_shift(1,1);var r=ft(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),re([s,r])}function gp(e,t,i){return i||(i=ft(3+2*e.length)),i.write_shift(2,e.length),i.write_shift(1,1),i.write_shift(31,e,"utf16le"),i}function fp(e,t){t||(t=ft(6+2*e.length)),t.write_shift(4,1+e.length);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function Jx(e){var t=ft(512),i=0,s=e.Target;"file://"==s.slice(0,7)&&(s=s.slice(7));var r=s.indexOf("#"),a=r>-1?31:23;switch(s.charAt(0)){case"#":a=28;break;case".":a&=-3}t.write_shift(4,2),t.write_shift(4,a);var g=[8,6815827,6619237,4849780,83];for(i=0;i<g.length;++i)t.write_shift(4,g[i]);if(28==a)fp(s=s.slice(1),t);else if(2&a){for(g="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<g.length;++i)t.write_shift(1,parseInt(g[i],16));var k=r>-1?s.slice(0,r):s;for(t.write_shift(4,2*(k.length+1)),i=0;i<k.length;++i)t.write_shift(2,k.charCodeAt(i));t.write_shift(2,0),8&a&&fp(r>-1?s.slice(r+1):"",t)}else{for(g="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),i=0;i<g.length;++i)t.write_shift(1,parseInt(g[i],16));for(var V=0;"../"==s.slice(3*V,3*V+3)||"..\\"==s.slice(3*V,3*V+3);)++V;for(t.write_shift(2,V),t.write_shift(4,s.length-3*V+1),i=0;i<s.length-3*V;++i)t.write_shift(1,255&s.charCodeAt(i+3*V));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),i=0;i<6;++i)t.write_shift(4,0)}return t.slice(0,t.l)}function zo(e,t,i,s){return s||(s=ft(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,i||0),s}function i1(e,t,i){var s=i.biff>8?4:2;return[e.read_shift(s),e.read_shift(s,"i"),e.read_shift(s,"i")]}function tl(e){var t=e.read_shift(2),i=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:i}}}function Cp(e,t){return t||(t=ft(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Ih(e,t,i){var s=1536,r=16;switch(i.bookType){case"biff8":case"xla":break;case"biff5":s=1280,r=8;break;case"biff4":s=4,r=6;break;case"biff3":s=3,r=6;break;case"biff2":s=2,r=4;break;default:throw new Error("unsupported BIFF version")}var a=ft(r);return a.write_shift(2,s),a.write_shift(2,t),r>4&&a.write_shift(2,29282),r>6&&a.write_shift(2,1997),r>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function g1(e,t){var i=!t||t.biff>=8?2:1,s=ft(8+i*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(i*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var r=s.slice(0,s.l);return r.l=s.l,r}function L1(e,t,i,s){var r=i&&5==i.biff;s||(s=ft(r?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(r?1:2,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le");var a=s.length>s.l?s.slice(0,s.l):s;return null==a.l&&(a.l=a.length),a}function kp(e,t,i,s){var r=i&&5==i.biff;s||(s=ft(r?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&r&&(a|=1024),s.write_shift(4,a),s.write_shift(4,0),r||s.write_shift(4,0),s.write_shift(2,0),s}function aC(e){var t=ft(24),i=Ui(e[0]);t.write_shift(2,i.r),t.write_shift(2,i.r),t.write_shift(2,i.c),t.write_shift(2,i.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)t.write_shift(1,parseInt(s[r],16));return re([t,Jx(e[1])])}function hC(e){var t=e[1].Tooltip,i=ft(10+2*(t.length+1));i.write_shift(2,2048);var s=Ui(e[0]);i.write_shift(2,s.r),i.write_shift(2,s.r),i.write_shift(2,s.c),i.write_shift(2,s.c);for(var r=0;r<t.length;++r)i.write_shift(2,t.charCodeAt(r));return i.write_shift(2,0),i}var Bh=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Ha({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(k,V){var se=V||{};se.dateNF||(se.dateNF="yyyymmdd");var ne=pn(function i(k,V){var se=[],ne=oe(1);switch(V.type){case"base64":ne=ue(_(k));break;case"binary":ne=ue(k);break;case"buffer":case"array":ne=k}gs(ne,0);var fe=ne.read_shift(1),Ce=!!(136&fe),ke=!1,Ae=!1;switch(fe){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:ke=!0,Ce=!0;break;case 140:Ae=!0;break;default:throw new Error("DBF Unsupported Version: "+fe.toString(16))}var Ee=0,Te=521;2==fe&&(Ee=ne.read_shift(2)),ne.l+=3,2!=fe&&(Ee=ne.read_shift(4)),Ee>1048576&&(Ee=1e6),2!=fe&&(Te=ne.read_shift(2));var Ie=ne.read_shift(2),Be=V.codepage||1252;2!=fe&&(ne.l+=16,ne.read_shift(1),0!==ne[ne.l]&&(Be=e[ne[ne.l]]),ne.l+=1,ne.l+=2),Ae&&(ne.l+=36);for(var Le=[],Ye={},Ze=Math.min(ne.length,2==fe?521:Te-10-(ke?264:0)),tt=Ae?32:11;ne.l<Ze&&13!=ne[ne.l];)switch(Ye={},Ye.name=w.utils.decode(Be,ne.slice(ne.l,ne.l+tt)).replace(/[\u0000\r\n].*$/g,""),ne.l+=tt,Ye.type=String.fromCharCode(ne.read_shift(1)),2!=fe&&!Ae&&(Ye.offset=ne.read_shift(4)),Ye.len=ne.read_shift(1),2==fe&&(Ye.offset=ne.read_shift(2)),Ye.dec=ne.read_shift(1),Ye.name.length&&Le.push(Ye),2!=fe&&(ne.l+=Ae?13:14),Ye.type){case"B":(!ke||8!=Ye.len)&&V.WTF&&console.log("Skipping "+Ye.name+":"+Ye.type);break;case"G":case"P":V.WTF&&console.log("Skipping "+Ye.name+":"+Ye.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Ye.type)}if(13!==ne[ne.l]&&(ne.l=Te-1),13!==ne.read_shift(1))throw new Error("DBF Terminator not found "+ne.l+" "+ne[ne.l]);ne.l=Te;var We=0,Je=0;for(se[0]=[],Je=0;Je!=Le.length;++Je)se[0][Je]=Le[Je].name;for(;Ee-- >0;)if(42!==ne[ne.l])for(++ne.l,se[++We]=[],Je=0,Je=0;Je!=Le.length;++Je){var et=ne.slice(ne.l,ne.l+Le[Je].len);ne.l+=Le[Je].len,gs(et,0);var pt=w.utils.decode(Be,et);switch(Le[Je].type){case"C":pt.trim().length&&(se[We][Je]=pt.replace(/\s+$/,""));break;case"D":se[We][Je]=8===pt.length?new Date(+pt.slice(0,4),+pt.slice(4,6)-1,+pt.slice(6,8)):pt;break;case"F":se[We][Je]=parseFloat(pt.trim());break;case"+":case"I":se[We][Je]=Ae?2147483648^et.read_shift(-4,"i"):et.read_shift(4,"i");break;case"L":switch(pt.trim().toUpperCase()){case"Y":case"T":se[We][Je]=!0;break;case"N":case"F":se[We][Je]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+pt+"|")}break;case"M":if(!Ce)throw new Error("DBF Unexpected MEMO for type "+fe.toString(16));se[We][Je]="##MEMO##"+(Ae?parseInt(pt.trim(),10):et.read_shift(4));break;case"N":(pt=pt.replace(/\u0000/g,"").trim())&&"."!=pt&&(se[We][Je]=+pt||0);break;case"@":se[We][Je]=new Date(et.read_shift(-8,"f")-621356832e5);break;case"T":se[We][Je]=new Date(864e5*(et.read_shift(4)-2440588)+et.read_shift(4));break;case"Y":se[We][Je]=et.read_shift(4,"i")/1e4+et.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":se[We][Je]=-et.read_shift(-8,"f");break;case"B":if(ke&&8==Le[Je].len){se[We][Je]=et.read_shift(8,"f");break}case"G":case"P":et.l+=Le[Je].len;break;case"0":if("_NullFlags"===Le[Je].name)break;default:throw new Error("DBF Unsupported data type "+Le[Je].type)}}else ne.l+=Ie;if(2!=fe&&ne.l<ne.length&&26!=ne[ne.l++])throw new Error("DBF EOF Marker missing "+(ne.l-1)+" of "+ne.length+" "+ne[ne.l-1].toString(16));return V&&V.sheetRows&&(se=se.slice(0,V.sheetRows)),V.DBF=Le,se}(k,se),se);return ne["!cols"]=se.DBF.map(function(fe){return{wch:fe.len,DBF:fe}}),delete se.DBF,ne}var a={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function r(k,V){try{return ho(s(k,V),V)}catch(se){if(V&&V.WTF)throw se}return{SheetNames:[],Sheets:{}}},to_sheet:s,from_sheet:function g(k,V){var se=V||{};if(+se.codepage>=0&&M(+se.codepage),"string"==se.type)throw new Error("Cannot write DBF to JS string");var ne=Ts(),fe=gl(k,{header:1,raw:!0,cellDates:!0}),Ce=fe[0],ke=fe.slice(1),Ae=k["!cols"]||[],Ee=0,Te=0,Ie=0,Be=1;for(Ee=0;Ee<Ce.length;++Ee)if(((Ae[Ee]||{}).DBF||{}).name)Ce[Ee]=Ae[Ee].DBF.name,++Ie;else if(null!=Ce[Ee]){if(++Ie,"number"==typeof Ce[Ee]&&(Ce[Ee]=Ce[Ee].toString(10)),"string"!=typeof Ce[Ee])throw new Error("DBF Invalid column name "+Ce[Ee]+" |"+typeof Ce[Ee]+"|");if(Ce.indexOf(Ce[Ee])!==Ee)for(Te=0;Te<1024;++Te)if(-1==Ce.indexOf(Ce[Ee]+"_"+Te)){Ce[Ee]+="_"+Te;break}}var Le=fi(k["!ref"]),Ye=[],Ze=[],tt=[];for(Ee=0;Ee<=Le.e.c-Le.s.c;++Ee){var We="",Je="",et=0,pt=[];for(Te=0;Te<ke.length;++Te)null!=ke[Te][Ee]&&pt.push(ke[Te][Ee]);if(0!=pt.length&&null!=Ce[Ee]){for(Te=0;Te<pt.length;++Te){switch(typeof pt[Te]){case"number":Je="B";break;case"string":default:Je="C";break;case"boolean":Je="L";break;case"object":Je=pt[Te]instanceof Date?"D":"C"}et=Math.max(et,String(pt[Te]).length),We=We&&We!=Je?"C":Je}et>250&&(et=250),"C"==(Je=((Ae[Ee]||{}).DBF||{}).type)&&Ae[Ee].DBF.len>et&&(et=Ae[Ee].DBF.len),"B"==We&&"N"==Je&&(We="N",tt[Ee]=Ae[Ee].DBF.dec,et=Ae[Ee].DBF.len),Ze[Ee]="C"==We||"N"==Je?et:a[We]||0,Be+=Ze[Ee],Ye[Ee]=We}else Ye[Ee]="?"}var gt=ne.next(32);for(gt.write_shift(4,318902576),gt.write_shift(4,ke.length),gt.write_shift(2,296+32*Ie),gt.write_shift(2,Be),Ee=0;Ee<4;++Ee)gt.write_shift(4,0);for(gt.write_shift(4,0|(+t[h]||3)<<8),Ee=0,Te=0;Ee<Ce.length;++Ee)if(null!=Ce[Ee]){var st=ne.next(32),Rt=(Ce[Ee].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);st.write_shift(1,Rt,"sbcs"),st.write_shift(1,"?"==Ye[Ee]?"C":Ye[Ee],"sbcs"),st.write_shift(4,Te),st.write_shift(1,Ze[Ee]||a[Ye[Ee]]||0),st.write_shift(1,tt[Ee]||0),st.write_shift(1,2),st.write_shift(4,0),st.write_shift(1,0),st.write_shift(4,0),st.write_shift(4,0),Te+=Ze[Ee]||a[Ye[Ee]]||0}var Wt=ne.next(264);for(Wt.write_shift(4,13),Ee=0;Ee<65;++Ee)Wt.write_shift(4,0);for(Ee=0;Ee<ke.length;++Ee){var Ot=ne.next(Be);for(Ot.write_shift(1,0),Te=0;Te<Ce.length;++Te)if(null!=Ce[Te])switch(Ye[Te]){case"L":Ot.write_shift(1,null==ke[Ee][Te]?63:ke[Ee][Te]?84:70);break;case"B":Ot.write_shift(8,ke[Ee][Te]||0,"f");break;case"N":var $t="0";for("number"==typeof ke[Ee][Te]&&($t=ke[Ee][Te].toFixed(tt[Te]||0)),Ie=0;Ie<Ze[Te]-$t.length;++Ie)Ot.write_shift(1,32);Ot.write_shift(1,$t,"sbcs");break;case"D":ke[Ee][Te]?(Ot.write_shift(4,("0000"+ke[Ee][Te].getFullYear()).slice(-4),"sbcs"),Ot.write_shift(2,("00"+(ke[Ee][Te].getMonth()+1)).slice(-2),"sbcs"),Ot.write_shift(2,("00"+ke[Ee][Te].getDate()).slice(-2),"sbcs")):Ot.write_shift(8,"00000000","sbcs");break;case"C":var Vt=String(null!=ke[Ee][Te]?ke[Ee][Te]:"").slice(0,Ze[Te]);for(Ot.write_shift(1,Vt,"sbcs"),Ie=0;Ie<Ze[Te]-Vt.length;++Ie)Ot.write_shift(1,32)}}return ne.next(1).write_shift(1,26),ne.end()}}}(),Fp=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Gi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),i=function(Ce,ke){var Ae=e[ke];return"number"==typeof Ae?y(Ae):Ae},s=function(Ce,ke,Ae){var Ee=ke.charCodeAt(0)-32<<4|Ae.charCodeAt(0)-48;return 59==Ee?Ce:y(Ee)};function a(Ce,ke){var gt,Ae=Ce.split(/[\n\r]+/),Ee=-1,Te=-1,Ie=0,Be=0,Le=[],Ye=[],Ze=null,tt={},We=[],Je=[],et=[],pt=0;for(+ke.codepage>=0&&M(+ke.codepage);Ie!==Ae.length;++Ie){pt=0;var Ot,st=Ae[Ie].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,i),Rt=st.replace(/;;/g,"\0").split(";").map(function(qe){return qe.replace(/\u0000/g,";")});if(st.length>0)switch(Rt[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==Rt[1].charAt(0)&&Ye.push(st.slice(3).replace(/;;/g,";"));break;case"C":var $t=!1,Vt=!1,di=!1,Gt=!1,qt=-1,St=-1;for(Be=1;Be<Rt.length;++Be)switch(Rt[Be].charAt(0)){case"A":case"G":break;case"X":Te=parseInt(Rt[Be].slice(1))-1,Vt=!0;break;case"Y":for(Ee=parseInt(Rt[Be].slice(1))-1,Vt||(Te=0),gt=Le.length;gt<=Ee;++gt)Le[gt]=[];break;case"K":'"'===(Ot=Rt[Be].slice(1)).charAt(0)?Ot=Ot.slice(1,Ot.length-1):"TRUE"===Ot?Ot=!0:"FALSE"===Ot?Ot=!1:isNaN(yr(Ot))?isNaN(cn(Ot).getDate())||(Ot=Ii(Ot)):(Ot=yr(Ot),null!==Ze&&ln(Ze)&&(Ot=sh(Ot))),typeof w<"u"&&"string"==typeof Ot&&"string"!=(ke||{}).type&&(ke||{}).codepage&&(Ot=w.utils.decode(ke.codepage,Ot)),$t=!0;break;case"E":Gt=!0;var Ke=xn(Rt[Be].slice(1),{r:Ee,c:Te});Le[Ee][Te]=[Le[Ee][Te],Ke];break;case"S":di=!0,Le[Ee][Te]=[Le[Ee][Te],"S5S"];break;case"R":qt=parseInt(Rt[Be].slice(1))-1;break;case"C":St=parseInt(Rt[Be].slice(1))-1;break;default:if(ke&&ke.WTF)throw new Error("SYLK bad record "+st)}if($t&&(Le[Ee][Te]&&2==Le[Ee][Te].length?Le[Ee][Te][0]=Ot:Le[Ee][Te]=Ot,Ze=null),di){if(Gt)throw new Error("SYLK shared formula cannot have own formula");var ct=qt>-1&&Le[qt][St];if(!ct||!ct[1])throw new Error("SYLK shared formula cannot find base");Le[Ee][Te][1]=Jp(ct[1],{r:Ee-qt,c:Te-St})}break;case"F":var Qe=0;for(Be=1;Be<Rt.length;++Be)switch(Rt[Be].charAt(0)){case"X":Te=parseInt(Rt[Be].slice(1))-1,++Qe;break;case"Y":for(Ee=parseInt(Rt[Be].slice(1))-1,gt=Le.length;gt<=Ee;++gt)Le[gt]=[];break;case"M":pt=parseInt(Rt[Be].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":Ze=Ye[parseInt(Rt[Be].slice(1))];break;case"W":for(et=Rt[Be].slice(1).split(" "),gt=parseInt(et[0],10);gt<=parseInt(et[1],10);++gt)pt=parseInt(et[2],10),Je[gt-1]=0===pt?{hidden:!0}:{wch:pt},uo(Je[gt-1]);break;case"C":Je[Te=parseInt(Rt[Be].slice(1))-1]||(Je[Te]={});break;case"R":We[Ee=parseInt(Rt[Be].slice(1))-1]||(We[Ee]={}),pt>0?(We[Ee].hpt=pt,We[Ee].hpx=ol(pt)):0===pt&&(We[Ee].hidden=!0);break;default:if(ke&&ke.WTF)throw new Error("SYLK bad record "+st)}Qe<1&&(Ze=null);break;default:if(ke&&ke.WTF)throw new Error("SYLK bad record "+st)}}return We.length>0&&(tt["!rows"]=We),Je.length>0&&(tt["!cols"]=Je),ke&&ke.sheetRows&&(Le=Le.slice(0,ke.sheetRows)),[Le,tt]}function g(Ce,ke){var Ae=function r(Ce,ke){switch(ke.type){case"base64":return a(_(Ce),ke);case"binary":return a(Ce,ke);case"buffer":return a(G&&Buffer.isBuffer(Ce)?Ce.toString("binary"):Se(Ce),ke);case"array":return a(To(Ce),ke)}throw new Error("Unrecognized type "+ke.type)}(Ce,ke),Te=Ae[1],Ie=pn(Ae[0],ke);return Gi(Te).forEach(function(Be){Ie[Be]=Te[Be]}),Ie}function V(Ce,ke,Ae,Ee){var Te="C;Y"+(Ae+1)+";X"+(Ee+1)+";K";switch(Ce.t){case"n":Te+=Ce.v||0,Ce.f&&!Ce.F&&(Te+=";E"+jh(Ce.f,{r:Ae,c:Ee}));break;case"b":Te+=Ce.v?"TRUE":"FALSE";break;case"e":Te+=Ce.w||Ce.v;break;case"d":Te+='"'+(Ce.w||Ce.v)+'"';break;case"s":Te+='"'+Ce.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return Te}return e["|"]=254,{to_workbook:function k(Ce,ke){return ho(g(Ce,ke),ke)},to_sheet:g,from_sheet:function fe(Ce,ke){var Ie,Ae=["ID;PWXL;N;E"],Ee=[],Te=fi(Ce["!ref"]),Be=Array.isArray(Ce),Le="\r\n";Ae.push("P;PGeneral"),Ae.push("F;P0;DG0G8;M255"),Ce["!cols"]&&function se(Ce,ke){ke.forEach(function(Ae,Ee){var Te="F;W"+(Ee+1)+" "+(Ee+1)+" ";Ae.hidden?Te+="0":("number"==typeof Ae.width&&!Ae.wpx&&(Ae.wpx=Jn(Ae.width)),"number"==typeof Ae.wpx&&!Ae.wch&&(Ae.wch=ea(Ae.wpx)),"number"==typeof Ae.wch&&(Te+=Math.round(Ae.wch)))," "!=Te.charAt(Te.length-1)&&Ce.push(Te)})}(Ae,Ce["!cols"]),Ce["!rows"]&&function ne(Ce,ke){ke.forEach(function(Ae,Ee){var Te="F;";Ae.hidden?Te+="M0;":Ae.hpt?Te+="M"+20*Ae.hpt+";":Ae.hpx&&(Te+="M"+20*ta(Ae.hpx)+";"),Te.length>2&&Ce.push(Te+"R"+(Ee+1))})}(Ae,Ce["!rows"]),Ae.push("B;Y"+(Te.e.r-Te.s.r+1)+";X"+(Te.e.c-Te.s.c+1)+";D"+[Te.s.c,Te.s.r,Te.e.c,Te.e.r].join(" "));for(var Ye=Te.s.r;Ye<=Te.e.r;++Ye)for(var Ze=Te.s.c;Ze<=Te.e.c;++Ze){var tt=Kt({r:Ye,c:Ze});(Ie=Be?(Ce[Ye]||[])[Ze]:Ce[tt])&&(null!=Ie.v||Ie.f&&!Ie.F)&&Ee.push(V(Ie,0,Ye,Ze))}return Ae.join(Le)+Le+Ee.join(Le)+Le+"E"+Le}}}(),Lp=function(){function t(a,g){for(var k=a.split("\n"),V=-1,se=-1,ne=0,fe=[];ne!==k.length;++ne)if("BOT"!==k[ne].trim()){if(!(V<0)){for(var Ce=k[ne].trim().split(","),ke=Ce[0],Ae=Ce[1],Ee=k[++ne]||"";1&(Ee.match(/["]/g)||[]).length&&ne<k.length-1;)Ee+="\n"+k[++ne];switch(Ee=Ee.trim(),+ke){case-1:if("BOT"===Ee){fe[++V]=[],se=0;continue}if("EOD"!==Ee)throw new Error("Unrecognized DIF special command "+Ee);break;case 0:fe[V][se]="TRUE"===Ee||"FALSE"!==Ee&&(isNaN(yr(Ae))?isNaN(cn(Ae).getDate())?Ae:Ii(Ae):yr(Ae)),++se;break;case 1:(Ee=(Ee=Ee.slice(1,Ee.length-1)).replace(/""/g,'"'))&&Ee.match(/^=".*"$/)&&(Ee=Ee.slice(2,-1)),fe[V][se++]=""!==Ee?Ee:null}if("EOD"===Ee)break}}else fe[++V]=[],se=0;return g&&g.sheetRows&&(fe=fe.slice(0,g.sheetRows)),fe}function i(a,g){return pn(function e(a,g){switch(g.type){case"base64":return t(_(a),g);case"binary":return t(a,g);case"buffer":return t(G&&Buffer.isBuffer(a)?a.toString("binary"):Se(a),g);case"array":return t(To(a),g)}throw new Error("Unrecognized type "+g.type)}(a,g),g)}return{to_workbook:function s(a,g){return ho(i(a,g),g)},to_sheet:i,from_sheet:function(){var a=function(V,se,ne,fe,Ce){V.push(se),V.push(ne+","+fe),V.push('"'+Ce.replace(/"/g,'""')+'"')},g=function(V,se,ne,fe){V.push(se+","+ne),V.push(1==se?'"'+fe.replace(/"/g,'""')+'"':fe)};return function(V){var fe,se=[],ne=fi(V["!ref"]),Ce=Array.isArray(V);a(se,"TABLE",0,1,"sheetjs"),a(se,"VECTORS",0,ne.e.r-ne.s.r+1,""),a(se,"TUPLES",0,ne.e.c-ne.s.c+1,""),a(se,"DATA",0,0,"");for(var ke=ne.s.r;ke<=ne.e.r;++ke){g(se,-1,0,"BOT");for(var Ae=ne.s.c;Ae<=ne.e.c;++Ae){var Ee=Kt({r:ke,c:Ae});if(fe=Ce?(V[ke]||[])[Ae]:V[Ee])switch(fe.t){case"n":var Te=fe.w;!Te&&null!=fe.v&&(Te=fe.v),null==Te?g(se,1,0,fe.f&&!fe.F?"="+fe.f:""):g(se,0,Te,"V");break;case"b":g(se,0,fe.v?1:0,fe.v?"TRUE":"FALSE");break;case"s":g(se,1,0,isNaN(fe.v)?fe.v:'="'+fe.v+'"');break;case"d":fe.w||(fe.w=qs(fe.z||rt[14],os(Ii(fe.v)))),g(se,0,fe.w,"V");break;default:g(se,1,0,"")}else g(se,1,0,"")}}return g(se,-1,0,"EOD"),se.join("\r\n")}}()}}(),Op=function(){function e(fe){return fe.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(fe){return fe.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(fe,Ce){return pn(function i(fe,Ce){for(var ke=fe.split("\n"),Ae=-1,Ee=-1,Te=0,Ie=[];Te!==ke.length;++Te){var Be=ke[Te].trim().split(":");if("cell"===Be[0]){var Le=Ui(Be[1]);if(Ie.length<=Le.r)for(Ae=Ie.length;Ae<=Le.r;++Ae)Ie[Ae]||(Ie[Ae]=[]);switch(Ae=Le.r,Ee=Le.c,Be[2]){case"t":Ie[Ae][Ee]=e(Be[3]);break;case"v":Ie[Ae][Ee]=+Be[3];break;case"vtf":var Ye=Be[Be.length-1];case"vtc":Ie[Ae][Ee]="nl"===Be[3]?!!+Be[4]:+Be[4],"vtf"==Be[2]&&(Ie[Ae][Ee]=[Ie[Ae][Ee],Ye])}}}return Ce&&Ce.sheetRows&&(Ie=Ie.slice(0,Ce.sheetRows)),Ie}(fe,Ce),Ce)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),g=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",k=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),V="--SocialCalcSpreadsheetControlSave--";function se(fe){if(!fe||!fe["!ref"])return"";for(var Ae,Ce=[],ke=[],Ee="",Te=Ps(fe["!ref"]),Ie=Array.isArray(fe),Be=Te.s.r;Be<=Te.e.r;++Be)for(var Le=Te.s.c;Le<=Te.e.c;++Le)if(Ee=Kt({r:Be,c:Le}),(Ae=Ie?(fe[Be]||[])[Le]:fe[Ee])&&null!=Ae.v&&"z"!==Ae.t){switch(ke=["cell",Ee,"t"],Ae.t){case"s":case"str":ke.push(t(Ae.v));break;case"n":Ae.f?(ke[2]="vtf",ke[3]="n",ke[4]=Ae.v,ke[5]=t(Ae.f)):(ke[2]="v",ke[3]=Ae.v);break;case"b":ke[2]="vt"+(Ae.f?"f":"c"),ke[3]="nl",ke[4]=Ae.v?"1":"0",ke[5]=t(Ae.f||(Ae.v?"TRUE":"FALSE"));break;case"d":var Ye=os(Ii(Ae.v));ke[2]="vtc",ke[3]="nd",ke[4]=""+Ye,ke[5]=Ae.w||qs(Ae.z||rt[14],Ye);break;case"e":continue}Ce.push(ke.join(":"))}return Ce.push("sheet:c:"+(Te.e.c-Te.s.c+1)+":r:"+(Te.e.r-Te.s.r+1)+":tvf:1"),Ce.push("valueformat:1:text-wiki"),Ce.join("\n")}return{to_workbook:function r(fe,Ce){return ho(s(fe,Ce),Ce)},to_sheet:s,from_sheet:function ne(fe){return[a,g,k,g,se(fe),V].join("\n")}}}(),mn=function(){function e(ne,fe,Ce,ke,Ae){Ae.raw?fe[Ce][ke]=ne:""===ne||(fe[Ce][ke]="TRUE"===ne||"FALSE"!==ne&&(isNaN(yr(ne))?isNaN(cn(ne).getDate())?ne:Ii(ne):yr(ne)))}var i={44:",",9:"\t",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function r(ne){for(var fe={},Ce=!1,ke=0,Ae=0;ke<ne.length;++ke)34==(Ae=ne.charCodeAt(ke))?Ce=!Ce:!Ce&&Ae in i&&(fe[Ae]=(fe[Ae]||0)+1);for(ke in Ae=[],fe)Object.prototype.hasOwnProperty.call(fe,ke)&&Ae.push([fe[ke],ke]);if(!Ae.length)for(ke in fe=s)Object.prototype.hasOwnProperty.call(fe,ke)&&Ae.push([fe[ke],ke]);return Ae.sort(function(Ee,Te){return Ee[0]-Te[0]||s[Ee[1]]-s[Te[1]]}),i[Ae.pop()[1]]||44}function g(ne,fe){return!fe||!fe.PRN||fe.FS||"sep="==ne.slice(0,4)||ne.indexOf("\t")>=0||ne.indexOf(",")>=0||ne.indexOf(";")>=0?function a(ne,fe){var Ce=fe||{},ke="";null!=X&&null==Ce.dense&&(Ce.dense=X);var Ae=Ce.dense?[]:{},Ee={s:{c:0,r:0},e:{c:0,r:0}};"sep="==ne.slice(0,4)?13==ne.charCodeAt(5)&&10==ne.charCodeAt(6)?(ke=ne.charAt(4),ne=ne.slice(7)):13==ne.charCodeAt(5)||10==ne.charCodeAt(5)?(ke=ne.charAt(4),ne=ne.slice(6)):ke=r(ne.slice(0,1024)):ke=Ce&&Ce.FS?Ce.FS:r(ne.slice(0,1024));var Te=0,Ie=0,Be=0,Le=0,Ye=0,Ze=ke.charCodeAt(0),tt=!1,We=0,Je=ne.charCodeAt(0);ne=ne.replace(/\r\n/gm,"\n");var et=null!=Ce.dateNF?function fv(e){var t="number"==typeof e?rt[e]:e;return t=t.replace(tu,"(\\d+)"),new RegExp("^"+t+"$")}(Ce.dateNF):null;function pt(){var gt=ne.slice(Le,Ye),st={};if('"'==gt.charAt(0)&&'"'==gt.charAt(gt.length-1)&&(gt=gt.slice(1,-1).replace(/""/g,'"')),0===gt.length)st.t="z";else if(Ce.raw)st.t="s",st.v=gt;else if(0===gt.trim().length)st.t="s",st.v=gt;else if(61==gt.charCodeAt(0))34==gt.charCodeAt(1)&&34==gt.charCodeAt(gt.length-1)?(st.t="s",st.v=gt.slice(2,-1).replace(/""/g,'"')):function zw(e){return 1!=e.length}(gt)?(st.t="n",st.f=gt.slice(1)):(st.t="s",st.v=gt);else if("TRUE"==gt)st.t="b",st.v=!0;else if("FALSE"==gt)st.t="b",st.v=!1;else if(isNaN(Be=yr(gt)))if(!isNaN(cn(gt).getDate())||et&&gt.match(et)){st.z=Ce.dateNF||rt[14];var Rt=0;et&&gt.match(et)&&(gt=function mv(e,t,i){var s=-1,r=-1,a=-1,g=-1,k=-1,V=-1;(t.match(tu)||[]).forEach(function(fe,Ce){var ke=parseInt(i[Ce+1],10);switch(fe.toLowerCase().charAt(0)){case"y":s=ke;break;case"d":a=ke;break;case"h":g=ke;break;case"s":V=ke;break;case"m":g>=0?k=ke:r=ke}}),V>=0&&-1==k&&r>=0&&(k=r,r=-1);var se=(""+(s>=0?s:(new Date).getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);7==se.length&&(se="0"+se),8==se.length&&(se="20"+se);var ne=("00"+(g>=0?g:0)).slice(-2)+":"+("00"+(k>=0?k:0)).slice(-2)+":"+("00"+(V>=0?V:0)).slice(-2);return-1==g&&-1==k&&-1==V?se:-1==s&&-1==r&&-1==a?ne:se+"T"+ne}(0,Ce.dateNF,gt.match(et)||[]),Rt=1),Ce.cellDates?(st.t="d",st.v=Ii(gt,Rt)):(st.t="n",st.v=os(Ii(gt,Rt))),!1!==Ce.cellText&&(st.w=qs(st.z,st.v instanceof Date?os(st.v):st.v)),Ce.cellNF||delete st.z}else st.t="s",st.v=gt;else st.t="n",!1!==Ce.cellText&&(st.w=gt),st.v=Be;if("z"==st.t||(Ce.dense?(Ae[Te]||(Ae[Te]=[]),Ae[Te][Ie]=st):Ae[Kt({c:Ie,r:Te})]=st),Je=ne.charCodeAt(Le=Ye+1),Ee.e.c<Ie&&(Ee.e.c=Ie),Ee.e.r<Te&&(Ee.e.r=Te),We==Ze)++Ie;else if(Ie=0,++Te,Ce.sheetRows&&Ce.sheetRows<=Te)return!0}e:for(;Ye<ne.length;++Ye)switch(We=ne.charCodeAt(Ye)){case 34:34===Je&&(tt=!tt);break;case Ze:case 10:case 13:if(!tt&&pt())break e}return Ye-Le>0&&pt(),Ae["!ref"]=ti(Ee),Ae}(ne,fe):pn(function t(ne,fe){var Ce=fe||{},ke=[];if(!ne||0===ne.length)return ke;for(var Ae=ne.split(/[\r\n]/),Ee=Ae.length-1;Ee>=0&&0===Ae[Ee].length;)--Ee;for(var Te=10,Ie=0,Be=0;Be<=Ee;++Be)-1==(Ie=Ae[Be].indexOf(" "))?Ie=Ae[Be].length:Ie++,Te=Math.max(Te,Ie);for(Be=0;Be<=Ee;++Be){ke[Be]=[];var Le=0;for(e(Ae[Be].slice(0,Te).trim(),ke,Be,Le,Ce),Le=1;Le<=(Ae[Be].length-Te)/10+1;++Le)e(Ae[Be].slice(Te+10*(Le-1),Te+10*Le).trim(),ke,Be,Le,Ce)}return Ce.sheetRows&&(ke=ke.slice(0,Ce.sheetRows)),ke}(ne,fe),fe)}function k(ne,fe){var Ce="",ke="string"==fe.type?[0,0,0,0]:function nc(e,t){var i="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":i=_(e.slice(0,12));break;case"binary":i=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3),i.charCodeAt(4),i.charCodeAt(5),i.charCodeAt(6),i.charCodeAt(7)]}(ne,fe);switch(fe.type){case"base64":Ce=_(ne);break;case"binary":case"string":Ce=ne;break;case"buffer":Ce=65001==fe.codepage?ne.toString("utf8"):fe.codepage&&typeof w<"u"?w.utils.decode(fe.codepage,ne):G&&Buffer.isBuffer(ne)?ne.toString("binary"):Se(ne);break;case"array":Ce=To(ne);break;default:throw new Error("Unrecognized type "+fe.type)}return 239==ke[0]&&187==ke[1]&&191==ke[2]?Ce=Ai(Ce.slice(3)):"string"!=fe.type&&"buffer"!=fe.type&&65001==fe.codepage?Ce=Ai(Ce):"binary"==fe.type&&typeof w<"u"&&fe.codepage&&(Ce=w.utils.decode(fe.codepage,w.utils.encode(28591,Ce))),"socialcalc:version:"==Ce.slice(0,19)?Op.to_sheet("string"==fe.type?Ce:Ai(Ce),fe):g(Ce,fe)}return{to_workbook:function V(ne,fe){return ho(k(ne,fe),fe)},to_sheet:k,from_sheet:function se(ne){for(var ke,fe=[],Ce=fi(ne["!ref"]),Ae=Array.isArray(ne),Ee=Ce.s.r;Ee<=Ce.e.r;++Ee){for(var Te=[],Ie=Ce.s.c;Ie<=Ce.e.c;++Ie){var Be=Kt({r:Ee,c:Ie});if((ke=Ae?(ne[Ee]||[])[Ie]:ne[Be])&&null!=ke.v){for(var Le=(ke.w||(Dr(ke),ke.w)||"").slice(0,10);Le.length<10;)Le+=" ";Te.push(Le+(0===Ie?" ":""))}else Te.push("          ")}fe.push(Te.join(""))}return fe.join("\n")}}}(),_o=function(){function e(Ke,ct,Qe){if(Ke){gs(Ke,Ke.l||0);for(var qe=Qe.Enum||qt;Ke.l<Ke.length;){var xt=Ke.read_shift(2),Bt=qe[xt]||qe[65535],At=Ke.read_shift(2),Tt=Ke.l+At,wt=Bt.f&&Bt.f(Ke,At,Qe);if(Ke.l=Tt,ct(wt,Bt,xt))return}}}function i(Ke,ct){if(!Ke)return Ke;var Qe=ct||{};null!=X&&null==Qe.dense&&(Qe.dense=X);var qe=Qe.dense?[]:{},xt="Sheet1",Bt="",At=0,Tt={},wt=[],oi=[],$e={s:{r:0,c:0},e:{r:0,c:0}},Si=Qe.sheetRows||0;if(0==Ke[2]&&(8==Ke[3]||9==Ke[3])&&Ke.length>=16&&5==Ke[14]&&108===Ke[15])throw new Error("Unsupported Works 3 for Mac file");if(2==Ke[2])Qe.Enum=qt,e(Ke,function(Nt,Ki,vr){switch(vr){case 0:Qe.vers=Nt,Nt>=4096&&(Qe.qpro=!0);break;case 6:$e=Nt;break;case 204:Nt&&(Bt=Nt);break;case 222:Bt=Nt;break;case 15:case 51:Qe.qpro||(Nt[1].v=Nt[1].v.slice(1));case 13:case 14:case 16:14==vr&&112==(112&Nt[2])&&(15&Nt[2])>1&&(15&Nt[2])<15&&(Nt[1].z=Qe.dateNF||rt[14],Qe.cellDates&&(Nt[1].t="d",Nt[1].v=sh(Nt[1].v))),Qe.qpro&&Nt[3]>At&&(qe["!ref"]=ti($e),Tt[xt]=qe,wt.push(xt),qe=Qe.dense?[]:{},$e={s:{r:0,c:0},e:{r:0,c:0}},At=Nt[3],xt=Bt||"Sheet"+(At+1),Bt="");var _r=Qe.dense?(qe[Nt[0].r]||[])[Nt[0].c]:qe[Kt(Nt[0])];if(_r){_r.t=Nt[1].t,_r.v=Nt[1].v,null!=Nt[1].z&&(_r.z=Nt[1].z),null!=Nt[1].f&&(_r.f=Nt[1].f);break}Qe.dense?(qe[Nt[0].r]||(qe[Nt[0].r]=[]),qe[Nt[0].r][Nt[0].c]=Nt[1]):qe[Kt(Nt[0])]=Nt[1]}},Qe);else{if(26!=Ke[2]&&14!=Ke[2])throw new Error("Unrecognized LOTUS BOF "+Ke[2]);Qe.Enum=St,14==Ke[2]&&(Qe.qpro=!0,Ke.l=0),e(Ke,function(Nt,Ki,vr){switch(vr){case 204:xt=Nt;break;case 22:Nt[1].v=Nt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Nt[3]>At&&(qe["!ref"]=ti($e),Tt[xt]=qe,wt.push(xt),qe=Qe.dense?[]:{},$e={s:{r:0,c:0},e:{r:0,c:0}},xt="Sheet"+((At=Nt[3])+1)),Si>0&&Nt[0].r>=Si)break;Qe.dense?(qe[Nt[0].r]||(qe[Nt[0].r]=[]),qe[Nt[0].r][Nt[0].c]=Nt[1]):qe[Kt(Nt[0])]=Nt[1],$e.e.c<Nt[0].c&&($e.e.c=Nt[0].c),$e.e.r<Nt[0].r&&($e.e.r=Nt[0].r);break;case 27:Nt[14e3]&&(oi[Nt[14e3][0]]=Nt[14e3][1]);break;case 1537:oi[Nt[0]]=Nt[1],Nt[0]==At&&(xt=Nt[1])}},Qe)}if(qe["!ref"]=ti($e),Tt[Bt||xt]=qe,wt.push(Bt||xt),!oi.length)return{SheetNames:wt,Sheets:Tt};for(var ui={},ki=[],pi=0;pi<oi.length;++pi)Tt[wt[pi]]?(ki.push(oi[pi]||wt[pi]),ui[oi[pi]]=Tt[oi[pi]]||Tt[wt[pi]]):(ki.push(oi[pi]),ui[oi[pi]]={"!ref":"A1"});return{SheetNames:ki,Sheets:ui}}function se(Ke,ct,Qe){var qe=[{c:0,r:0},{t:"n",v:0},0,0];return Qe.qpro&&20768!=Qe.vers?(qe[0].c=Ke.read_shift(1),qe[3]=Ke.read_shift(1),qe[0].r=Ke.read_shift(2),Ke.l+=2):(qe[2]=Ke.read_shift(1),qe[0].c=Ke.read_shift(2),qe[0].r=Ke.read_shift(2)),qe}function ne(Ke,ct,Qe){var qe=Ke.l+ct,xt=se(Ke,0,Qe);if(xt[1].t="s",20768==Qe.vers){Ke.l++;var Bt=Ke.read_shift(1);return xt[1].v=Ke.read_shift(Bt,"utf8"),xt}return Qe.qpro&&Ke.l++,xt[1].v=Ke.read_shift(qe-Ke.l,"cstr"),xt}function fe(Ke,ct,Qe){var qe=ft(7+Qe.length);qe.write_shift(1,255),qe.write_shift(2,ct),qe.write_shift(2,Ke),qe.write_shift(1,39);for(var xt=0;xt<qe.length;++xt){var Bt=Qe.charCodeAt(xt);qe.write_shift(1,Bt>=128?95:Bt)}return qe.write_shift(1,0),qe}function ke(Ke,ct,Qe){var qe=ft(7);return qe.write_shift(1,255),qe.write_shift(2,ct),qe.write_shift(2,Ke),qe.write_shift(2,Qe,"i"),qe}function Ee(Ke,ct,Qe){var qe=ft(13);return qe.write_shift(1,255),qe.write_shift(2,ct),qe.write_shift(2,Ke),qe.write_shift(8,Qe,"f"),qe}function Ie(Ke,ct,Qe){var qe=32768&ct;return ct=(qe?Ke:0)+((ct&=-32769)>=8192?ct-16384:ct),(qe?"":"$")+(Qe?Ti(ct):Hi(ct))}var Be={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Le=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Ze(Ke){var ct=[{c:0,r:0},{t:"n",v:0},0];return ct[0].r=Ke.read_shift(2),ct[3]=Ke[Ke.l++],ct[0].c=Ke[Ke.l++],ct}function We(Ke,ct,Qe,qe){var xt=ft(6+qe.length);xt.write_shift(2,Ke),xt.write_shift(1,Qe),xt.write_shift(1,ct),xt.write_shift(1,39);for(var Bt=0;Bt<qe.length;++Bt){var At=qe.charCodeAt(Bt);xt.write_shift(1,At>=128?95:At)}return xt.write_shift(1,0),xt}function et(Ke,ct){var Qe=Ze(Ke),qe=Ke.read_shift(4),xt=Ke.read_shift(4),Bt=Ke.read_shift(2);if(65535==Bt)return 0===qe&&3221225472===xt?(Qe[1].t="e",Qe[1].v=15):0===qe&&3489660928===xt?(Qe[1].t="e",Qe[1].v=42):Qe[1].v=0,Qe;var At=32768&Bt;return Bt=(32767&Bt)-16446,Qe[1].v=(1-2*At)*(xt*Math.pow(2,Bt+32)+qe*Math.pow(2,Bt)),Qe}function pt(Ke,ct,Qe,qe){var xt=ft(14);if(xt.write_shift(2,Ke),xt.write_shift(1,Qe),xt.write_shift(1,ct),0==qe)return xt.write_shift(4,0),xt.write_shift(4,0),xt.write_shift(2,65535),xt;var Bt=0,At=0,wt=0;return qe<0&&(Bt=1,qe=-qe),At=0|Math.log2(qe),2147483648&(wt=(qe/=Math.pow(2,At-31))>>>0)||(++At,wt=(qe/=2)>>>0),qe-=wt,wt|=2147483648,wt>>>=0,qe*=Math.pow(2,32),xt.write_shift(4,qe>>>0),xt.write_shift(4,wt),xt.write_shift(2,At+=16383+(Bt?32768:0)),xt}function Rt(Ke,ct){var Qe=Ze(Ke),qe=Ke.read_shift(8,"f");return Qe[1].v=qe,Qe}function Ot(Ke,ct){return 0==Ke[Ke.l+ct-1]?Ke.read_shift(ct,"cstr"):""}function Gt(Ke,ct){var Qe=ft(5+Ke.length);Qe.write_shift(2,14e3),Qe.write_shift(2,ct);for(var qe=0;qe<Ke.length;++qe){var xt=Ke.charCodeAt(qe);Qe[Qe.l++]=xt>127?95:xt}return Qe[Qe.l++]=0,Qe}var qt={0:{n:"BOF",f:es},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function k(Ke,ct,Qe){var qe={s:{c:0,r:0},e:{c:0,r:0}};return 8==ct&&Qe.qpro?(qe.s.c=Ke.read_shift(1),Ke.l++,qe.s.r=Ke.read_shift(2),qe.e.c=Ke.read_shift(1),Ke.l++,qe.e.r=Ke.read_shift(2),qe):(qe.s.c=Ke.read_shift(2),qe.s.r=Ke.read_shift(2),12==ct&&Qe.qpro&&(Ke.l+=2),qe.e.c=Ke.read_shift(2),qe.e.r=Ke.read_shift(2),12==ct&&Qe.qpro&&(Ke.l+=2),65535==qe.s.c&&(qe.s.c=qe.e.c=qe.s.r=qe.e.r=0),qe)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function Ce(Ke,ct,Qe){var qe=se(Ke,0,Qe);return qe[1].v=Ke.read_shift(2,"i"),qe}},14:{n:"NUMBER",f:function Ae(Ke,ct,Qe){var qe=se(Ke,0,Qe);return qe[1].v=Ke.read_shift(8,"f"),qe}},15:{n:"LABEL",f:ne},16:{n:"FORMULA",f:function Te(Ke,ct,Qe){var qe=Ke.l+ct,xt=se(Ke,0,Qe);if(xt[1].v=Ke.read_shift(8,"f"),Qe.qpro)Ke.l=qe;else{var Bt=Ke.read_shift(2);(function Ye(Ke,ct){gs(Ke,0);for(var Qe=[],qe=0,xt="",Bt="",At="",Tt="";Ke.l<Ke.length;){var wt=Ke[Ke.l++];switch(wt){case 0:Qe.push(Ke.read_shift(8,"f"));break;case 1:Bt=Ie(ct[0].c,Ke.read_shift(2),!0),xt=Ie(ct[0].r,Ke.read_shift(2),!1),Qe.push(Bt+xt);break;case 2:var oi=Ie(ct[0].c,Ke.read_shift(2),!0),$e=Ie(ct[0].r,Ke.read_shift(2),!1);Bt=Ie(ct[0].c,Ke.read_shift(2),!0),xt=Ie(ct[0].r,Ke.read_shift(2),!1),Qe.push(oi+$e+":"+Bt+xt);break;case 3:if(Ke.l<Ke.length)return void console.error("WK1 premature formula end");break;case 4:Qe.push("("+Qe.pop()+")");break;case 5:Qe.push(Ke.read_shift(2));break;case 6:for(var Si="";wt=Ke[Ke.l++];)Si+=String.fromCharCode(wt);Qe.push('"'+Si.replace(/"/g,'""')+'"');break;case 8:Qe.push("-"+Qe.pop());break;case 23:Qe.push("+"+Qe.pop());break;case 22:Qe.push("NOT("+Qe.pop()+")");break;case 20:case 21:Tt=Qe.pop(),At=Qe.pop(),Qe.push(["AND","OR"][wt-20]+"("+At+","+Tt+")");break;default:if(wt<32&&Le[wt])Tt=Qe.pop(),At=Qe.pop(),Qe.push(At+Le[wt]+Tt);else{if(!Be[wt])return wt<=7?console.error("WK1 invalid opcode "+wt.toString(16)):wt<=24?console.error("WK1 unsupported op "+wt.toString(16)):wt<=30?console.error("WK1 invalid opcode "+wt.toString(16)):wt<=115?console.error("WK1 unsupported function opcode "+wt.toString(16)):console.error("WK1 unrecognized opcode "+wt.toString(16));if(69==(qe=Be[wt][1])&&(qe=Ke[Ke.l++]),qe>Qe.length)return void console.error("WK1 bad formula parse 0x"+wt.toString(16)+":|"+Qe.join("|")+"|");var ui=Qe.slice(-qe);Qe.length-=qe,Qe.push(Be[wt][0]+"("+ui.join(",")+")")}}}1==Qe.length?ct[1].f=""+Qe[0]:console.error("WK1 bad formula parse |"+Qe.join("|")+"|")})(Ke.slice(Ke.l,Ke.l+Bt),xt),Ke.l+=Bt}return xt}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:ne},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ot},222:{n:"SHEETNAMELP",f:function $t(Ke,ct){var Qe=Ke[Ke.l++];Qe>ct-1&&(Qe=ct-1);for(var qe="";qe.length<Qe;)qe+=String.fromCharCode(Ke[Ke.l++]);return qe}},65535:{n:""}},St={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function tt(Ke,ct){var Qe=Ze(Ke);return Qe[1].t="s",Qe[1].v=Ke.read_shift(ct-4,"cstr"),Qe}},23:{n:"NUMBER17",f:et},24:{n:"NUMBER18",f:function Je(Ke,ct){var Qe=Ze(Ke);Qe[1].v=Ke.read_shift(2);var qe=Qe[1].v>>1;if(1&Qe[1].v)switch(7&qe){case 0:qe=5e3*(qe>>3);break;case 1:qe=500*(qe>>3);break;case 2:qe=(qe>>3)/20;break;case 3:qe=(qe>>3)/200;break;case 4:qe=(qe>>3)/2e3;break;case 5:qe=(qe>>3)/2e4;break;case 6:qe=(qe>>3)/16;break;case 7:qe=(qe>>3)/64}return Qe[1].v=qe,Qe}},25:{n:"FORMULA19",f:function gt(Ke,ct){var Qe=et(Ke);return Ke.l+=ct-14,Qe}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function di(Ke,ct){for(var Qe={},qe=Ke.l+ct;Ke.l<qe;){var xt=Ke.read_shift(2);if(14e3==xt){for(Qe[xt]=[0,""],Qe[xt][0]=Ke.read_shift(2);Ke[Ke.l];)Qe[xt][1]+=String.fromCharCode(Ke[Ke.l]),Ke.l++;Ke.l++}}return Qe}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function st(Ke,ct){var Qe=Ze(Ke),qe=Ke.read_shift(4);return Qe[1].v=qe>>6,Qe}},38:{n:"??"},39:{n:"NUMBER27",f:Rt},40:{n:"FORMULA28",f:function Wt(Ke,ct){var Qe=Rt(Ke);return Ke.l+=ct-10,Qe}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ot},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function Vt(Ke,ct,Qe){if(Qe.qpro&&!(ct<21)){var qe=Ke.read_shift(1);return Ke.l+=17,Ke.l+=1,Ke.l+=2,[qe,Ke.read_shift(ct-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function s(Ke,ct){var Qe=ct||{};if(+Qe.codepage>=0&&M(+Qe.codepage),"string"==Qe.type)throw new Error("Cannot write WK1 to JS string");var qe=Ts(),xt=fi(Ke["!ref"]),Bt=Array.isArray(Ke),At=[];Pt(qe,0,function a(Ke){var ct=ft(2);return ct.write_shift(2,Ke),ct}(1030)),Pt(qe,6,function V(Ke){var ct=ft(8);return ct.write_shift(2,Ke.s.c),ct.write_shift(2,Ke.s.r),ct.write_shift(2,Ke.e.c),ct.write_shift(2,Ke.e.r),ct}(xt));for(var Tt=Math.min(xt.e.r,8191),wt=xt.s.r;wt<=Tt;++wt)for(var oi=Hi(wt),$e=xt.s.c;$e<=xt.e.c;++$e){wt===xt.s.r&&(At[$e]=Ti($e));var ui=Bt?(Ke[wt]||[])[$e]:Ke[At[$e]+oi];ui&&"z"!=ui.t&&("n"==ui.t?(0|ui.v)==ui.v&&ui.v>=-32768&&ui.v<=32767?Pt(qe,13,ke(wt,$e,ui.v)):Pt(qe,14,Ee(wt,$e,ui.v)):Pt(qe,15,fe(wt,$e,Dr(ui).slice(0,239))))}return Pt(qe,1),qe.end()},book_to_wk3:function r(Ke,ct){var Qe=ct||{};if(+Qe.codepage>=0&&M(+Qe.codepage),"string"==Qe.type)throw new Error("Cannot write WK3 to JS string");var qe=Ts();Pt(qe,0,function g(Ke){var ct=ft(26);ct.write_shift(2,4096),ct.write_shift(2,4),ct.write_shift(4,0);for(var Qe=0,qe=0,xt=0,Bt=0;Bt<Ke.SheetNames.length;++Bt){var Tt=Ke.Sheets[Ke.SheetNames[Bt]];if(Tt&&Tt["!ref"]){++xt;var wt=Ps(Tt["!ref"]);Qe<wt.e.r&&(Qe=wt.e.r),qe<wt.e.c&&(qe=wt.e.c)}}return Qe>8191&&(Qe=8191),ct.write_shift(2,Qe),ct.write_shift(1,xt),ct.write_shift(1,qe),ct.write_shift(2,0),ct.write_shift(2,0),ct.write_shift(1,1),ct.write_shift(1,2),ct.write_shift(4,0),ct.write_shift(4,0),ct}(Ke));for(var xt=0,Bt=0;xt<Ke.SheetNames.length;++xt)(Ke.Sheets[Ke.SheetNames[xt]]||{})["!ref"]&&Pt(qe,27,Gt(Ke.SheetNames[xt],Bt++));var At=0;for(xt=0;xt<Ke.SheetNames.length;++xt){var Tt=Ke.Sheets[Ke.SheetNames[xt]];if(Tt&&Tt["!ref"]){for(var wt=fi(Tt["!ref"]),oi=Array.isArray(Tt),$e=[],Si=Math.min(wt.e.r,8191),ui=wt.s.r;ui<=Si;++ui)for(var ki=Hi(ui),pi=wt.s.c;pi<=wt.e.c;++pi){ui===wt.s.r&&($e[pi]=Ti(pi));var Ki=oi?(Tt[ui]||[])[pi]:Tt[$e[pi]+ki];Ki&&"z"!=Ki.t&&("n"==Ki.t?Pt(qe,23,pt(ui,pi,At,Ki.v)):Pt(qe,22,We(ui,pi,At,Dr(Ki).slice(0,239))))}++At}}return Pt(qe,1),qe.end()},to_workbook:function t(Ke,ct){switch(ct.type){case"base64":return i(ue(_(Ke)),ct);case"binary":return i(ue(Ke),ct);case"buffer":case"array":return i(Ke,ct)}throw"Unsupported type "+ct.type}}}(),WC=/^\s|\s$|[\t\n\r]/;function Bp(e,t){if(!t.bookSST)return"";var i=[_i];i[i.length]=Et("sst",null,{xmlns:lo[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(null!=e[s]){var r=e[s],a="<si>";r.r?a+=r.r:(a+="<t",r.t||(r.t=""),r.t.match(WC)&&(a+=' xml:space="preserve"'),a+=">"+bi(r.t)+"</t>"),i[i.length]=a+="</si>"}return i.length>2&&(i[i.length]="</sst>",i[1]=i[1].replace("/>",">")),i.join("")}var XC=function ix(e,t){var i=!1;return null==t&&(i=!0,t=ft(15+4*e.t.length)),t.write_shift(1,0),as(e.t,t),i?t.slice(0,t.l):t};function YC(e){var t=Ts();Ct(t,159,function UC(e,t){return t||(t=ft(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var i=0;i<e.length;++i)Ct(t,19,XC(e[i]));return Ct(t,160),t.end()}function Nh(e){var i,a,t=0,s=function Np(e){if(typeof w<"u")return w.utils.encode(h,e);for(var t=[],i=e.split(""),s=0;s<i.length;++s)t[s]=i[s].charCodeAt(0);return t}(e),r=s.length+1;for((i=oe(r))[0]=s.length,a=1;a!=r;++a)i[a]=s[a-1];for(a=r-1;a>=0;--a)t=((16384&t?1:0)|t<<1&32767)^i[a];return 52811^t}var Hp=function(){function e(r,a){switch(a.type){case"base64":return t(_(r),a);case"binary":return t(r,a);case"buffer":return t(G&&Buffer.isBuffer(r)?r.toString("binary"):Se(r),a);case"array":return t(To(r),a)}throw new Error("Unrecognized type "+a.type)}function t(r,a){var k=(a||{}).dense?[]:{},V=r.match(/\\trowd.*?\\row\b/g);if(!V.length)throw new Error("RTF missing table");var se={s:{c:0,r:0},e:{c:0,r:V.length-1}};return V.forEach(function(ne,fe){Array.isArray(k)&&(k[fe]=[]);for(var Ae,Ce=/\\\w+\b/g,ke=0,Ee=-1;Ae=Ce.exec(ne);){if("\\cell"===Ae[0]){var Te=ne.slice(ke,Ce.lastIndex-Ae[0].length);if(" "==Te[0]&&(Te=Te.slice(1)),++Ee,Te.length){var Ie={v:Te,t:"s"};Array.isArray(k)?k[fe][Ee]=Ie:k[Kt({r:fe,c:Ee})]=Ie}}ke=Ce.lastIndex}Ee>se.e.c&&(se.e.c=Ee)}),k["!ref"]=ti(se),k}return{to_workbook:function i(r,a){return ho(e(r,a),a)},to_sheet:e,from_sheet:function s(r){for(var k,a=["{\\rtf1\\ansi"],g=fi(r["!ref"]),V=Array.isArray(r),se=g.s.r;se<=g.e.r;++se){a.push("\\trowd\\trautofit1");for(var ne=g.s.c;ne<=g.e.c;++ne)a.push("\\cellx"+(ne+1));for(a.push("\\pard\\intbl"),ne=g.s.c;ne<=g.e.c;++ne){var fe=Kt({r:se,c:ne});(k=V?(r[se]||[])[ne]:r[fe])&&(null!=k.v||k.f&&!k.F)&&(a.push(" "+(k.w||(Dr(k),k.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}}}();function Qn(e){for(var t=0,i=1;3!=t;++t)i=256*i+(e[t]>255?255:e[t]<0?0:e[t]);return i.toString(16).toUpperCase().slice(1)}var ws=6;function Jn(e){return Math.floor((e+Math.round(128/ws)/256)*ws)}function ea(e){return Math.floor((e-5)/ws*100+.5)/100}function rl(e){return Math.round((e*ws+5)/ws*256)/256}function uo(e){e.width?(e.wpx=Jn(e.width),e.wch=ea(e.wpx),e.MDW=ws):e.wpx?(e.wch=ea(e.wpx),e.width=rl(e.wch),e.MDW=ws):"number"==typeof e.wch&&(e.width=rl(e.wch),e.wpx=Jn(e.width),e.MDW=ws),e.customWidth&&delete e.customWidth}var jp=96;function ta(e){return 96*e/jp}function ol(e){return e*jp/96}function Vp(e,t){var s,i=[_i,Et("styleSheet",null,{xmlns:lo[0],"xmlns:vt":Ji.vt})];return e.SSF&&null!=(s=function xy(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var s=i[0];s<=i[1];++s)null!=e[s]&&(t[t.length]=Et("numFmt",null,{numFmtId:s,formatCode:bi(e[s])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Et("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(i[i.length]=s),i[i.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',i[i.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',i[i.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',i[i.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=function Cy(e){var t=[];return t[t.length]=Et("cellXfs",null),e.forEach(function(i){t[t.length]=Et("xf",null,i)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Et("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(i[i.length]=s),i[i.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',i[i.length]='<dxfs count="0"/>',i[i.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',i.length>2&&(i[i.length]="</styleSheet>",i[1]=i[1].replace("/>",">")),i.join("")}function by(e,t,i){i||(i=ft(6+4*t.length)),i.write_shift(2,e),as(t,i);var s=i.length>i.l?i.slice(0,i.l):i;return null==i.l&&(i.l=i.length),s}var _h,My=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Ey=vs;function Up(e,t){t||(t=ft(84)),_h||(_h=Ha(My));var i=_h[e.patternType];null==i&&(i=40),t.write_shift(4,i);var s=0;if(40!=i)for($a({auto:1},t),$a({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Xp(e,t,i){return i||(i=ft(16)),i.write_shift(2,t||0),i.write_shift(2,e.numFmtId||0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i}function ia(e,t){return t||(t=ft(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Ty=vs;function Wy(e,t){var i=Ts();return Ct(i,278),function Ly(e,t){if(t){var i=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var r=s[0];r<=s[1];++r)null!=t[r]&&++i}),0!=i&&(Ct(e,615,wr(i)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var r=s[0];r<=s[1];++r)null!=t[r]&&Ct(e,44,by(r,t[r]))}),Ct(e,616))}}(i,e.SSF),function Oy(e){Ct(e,611,wr(1)),Ct(e,43,function ky(e,t){t||(t=ft(153)),t.write_shift(2,20*e.sz),function cx(e,t){t||(t=ft(2)),t.write_shift(1,(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0)),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var i=0;"superscript"==e.vertAlign?i=1:"subscript"==e.vertAlign&&(i=2),t.write_shift(2,i),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),$a(e.color,t);var s=0;return"major"==e.scheme&&(s=1),"minor"==e.scheme&&(s=2),t.write_shift(1,s),as(e.name,t),t.length>t.l?t.slice(0,t.l):t}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ct(e,612)}(i),function Iy(e){Ct(e,603,wr(2)),Ct(e,45,Up({patternType:"none"})),Ct(e,45,Up({patternType:"gray125"})),Ct(e,604)}(i),function By(e){Ct(e,613,wr(1)),Ct(e,46,function Py(e,t){return t||(t=ft(51)),t.write_shift(1,0),ia(0,t),ia(0,t),ia(0,t),ia(0,t),ia(0,t),t.length>t.l?t.slice(0,t.l):t}()),Ct(e,614)}(i),function Ny(e){Ct(e,626,wr(1)),Ct(e,47,Xp({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ct(e,627)}(i),function Gy(e,t){Ct(e,617,wr(t.length)),t.forEach(function(i){Ct(e,47,Xp(i,0))}),Ct(e,618)}(i,t.cellXfs),function zy(e){Ct(e,619,wr(1)),Ct(e,48,function Ry(e,t){return t||(t=ft(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Ya(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),Ct(e,620)}(i),function _y(e){Ct(e,505,wr(0)),Ct(e,506)}(i),function Hy(e){Ct(e,508,function Dy(e,t,i){var s=ft(2052);return s.write_shift(4,e),Ya(t,s),Ya(i,s),s.length>s.l?s.slice(0,s.l):s}(0,"TableStyleMedium9","PivotStyleMedium4")),Ct(e,509)}(i),Ct(i,279),i.end()}function Hh(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var i=[_i];return i[i.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',i[i.length]="<a:themeElements>",i[i.length]='<a:clrScheme name="Office">',i[i.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',i[i.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',i[i.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',i[i.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',i[i.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',i[i.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',i[i.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',i[i.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',i[i.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',i[i.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',i[i.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',i[i.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',i[i.length]="</a:clrScheme>",i[i.length]='<a:fontScheme name="Office">',i[i.length]="<a:majorFont>",i[i.length]='<a:latin typeface="Cambria"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',i[i.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',i[i.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',i[i.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',i[i.length]='<a:font script="Arab" typeface="Times New Roman"/>',i[i.length]='<a:font script="Hebr" typeface="Times New Roman"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="MoolBoran"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Times New Roman"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:majorFont>",i[i.length]="<a:minorFont>",i[i.length]='<a:latin typeface="Calibri"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',i[i.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',i[i.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',i[i.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',i[i.length]='<a:font script="Arab" typeface="Arial"/>',i[i.length]='<a:font script="Hebr" typeface="Arial"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="DaunPenh"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Arial"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:minorFont>",i[i.length]="</a:fontScheme>",i[i.length]='<a:fmtScheme name="Office">',i[i.length]="<a:fillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="1"/>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="0"/>',i[i.length]="</a:gradFill>",i[i.length]="</a:fillStyleLst>",i[i.length]="<a:lnStyleLst>",i[i.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]="</a:lnStyleLst>",i[i.length]="<a:effectStyleLst>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',i[i.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',i[i.length]="</a:effectStyle>",i[i.length]="</a:effectStyleLst>",i[i.length]="<a:bgFillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]="</a:bgFillStyleLst>",i[i.length]="</a:fmtScheme>",i[i.length]="</a:themeElements>",i[i.length]="<a:objectDefaults>",i[i.length]="<a:spDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',i[i.length]="</a:spDef>",i[i.length]="<a:lnDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',i[i.length]="</a:lnDef>",i[i.length]="</a:objectDefaults>",i[i.length]="<a:extraClrSchemeLst/>",i[i.length]="</a:theme>",i.join("")}function gw(){var e=Ts();return Ct(e,332),Ct(e,334,wr(1)),Ct(e,335,function aw(e){var t=ft(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),as(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Ct(e,336),Ct(e,339,function cw(e,t){var i=ft(8+2*t.length);return i.write_shift(4,e),as(t,i),i.slice(0,i.l)}(1,"XLDAPR")),Ct(e,52),Ct(e,35,wr(514)),Ct(e,4096,wr(0)),Ct(e,4097,nr(1)),Ct(e,36),Ct(e,53),Ct(e,340),Ct(e,337,function uw(e,t){var i=ft(8);return i.write_shift(4,e),i.write_shift(4,t?1:0),i}(1,!0)),Ct(e,51,function hw(e){var t=ft(4+8*e.length);t.write_shift(4,e.length);for(var i=0;i<e.length;++i)t.write_shift(4,e[i][0]),t.write_shift(4,e[i][1]);return t}([[1,0]])),Ct(e,338),Ct(e,333),e.end()}function $p(){var e=[_i];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var vn=1024;function Kp(e,t){for(var i=[21600,21600],s=["m0,0l0",i[1],i[0],i[1],i[0],"0xe"].join(","),r=[Et("xml",null,{"xmlns:v":Qs.v,"xmlns:o":Qs.o,"xmlns:x":Qs.x,"xmlns:mv":Qs.mv}).replace(/\/>/,">"),Et("o:shapelayout",Et("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Et("v:shapetype",[Et("v:stroke",null,{joinstyle:"miter"}),Et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:i.join(","),path:s})];vn<1e3*e;)vn+=1e3;return t.forEach(function(a){var g=Ui(a[0]),k={color2:"#BEFF82",type:"gradient"};"gradient"==k.type&&(k.angle="-180");var V="gradient"==k.type?Et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,se=Et("v:fill",V,k);++vn,r=r.concat(["<v:shape"+jn({id:"_x0000_s"+vn,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",se,Et("v:shadow",null,{on:"t",obscured:"t"}),Et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ps("x:Anchor",[g.c+1,0,g.r+1,0,g.c+3,20,g.r+5,20].join(",")),ps("x:AutoFill","False"),ps("x:Row",String(g.r)),ps("x:Column",String(g.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function Zp(e){var t=[_i,Et("comments",null,{xmlns:lo[0]})],i=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(r){var a=bi(r.a);-1==i.indexOf(a)&&(i.push(a),t.push("<author>"+a+"</author>")),r.T&&r.ID&&-1==i.indexOf("tc="+r.ID)&&(i.push("tc="+r.ID),t.push("<author>tc="+r.ID+"</author>"))})}),0==i.length&&(i.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var r=0,a=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?r=i.indexOf("tc="+s[1][0].ID):s[1].forEach(function(V){V.a&&(r=i.indexOf(bi(V.a))),a.push(V.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+r+'"><text>'),a.length<=1)t.push(ps("t",bi(a[0]||"")));else{for(var g="Comment:\n    "+a[0]+"\n",k=1;k<a.length;++k)g+="Reply:\n    "+a[k]+"\n";t.push(ps("t",bi(g)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Sw(e,t,i){var s=[_i,Et("ThreadedComments",null,{xmlns:Ji.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var a="";(r[1]||[]).forEach(function(g,k){if(g.T){g.a&&-1==t.indexOf(g.a)&&t.push(g.a);var V={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+i.tcid++).slice(-12)+"}"};0==k?a=V.id:V.parentId=a,g.ID=V.id,g.a&&(V.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(g.a)).slice(-12)+"}"),s.push(Et("threadedComment",ps("text",g.t||""),V))}else delete g.ID})}),s.push("</ThreadedComments>"),s.join("")}var Tw=xs;function Dw(e){var t=Ts(),i=[];return Ct(t,628),Ct(t,630),e.forEach(function(s){s[1].forEach(function(r){i.indexOf(r.a)>-1||(i.push(r.a.slice(0,54)),Ct(t,632,function Pw(e){return as(e.slice(0,54))}(r.a)))})}),Ct(t,631),Ct(t,633),e.forEach(function(s){s[1].forEach(function(r){r.iauthor=i.indexOf(r.a);var a={s:Ui(s[0]),e:Ui(s[0])};Ct(t,635,function Aw(e,t){return null==t&&(t=ft(36)),t.write_shift(4,e[1].iauthor),gn(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([a,r])),r.t&&r.t.length>0&&Ct(t,637,function rx(e,t){var i=!1;return null==t&&(i=!0,t=ft(23+4*e.t.length)),t.write_shift(1,1),as(e.t,t),t.write_shift(4,1),function tx(e,t){t||(t=ft(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),i?t.slice(0,t.l):t}(r)),Ct(t,636),delete r.iauthor})}),Ct(t,634),Ct(t,629),t.end()}var Qp=["xlsb","xlsm","xlam","biff8","xla"],xn=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function i(s,r,a,g){var k=!1,V=!1;0==a.length?V=!0:"["==a.charAt(0)&&(V=!0,a=a.slice(1,-1)),0==g.length?k=!0:"["==g.charAt(0)&&(k=!0,g=g.slice(1,-1));var se=a.length>0?0|parseInt(a,10):0,ne=g.length>0?0|parseInt(g,10):0;return k?ne+=t.c:--ne,V?se+=t.r:--se,r+(k?"":"$")+Ti(ne)+(V?"":"$")+Hi(se)}return function(r,a){return t=a,r.replace(e,i)}}(),Wh=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,jh=function(){return function(t,i){return t.replace(Wh,function(s,r,a,g,k,V){var se=Ch(g)-(a?0:i.c),ne=xh(V)-(k?0:i.r);return r+"R"+(0==ne?"":k?ne+1:"["+ne+"]")+"C"+(0==se?"":a?se+1:"["+se+"]")})}}();function Jp(e,t){return e.replace(Wh,function(i,s,r,a,g,k){return s+("$"==r?r+a:Ti(Ch(a)+t.c))+("$"==g?g+k:Hi(xh(k)+t.r))})}function ts(e){e.l+=1}function po(e,t){var i=e.read_shift(1==t?1:2);return[16383&i,i>>14&1,i>>15&1]}function eg(e,t,i){var s=2;if(i){if(i.biff>=2&&i.biff<=5)return tg(e);12==i.biff&&(s=4)}var r=e.read_shift(s),a=e.read_shift(s),g=po(e,2),k=po(e,2);return{s:{r,c:g[0],cRel:g[1],rRel:g[2]},e:{r:a,c:k[0],cRel:k[1],rRel:k[2]}}}function tg(e){var t=po(e,2),i=po(e,2),s=e.read_shift(1),r=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:i[0],c:r,cRel:i[1],rRel:i[2]}}}function ig(e,t,i){if(i&&i.biff>=2&&i.biff<=5)return function Hw(e){var t=po(e,2),i=e.read_shift(1);return{r:t[0],c:i,cRel:t[1],rRel:t[2]}}(e);var s=e.read_shift(i&&12==i.biff?4:2),r=po(e,2);return{r:s,c:r[0],cRel:r[1],rRel:r[2]}}function Ww(e){var t=e.read_shift(2),i=e.read_shift(2);return{r:t,c:255&i,fQuoted:!!(16384&i),cRel:i>>15,rRel:i>>15}}function sg(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function rg(e){return[e.read_shift(1),e.read_shift(1)]}function vb(e,t){var i=[e.read_shift(1)];if(12==t)switch(i[0]){case 2:i[0]=4;break;case 4:i[0]=16;break;case 0:i[0]=1;break;case 1:i[0]=2}switch(i[0]){case 4:i[1]=function Xi(e,t){return 1===e.read_shift(t)}(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:i[1]=Yr[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:i[1]=Cs(e);break;case 2:i[1]=function Go(e,t,i){if(i.biff>5)return function Zn(e,t,i){var s=e.read_shift(i&&2==i.biff?1:2);return 0===s?(e.l++,""):function No(e,t,i){if(i){if(i.biff>=2&&i.biff<=5)return e.read_shift(t,"cpstr");if(i.biff>=12)return e.read_shift(t,"dbcs-cont")}var r=e.read_shift(1);return e.read_shift(t,0===r?"sbcs-cont":"dbcs-cont")}(e,s,i)}(e,0,i);var s=e.read_shift(1);return 0===s?(e.l++,""):e.read_shift(s,i.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+i[0])}return i}function xb(e,t,i){for(var s=e.read_shift(12==i.biff?4:2),r=[],a=0;a!=s;++a)r.push((12==i.biff?Lo:tl)(e,8));return r}function Cb(e,t,i){var s=0,r=0;12==i.biff?(s=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),s=1+e.read_shift(2)),i.biff>=2&&i.biff<8&&(--s,0==--r&&(r=256));for(var a=0,g=[];a!=s&&(g[a]=[]);++a)for(var k=0;k!=r;++k)g[a][k]=vb(e,i.biff);return g}function sa(e,t,i){return e.l+=2,[Ww(e)]}function Vh(e){return e.l+=6,[]}function og(e){return e.l+=2,[es(e),1&e.read_shift(2)]}var zb=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],ng={1:{n:"PtgExp",f:function db(e,t,i){return e.l++,i&&12==i.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(i&&2==i.biff?1:2)]}},2:{n:"PtgTbl",f:vs},3:{n:"PtgAdd",f:ts},4:{n:"PtgSub",f:ts},5:{n:"PtgMul",f:ts},6:{n:"PtgDiv",f:ts},7:{n:"PtgPower",f:ts},8:{n:"PtgConcat",f:ts},9:{n:"PtgLt",f:ts},10:{n:"PtgLe",f:ts},11:{n:"PtgEq",f:ts},12:{n:"PtgGe",f:ts},13:{n:"PtgGt",f:ts},14:{n:"PtgNe",f:ts},15:{n:"PtgIsect",f:ts},16:{n:"PtgUnion",f:ts},17:{n:"PtgRange",f:ts},18:{n:"PtgUplus",f:ts},19:{n:"PtgUminus",f:ts},20:{n:"PtgPercent",f:ts},21:{n:"PtgParen",f:ts},22:{n:"PtgMissArg",f:ts},23:{n:"PtgStr",f:function mb(e,t,i){return e.l++,qn(e,0,i)}},26:{n:"PtgSheet",f:function Wb(e,t,i){return e.l+=5,e.l+=2,e.l+=2==i.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function jb(e,t,i){return e.l+=2==i.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function ub(e){return e.l++,Yr[e.read_shift(1)]}},29:{n:"PtgBool",f:function gb(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function pb(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function fb(e){return e.l++,Cs(e)}},32:{n:"PtgArray",f:function qw(e,t,i){var s=(96&e[e.l++])>>5;return e.l+=2==i.biff?6:12==i.biff?14:7,[s]}},33:{n:"PtgFunc",f:function ab(e,t,i){var s=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(i&&i.biff<=3?1:2);return[cS[r],hg[r],s]}},34:{n:"PtgFuncVar",f:function lb(e,t,i){var s=e[e.l++],r=e.read_shift(1),a=i&&i.biff<=3?[88==s?-1:0,e.read_shift(1)]:function hb(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[r,(0===a[0]?hg:hS)[a[1]]]}},35:{n:"PtgName",f:function yb(e,t,i){var s=e.read_shift(1)>>>5&3,a=e.read_shift(!i||i.biff>=8?4:2);switch(i.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[s,0,a]}},36:{n:"PtgRef",f:function rb(e,t,i){var s=(96&e[e.l])>>5;return e.l+=1,[s,ig(e,0,i)]}},37:{n:"PtgArea",f:function Uw(e,t,i){return[(96&e[e.l++])>>5,eg(e,0,i)]}},38:{n:"PtgMemArea",f:function Sb(e,t,i){var s=e.read_shift(1)>>>5&3;return e.l+=i&&2==i.biff?3:4,[s,e.read_shift(i&&2==i.biff?1:2)]}},39:{n:"PtgMemErr",f:vs},40:{n:"PtgMemNoMem",f:vs},41:{n:"PtgMemFunc",f:function kb(e,t,i){return[e.read_shift(1)>>>5&3,e.read_shift(i&&2==i.biff?1:2)]}},42:{n:"PtgRefErr",f:function Mb(e,t,i){var s=e.read_shift(1)>>>5&3;return e.l+=4,i.biff<8&&e.l--,12==i.biff&&(e.l+=2),[s]}},43:{n:"PtgAreaErr",f:function Yw(e,t,i){var s=(96&e[e.l++])>>5;return e.l+=i&&i.biff>8?12:i.biff<8?6:8,[s]}},44:{n:"PtgRefN",f:function ob(e,t,i){var s=(96&e[e.l])>>5;e.l+=1;var r=function jw(e,t,i){var s=i&&i.biff?i.biff:8;if(s>=2&&s<=5)return function Vw(e){var t=e.read_shift(2),i=e.read_shift(1),s=(32768&t)>>15,r=(16384&t)>>14;return t&=16383,1==s&&t>=8192&&(t-=16384),1==r&&i>=128&&(i-=256),{r:t,c:i,cRel:r,rRel:s}}(e);var r=e.read_shift(s>=12?4:2),a=e.read_shift(2),g=(16384&a)>>14,k=(32768&a)>>15;if(a&=16383,1==k)for(;r>524287;)r-=1048576;if(1==g)for(;a>8191;)a-=16384;return{r,c:a,cRel:g,rRel:k}}(e,0,i);return[s,r]}},45:{n:"PtgAreaN",f:function Kw(e,t,i){var s=(96&e[e.l++])>>5,r=function _w(e,t,i){if(i.biff<8)return tg(e);var s=e.read_shift(12==i.biff?4:2),r=e.read_shift(12==i.biff?4:2),a=po(e,2),g=po(e,2);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r,c:g[0],cRel:g[1],rRel:g[2]}}}(e,0,i);return[s,r]}},46:{n:"PtgMemAreaN",f:function Vb(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function Ub(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function wb(e,t,i){return 5==i.biff?function bb(e){var t=e.read_shift(1)>>>5&3,i=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,i,s]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function nb(e,t,i){var s=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(2);return i&&5==i.biff&&(e.l+=12),[s,r,ig(e,0,i)]}},59:{n:"PtgArea3d",f:function Xw(e,t,i){var s=(96&e[e.l++])>>5,r=e.read_shift(2,"i");if(i&&5===i.biff)e.l+=12;return[s,r,eg(e,0,i)]}},60:{n:"PtgRefErr3d",f:function Eb(e,t,i){var s=(96&e[e.l++])>>5,r=e.read_shift(2),a=4;if(i)switch(i.biff){case 5:a=15;break;case 12:a=6}return e.l+=a,[s,r]}},61:{n:"PtgAreaErr3d",f:function $w(e,t,i){var s=(96&e[e.l++])>>5,r=e.read_shift(2),a=8;if(i)switch(i.biff){case 5:e.l+=12,a=6;break;case 12:a=12}return e.l+=a,[s,r]}},255:{}},Yb={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},$b={1:{n:"PtgElfLel",f:og},2:{n:"PtgElfRw",f:sa},3:{n:"PtgElfCol",f:sa},6:{n:"PtgElfRwV",f:sa},7:{n:"PtgElfColV",f:sa},10:{n:"PtgElfRadical",f:sa},11:{n:"PtgElfRadicalS",f:Vh},13:{n:"PtgElfColS",f:Vh},15:{n:"PtgElfColSV",f:Vh},16:{n:"PtgElfRadicalLel",f:og},25:{n:"PtgList",f:function _b(e){e.l+=2;var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(4),r=e.read_shift(2),a=e.read_shift(2);return{ixti:t,coltype:3&i,rt:zb[i>>2&31],idx:s,c:r,C:a}}},29:{n:"PtgSxName",f:function Hb(e){return e.l+=2,[e.read_shift(4)]}},255:{}},Kb={0:{n:"PtgAttrNoop",f:function Xb(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function tb(e,t,i){var s=255&e[e.l+1]?1:0;return e.l+=i&&2==i.biff?3:4,[s]}},2:{n:"PtgAttrIf",f:function Jw(e,t,i){var s=255&e[e.l+1]?1:0;return e.l+=2,[s,e.read_shift(i&&2==i.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function Zw(e,t,i){e.l+=2;for(var s=e.read_shift(i&&2==i.biff?1:2),r=[],a=0;a<=s;++a)r.push(e.read_shift(i&&2==i.biff?1:2));return r}},8:{n:"PtgAttrGoto",f:function Qw(e,t,i){var s=255&e[e.l+1]?1:0;return e.l+=2,[s,e.read_shift(i&&2==i.biff?1:2)]}},16:{n:"PtgAttrSum",f:function cb(e,t,i){e.l+=i&&2==i.biff?3:4}},32:{n:"PtgAttrBaxcel",f:sg},33:{n:"PtgAttrBaxcel",f:sg},64:{n:"PtgAttrSpace",f:function ib(e){return e.read_shift(2),rg(e)}},65:{n:"PtgAttrSpaceSemi",f:function sb(e){return e.read_shift(2),rg(e)}},128:{n:"PtgAttrIfError",f:function eb(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function ra(e,t,i,s){if(s.biff<8)return vs(e,t);for(var r=e.l+t,a=[],g=0;g!==i.length;++g)switch(i[g][0]){case"PtgArray":i[g][1]=Cb(e,0,s),a.push(i[g][1]);break;case"PtgMemArea":i[g][2]=xb(e,0,s),a.push(i[g][2]);break;case"PtgExp":s&&12==s.biff&&(i[g][1][1]=e.read_shift(4),a.push(i[g][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+i[g][0]}return 0!=(t=r-e.l)&&a.push(vs(e,t)),a}function qb(e){for(var t=[],i=0;i<e.length;++i){for(var s=e[i],r=[],a=0;a<s.length;++a){var g=s[a];r.push(g?2===g[0]?'"'+g[1].replace(/"/g,'""')+'"':g[1]:"")}t.push(r.join(","))}return t.join(";")}var Zb={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ag(e,t,i){if(!e)return"SH33TJSERR0";if(i.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(i.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var r="";if(i.biff>8)switch(e[s[0]][0]){case 357:return r=-1==s[1]?"#REF":e.SheetNames[s[1]],s[1]==s[2]?r:r+":"+e.SheetNames[s[2]];case 358:return null!=i.SID?e.SheetNames[i.SID]:"SH33TJSSAME"+e[s[0]][0];default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return r=-1==s[1]?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?r:r+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[s[0]][0][3]?(r=-1==s[1]?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?r:r+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function lg(e,t,i){var s=ag(e,t,i);return"#REF"==s?s:function Qb(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(s,i)}function bs(e,t,i,s,r){var V,se,ne,ke,a=r&&r.biff||8,g={s:{c:0,r:0},e:{c:0,r:0}},k=[],fe=0,Ce=0,Ae="";if(!e[0]||!e[0][0])return"";for(var Ee=-1,Te="",Ie=0,Be=e[0].length;Ie<Be;++Ie){var Le=e[0][Ie];switch(Le[0]){case"PtgUminus":k.push("-"+k.pop());break;case"PtgUplus":k.push("+"+k.pop());break;case"PtgPercent":k.push(k.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(V=k.pop(),se=k.pop(),Ee>=0){switch(e[0][Ee][1][0]){case 0:Te=zi(" ",e[0][Ee][1][1]);break;case 1:Te=zi("\r",e[0][Ee][1][1]);break;default:if(Te="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][Ee][1][0])}se+=Te,Ee=-1}k.push(se+Zb[Le[0]]+V);break;case"PtgIsect":V=k.pop(),se=k.pop(),k.push(se+" "+V);break;case"PtgUnion":V=k.pop(),se=k.pop(),k.push(se+","+V);break;case"PtgRange":V=k.pop(),se=k.pop(),k.push(se+":"+V);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":ne=Xn(Le[1][1],g,r),k.push(Yn(ne,a));break;case"PtgRefN":ne=i?Xn(Le[1][1],i,r):Le[1][1],k.push(Yn(ne,a));break;case"PtgRef3d":fe=Le[1][1],ne=Xn(Le[1][2],g,r),Ae=lg(s,fe,r),k.push(Ae+"!"+Yn(ne,a));break;case"PtgFunc":case"PtgFuncVar":var Ze=Le[1][0],tt=Le[1][1];Ze||(Ze=0);var We=0==(Ze&=127)?[]:k.slice(-Ze);k.length-=Ze,"User"===tt&&(tt=We.shift()),k.push(tt+"("+We.join(",")+")");break;case"PtgBool":k.push(Le[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":k.push(Le[1]);break;case"PtgNum":k.push(String(Le[1]));break;case"PtgStr":k.push('"'+Le[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":ke=Bu(Le[1][1],i?{s:i}:g,r),k.push(vh(ke,r));break;case"PtgArea":ke=Bu(Le[1][1],g,r),k.push(vh(ke,r));break;case"PtgArea3d":ke=Le[1][2],Ae=lg(s,fe=Le[1][1],r),k.push(Ae+"!"+vh(ke,r));break;case"PtgAttrSum":k.push("SUM("+k.pop()+")");break;case"PtgName":var Je=(s.names||[])[(Ce=Le[1][2])-1]||(s[0]||[])[Ce],et=Je?Je.Name:"SH33TJSNAME"+String(Ce);et&&"_xlfn."==et.slice(0,6)&&!r.xlfn&&(et=et.slice(6)),k.push(et);break;case"PtgNameX":var gt,pt=Le[1][1];if(Ce=Le[1][2],!(r.biff<=5)){var st="";if(14849==((s[pt]||[])[0]||[])[0]||(1025==((s[pt]||[])[0]||[])[0]?s[pt][Ce]&&s[pt][Ce].itab>0&&(st=s.SheetNames[s[pt][Ce].itab-1]+"!"):st=s.SheetNames[Ce-1]+"!"),s[pt]&&s[pt][Ce])st+=s[pt][Ce].Name;else if(s[0]&&s[0][Ce])st+=s[0][Ce].Name;else{var Rt=(ag(s,pt,r)||"").split(";;");Rt[Ce-1]?st=Rt[Ce-1]:st+="SH33TJSERRX"}k.push(st);break}pt<0&&(pt=-pt),s[pt]&&(gt=s[pt][Ce]),gt||(gt={Name:"SH33TJSERRY"}),k.push(gt.Name);break;case"PtgParen":var Wt="(",Ot=")";if(Ee>=0){switch(Te="",e[0][Ee][1][0]){case 2:Wt=zi(" ",e[0][Ee][1][1])+Wt;break;case 3:Wt=zi("\r",e[0][Ee][1][1])+Wt;break;case 4:Ot=zi(" ",e[0][Ee][1][1])+Ot;break;case 5:Ot=zi("\r",e[0][Ee][1][1])+Ot;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][Ee][1][0])}Ee=-1}k.push(Wt+k.pop()+Ot);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":k.push("#REF!");break;case"PtgExp":var $t={c:i.c,r:i.r};if(s.sharedf[Kt(ne={c:Le[1][1],r:Le[1][0]})]){var Vt=s.sharedf[Kt(ne)];k.push(bs(Vt,0,$t,s,r))}else{var di=!1;for(V=0;V!=s.arrayf.length;++V)if(!(ne.c<(se=s.arrayf[V])[0].s.c||ne.c>se[0].e.c||ne.r<se[0].s.r||ne.r>se[0].e.r)){k.push(bs(se[1],0,$t,s,r)),di=!0;break}di||k.push(Le[1])}break;case"PtgArray":k.push("{"+qb(Le[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":Ee=Ie;break;case"PtgMissArg":k.push("");break;case"PtgList":k.push("Table"+Le[1].idx+"[#"+Le[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(Le))}if(3!=r.biff&&Ee>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][Ie][0])){var qt=!0;switch((Le=e[0][Ee])[1][0]){case 4:qt=!1;case 0:Te=zi(" ",Le[1][1]);break;case 5:qt=!1;case 1:Te=zi("\r",Le[1][1]);break;default:if(Te="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Le[1][0])}k.push((qt?Te:"")+k.pop()+(qt?"":Te)),Ee=-1}}if(k.length>1&&r.WTF)throw new Error("bad formula stack");return k[0]}function ll(e,t,i){var s=e.read_shift(4),r=function oa(e,t,i){for(var r,a,s=e.l+t,g=[];s!=e.l;)t=s-e.l,r=ng[a=e[e.l]]||ng[Yb[a]],(24===a||25===a)&&(r=(24===a?$b:Kb)[e[e.l+1]]),r&&r.f?g.push([r.n,r.f(e,t,i)]):vs(e,t);return g}(e,s,i),a=e.read_shift(4);return[r,a>0?ra(e,a,r,i):null]}var nS=ll,hl=ll,aS=ll,lS=ll,hS={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},hg={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},cS={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function dS(e){return("of:="+e.replace(Wh,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function uS(e){return e.replace(/\./,"!")}var na=typeof Map<"u";function Yh(e,t,i){var s=0,r=e.length;if(i){if(na?i.has(t):Object.prototype.hasOwnProperty.call(i,t))for(var a=na?i.get(t):i[t];s<a.length;++s)if(e[a[s]].t===t)return e.Count++,a[s]}else for(;s<r;++s)if(e[s].t===t)return e.Count++,s;return e[r]={t},e.Count++,e.Unique++,i&&(na?(i.has(t)||i.set(t,[]),i.get(t).push(r)):(Object.prototype.hasOwnProperty.call(i,t)||(i[t]=[]),i[t].push(r))),r}function dl(e,t){var i={min:e+1,max:e+1},s=-1;return t.MDW&&(ws=t.MDW),null!=t.width?i.customWidth=1:null!=t.wpx?s=ea(t.wpx):null!=t.wch&&(s=t.wch),s>-1?(i.width=rl(s),i.customWidth=1):null!=t.width&&(i.width=t.width),t.hidden&&(i.hidden=!0),null!=t.level&&(i.outlineLevel=i.level=t.level),i}function Ho(e,t){if(e){var i=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(i=[1,1,1,1,.5,.5]),null==e.left&&(e.left=i[0]),null==e.right&&(e.right=i[1]),null==e.top&&(e.top=i[2]),null==e.bottom&&(e.bottom=i[3]),null==e.header&&(e.header=i[4]),null==e.footer&&(e.footer=i[5])}}function go(e,t,i){var s=i.revssf[null!=t.z?t.z:"General"],r=60,a=e.length;if(null==s&&i.ssf)for(;r<392;++r)if(null==i.ssf[r]){Tr(t.z,r),i.ssf[r]=t.z,i.revssf[t.z]=s=r;break}for(r=0;r!=a;++r)if(e[r].numFmtId===s)return r;return e[a]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function gS(e,t,i){if(e&&e["!ref"]){var s=fi(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+i+"): "+e["!ref"])}}var PS=["objects","scenarios","selectLockedCells","selectUnlockedCells"],RS=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function WS(e,t,i,s){if(e.c&&i["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var r="",a=e.t,g=e.v;if("z"!==e.t)switch(e.t){case"b":r=e.v?"1":"0";break;case"n":r=""+e.v;break;case"e":r=Yr[e.v];break;case"d":s&&s.cellDates?r=Ii(e.v,-1).toISOString():((e=Mi(e)).t="n",r=""+(e.v=os(Ii(e.v)))),typeof e.z>"u"&&(e.z=rt[14]);break;default:r=e.v}var k=ps("v",bi(r)),V={r:t},se=go(s.cellXfs,e,s);switch(0!==se&&(V.s=se),e.t){case"n":case"z":break;case"d":V.t="d";break;case"b":V.t="b";break;case"e":V.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){k=ps("v",""+Yh(s.Strings,e.v,s.revStrings)),V.t="s";break}V.t="str"}if(e.t!=a&&(e.t=a,e.v=g),"string"==typeof e.f&&e.f){var ne=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;k=Et("f",bi(e.f),ne)+(null!=e.v?k:"")}return e.l&&i["!links"].push([t,e.l]),e.D&&(V.cm=1),Et("c",k,V)}function ug(e,t,i,s){var g,r=[_i,Et("worksheet",null,{xmlns:lo[0],"xmlns:r":Ji.r})],k="",V=i.Sheets[i.SheetNames[e]];null==V&&(V={});var se=V["!ref"]||"A1",ne=fi(se);if(ne.e.c>16383||ne.e.r>1048575){if(t.WTF)throw new Error("Range "+se+" exceeds format limit A1:XFD1048576");ne.e.c=Math.min(ne.e.c,16383),ne.e.r=Math.min(ne.e.c,1048575),se=ti(ne)}s||(s={}),V["!comments"]=[];var fe=[];(function TS(e,t,i,s,r){var a=!1,g={},k=null;if("xlsx"!==s.bookType&&t.vbaraw){var V=t.SheetNames[i];try{t.Workbook&&(V=t.Workbook.Sheets[i].CodeName||V)}catch{}a=!0,g.codeName=Rr(bi(V))}if(e&&e["!outline"]){var se={summaryBelow:1,summaryRight:1};e["!outline"].above&&(se.summaryBelow=0),e["!outline"].left&&(se.summaryRight=0),k=(k||"")+Et("outlinePr",null,se)}!a&&!k||(r[r.length]=Et("sheetPr",k,g))})(V,i,e,t,r),r[r.length]=Et("dimension",null,{ref:se}),r[r.length]=function HS(e,t,i,s){var r={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),Et("sheetViews",Et("sheetView",null,r),{})}(0,0,0,i),t.sheetFormat&&(r[r.length]=Et("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=V["!cols"]&&V["!cols"].length>0&&(r[r.length]=function BS(e,t){for(var s,i=["<cols>"],r=0;r!=t.length;++r)(s=t[r])&&(i[i.length]=Et("col",null,dl(r,s)));return i[i.length]="</cols>",i.join("")}(0,V["!cols"])),r[g=r.length]="<sheetData/>",V["!links"]=[],null!=V["!ref"]&&(k=function VS(e,t,i,s){var V,Te,r=[],a=[],g=fi(e["!ref"]),k="",se="",ne=[],fe=0,Ce=0,ke=e["!rows"],Ae=Array.isArray(e),Ee={r:se},Ie=-1;for(Ce=g.s.c;Ce<=g.e.c;++Ce)ne[Ce]=Ti(Ce);for(fe=g.s.r;fe<=g.e.r;++fe){for(a=[],se=Hi(fe),Ce=g.s.c;Ce<=g.e.c;++Ce){V=ne[Ce]+se;var Be=Ae?(e[fe]||[])[Ce]:e[V];void 0!==Be&&null!=(k=WS(Be,V,e,t))&&a.push(k)}(a.length>0||ke&&ke[fe])&&(Ee={r:se},ke&&ke[fe]&&((Te=ke[fe]).hidden&&(Ee.hidden=1),Ie=-1,Te.hpx?Ie=ta(Te.hpx):Te.hpt&&(Ie=Te.hpt),Ie>-1&&(Ee.ht=Ie,Ee.customHeight=1),Te.level&&(Ee.outlineLevel=Te.level)),r[r.length]=Et("row",a.join(""),Ee))}if(ke)for(;fe<ke.length;++fe)ke&&ke[fe]&&(Ee={r:fe+1},(Te=ke[fe]).hidden&&(Ee.hidden=1),Ie=-1,Te.hpx?Ie=ta(Te.hpx):Te.hpt&&(Ie=Te.hpt),Ie>-1&&(Ee.ht=Ie,Ee.customHeight=1),Te.level&&(Ee.outlineLevel=Te.level),r[r.length]=Et("row","",Ee));return r.join("")}(V,t),k.length>0&&(r[r.length]=k)),r.length>g+1&&(r[r.length]="</sheetData>",r[g]=r[g].replace("/>",">")),V["!protect"]&&(r[r.length]=function DS(e){var t={sheet:1};return PS.forEach(function(i){null!=e[i]&&e[i]&&(t[i]="1")}),RS.forEach(function(i){null!=e[i]&&!e[i]&&(t[i]="0")}),e.password&&(t.password=Nh(e.password).toString(16).toUpperCase()),Et("sheetProtection",null,t)}(V["!protect"])),null!=V["!autofilter"]&&(r[r.length]=function GS(e,t,i,s){var r="string"==typeof e.ref?e.ref:ti(e.ref);i.Workbook||(i.Workbook={Sheets:[]}),i.Workbook.Names||(i.Workbook.Names=[]);var a=i.Workbook.Names,g=Ps(r);g.s.r==g.e.r&&(g.e.r=Ps(t["!ref"]).e.r,r=ti(g));for(var k=0;k<a.length;++k){var V=a[k];if("_xlnm._FilterDatabase"==V.Name&&V.Sheet==s){V.Ref="'"+i.SheetNames[s]+"'!"+r;break}}return k==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+i.SheetNames[s]+"'!"+r}),Et("autoFilter",null,{ref:r})}(V["!autofilter"],V,i,e)),null!=V["!merges"]&&V["!merges"].length>0&&(r[r.length]=function ES(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',i=0;i!=e.length;++i)t+='<mergeCell ref="'+ti(e[i])+'"/>';return t+"</mergeCells>"}(V["!merges"]));var ke,Ce=-1,Ae=-1;return V["!links"].length>0&&(r[r.length]="<hyperlinks>",V["!links"].forEach(function(Ee){Ee[1].Target&&(ke={ref:Ee[0]},"#"!=Ee[1].Target.charAt(0)&&(Ae=Ci(s,-1,bi(Ee[1].Target).replace(/#.*$/,""),ii.HLINK),ke["r:id"]="rId"+Ae),(Ce=Ee[1].Target.indexOf("#"))>-1&&(ke.location=bi(Ee[1].Target.slice(Ce+1))),Ee[1].Tooltip&&(ke.tooltip=bi(Ee[1].Tooltip)),r[r.length]=Et("hyperlink",null,ke))}),r[r.length]="</hyperlinks>"),delete V["!links"],null!=V["!margins"]&&(r[r.length]=function OS(e){return Ho(e),Et("pageMargins",null,e)}(V["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&(r[r.length]=ps("ignoredErrors",Et("ignoredError",null,{numberStoredAsText:1,sqref:se}))),fe.length>0&&(Ae=Ci(s,-1,"../drawings/drawing"+(e+1)+".xml",ii.DRAW),r[r.length]=Et("drawing",null,{"r:id":"rId"+Ae}),V["!drawing"]=fe),V["!comments"].length>0&&(Ae=Ci(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ii.VML),r[r.length]=Et("legacyDrawing",null,{"r:id":"rId"+Ae}),V["!legacy"]=Ae),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function YS(e,t,i,s){var r=function XS(e,t,i){var s=ft(145),r=(i["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var a=320;r.hpx?a=20*ta(r.hpx):r.hpt&&(a=20*r.hpt),s.write_shift(2,a),s.write_shift(1,0);var g=0;r.level&&(g|=r.level),r.hidden&&(g|=16),(r.hpx||r.hpt)&&(g|=32),s.write_shift(1,g),s.write_shift(1,0);var k=0,V=s.l;s.l+=4;for(var se={r:e,c:0},ne=0;ne<16;++ne)if(!(t.s.c>ne+1<<10||t.e.c<ne<<10)){for(var fe=-1,Ce=-1,ke=ne<<10;ke<ne+1<<10;++ke)se.c=ke,(Array.isArray(i)?(i[se.r]||[])[se.c]:i[Kt(se)])&&(fe<0&&(fe=ke),Ce=ke);fe<0||(++k,s.write_shift(4,fe),s.write_shift(4,Ce))}var Ee=s.l;return s.l=V,s.write_shift(4,k),s.l=Ee,s.length>s.l?s.slice(0,s.l):s}(s,i,t);(r.length>17||(t["!rows"]||[])[s])&&Ct(e,0,r)}var $S=Lo,KS=gn;var D2=Lo,F2=gn,gg=["left","right","top","bottom","header","footer"];function K2(e,t,i,s,r,a,g){if(void 0===t.v)return!1;var k="";switch(t.t){case"b":k=t.v?"1":"0";break;case"d":(t=Mi(t)).z=t.z||rt[14],t.v=os(Ii(t.v)),t.t="n";break;case"n":case"e":k=""+t.v;break;default:k=t.v}var V={r:i,c:s};switch(V.s=go(r.cellXfs,t,r),t.l&&a["!links"].push([Kt(V),t.l]),t.c&&a["!comments"].push([Kt(V),t.c]),t.t){case"s":case"str":return r.bookSST?(k=Yh(r.Strings,t.v,r.revStrings),V.t="s",V.v=k,g?Ct(e,18,function g2(e,t,i){return null==i&&(i=ft(8)),Fo(t,i),i.write_shift(4,t.v),i}(0,V)):Ct(e,7,function u2(e,t,i){return null==i&&(i=ft(12)),Ro(t,i),i.write_shift(4,t.v),i}(0,V))):(V.t="str",g?Ct(e,17,function E2(e,t,i){return null==i&&(i=ft(8+4*e.v.length)),Fo(t,i),as(e.v,i),i.length>i.l?i.slice(0,i.l):i}(t,V)):Ct(e,6,function k2(e,t,i){return null==i&&(i=ft(12+4*e.v.length)),Ro(t,i),as(e.v,i),i.length>i.l?i.slice(0,i.l):i}(t,V))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?g?Ct(e,13,function w2(e,t,i){return null==i&&(i=ft(8)),Fo(t,i),_u(e.v,i),i}(t,V)):Ct(e,2,function C2(e,t,i){return null==i&&(i=ft(12)),Ro(t,i),_u(e.v,i),i}(t,V)):g?Ct(e,16,function v2(e,t,i){return null==i&&(i=ft(12)),Fo(t,i),Oo(e.v,i),i}(t,V)):Ct(e,5,function m2(e,t,i){return null==i&&(i=ft(16)),Ro(t,i),Oo(e.v,i),i}(t,V)),!0;case"b":return V.t="b",g?Ct(e,15,function n2(e,t,i){return null==i&&(i=ft(5)),Fo(t,i),i.write_shift(1,e.v?1:0),i}(t,V)):Ct(e,4,function r2(e,t,i){return null==i&&(i=ft(9)),Ro(t,i),i.write_shift(1,e.v?1:0),i}(t,V)),!0;case"e":return V.t="e",g?Ct(e,14,function c2(e,t,i){return null==i&&(i=ft(8)),Fo(t,i),i.write_shift(1,e.v),i.write_shift(2,0),i.write_shift(1,0),i}(t,V)):Ct(e,3,function l2(e,t,i){return null==i&&(i=ft(9)),Ro(t,i),i.write_shift(1,e.v),i}(t,V)),!0}return g?Ct(e,12,function i2(e,t,i){return null==i&&(i=ft(4)),Fo(t,i)}(0,V)):Ct(e,1,function e2(e,t,i){return null==i&&(i=ft(8)),Ro(t,i)}(0,V)),!0}function ok(e,t,i,s){var r=Ts(),a=i.SheetNames[e],g=i.Sheets[a]||{},k=a;try{i&&i.Workbook&&(k=i.Workbook.Sheets[e].CodeName||k)}catch{}var V=fi(g["!ref"]||"A1");if(V.e.c>16383||V.e.r>1048575){if(t.WTF)throw new Error("Range "+(g["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");V.e.c=Math.min(V.e.c,16383),V.e.r=Math.min(V.e.c,1048575)}return g["!links"]=[],g["!comments"]=[],Ct(r,129),(i.vbaraw||g["!outline"])&&Ct(r,147,function QS(e,t,i){null==i&&(i=ft(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),i.write_shift(1,s);for(var r=1;r<3;++r)i.write_shift(1,0);return $a({auto:1},i),i.write_shift(-4,-1),i.write_shift(-4,-1),zu(e,i),i.slice(0,i.l)}(k,g["!outline"])),Ct(r,148,KS(V)),function sk(e,t,i){Ct(e,133),Ct(e,137,function j2(e,t,i){null==i&&(i=ft(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),i.write_shift(2,s),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,100),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i}(0,i)),Ct(e,138),Ct(e,134)}(r,0,i.Workbook),function Q2(e,t){!t||!t["!cols"]||(Ct(e,390),t["!cols"].forEach(function(i,s){i&&Ct(e,60,function z2(e,t,i){null==i&&(i=ft(18));var s=dl(e,t);i.write_shift(-4,e),i.write_shift(-4,e),i.write_shift(4,256*(s.width||10)),i.write_shift(4,0);var r=0;return t.hidden&&(r|=1),"number"==typeof s.width&&(r|=2),t.level&&(r|=t.level<<8),i.write_shift(2,r),i}(s,i))}),Ct(e,391))}(r,g),function q2(e,t,i,s){var r=fi(t["!ref"]||"A1"),g="",k=[];Ct(e,145);var V=Array.isArray(t),se=r.e.r;t["!rows"]&&(se=Math.max(r.e.r,t["!rows"].length-1));for(var ne=r.s.r;ne<=se;++ne){g=Hi(ne),YS(e,t,r,ne);var fe=!1;if(ne<=r.e.r)for(var Ce=r.s.c;Ce<=r.e.c;++Ce){ne===r.s.r&&(k[Ce]=Ti(Ce));var ke=V?(t[ne]||[])[Ce]:t[k[Ce]+g];fe=!!ke&&K2(e,ke,ne,Ce,s,t,fe)}}Ct(e,146)}(r,g,0,t),function rk(e,t){t["!protect"]&&Ct(e,535,function U2(e,t){return null==t&&(t=ft(66)),t.write_shift(2,e.password?Nh(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(i){t.write_shift(4,i[1]?null==e[i[0]]||e[i[0]]?0:1:null!=e[i[0]]&&e[i[0]]?0:1)}),t}(t["!protect"]))}(r,g),function ik(e,t,i,s){if(t["!autofilter"]){var r=t["!autofilter"],a="string"==typeof r.ref?r.ref:ti(r.ref);i.Workbook||(i.Workbook={Sheets:[]}),i.Workbook.Names||(i.Workbook.Names=[]);var g=i.Workbook.Names,k=Ps(a);k.s.r==k.e.r&&(k.e.r=Ps(t["!ref"]).e.r,a=ti(k));for(var V=0;V<g.length;++V){var se=g[V];if("_xlnm._FilterDatabase"==se.Name&&se.Sheet==s){se.Ref="'"+i.SheetNames[s]+"'!"+a;break}}V==g.length&&g.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+i.SheetNames[s]+"'!"+a}),Ct(e,161,gn(fi(a))),Ct(e,162)}}(r,g,i,e),function Z2(e,t){!t||!t["!merges"]||(Ct(e,177,function L2(e,t){return null==t&&(t=ft(4)),t.write_shift(4,e),t}(t["!merges"].length)),t["!merges"].forEach(function(i){Ct(e,176,F2(i))}),Ct(e,178))}(r,g),function ek(e,t,i){t["!links"].forEach(function(s){if(s[1].Target){var r=Ci(i,-1,s[1].Target.replace(/#.*$/,""),ii.HLINK);Ct(e,494,function I2(e,t){var i=ft(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));gn({s:Ui(e[0]),e:Ui(e[0])},i),Sh("rId"+t,i);var s=e[1].Target.indexOf("#");return as((-1==s?"":e[1].Target.slice(s+1))||"",i),as(e[1].Tooltip||"",i),as("",i),i.slice(0,i.l)}(s,r))}}),delete t["!links"]}(r,g,s),g["!margins"]&&Ct(r,476,function H2(e,t){return null==t&&(t=ft(48)),Ho(e),gg.forEach(function(i){Oo(e[i],t)}),t}(g["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&function J2(e,t){!t||!t["!ref"]||(Ct(e,648),Ct(e,649,function V2(e){var t=ft(24);return t.write_shift(4,4),t.write_shift(4,1),gn(e,t),t}(fi(t["!ref"]))),Ct(e,650))}(r,g),function tk(e,t,i,s){if(t["!comments"].length>0){var r=Ci(s,-1,"../drawings/vmlDrawing"+(i+1)+".vml",ii.VML);Ct(e,551,Sh("rId"+r)),t["!legacy"]=r}}(r,g,e,s),Ct(r,130),r.end()}var Kh=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],vk="][*?/\\".split("");function xg(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var i=!0;return vk.forEach(function(s){if(-1!=e.indexOf(s)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");i=!1}}),i}function yg(e){var t=[_i];t[t.length]=Et("workbook",null,{xmlns:lo[0],"xmlns:r":Ji.r});var i=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Kh.forEach(function(k){null!=e.Workbook.WBProps[k[0]]&&e.Workbook.WBProps[k[0]]!=k[1]&&(s[k[0]]=e.Workbook.WBProps[k[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=Et("workbookPr",null,s);var r=e.Workbook&&e.Workbook.Sheets||[],a=0;if(r&&r[0]&&r[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&r[a]&&r[a].Hidden;++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var g={name:bi(e.SheetNames[a].slice(0,31))};if(g.sheetId=""+(a+1),g["r:id"]="rId"+(a+1),r[a])switch(r[a].Hidden){case 1:g.state="hidden";break;case 2:g.state="veryHidden"}t[t.length]=Et("sheet",null,g)}return t[t.length]="</sheets>",i&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(k){var V={name:k.Name};k.Comment&&(V.comment=k.Comment),null!=k.Sheet&&(V.localSheetId=""+k.Sheet),k.Hidden&&(V.hidden="1"),k.Ref&&(t[t.length]=Et("definedName",bi(k.Ref),V))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function bk(e,t){return t||(t=ft(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Sh(e.strRelID,t),as(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Fk(e,t){var i=Ts();return Ct(i,131),Ct(i,128,function Pk(e,t){t||(t=ft(127));for(var i=0;4!=i;++i)t.write_shift(4,0);return as("SheetJS",t),as(n.version,t),as(n.version,t),as("7262",t),t.length>t.l?t.slice(0,t.l):t}()),Ct(i,153,function kk(e,t){t||(t=ft(72));var i=0;return e&&e.filterPrivacy&&(i|=8),t.write_shift(4,i),t.write_shift(4,0),zu(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),function Dk(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var i=t.Workbook.Sheets,s=0,r=-1,a=-1;s<i.length;++s)!i[s]||!i[s].Hidden&&-1==r?r=s:1==i[s].Hidden&&-1==a&&(a=s);a>r||(Ct(e,135),Ct(e,158,function Rk(e,t){return t||(t=ft(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e),t.write_shift(1,120),t.length>t.l?t.slice(0,t.l):t}(r)),Ct(e,136))}}(i,e),function Tk(e,t){Ct(e,143);for(var i=0;i!=t.SheetNames.length;++i)Ct(e,156,bk({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[i]&&t.Workbook.Sheets[i].Hidden||0,iTabID:i+1,strRelID:"rId"+(i+1),name:t.SheetNames[i]}));Ct(e,144)}(i,e),Ct(i,132),i.end()}function Xk(e,t,i,s,r){return(".bin"===t.slice(-4)?ok:ug)(e,i,s,r)}function Kk(e,t,i){return(".bin"===t.slice(-4)?Dw:Zp)(e,i)}function Sg(e){return Et("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+jh(e.Ref,{r:0,c:0})})}function dM(e,t,i,s,r,a,g){if(!e||null==e.v&&null==e.f)return"";var k={};if(e.f&&(k["ss:Formula"]="="+bi(jh(e.f,g))),e.F&&e.F.slice(0,t.length)==t){var V=Ui(e.F.slice(t.length+1));k["ss:ArrayRange"]="RC:R"+(V.r==g.r?"":"["+(V.r-g.r)+"]")+"C"+(V.c==g.c?"":"["+(V.c-g.c)+"]")}if(e.l&&e.l.Target&&(k["ss:HRef"]=bi(e.l.Target),e.l.Tooltip&&(k["x:HRefScreenTip"]=bi(e.l.Tooltip))),i["!merges"])for(var se=i["!merges"],ne=0;ne!=se.length;++ne)se[ne].s.c!=g.c||se[ne].s.r!=g.r||(se[ne].e.c>se[ne].s.c&&(k["ss:MergeAcross"]=se[ne].e.c-se[ne].s.c),se[ne].e.r>se[ne].s.r&&(k["ss:MergeDown"]=se[ne].e.r-se[ne].s.r));var fe="",Ce="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":fe="Number",Ce=String(e.v);break;case"b":fe="Boolean",Ce=e.v?"1":"0";break;case"e":fe="Error",Ce=Yr[e.v];break;case"d":fe="DateTime",Ce=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||rt[14]);break;case"s":fe="String",Ce=function Lv(e){return(e+"").replace(ah,function(i){return nh[i]}).replace(gu,function(i){return"&#x"+i.charCodeAt(0).toString(16).toUpperCase()+";"})}(e.v||"")}var ke=go(s.cellXfs,e,s);k["ss:StyleID"]="s"+(21+ke),k["ss:Index"]=g.c+1;var Ee="z"==e.t?"":'<Data ss:Type="'+fe+'">'+(null!=e.v?Ce:"")+"</Data>";return(e.c||[]).length>0&&(Ee+=function cM(e){return e.map(function(t){var i=function Ov(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}(t.t||""),s=Et("ss:Data",i,{xmlns:"http://www.w3.org/TR/REC-html40"});return Et("Comment",s,{"ss:Author":t.a})}).join("")}(e.c)),Et("Cell",Ee,k)}function uM(e,t){var i='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ol(t.hpt)),t.hpx&&(i+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(i+=' ss:Hidden="1"')),i+">"}function gM(e,t,i){var s=[],a=i.Sheets[i.SheetNames[e]],g=a?function lM(e,t,i,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var r=s.Workbook.Names,a=[],g=0;g<r.length;++g){var k=r[g];k.Sheet==i&&(k.Name.match(/^_xlfn\./)||a.push(Sg(k)))}return a.join("")}(a,0,e,i):"";return g.length>0&&s.push("<Names>"+g+"</Names>"),g=a?function pM(e,t,i,s){if(!e["!ref"])return"";var r=fi(e["!ref"]),a=e["!merges"]||[],g=0,k=[];e["!cols"]&&e["!cols"].forEach(function(Te,Ie){uo(Te);var Be=!!Te.width,Le=dl(Ie,Te),Ye={"ss:Index":Ie+1};Be&&(Ye["ss:Width"]=Jn(Le.width)),Te.hidden&&(Ye["ss:Hidden"]="1"),k.push(Et("Column",null,Ye))});for(var V=Array.isArray(e),se=r.s.r;se<=r.e.r;++se){for(var ne=[uM(se,(e["!rows"]||[])[se])],fe=r.s.c;fe<=r.e.c;++fe){var Ce=!1;for(g=0;g!=a.length;++g)if(!(a[g].s.c>fe||a[g].s.r>se||a[g].e.c<fe||a[g].e.r<se)){(a[g].s.c!=fe||a[g].s.r!=se)&&(Ce=!0);break}if(!Ce){var ke={r:se,c:fe},Ae=Kt(ke);ne.push(dM(V?(e[se]||[])[fe]:e[Ae],Ae,e,t,0,0,ke))}}ne.push("</Row>"),ne.length>2&&k.push(ne.join(""))}return k.join("")}(a,t):"",g.length>0&&s.push("<Table>"+g+"</Table>"),s.push(function hM(e,t,i,s){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(Et("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(Et("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(Et("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[i])if(s.Workbook.Sheets[i].Hidden)r.push(Et("Visible",1==s.Workbook.Sheets[i].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<i&&(!s.Workbook.Sheets[a]||s.Workbook.Sheets[a].Hidden);++a);a==i&&r.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push(ps("ProtectContents","True")),e["!protect"].objects&&r.push(ps("ProtectObjects","True")),e["!protect"].scenarios&&r.push(ps("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null!=e["!protect"].selectUnlockedCells&&!e["!protect"].selectUnlockedCells&&r.push(ps("EnableSelection","UnlockedCells")):r.push(ps("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(g){e["!protect"][g[0]]&&r.push("<"+g[1]+"/>")})),0==r.length?"":Et("WorksheetOptions",r.join(""),{xmlns:Qs.x})}(a,0,e,i)),s.join("")}function fM(e,t){t||(t={}),e.SSF||(e.SSF=Mi(rt)),e.SSF&&(hn(),_n(e.SSF),t.revssf=Wa(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],go(t.cellXfs,{},{revssf:{General:0}}));var i=[];i.push(function rM(e,t){var i=[];return e.Props&&i.push(function Lx(e,t){var i=[];return Gi(Dh).map(function(s){for(var r=0;r<$r.length;++r)if($r[r][1]==s)return $r[r];for(r=0;r<Bo.length;++r)if(Bo[r][1]==s)return Bo[r];throw s}).forEach(function(s){if(null!=e[s[1]]){var r=t&&t.Props&&null!=t.Props[s[1]]?t.Props[s[1]]:e[s[1]];"date"===s[2]&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof r?r=String(r):!0===r||!1===r?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),i.push(ps(Dh[s[1]]||s[1],r))}}),Et("DocumentProperties",i.join(""),{xmlns:Qs.o})}(e.Props,t)),e.Custprops&&i.push(function Ox(e,t){var i=["Worksheets","SheetNames"],s="CustomDocumentProperties",r=[];return e&&Gi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var g=0;g<$r.length;++g)if(a==$r[g][1])return;for(g=0;g<Bo.length;++g)if(a==Bo[g][1])return;for(g=0;g<i.length;++g)if(a==i[g])return;var k=e[a],V="string";"number"==typeof k?(V="float",k=String(k)):!0===k||!1===k?(V="boolean",k=k?"1":"0"):k=String(k),r.push(Et(pu(a),k,{"dt:dt":V}))}}),t&&Gi(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&(!e||!Object.prototype.hasOwnProperty.call(e,a))){var g=t[a],k="string";"number"==typeof g?(k="float",g=String(g)):!0===g||!1===g?(k="boolean",g=g?"1":"0"):g instanceof Date?(k="dateTime.tz",g=g.toISOString()):g=String(g),r.push(Et(pu(a),g,{"dt:dt":k}))}}),"<"+s+' xmlns="'+Qs.o+'">'+r.join("")+"</"+s+">"}(e.Props,e.Custprops)),i.join("")}(e,t)),i.push(""),i.push(""),i.push("");for(var s=0;s<e.SheetNames.length;++s)i.push(Et("Worksheet",gM(s,t,e),{"ss:Name":bi(e.SheetNames[s])}));return i[2]=function nM(e,t){var i=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,r){var a=[];a.push(Et("NumberFormat",null,{"ss:Format":bi(rt[s.numFmtId])}));var g={"ss:ID":"s"+(21+r)};i.push(Et("Style",a.join(""),g))}),Et("Styles",i.join(""))}(0,t),i[3]=function aM(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,i=[],s=0;s<t.length;++s){var r=t[s];null==r.Sheet&&(r.Name.match(/^_xlfn\./)||i.push(Sg(r)))}return Et("Names",i.join(""))}(e),_i+Et("Workbook",i.join(""),{xmlns:Qs.ss,"xmlns:o":Qs.o,"xmlns:x":Qs.x,"xmlns:ss":Qs.ss,"xmlns:dt":Qs.dt,"xmlns:html":Qs.html})}var la={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};var ha={0:{f:function US(e,t){var i={},s=e.l+t;i.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=s,7&a&&(i.level=7&a),16&a&&(i.hidden=!0),32&a&&(i.hpt=r/20),i}},1:{f:function JS(e){return[or(e)]}},2:{f:function x2(e){return[or(e),kh(e),"n"]}},3:{f:function a2(e){return[or(e),e.read_shift(1),"e"]}},4:{f:function s2(e){return[or(e),e.read_shift(1),"b"]}},5:{f:function f2(e){return[or(e),Cs(e),"n"]}},6:{f:function S2(e){return[or(e),xs(e),"str"]}},7:{f:function d2(e){return[or(e),e.read_shift(4),"s"]}},8:{f:function R2(e,t,i){var s=e.l+t,r=or(e);r.r=i["!row"];var g=[r,xs(e),"str"];if(i.cellFormula){e.l+=2;var k=hl(e,s-e.l,i);g[3]=bs(k,0,r,i.supbooks,i)}else e.l=s;return g}},9:{f:function P2(e,t,i){var s=e.l+t,r=or(e);r.r=i["!row"];var g=[r,Cs(e),"n"];if(i.cellFormula){e.l+=2;var k=hl(e,s-e.l,i);g[3]=bs(k,0,r,i.supbooks,i)}else e.l=s;return g}},10:{f:function A2(e,t,i){var s=e.l+t,r=or(e);r.r=i["!row"];var g=[r,e.read_shift(1),"b"];if(i.cellFormula){e.l+=2;var k=hl(e,s-e.l,i);g[3]=bs(k,0,r,i.supbooks,i)}else e.l=s;return g}},11:{f:function T2(e,t,i){var s=e.l+t,r=or(e);r.r=i["!row"];var g=[r,e.read_shift(1),"e"];if(i.cellFormula){e.l+=2;var k=hl(e,s-e.l,i);g[3]=bs(k,0,r,i.supbooks,i)}else e.l=s;return g}},12:{f:function t2(e){return[Do(e)]}},13:{f:function y2(e){return[Do(e),kh(e),"n"]}},14:{f:function h2(e){return[Do(e),e.read_shift(1),"e"]}},15:{f:function o2(e){return[Do(e),e.read_shift(1),"b"]}},16:{f:function pg(e){return[Do(e),Cs(e),"n"]}},17:{f:function M2(e){return[Do(e),xs(e),"str"]}},18:{f:function p2(e){return[Do(e),e.read_shift(4),"s"]}},19:{f:yh},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function Ek(e,t,i){var s=e.l+t;e.l+=4,e.l+=1;var r=e.read_shift(4),a=nx(e),g=aS(e,0,i),k=wh(e);e.l=s;var V={Name:a,Ptg:g};return r<268435455&&(V.Sheet=r),k&&(V.Comment=k),V}},40:{},42:{},43:{f:function Sy(e,t,i){var s={};s.sz=e.read_shift(2)/20;var r=function hx(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(r.fItalic&&(s.italic=1),r.fCondense&&(s.condense=1),r.fExtend&&(s.extend=1),r.fShadow&&(s.shadow=1),r.fOutline&&(s.outline=1),r.fStrikeout&&(s.strike=1),700===e.read_shift(2)&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript"}var g=e.read_shift(1);0!=g&&(s.underline=g);var k=e.read_shift(1);k>0&&(s.family=k);var V=e.read_shift(1);switch(V>0&&(s.charset=V),e.l++,s.color=function lx(e){var t={},s=e.read_shift(1)>>>1,r=e.read_shift(1),a=e.read_shift(2,"i"),g=e.read_shift(1),k=e.read_shift(1),V=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=r;var se=Io[r];se&&(t.rgb=Qn(se));break;case 2:t.rgb=Qn([g,k,V]);break;case 3:t.theme=r}return 0!=a&&(t.tint=a>0?a/32767:a/32768),t}(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor"}return s.name=xs(e),s}},44:{f:function wy(e,t){return[e.read_shift(2),xs(e)]}},45:{f:Ey},46:{f:Ty},47:{f:function Ay(e,t){var i=e.l+t,s=e.read_shift(2),r=e.read_shift(2);return e.l=i,{ixfe:s,numFmtId:r}}},48:{},49:{f:function Jv(e){return e.read_shift(4,"i")}},50:{},51:{f:function lw(e){for(var t=[],i=e.read_shift(4);i-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function Dp(e,t,i){if(!i.cellStyles)return vs(e,t);var s=i&&i.biff>=12?4:2,r=e.read_shift(s),a=e.read_shift(s),g=e.read_shift(s),k=e.read_shift(s),V=e.read_shift(2);2==s&&(e.l+=2);var se={s:r,e:a,w:g,ixfe:k,flags:V};return(i.biff>=5||!i.biff)&&(se.level=V>>8&7),se}},62:{f:function b2(e){return[or(e),yh(e),"is"]}},63:{f:function vw(e){var t={};t.i=e.read_shift(4);var i={};i.r=e.read_shift(4),i.c=e.read_shift(4),t.r=Kt(i);var s=e.read_shift(1);return 2&s&&(t.l="1"),8&s&&(t.a="1"),t}},64:{f:function X2(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:vs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function W2(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function ZS(e,t){var i={},s=e[e.l];return++e.l,i.above=!(64&s),i.left=!(128&s),e.l+=18,i.name=ox(e,t-19),i}},148:{f:$S,p:16},151:{f:function B2(){}},152:{},153:{f:function Sk(e,t){var i={},s=e.read_shift(4);i.defaultThemeVersion=e.read_shift(4);var r=t>8?xs(e):"";return r.length>0&&(i.CodeName=r),i.autoCompressPictures=!!(65536&s),i.backupFile=!!(64&s),i.checkCompatibility=!!(4096&s),i.date1904=!!(1&s),i.filterPrivacy=!!(8&s),i.hidePivotFieldList=!!(1024&s),i.promptedSolutions=!!(16&s),i.publishItems=!!(2048&s),i.refreshAllConnections=!!(262144&s),i.saveExternalLinkValues=!!(128&s),i.showBorderUnselectedTables=!!(4&s),i.showInkAnnotation=!!(32&s),i.showObjects=["all","placeholders","none"][s>>13&3],i.showPivotChartFilter=!!(32768&s),i.updateLinks=["userSet","never","always"][s>>8&3],i}},154:{},155:{},156:{f:function wk(e,t){var i={};return i.Hidden=e.read_shift(4),i.iTabID=e.read_shift(4),i.strRelID=bh(e,t-8),i.name=xs(e),i}},157:{},158:{},159:{T:1,f:function jC(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:Lo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:D2},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function nw(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:xs(e)}}},336:{T:-1},337:{f:function dw(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bh},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function Pp(e,t,i){if(i.biff<8)return function $1(e,t,i){3==e[e.l+1]&&e[e.l]++;var s=qn(e,0,i);return 3==s.charCodeAt(0)?s.slice(1):s}(e,0,i);for(var s=[],r=e.l+t,a=e.read_shift(i.biff>8?4:2);0!=a--;)s.push(i1(e,0,i));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return s}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function N2(e,t,i){var s=e.l+t,r=Hu(e),a=e.read_shift(1),g=[r];if(g[2]=a,i.cellFormula){var k=nS(e,s-e.l,i);g[1]=k}else e.l=s;return g}},427:{f:function G2(e,t,i){var s=e.l+t,a=[Lo(e,16)];if(i.cellFormula){var g=lS(e,s-e.l,i);a[1]=g,e.l=s}else e.l=s;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function _2(e){var t={};return gg.forEach(function(i){t[i]=Cs(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function qS(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function O2(e,t){var i=e.l+t,s=Lo(e,16),r=wh(e),a=xs(e),g=xs(e),k=xs(e);e.l=i;var V={rfx:s,relId:r,loc:a,display:k};return g&&(V.Tooltip=g),V}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bh},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Tw},633:{T:1},634:{T:-1},635:{T:1,f:function Ew(e){var t={};t.iauthor=e.read_shift(4);var i=Lo(e,16);return t.rfx=i.s,t.ref=Kt(i.s),e.l+=16,t}},636:{T:-1},637:{f:sx},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function ck(e,t){return e.l+=10,{name:xs(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function Y2(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Pt(e,t,i,s){var r=t;if(!isNaN(r)){var a=s||(i||[]).length||0,g=e.next(4);g.write_shift(2,r),g.write_shift(2,a),a>0&&mh(i)&&e.push(i)}}function ca(e,t,i){return e||(e=ft(7)),e.write_shift(2,t),e.write_shift(2,i),e.write_shift(2,0),e.write_shift(1,0),e}function EM(e,t,i,s){if(null!=t.v)switch(t.t){case"d":case"n":var r="d"==t.t?os(Ii(t.v)):t.v;return void(r==(0|r)&&r>=0&&r<65536?Pt(e,2,function AC(e,t,i){var s=ft(9);return ca(s,e,t),s.write_shift(2,i),s}(i,s,r)):Pt(e,3,function MC(e,t,i){var s=ft(15);return ca(s,e,t),s.write_shift(8,i,"f"),s}(i,s,r)));case"b":case"e":return void Pt(e,5,function kM(e,t,i,s){var r=ft(9);return ca(r,e,t),pp(i,s||"b",r),r}(i,s,t.v,t.t));case"s":case"str":return void Pt(e,4,function MM(e,t,i){var s=ft(8+2*i.length);return ca(s,e,t),s.write_shift(1,i.length),s.write_shift(i.length,i,"sbcs"),s.l<s.length?s.slice(0,s.l):s}(i,s,(t.v||"").slice(0,255)))}Pt(e,1,ca(null,i,s))}function IM(e,t,i,s,r){var a=16+go(r.cellXfs,t,r);if(null!=t.v||t.bf)if(t.bf)Pt(e,6,function oS(e,t,i,s,r){var a=zo(t,i,r),g=function rS(e){if(null==e){var t=ft(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Oo("number"==typeof e?e:0)}(e.v),k=ft(6);k.write_shift(2,33),k.write_shift(4,0);for(var se=ft(e.bf.length),ne=0;ne<e.bf.length;++ne)se[ne]=e.bf[ne];return re([a,g,k,se])}(t,i,s,0,a));else switch(t.t){case"d":case"n":Pt(e,515,function U1(e,t,i,s){var r=ft(14);return zo(e,t,s,r),Oo(i,r),r}(i,s,"d"==t.t?os(Ii(t.v)):t.v,a));break;case"b":case"e":Pt(e,517,function j1(e,t,i,s,r,a){var g=ft(8);return zo(e,t,s,g),pp(i,a,g),g}(i,s,t.v,a,0,t.t));break;case"s":case"str":r.bookSST?Pt(e,253,function P1(e,t,i,s){var r=ft(10);return zo(e,t,s,r),r.write_shift(4,i),r}(i,s,Yh(r.Strings,t.v,r.revStrings),a)):Pt(e,516,function D1(e,t,i,s,r){var a=!r||8==r.biff,g=ft(+a+8+(1+a)*i.length);return zo(e,t,s,g),g.write_shift(2,i.length),a&&g.write_shift(1,1),g.write_shift((1+a)*i.length,i,a?"utf16le":"sbcs"),g}(i,s,(t.v||"").slice(0,255),a,r));break;default:Pt(e,513,zo(i,s,a))}else Pt(e,513,zo(i,s,a))}function BM(e,t,i){var ne,s=Ts(),r=i.SheetNames[e],a=i.Sheets[r]||{},g=(i||{}).Workbook||{},k=(g.Sheets||[])[e]||{},V=Array.isArray(a),se=8==t.biff,fe="",Ce=[],ke=fi(a["!ref"]||"A1"),Ae=se?65536:16384;if(ke.e.c>255||ke.e.r>=Ae){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");ke.e.c=Math.min(ke.e.c,255),ke.e.r=Math.min(ke.e.c,Ae-1)}Pt(s,2057,Ih(0,16,t)),Pt(s,13,nr(1)),Pt(s,12,nr(100)),Pt(s,15,Rs(!0)),Pt(s,17,Rs(!1)),Pt(s,16,Oo(.001)),Pt(s,95,Rs(!0)),Pt(s,42,Rs(!1)),Pt(s,43,Rs(!1)),Pt(s,130,nr(1)),Pt(s,128,function W1(e){var t=ft(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),Pt(s,131,Rs(!1)),Pt(s,132,Rs(!1)),se&&function OM(e,t){if(t){var i=0;t.forEach(function(s,r){++i<=256&&s&&Pt(e,125,function fC(e,t){var i=ft(12);i.write_shift(2,t),i.write_shift(2,t),i.write_shift(2,256*e.width),i.write_shift(2,0);var s=0;return e.hidden&&(s|=1),i.write_shift(1,s),i.write_shift(1,s=e.level||0),i.write_shift(2,0),i}(dl(r,s),r))})}}(s,a["!cols"]),Pt(s,512,function I1(e,t){var i=8!=t.biff&&t.biff?2:4,s=ft(2*i+6);return s.write_shift(i,e.s.r),s.write_shift(i,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}(ke,t)),se&&(a["!links"]=[]);for(var Ee=ke.s.r;Ee<=ke.e.r;++Ee){fe=Hi(Ee);for(var Te=ke.s.c;Te<=ke.e.c;++Te){Ee===ke.s.r&&(Ce[Te]=Ti(Te)),ne=Ce[Te]+fe;var Ie=V?(a[Ee]||[])[Te]:a[ne];Ie&&(IM(s,Ie,Ee,Te,t),se&&Ie.l&&a["!links"].push([ne,Ie.l]))}}var Be=k.CodeName||k.name||r;return se&&Pt(s,574,function k1(e){var t=ft(18),i=1718;return e&&e.RTL&&(i|=64),t.write_shift(2,i),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((g.Views||[])[0])),se&&(a["!merges"]||[]).length&&Pt(s,229,function tC(e){var t=ft(2+8*e.length);t.write_shift(2,e.length);for(var i=0;i<e.length;++i)Cp(e[i],t);return t}(a["!merges"])),se&&function LM(e,t){for(var i=0;i<t["!links"].length;++i){var s=t["!links"][i];Pt(e,440,aC(s)),s[1].Tooltip&&Pt(e,2048,hC(s))}delete t["!links"]}(s,a),Pt(s,442,gp(Be)),se&&function DM(e,t){var i=ft(19);i.write_shift(4,2151),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,3),i.write_shift(1,1),i.write_shift(4,0),Pt(e,2151,i),(i=ft(39)).write_shift(4,2152),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,3),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(2,1),i.write_shift(4,4),i.write_shift(2,0),Cp(fi(t["!ref"]||"A1"),i),i.write_shift(4,4),Pt(e,2152,i)}(s,a),Pt(s,10),s.end()}function NM(e,t,i){var s=Ts(),r=(e||{}).Workbook||{},a=r.Sheets||[],g=r.WBProps||{},k=8==i.biff,V=5==i.biff;Pt(s,2057,Ih(0,5,i)),"xla"==i.bookType&&Pt(s,135),Pt(s,225,k?nr(1200):null),Pt(s,193,function jx(e,t){t||(t=ft(e));for(var i=0;i<e;++i)t.write_shift(1,0);return t}(2)),V&&Pt(s,191),V&&Pt(s,192),Pt(s,226),Pt(s,92,function d1(e,t){var i=!t||8==t.biff,s=ft(i?112:54);for(s.write_shift(8==t.biff?2:1,7),i&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(i?0:536870912));s.l<s.length;)s.write_shift(1,i?0:32);return s}(0,i)),Pt(s,66,nr(k?1200:1252)),k&&Pt(s,353,nr(0)),k&&Pt(s,448),Pt(s,317,function xC(e){for(var t=ft(2*e),i=0;i<e;++i)t.write_shift(2,i+1);return t}(e.SheetNames.length)),k&&e.vbaraw&&Pt(s,211),k&&e.vbaraw&&Pt(s,442,gp(g.CodeName||"ThisWorkbook")),Pt(s,156,nr(17)),Pt(s,25,Rs(!1)),Pt(s,18,Rs(!1)),Pt(s,19,nr(0)),k&&Pt(s,431,Rs(!1)),k&&Pt(s,444,nr(0)),Pt(s,61,function b1(){var e=ft(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),Pt(s,64,Rs(!1)),Pt(s,141,nr(0)),Pt(s,34,Rs("true"==function mk(e){return e.Workbook&&e.Workbook.WBProps&&function Li(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),Pt(s,14,Rs(!0)),k&&Pt(s,439,Rs(!1)),Pt(s,218,nr(0)),function PM(e,t,i){Pt(e,49,function A1(e,t){var i=e.name||"Arial",s=t&&5==t.biff,a=ft(s?15+i.length:16+2*i.length);return a.write_shift(2,20*(e.sz||12)),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,i.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*i.length,i,s?"sbcs":"utf16le"),a}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},i))}(s,0,i),function RM(e,t,i){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var r=s[0];r<=s[1];++r)null!=t[r]&&Pt(e,1054,L1(r,t[r],i))})}(s,e.SSF,i),function FM(e,t){for(var i=0;i<16;++i)Pt(e,224,kp({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){Pt(e,224,kp(s,0,t))})}(s,i),k&&Pt(s,352,Rs(!1));var ne=s.end(),fe=Ts();k&&Pt(fe,140,function dC(e){return e||(e=ft(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),k&&i.Strings&&function SM(e,t,i,s){var r=s||(i||[]).length||0;if(r<=8224)return Pt(e,t,i,r);var a=t;if(!isNaN(a)){for(var g=i.parts||[],k=0,V=0,se=0;se+(g[k]||8224)<=8224;)se+=g[k]||8224,k++;var ne=e.next(4);for(ne.write_shift(2,a),ne.write_shift(2,se),e.push(i.slice(V,V+se)),V+=se;V<r;){for((ne=e.next(4)).write_shift(2,60),se=0;se+(g[k]||8224)<=8224;)se+=g[k]||8224,k++;ne.write_shift(2,se),e.push(i.slice(V,V+se)),V+=se}}}(fe,252,function m1(e,t){var i=ft(8);i.write_shift(4,e.Count),i.write_shift(4,e.Unique);for(var s=[],r=0;r<e.length;++r)s[r]=Yx(e[r]);var a=re([i].concat(s));return a.parts=[i.length].concat(s.map(function(g){return g.length})),a}(i.Strings)),Pt(fe,10);var Ce=fe.end(),ke=Ts(),Ae=0,Ee=0;for(Ee=0;Ee<e.SheetNames.length;++Ee)Ae+=(k?12:11)+(k?2:1)*e.SheetNames[Ee].length;var Te=ne.length+Ae+Ce.length;for(Ee=0;Ee<e.SheetNames.length;++Ee)Pt(ke,133,g1({pos:Te,hs:(a[Ee]||{}).Hidden||0,dt:0,name:e.SheetNames[Ee]},i)),Te+=t[Ee].length;var Be=ke.end();if(Ae!=Be.length)throw new Error("BS8 "+Ae+" != "+Be.length);var Le=[];return ne.length&&Le.push(ne),Be.length&&Le.push(Be),Ce.length&&Le.push(Ce),re(Le)}function Mg(e,t){for(var i=0;i<=e.SheetNames.length;++i){var s=e.Sheets[e.SheetNames[i]];s&&s["!ref"]&&Ps(s["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[i]+"' extends beyond column IV (255).  Data may be lost.")}var a=t||{};switch(a.biff||2){case 8:case 5:return function GM(e,t){var i=t||{},s=[];e&&!e.SSF&&(e.SSF=Mi(rt)),e&&e.SSF&&(hn(),_n(e.SSF),i.revssf=Wa(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,oc(i),i.cellXfs=[],go(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)s[s.length]=BM(r,i,e);return s.unshift(NM(e,s,i)),re(s)}(e,t);case 4:case 3:case 2:return function TM(e,t){var i=t||{};null!=X&&null==i.dense&&(i.dense=X);for(var s=Ts(),r=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==i.sheet&&(r=a);if(0==r&&i.sheet&&e.SheetNames[0]!=i.sheet)throw new Error("Sheet not found: "+i.sheet);return Pt(s,4==i.biff?1033:3==i.biff?521:9,Ih(0,16,i)),function AM(e,t,i,s){var g,r=Array.isArray(t),a=fi(t["!ref"]||"A1"),k="",V=[];if(a.e.c>255||a.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),g=ti(a)}for(var se=a.s.r;se<=a.e.r;++se){k=Hi(se);for(var ne=a.s.c;ne<=a.e.c;++ne){se===a.s.r&&(V[ne]=Ti(ne)),g=V[ne]+k;var fe=r?(t[se]||[])[ne]:t[g];fe&&EM(e,fe,se,ne)}}}(s,e.Sheets[e.SheetNames[r]],0,i),Pt(s,10),s.end()}(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function Ag(e,t,i,s){for(var r=e["!merges"]||[],a=[],g=t.s.c;g<=t.e.c;++g){for(var k=0,V=0,se=0;se<r.length;++se)if(!(r[se].s.r>i||r[se].s.c>g||r[se].e.r<i||r[se].e.c<g)){if(r[se].s.r<i||r[se].s.c<g){k=-1;break}k=r[se].e.r-r[se].s.r+1,V=r[se].e.c-r[se].s.c+1;break}if(!(k<0)){var ne=Kt({r:i,c:g}),fe=s.dense?(e[i]||[])[g]:e[ne],Ce=fe&&null!=fe.v&&(fe.h||fu(fe.w||(Dr(fe),fe.w)||""))||"",ke={};k>1&&(ke.rowspan=k),V>1&&(ke.colspan=V),s.editable?Ce='<span contenteditable="true">'+Ce+"</span>":fe&&(ke["data-t"]=fe&&fe.t||"z",null!=fe.v&&(ke["data-v"]=fe.v),null!=fe.z&&(ke["data-z"]=fe.z),fe.l&&"#"!=(fe.l.Target||"#").charAt(0)&&(Ce='<a href="'+fe.l.Target+'">'+Ce+"</a>")),ke.id=(s.id||"sjs")+"-"+ne,a.push(Et("td",Ce,ke))}}return"<tr>"+a.join("")+"</tr>"}var Tg='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Pg="</body></html>";function Dg(e,t){var i=t||{},r=null!=i.footer?i.footer:Pg,a=[null!=i.header?i.header:Tg],g=Ps(e["!ref"]);i.dense=Array.isArray(e),a.push(function Rg(e,t,i){return[].join("")+"<table"+(i&&i.id?' id="'+i.id+'"':"")+">"}(0,0,i));for(var k=g.s.r;k<=g.e.r;++k)a.push(Ag(e,g,k,i));return a.push("</table>"+r),a.join("")}function Fg(e,t,i){var s=i||{};null!=X&&(s.dense=X);var r=0,a=0;if(null!=s.origin)if("number"==typeof s.origin)r=s.origin;else{var g="string"==typeof s.origin?Ui(s.origin):s.origin;r=g.r,a=g.c}var k=t.getElementsByTagName("tr"),V=Math.min(s.sheetRows||1e7,k.length),se={s:{r:0,c:0},e:{r,c:a}};if(e["!ref"]){var ne=Ps(e["!ref"]);se.s.r=Math.min(se.s.r,ne.s.r),se.s.c=Math.min(se.s.c,ne.s.c),se.e.r=Math.max(se.e.r,ne.e.r),se.e.c=Math.max(se.e.c,ne.e.c),-1==r&&(se.e.r=r=ne.e.r+1)}var fe=[],Ce=0,ke=e["!rows"]||(e["!rows"]=[]),Ae=0,Ee=0,Te=0,Ie=0,Be=0,Le=0;for(e["!cols"]||(e["!cols"]=[]);Ae<k.length&&Ee<V;++Ae){var Ye=k[Ae];if(Og(Ye)){if(s.display)continue;ke[Ee]={hidden:!0}}var Ze=Ye.children;for(Te=Ie=0;Te<Ze.length;++Te){var tt=Ze[Te];if(!s.display||!Og(tt)){var We=tt.hasAttribute("data-v")?tt.getAttribute("data-v"):tt.hasAttribute("v")?tt.getAttribute("v"):Cu(tt.innerHTML),Je=tt.getAttribute("data-z")||tt.getAttribute("z");for(Ce=0;Ce<fe.length;++Ce){var et=fe[Ce];et.s.c==Ie+a&&et.s.r<Ee+r&&Ee+r<=et.e.r&&(Ie=et.e.c+1-a,Ce=-1)}Le=+tt.getAttribute("colspan")||1,((Be=+tt.getAttribute("rowspan")||1)>1||Le>1)&&fe.push({s:{r:Ee+r,c:Ie+a},e:{r:Ee+r+(Be||1)-1,c:Ie+a+(Le||1)-1}});var pt={t:"s",v:We},gt=tt.getAttribute("data-t")||tt.getAttribute("t")||"";null!=We&&(0==We.length?pt.t=gt||"z":s.raw||0==We.trim().length||"s"==gt||("TRUE"===We?pt={t:"b",v:!0}:"FALSE"===We?pt={t:"b",v:!1}:isNaN(yr(We))?isNaN(cn(We).getDate())||(pt={t:"d",v:Ii(We)},s.cellDates||(pt={t:"n",v:os(pt.v)}),pt.z=s.dateNF||rt[14]):pt={t:"n",v:yr(We)})),void 0===pt.z&&null!=Je&&(pt.z=Je);var st="",Rt=tt.getElementsByTagName("A");if(Rt&&Rt.length)for(var Wt=0;Wt<Rt.length&&(!Rt[Wt].hasAttribute("href")||"#"==(st=Rt[Wt].getAttribute("href")).charAt(0));++Wt);st&&"#"!=st.charAt(0)&&(pt.l={Target:st}),s.dense?(e[Ee+r]||(e[Ee+r]=[]),e[Ee+r][Ie+a]=pt):e[Kt({c:Ie+a,r:Ee+r})]=pt,se.e.c<Ie+a&&(se.e.c=Ie+a),Ie+=Le}}++Ee}return fe.length&&(e["!merges"]=(e["!merges"]||[]).concat(fe)),se.e.r=Math.max(se.e.r,Ee-1+r),e["!ref"]=ti(se),Ee>=V&&(e["!fullref"]=ti((se.e.r=k.length-Ae+Ee-1+r,se))),e}function Lg(e,t){return Fg((t||{}).dense?[]:{},e,t)}function Og(e){var t="",i=function HM(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return i&&(t=i(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var jM=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+jn({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return _i+t}}(),zg=function(){var e=function(a){return bi(a).replace(/  +/g,function(g){return'<text:s text:c="'+g.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",s=function(a,g,k){var V=[];V.push('      <table:table table:name="'+bi(g.SheetNames[k])+'" table:style-name="ta1">\n');var se=0,ne=0,fe=Ps(a["!ref"]||"A1"),Ce=a["!merges"]||[],ke=0,Ae=Array.isArray(a);if(a["!cols"])for(ne=0;ne<=fe.e.c;++ne)V.push("        <table:table-column"+(a["!cols"][ne]?' table:style-name="co'+a["!cols"][ne].ods+'"':"")+"></table:table-column>\n");var Te=a["!rows"]||[];for(se=0;se<fe.s.r;++se)V.push("        <table:table-row"+(Te[se]?' table:style-name="ro'+Te[se].ods+'"':"")+"></table:table-row>\n");for(;se<=fe.e.r;++se){for(V.push("        <table:table-row"+(Te[se]?' table:style-name="ro'+Te[se].ods+'"':"")+">\n"),ne=0;ne<fe.s.c;++ne)V.push(t);for(;ne<=fe.e.c;++ne){var Ie=!1,Be={},Le="";for(ke=0;ke!=Ce.length;++ke)if(!(Ce[ke].s.c>ne||Ce[ke].s.r>se||Ce[ke].e.c<ne||Ce[ke].e.r<se)){(Ce[ke].s.c!=ne||Ce[ke].s.r!=se)&&(Ie=!0),Be["table:number-columns-spanned"]=Ce[ke].e.c-Ce[ke].s.c+1,Be["table:number-rows-spanned"]=Ce[ke].e.r-Ce[ke].s.r+1;break}if(Ie)V.push("          <table:covered-table-cell/>\n");else{var Ye=Kt({r:se,c:ne}),Ze=Ae?(a[se]||[])[ne]:a[Ye];if(Ze&&Ze.f&&(Be["table:formula"]=bi(dS(Ze.f)),Ze.F&&Ze.F.slice(0,Ye.length)==Ye)){var tt=Ps(Ze.F);Be["table:number-matrix-columns-spanned"]=tt.e.c-tt.s.c+1,Be["table:number-matrix-rows-spanned"]=tt.e.r-tt.s.r+1}if(Ze){switch(Ze.t){case"b":Le=Ze.v?"TRUE":"FALSE",Be["office:value-type"]="boolean",Be["office:boolean-value"]=Ze.v?"true":"false";break;case"n":Le=Ze.w||String(Ze.v||0),Be["office:value-type"]="float",Be["office:value"]=Ze.v||0;break;case"s":case"str":Le=null==Ze.v?"":Ze.v,Be["office:value-type"]="string";break;case"d":Le=Ze.w||Ii(Ze.v).toISOString(),Be["office:value-type"]="date",Be["office:date-value"]=Ii(Ze.v).toISOString(),Be["table:style-name"]="ce1";break;default:V.push(t);continue}var We=e(Le);if(Ze.l&&Ze.l.Target){var Je=Ze.l.Target;"#"!=(Je="#"==Je.charAt(0)?"#"+uS(Je.slice(1)):Je).charAt(0)&&!Je.match(/^\w+:/)&&(Je="../"+Je),We=Et("text:a",We,{"xlink:href":Je.replace(/&/g,"&amp;")})}V.push("          "+Et("table:table-cell",Et("text:p",We,{}),Be)+"\n")}else V.push(t)}}V.push("        </table:table-row>\n")}return V.push("      </table:table>\n"),V.join("")};return function(g,k){var V=[_i],se=jn({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),ne=jn({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==k.bookType?(V.push("<office:document"+se+ne+">\n"),V.push($u().replace(/office:document-meta/g,"office:meta"))):V.push("<office:document-content"+se+">\n"),function(a,g){a.push(" <office:automatic-styles>\n"),a.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),a.push('   <number:month number:style="long"/>\n'),a.push("   <number:text>/</number:text>\n"),a.push('   <number:day number:style="long"/>\n'),a.push("   <number:text>/</number:text>\n"),a.push("   <number:year/>\n"),a.push("  </number:date-style>\n");var k=0;g.SheetNames.map(function(se){return g.Sheets[se]}).forEach(function(se){if(se&&se["!cols"])for(var ne=0;ne<se["!cols"].length;++ne)if(se["!cols"][ne]){var fe=se["!cols"][ne];if(null==fe.width&&null==fe.wpx&&null==fe.wch)continue;uo(fe),fe.ods=k;var Ce=se["!cols"][ne].wpx+"px";a.push('  <style:style style:name="co'+k+'" style:family="table-column">\n'),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+Ce+'"/>\n'),a.push("  </style:style>\n"),++k}});var V=0;g.SheetNames.map(function(se){return g.Sheets[se]}).forEach(function(se){if(se&&se["!rows"])for(var ne=0;ne<se["!rows"].length;++ne)if(se["!rows"][ne]){se["!rows"][ne].ods=V;var fe=se["!rows"][ne].hpx+"px";a.push('  <style:style style:name="ro'+V+'" style:family="table-row">\n'),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+fe+'"/>\n'),a.push("  </style:style>\n"),++V}}),a.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),a.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),a.push("  </style:style>\n"),a.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),a.push(" </office:automatic-styles>\n")}(V,g),V.push("  <office:body>\n"),V.push("    <office:spreadsheet>\n");for(var fe=0;fe!=g.SheetNames.length;++fe)V.push(s(g.Sheets[g.SheetNames[fe]],g,fe));return V.push("    </office:spreadsheet>\n"),V.push("  </office:body>\n"),V.push("fods"==k.bookType?"</office:document>":"</office:document-content>"),V.join("")}}();function _g(e,t){if("fods"==t.bookType)return zg(e,t);var i=oh(),s="",r=[],a=[];return ri(i,s="mimetype","application/vnd.oasis.opendocument.spreadsheet"),ri(i,s="content.xml",zg(e,t)),r.push([s,"text/xml"]),a.push([s,"ContentFile"]),ri(i,s="styles.xml",jM(e,t)),r.push([s,"text/xml"]),a.push([s,"StylesFile"]),ri(i,s="meta.xml",_i+$u()),r.push([s,"text/xml"]),a.push([s,"MetadataFile"]),ri(i,s="manifest.rdf",function Ax(e){var t=[_i];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var i=0;i!=e.length;++i)t.push(Yu(e[i][0],e[i][1])),t.push(Ex("",e[i][0]));return t.push(Yu("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(a)),r.push([s,"application/rdf+xml"]),ri(i,s="META-INF/manifest.xml",function Mx(e){var t=[_i];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var i=0;i<e.length;++i)t.push('  <manifest:file-entry manifest:full-path="'+e[i][0]+'" manifest:media-type="'+e[i][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(r)),i}function Wo(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function VM(e){return typeof TextEncoder<"u"?(new TextEncoder).encode(e):ue(Rr(e))}function fo(e){var t=e.reduce(function(r,a){return r+a.length},0),i=new Uint8Array(t),s=0;return e.forEach(function(r){i.set(r,s),s+=r.length}),i}function da(e,t){var i=t?t[0]:0,s=127&e[i];e:if(e[i++]>=128&&(s|=(127&e[i])<<7,e[i++]<128||(s|=(127&e[i])<<14,e[i++]<128)||(s|=(127&e[i])<<21,e[i++]<128)||(s+=(127&e[i])*Math.pow(2,28),++i,e[i++]<128)||(s+=(127&e[i])*Math.pow(2,35),++i,e[i++]<128)||(s+=(127&e[i])*Math.pow(2,42),++i,e[i++]<128)))break e;return t&&(t[0]=i),s}function yi(e){var t=new Uint8Array(7);t[0]=127&e;var i=1;e:if(e>127){if(t[i-1]|=128,t[i]=e>>7&127,++i,e<=16383||(t[i-1]|=128,t[i]=e>>14&127,++i,e<=2097151)||(t[i-1]|=128,t[i]=e>>21&127,++i,e<=268435455)||(t[i-1]|=128,t[i]=e/256>>>21&127,++i,e<=34359738367)||(t[i-1]|=128,t[i]=e/65536>>>21&127,++i,e<=4398046511103))break e;t[i-1]|=128,t[i]=e/16777216>>>21&127,++i}return t.slice(0,i)}function Wi(e){var t=0,i=127&e[t];e:if(e[t++]>=128){if(i|=(127&e[t])<<7,e[t++]<128||(i|=(127&e[t])<<14,e[t++]<128)||(i|=(127&e[t])<<21,e[t++]<128))break e;i|=(127&e[t])<<28}return i}function vi(e){for(var t=[],i=[0];i[0]<e.length;){var k,s=i[0],r=da(e,i),a=7&r,g=0;if(0==(r=Math.floor(r/8)))break;switch(a){case 0:for(var V=i[0];e[i[0]++]>=128;);k=e.slice(V,i[0]);break;case 5:k=e.slice(i[0],i[0]+(g=4)),i[0]+=g;break;case 1:k=e.slice(i[0],i[0]+(g=8)),i[0]+=g;break;case 2:g=da(e,i),k=e.slice(i[0],i[0]+g),i[0]+=g;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(r," at offset ").concat(s))}var se={data:k,type:a};null==t[r]?t[r]=[se]:t[r].push(se)}return t}function hs(e){var t=[];return e.forEach(function(i,s){i.forEach(function(r){r.data&&(t.push(yi(8*s+r.type)),2==r.type&&t.push(yi(r.data.length)),t.push(r.data))})}),fo(t)}function ar(e){for(var t,i=[],s=[0];s[0]<e.length;){var r=da(e,s),a=vi(e.slice(s[0],s[0]+r));s[0]+=r;var g={id:Wi(a[1][0].data),messages:[]};a[2].forEach(function(k){var V=vi(k.data),se=Wi(V[3][0].data);g.messages.push({meta:V,data:e.slice(s[0],s[0]+se)}),s[0]+=se}),null!=(t=a[3])&&t[0]&&(g.merge=Wi(a[3][0].data)>>>0>0),i.push(g)}return i}function yn(e){var t=[];return e.forEach(function(i){var s=[];s[1]=[{data:yi(i.id),type:0}],s[2]=[],null!=i.merge&&(s[3]=[{data:yi(+!!i.merge),type:0}]);var r=[];i.messages.forEach(function(g){r.push(g.data),g.meta[3]=[{type:0,data:yi(g.data.length)}],s[2].push({data:hs(g.meta),type:2})});var a=hs(s);t.push(yi(a.length)),t.push(a),r.forEach(function(g){return t.push(g)})}),fo(t)}function $M(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var i=[0],s=da(t,i),r=[];i[0]<t.length;){var a=3&t[i[0]];if(0!=a){var V=0,se=0;if(1==a?(se=4+(t[i[0]]>>2&7),V=(224&t[i[0]++])<<3,V|=t[i[0]++]):(se=1+(t[i[0]++]>>2),2==a?(V=t[i[0]]|t[i[0]+1]<<8,i[0]+=2):(V=(t[i[0]]|t[i[0]+1]<<8|t[i[0]+2]<<16|t[i[0]+3]<<24)>>>0,i[0]+=4)),r=[fo(r)],0==V)throw new Error("Invalid offset 0");if(V>r[0].length)throw new Error("Invalid offset beyond length");if(se>=V)for(r.push(r[0].slice(-V)),se-=V;se>=r[r.length-1].length;)r.push(r[r.length-1]),se-=r[r.length-1].length;r.push(r[0].slice(-V,-V+se))}else{var g=t[i[0]++]>>2;if(g<60)++g;else{var k=g-59;g=t[i[0]],k>1&&(g|=t[i[0]+1]<<8),k>2&&(g|=t[i[0]+2]<<16),k>3&&(g|=t[i[0]+3]<<24),g>>>=0,g++,i[0]+=k}r.push(t.slice(i[0],i[0]+g)),i[0]+=g}}var ne=fo(r);if(ne.length!=s)throw new Error("Unexpected length: ".concat(ne.length," != ").concat(s));return ne}function lr(e){for(var t=[],i=0;i<e.length;){var s=e[i++],r=e[i]|e[i+1]<<8|e[i+2]<<16;t.push($M(s,e.slice(i+=3,i+r))),i+=r}if(i!==e.length)throw new Error("data is not a valid framed stream!");return fo(t)}function wn(e){for(var t=[],i=0;i<e.length;){var s=Math.min(e.length-i,268435455),r=new Uint8Array(4);t.push(r);var a=yi(s),g=a.length;t.push(a),s<=60?(g++,t.push(new Uint8Array([s-1<<2]))):s<=256?(g+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(g+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(g+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(g+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(i,i+s)),g+=s,r[0]=0,r[1]=255&g,r[2]=g>>8&255,r[3]=g>>16&255,i+=s}return fo(t)}function tc(e,t){var i=new Uint8Array(32),s=Wo(i),r=12,a=0;switch(i[0]=5,e.t){case"n":i[1]=2,function YM(e,t,i){var s=Math.floor(0==i?0:Math.LOG10E*Math.log(Math.abs(i)))+6176-20,r=i/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(127&s)<<1;for(var a=0;r>=1;++a,r/=256)e[t+a]=255&r;e[t+15]|=i>=0?0:128}(i,r,e.v),a|=1,r+=16;break;case"b":i[1]=6,s.setFloat64(r,e.v?1:0,!0),a|=2,r+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));i[1]=3,s.setUint32(r,t.indexOf(e.v),!0),a|=8,r+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,a,!0),i.slice(0,r)}function ic(e,t){var i=new Uint8Array(32),s=Wo(i),r=12,a=0;switch(i[0]=3,e.t){case"n":i[2]=2,s.setFloat64(r,e.v,!0),a|=32,r+=8;break;case"b":i[2]=6,s.setFloat64(r,e.v?1:0,!0),a|=32,r+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));i[2]=3,s.setUint32(r,t.indexOf(e.v),!0),a|=16,r+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,a,!0),i.slice(0,r)}function Ss(e){return da(vi(e)[1][0].data)}function rE(e,t,i){var s,r,a,g;if(null==(s=e[6])||!s[0]||null==(r=e[7])||!r[0])throw"Mutation only works on post-BNC storages!";if((null==(g=null==(a=e[8])?void 0:a[0])?void 0:g.data)&&Wi(e[8][0].data)>0)throw"Math only works with normal offsets";for(var V=0,se=Wo(e[7][0].data),ne=0,fe=[],Ce=Wo(e[4][0].data),ke=0,Ae=[],Ee=0;Ee<t.length;++Ee)if(null!=t[Ee]){var Te,Ie;switch(se.setUint16(2*Ee,ne,!0),Ce.setUint16(2*Ee,ke,!0),typeof t[Ee]){case"string":Te=tc({t:"s",v:t[Ee]},i),Ie=ic({t:"s",v:t[Ee]},i);break;case"number":Te=tc({t:"n",v:t[Ee]},i),Ie=ic({t:"n",v:t[Ee]},i);break;case"boolean":Te=tc({t:"b",v:t[Ee]},i),Ie=ic({t:"b",v:t[Ee]},i);break;default:throw new Error("Unsupported value "+t[Ee])}fe.push(Te),ne+=Te.length,Ae.push(Ie),ke+=Ie.length,++V}else se.setUint16(2*Ee,65535,!0),Ce.setUint16(2*Ee,65535);for(e[2][0].data=yi(V);Ee<e[7][0].data.length/2;++Ee)se.setUint16(2*Ee,65535,!0),Ce.setUint16(2*Ee,65535,!0);return e[6][0].data=fo(fe),e[3][0].data=fo(Ae),V}function oc(e){!function jg(e){return function(i){for(var s=0;s!=e.length;++s){var r=e[s];void 0===i[r[0]]&&(i[r[0]]=r[1]),"n"===r[2]&&(i[r[0]]=Number(i[r[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function dE(e,t){return"ods"==t.bookType?_g(e,t):"numbers"==t.bookType?function oE(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var i=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Ps(i["!ref"]);s.s.r=s.s.c=0;var r=!1;s.e.c>9&&(r=!0,s.e.c=9),s.e.r>49&&(r=!0,s.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(ti(s)));var a=gl(i,{range:s,header:1}),g=["~Sh33tJ5~"];a.forEach(function(Qe){return Qe.forEach(function(qe){"string"==typeof qe&&g.push(qe)})});var k={},V=[],se=Xt.read(t.numbers,{type:"base64"});se.FileIndex.map(function(Qe,qe){return[Qe,se.FullPaths[qe]]}).forEach(function(Qe){var qe=Qe[0],xt=Qe[1];2==qe.type&&qe.name.match(/\.iwa/)&&ar(lr(qe.content)).forEach(function(wt){V.push(wt.id),k[wt.id]={deps:[],location:xt,type:Wi(wt.messages[0].meta[1][0].data)}})}),V.sort(function(Qe,qe){return Qe-qe});var ne=V.filter(function(Qe){return Qe>1}).map(function(Qe){return[Qe,yi(Qe)]});se.FileIndex.map(function(Qe,qe){return[Qe,se.FullPaths[qe]]}).forEach(function(Qe){var qe=Qe[0];qe.name.match(/\.iwa/)&&ar(lr(qe.content)).forEach(function(At){At.messages.forEach(function(Tt){ne.forEach(function(wt){At.messages.some(function(oi){return 11006!=Wi(oi.meta[1][0].data)&&function UM(e,t){e:for(var i=0;i<=e.length-t.length;++i){for(var s=0;s<t.length;++s)if(e[i+s]!=t[s])continue e;return!0}return!1}(oi.data,wt[1])})&&k[wt[0]].deps.push(At.id)})})})});for(var Ae,Ce=Xt.find(se,k[1].location),ke=ar(lr(Ce.content)),Ee=0;Ee<ke.length;++Ee){var Te=ke[Ee];1==Te.id&&(Ae=Te)}var Ie=Ss(vi(Ae.messages[0].data)[1][0].data);for(ke=ar(lr((Ce=Xt.find(se,k[Ie].location)).content)),Ee=0;Ee<ke.length;++Ee)(Te=ke[Ee]).id==Ie&&(Ae=Te);for(Ie=Ss(vi(Ae.messages[0].data)[2][0].data),ke=ar(lr((Ce=Xt.find(se,k[Ie].location)).content)),Ee=0;Ee<ke.length;++Ee)(Te=ke[Ee]).id==Ie&&(Ae=Te);for(Ie=Ss(vi(Ae.messages[0].data)[2][0].data),ke=ar(lr((Ce=Xt.find(se,k[Ie].location)).content)),Ee=0;Ee<ke.length;++Ee)(Te=ke[Ee]).id==Ie&&(Ae=Te);var Be=vi(Ae.messages[0].data);Be[6][0].data=yi(s.e.r+1),Be[7][0].data=yi(s.e.c+1);for(var Le=Ss(Be[46][0].data),Ye=Xt.find(se,k[Le].location),Ze=ar(lr(Ye.content)),tt=0;tt<Ze.length&&Ze[tt].id!=Le;++tt);if(Ze[tt].id!=Le)throw"Bad ColumnRowUIDMapArchive";var We=vi(Ze[tt].messages[0].data);We[1]=[],We[2]=[],We[3]=[];for(var Je=0;Je<=s.e.c;++Je){var et=[];et[1]=et[2]=[{type:0,data:yi(Je+420690)}],We[1].push({type:2,data:hs(et)}),We[2].push({type:0,data:yi(Je)}),We[3].push({type:0,data:yi(Je)})}We[4]=[],We[5]=[],We[6]=[];for(var pt=0;pt<=s.e.r;++pt)(et=[])[1]=et[2]=[{type:0,data:yi(pt+726270)}],We[4].push({type:2,data:hs(et)}),We[5].push({type:0,data:yi(pt)}),We[6].push({type:0,data:yi(pt)});Ze[tt].messages[0].data=hs(We),Ye.content=wn(yn(Ze)),Ye.size=Ye.content.length,delete Be[46];var gt=vi(Be[4][0].data);gt[7][0].data=yi(s.e.r+1);var Rt=Ss(vi(gt[1][0].data)[2][0].data);if((Ze=ar(lr((Ye=Xt.find(se,k[Rt].location)).content)))[0].id!=Rt)throw"Bad HeaderStorageBucket";var Wt=vi(Ze[0].messages[0].data);for(pt=0;pt<a.length;++pt){var Ot=vi(Wt[2][0].data);Ot[1][0].data=yi(pt),Ot[4][0].data=yi(a[pt].length),Wt[2][pt]={type:Wt[2][0].type,data:hs(Ot)}}Ze[0].messages[0].data=hs(Wt),Ye.content=wn(yn(Ze)),Ye.size=Ye.content.length;var $t=Ss(gt[2][0].data);if((Ze=ar(lr((Ye=Xt.find(se,k[$t].location)).content)))[0].id!=$t)throw"Bad HeaderStorageBucket";for(Wt=vi(Ze[0].messages[0].data),Je=0;Je<=s.e.c;++Je)(Ot=vi(Wt[2][0].data))[1][0].data=yi(Je),Ot[4][0].data=yi(s.e.r+1),Wt[2][Je]={type:Wt[2][0].type,data:hs(Ot)};Ze[0].messages[0].data=hs(Wt),Ye.content=wn(yn(Ze)),Ye.size=Ye.content.length;var Vt=Ss(gt[4][0].data);!function(){for(var xt,Qe=Xt.find(se,k[Vt].location),qe=ar(lr(Qe.content)),Bt=0;Bt<qe.length;++Bt){var At=qe[Bt];At.id==Vt&&(xt=At)}var Tt=vi(xt.messages[0].data);Tt[3]=[];var wt=[];g.forEach(function(Si,ui){wt[1]=[{type:0,data:yi(ui)}],wt[2]=[{type:0,data:yi(1)}],wt[3]=[{type:2,data:VM(Si)}],Tt[3].push({type:2,data:hs(wt)})}),xt.messages[0].data=hs(Tt);var $e=wn(yn(qe));Qe.content=$e,Qe.size=Qe.content.length}();var di=vi(gt[3][0].data),Gt=di[1][0];delete di[2];var qt=vi(Gt.data),St=Ss(qt[2][0].data);!function(){for(var xt,Qe=Xt.find(se,k[St].location),qe=ar(lr(Qe.content)),Bt=0;Bt<qe.length;++Bt){var At=qe[Bt];At.id==St&&(xt=At)}var Tt=vi(xt.messages[0].data);delete Tt[6],delete di[7];var wt=new Uint8Array(Tt[5][0].data);Tt[5]=[];for(var oi=0,$e=0;$e<=s.e.r;++$e){var Si=vi(wt);oi+=rE(Si,a[$e],g),Si[1][0].data=yi($e),Tt[5].push({data:hs(Si),type:2})}Tt[1]=[{type:0,data:yi(s.e.c+1)}],Tt[2]=[{type:0,data:yi(s.e.r+1)}],Tt[3]=[{type:0,data:yi(oi)}],Tt[4]=[{type:0,data:yi(s.e.r+1)}],xt.messages[0].data=hs(Tt);var ki=wn(yn(qe));Qe.content=ki,Qe.size=Qe.content.length}(),Gt.data=hs(qt),gt[3][0].data=hs(di),Be[4][0].data=hs(gt),Ae.messages[0].data=hs(Be);var ct=wn(yn(ke));return Ce.content=ct,Ce.size=Ce.content.length,se}(e,t):"xlsb"==t.bookType?function uE(e,t){vn=1024,e&&!e.SSF&&(e.SSF=Mi(rt)),e&&e.SSF&&(hn(),_n(e.SSF),t.revssf=Wa(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,na?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var i="xlsb"==t.bookType?"bin":"xml",s=Qp.indexOf(t.bookType)>-1,r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};oc(t=t||{});var a=oh(),g="",k=0;if(t.cellXfs=[],go(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),ri(a,g="docProps/core.xml",qu(e.Props,t)),r.coreprops.push(g),Ci(t.rels,2,g,ii.CORE_PROPS),g="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var V=[],se=0;se<e.SheetNames.length;++se)2!=(e.Workbook.Sheets[se]||{}).Hidden&&V.push(e.SheetNames[se]);e.Props.SheetNames=V}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,ri(a,g,Ju(e.Props)),r.extprops.push(g),Ci(t.rels,3,g,ii.EXT_PROPS),e.Custprops!==e.Props&&Gi(e.Custprops||{}).length>0&&(ri(a,g="docProps/custom.xml",ep(e.Custprops)),r.custprops.push(g),Ci(t.rels,4,g,ii.CUST_PROPS)),k=1;k<=e.SheetNames.length;++k){var ne={"!id":{}},fe=e.Sheets[e.SheetNames[k-1]];if(ri(a,g="xl/worksheets/sheet"+k+"."+i,Xk(k-1,g,t,e,ne)),r.sheets.push(g),Ci(t.wbrels,-1,"worksheets/sheet"+k+"."+i,ii.WS[0]),fe){var ke=fe["!comments"],Ae=!1,Ee="";ke&&ke.length>0&&(ri(a,Ee="xl/comments"+k+"."+i,Kk(ke,Ee,t)),r.comments.push(Ee),Ci(ne,-1,"../comments"+k+"."+i,ii.CMNT),Ae=!0),fe["!legacy"]&&Ae&&ri(a,"xl/drawings/vmlDrawing"+k+".vml",Kp(k,fe["!comments"])),delete fe["!comments"],delete fe["!legacy"]}ne["!id"].rId1&&ri(a,$n(g),fn(ne))}return null!=t.Strings&&t.Strings.length>0&&(ri(a,g="xl/sharedStrings."+i,function $k(e,t,i){return(".bin"===t.slice(-4)?YC:Bp)(e,i)}(t.Strings,g,t)),r.strs.push(g),Ci(t.wbrels,-1,"sharedStrings."+i,ii.SST)),ri(a,g="xl/workbook."+i,function Uk(e,t,i){return(".bin"===t.slice(-4)?Fk:yg)(e,i)}(e,g,t)),r.workbooks.push(g),Ci(t.rels,1,g,ii.WB),ri(a,g="xl/theme/theme1.xml",Hh(e.Themes,t)),r.themes.push(g),Ci(t.wbrels,-1,"theme/theme1.xml",ii.THEME),ri(a,g="xl/styles."+i,function Yk(e,t,i){return(".bin"===t.slice(-4)?Wy:Vp)(e,i)}(e,g,t)),r.styles.push(g),Ci(t.wbrels,-1,"styles."+i,ii.STY),e.vbaraw&&s&&(ri(a,g="xl/vbaProject.bin",e.vbaraw),r.vba.push(g),Ci(t.wbrels,-1,"vbaProject.bin",ii.VBA)),ri(a,g="xl/metadata."+i,function qk(e){return(".bin"===e.slice(-4)?gw:$p)()}(g)),r.metadata.push(g),Ci(t.wbrels,-1,"metadata."+i,ii.XLMETA),ri(a,"[Content_Types].xml",Xu(r,t)),ri(a,"_rels/.rels",fn(t.rels)),ri(a,"xl/_rels/workbook."+i+".rels",fn(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t):function Vg(e,t){vn=1024,e&&!e.SSF&&(e.SSF=Mi(rt)),e&&e.SSF&&(hn(),_n(e.SSF),t.revssf=Wa(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,na?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var i="xml",s=Qp.indexOf(t.bookType)>-1,r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};oc(t=t||{});var a=oh(),g="",k=0;if(t.cellXfs=[],go(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),ri(a,g="docProps/core.xml",qu(e.Props,t)),r.coreprops.push(g),Ci(t.rels,2,g,ii.CORE_PROPS),g="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var V=[],se=0;se<e.SheetNames.length;++se)2!=(e.Workbook.Sheets[se]||{}).Hidden&&V.push(e.SheetNames[se]);e.Props.SheetNames=V}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,ri(a,g,Ju(e.Props)),r.extprops.push(g),Ci(t.rels,3,g,ii.EXT_PROPS),e.Custprops!==e.Props&&Gi(e.Custprops||{}).length>0&&(ri(a,g="docProps/custom.xml",ep(e.Custprops)),r.custprops.push(g),Ci(t.rels,4,g,ii.CUST_PROPS));var ne=["SheetJ5"];for(t.tcid=0,k=1;k<=e.SheetNames.length;++k){var fe={"!id":{}},Ce=e.Sheets[e.SheetNames[k-1]];if(ri(a,g="xl/worksheets/sheet"+k+"."+i,ug(k-1,t,e,fe)),r.sheets.push(g),Ci(t.wbrels,-1,"worksheets/sheet"+k+"."+i,ii.WS[0]),Ce){var Ae=Ce["!comments"],Ee=!1,Te="";if(Ae&&Ae.length>0){var Ie=!1;Ae.forEach(function(Be){Be[1].forEach(function(Le){1==Le.T&&(Ie=!0)})}),Ie&&(ri(a,Te="xl/threadedComments/threadedComment"+k+"."+i,Sw(Ae,ne,t)),r.threadedcomments.push(Te),Ci(fe,-1,"../threadedComments/threadedComment"+k+"."+i,ii.TCMNT)),ri(a,Te="xl/comments"+k+"."+i,Zp(Ae)),r.comments.push(Te),Ci(fe,-1,"../comments"+k+"."+i,ii.CMNT),Ee=!0}Ce["!legacy"]&&Ee&&ri(a,"xl/drawings/vmlDrawing"+k+".vml",Kp(k,Ce["!comments"])),delete Ce["!comments"],delete Ce["!legacy"]}fe["!id"].rId1&&ri(a,$n(g),fn(fe))}return null!=t.Strings&&t.Strings.length>0&&(ri(a,g="xl/sharedStrings."+i,Bp(t.Strings,t)),r.strs.push(g),Ci(t.wbrels,-1,"sharedStrings."+i,ii.SST)),ri(a,g="xl/workbook."+i,yg(e)),r.workbooks.push(g),Ci(t.rels,1,g,ii.WB),ri(a,g="xl/theme/theme1.xml",Hh(e.Themes,t)),r.themes.push(g),Ci(t.wbrels,-1,"theme/theme1.xml",ii.THEME),ri(a,g="xl/styles."+i,Vp(e,t)),r.styles.push(g),Ci(t.wbrels,-1,"styles."+i,ii.STY),e.vbaraw&&s&&(ri(a,g="xl/vbaProject.bin",e.vbaraw),r.vba.push(g),Ci(t.wbrels,-1,"vbaProject.bin",ii.VBA)),ri(a,g="xl/metadata."+i,$p()),r.metadata.push(g),Ci(t.wbrels,-1,"metadata."+i,ii.XLMETA),ne.length>1&&(ri(a,g="xl/persons/person.xml",function Mw(e){var t=[_i,Et("personList",null,{xmlns:Ji.TCMNT,"xmlns:x":lo[0]}).replace(/[\/]>/,">")];return e.forEach(function(i,s){t.push(Et("person",null,{displayName:i,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:i,providerId:"None"}))}),t.push("</personList>"),t.join("")}(ne)),r.people.push(g),Ci(t.wbrels,-1,"persons/person.xml",ii.PEOPLE)),ri(a,"[Content_Types].xml",Xu(r,t)),ri(a,"_rels/.rels",fn(t.rels)),ri(a,"xl/_rels/workbook.xml.rels",fn(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t)}function Xg(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Hn(t.file,Xt.write(e,{type:G?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Xt.write(e,t)}function Or(e,t,i){i||(i="");var s=i+e;switch(t.type){case"base64":return R(Rr(s));case"binary":return Rr(s);case"string":return e;case"file":return Hn(t.file,s,"utf8");case"buffer":return G?K(s,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(s):Or(s,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function pl(e,t){switch(t.type){case"string":case"base64":case"binary":for(var i="",s=0;s<e.length;++s)i+=String.fromCharCode(e[s]);return"base64"==t.type?R(i):"string"==t.type?Ai(i):i;case"file":return Hn(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function hc(e,t){(function U(){M(1200),function u(){f(1252)}()})(),function Cg(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");!function xk(e,t,i){e.forEach(function(s,r){xg(s);for(var a=0;a<r;++a)if(s==e[a])throw new Error("Duplicate Sheet Name: "+s);if(i){var g=t&&t[r]&&t[r].CodeName||s;if(95==g.charCodeAt(0)&&g.length>22)throw new Error("Bad Code Name: Worksheet"+g)}})}(e.SheetNames,e.Workbook&&e.Workbook.Sheets||[],!!e.vbaraw);for(var i=0;i<e.SheetNames.length;++i)gS(e.Sheets[e.SheetNames[i]],0,i)}(e);var i=Mi(t||{});if(i.cellStyles&&(i.cellNF=!0,i.sheetStubs=!0),"array"==i.type){i.type="binary";var s=hc(e,i);return i.type="array",be(s)}var r=0;if(i.sheet&&(r="number"==typeof i.sheet?i.sheet:e.SheetNames.indexOf(i.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+i.sheet+" : "+typeof i.sheet);switch(i.bookType||"xlsb"){case"xml":case"xlml":return Or(fM(e,i),i);case"slk":case"sylk":return Or(Fp.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"htm":case"html":return Or(Dg(e.Sheets[e.SheetNames[r]],i),i);case"txt":return function wE(e,t){switch(t.type){case"base64":return R(e);case"binary":case"string":return e;case"file":return Hn(t.file,e,"binary");case"buffer":return G?K(e,"binary"):e.split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(Qg(e.Sheets[e.SheetNames[r]],i),i);case"csv":return Or(dc(e.Sheets[e.SheetNames[r]],i),i,"\ufeff");case"dif":return Or(Lp.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"dbf":return pl(Bh.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"prn":return Or(mn.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"rtf":return Or(Hp.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"eth":return Or(Op.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"fods":return Or(_g(e,i),i);case"wk1":return pl(_o.sheet_to_wk1(e.Sheets[e.SheetNames[r]],i),i);case"wk3":return pl(_o.book_to_wk3(e,i),i);case"biff2":i.biff||(i.biff=2);case"biff3":i.biff||(i.biff=3);case"biff4":return i.biff||(i.biff=4),pl(Mg(e,i),i);case"biff5":i.biff||(i.biff=5);case"biff8":case"xla":case"xls":return i.biff||(i.biff=8),function yE(e,t){var i=t||{};return Xg(function bM(e,t){var i=t||{},s=Xt.utils.cfb_new({root:"R"}),r="/Workbook";switch(i.bookType||"xls"){case"xls":i.bookType="biff8";case"xla":i.bookType||(i.bookType="xla");case"biff8":r="/Workbook",i.biff=8;break;case"biff5":r="/Book",i.biff=5;break;default:throw new Error("invalid type "+i.bookType+" for XLS CFB")}return Xt.utils.cfb_add(s,r,Mg(e,i)),8==i.biff&&(e.Props||e.Custprops)&&function wM(e,t){var g,i=[],s=[],r=[],a=0,k=iu(Eh,"n"),V=iu(Ah,"n");if(e.Props)for(g=Gi(e.Props),a=0;a<g.length;++a)(Object.prototype.hasOwnProperty.call(k,g[a])?i:Object.prototype.hasOwnProperty.call(V,g[a])?s:r).push([g[a],e.Props[g[a]]]);if(e.Custprops)for(g=Gi(e.Custprops),a=0;a<g.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},g[a])||(Object.prototype.hasOwnProperty.call(k,g[a])?i:Object.prototype.hasOwnProperty.call(V,g[a])?s:r).push([g[a],e.Custprops[g[a]]]);var se=[];for(a=0;a<r.length;++a)lp.indexOf(r[a][0])>-1||Zu.indexOf(r[a][0])>-1||null!=r[a][1]&&se.push(r[a]);s.length&&Xt.utils.cfb_add(t,"/\x05SummaryInformation",dp(s,la.SI,V,Ah)),(i.length||se.length)&&Xt.utils.cfb_add(t,"/\x05DocumentSummaryInformation",dp(i,la.DSI,k,Eh,se.length?se:null,la.UDI))}(e,s),8==i.biff&&e.vbaraw&&function Ow(e,t){t.FullPaths.forEach(function(i,s){if(0!=s){var r=i.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==r.slice(-1)&&Xt.utils.cfb_add(e,r,t.FileIndex[s].content)}})}(s,Xt.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),s}(e,i),i)}(e,i);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function xE(e,t){var i=Mi(t||{});return function Yg(e,t){var i={},s=G?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(i.compression="DEFLATE"),t.password)i.type=s;else switch(t.type){case"base64":i.type="base64";break;case"binary":i.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":i.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var r=e.FullPaths?Xt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[i.type]||i.type,compression:!!t.compression}):e.generate(i);if(typeof Deno<"u"&&"string"==typeof r){if("binary"==t.type||"base64"==t.type)return r;r=new Uint8Array(be(r))}return t.password&&typeof encrypt_agile<"u"?Xg(encrypt_agile(r,t.password),t):"file"===t.type?Hn(t.file,r):"string"==t.type?Ai(r):r}(dE(e,i),i)}(e,i);default:throw new Error("Unrecognized bookType |"+i.bookType+"|")}}function Kg(e,t,i,s,r,a,g,k){var V=Hi(i),se=k.defval,ne=k.raw||!Object.prototype.hasOwnProperty.call(k,"raw"),fe=!0,Ce=1===r?[]:{};if(1!==r)if(Object.defineProperty)try{Object.defineProperty(Ce,"__rowNum__",{value:i,enumerable:!1})}catch{Ce.__rowNum__=i}else Ce.__rowNum__=i;if(!g||e[i])for(var ke=t.s.c;ke<=t.e.c;++ke){var Ae=g?e[i][ke]:e[s[ke]+V];if(void 0!==Ae&&void 0!==Ae.t){var Ee=Ae.v;switch(Ae.t){case"z":if(null==Ee)break;continue;case"e":Ee=0==Ee?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+Ae.t)}if(null!=a[ke]){if(null==Ee)if("e"==Ae.t&&null===Ee)Ce[a[ke]]=null;else if(void 0!==se)Ce[a[ke]]=se;else{if(!ne||null!==Ee)continue;Ce[a[ke]]=null}else Ce[a[ke]]=ne&&("n"!==Ae.t||"n"===Ae.t&&!1!==k.rawNumbers)?Ee:Dr(Ae,Ee,k);null!=Ee&&(fe=!1)}}else{if(void 0===se)continue;null!=a[ke]&&(Ce[a[ke]]=se)}}return{row:Ce,isempty:fe}}function gl(e,t){if(null==e||null==e["!ref"])return[];var i={t:"n",v:0},s=0,r=1,a=[],g=0,k="",V={s:{r:0,c:0},e:{r:0,c:0}},se=t||{},ne=null!=se.range?se.range:e["!ref"];switch(1===se.header?s=1:"A"===se.header?s=2:Array.isArray(se.header)?s=3:null==se.header&&(s=0),typeof ne){case"string":V=fi(ne);break;case"number":(V=fi(e["!ref"])).s.r=ne;break;default:V=ne}s>0&&(r=0);var fe=Hi(V.s.r),Ce=[],ke=[],Ae=0,Ee=0,Te=Array.isArray(e),Ie=V.s.r,Be=0,Le={};Te&&!e[Ie]&&(e[Ie]=[]);var Ye=se.skipHidden&&e["!cols"]||[],Ze=se.skipHidden&&e["!rows"]||[];for(Be=V.s.c;Be<=V.e.c;++Be)if(!(Ye[Be]||{}).hidden)switch(Ce[Be]=Ti(Be),i=Te?e[Ie][Be]:e[Ce[Be]+fe],s){case 1:a[Be]=Be-V.s.c;break;case 2:a[Be]=Ce[Be];break;case 3:a[Be]=se.header[Be-V.s.c];break;default:if(null==i&&(i={w:"__EMPTY",t:"s"}),k=g=Dr(i,null,se),Ee=Le[g]||0){do{k=g+"_"+Ee++}while(Le[k]);Le[g]=Ee,Le[k]=1}else Le[g]=1;a[Be]=k}for(Ie=V.s.r+r;Ie<=V.e.r;++Ie)if(!(Ze[Ie]||{}).hidden){var tt=Kg(e,V,Ie,Ce,s,a,Te,se);(!1===tt.isempty||(1===s?!1!==se.blankrows:se.blankrows))&&(ke[Ae++]=tt.row)}return ke.length=Ae,ke}var qg=/"/g;function Zg(e,t,i,s,r,a,g,k){for(var V=!0,se=[],ne="",fe=Hi(i),Ce=t.s.c;Ce<=t.e.c;++Ce)if(s[Ce]){var ke=k.dense?(e[i]||[])[Ce]:e[s[Ce]+fe];if(null==ke)ne="";else if(null!=ke.v){V=!1,ne=""+(k.rawNumbers&&"n"==ke.t?ke.v:Dr(ke,null,k));for(var Ae=0,Ee=0;Ae!==ne.length;++Ae)if((Ee=ne.charCodeAt(Ae))===r||Ee===a||34===Ee||k.forceQuotes){ne='"'+ne.replace(qg,'""')+'"';break}"ID"==ne&&(ne='"ID"')}else null==ke.f||ke.F?ne="":(V=!1,(ne="="+ke.f).indexOf(",")>=0&&(ne='"'+ne.replace(qg,'""')+'"'));se.push(ne)}return!1===k.blankrows&&V?null:se.join(g)}function dc(e,t){var i=[],s=t??{};if(null==e||null==e["!ref"])return"";var r=fi(e["!ref"]),a=void 0!==s.FS?s.FS:",",g=a.charCodeAt(0),k=void 0!==s.RS?s.RS:"\n",V=k.charCodeAt(0),se=new RegExp(("|"==a?"\\|":a)+"+$"),ne="",fe=[];s.dense=Array.isArray(e);for(var Ce=s.skipHidden&&e["!cols"]||[],ke=s.skipHidden&&e["!rows"]||[],Ae=r.s.c;Ae<=r.e.c;++Ae)(Ce[Ae]||{}).hidden||(fe[Ae]=Ti(Ae));for(var Ee=0,Te=r.s.r;Te<=r.e.r;++Te)(ke[Te]||{}).hidden||null!=(ne=Zg(e,r,Te,fe,g,V,a,s))&&(s.strip&&(ne=ne.replace(se,"")),(ne||!1!==s.blankrows)&&i.push((Ee++?k:"")+ne));return delete s.dense,i.join("")}function Qg(e,t){t||(t={}),t.FS="\t",t.RS="\n";var i=dc(e,t);if(typeof w>"u"||"string"==t.type)return i;var s=w.utils.encode(1200,i,"str");return String.fromCharCode(255)+String.fromCharCode(254)+s}function Jg(e,t,i){var s=i||{},r=+!s.skipHeader,a=e||{},g=0,k=0;if(a&&null!=s.origin)if("number"==typeof s.origin)g=s.origin;else{var V="string"==typeof s.origin?Ui(s.origin):s.origin;g=V.r,k=V.c}var se,ne={s:{c:0,r:0},e:{c:k,r:g+t.length-1+r}};if(a["!ref"]){var fe=fi(a["!ref"]);ne.e.c=Math.max(ne.e.c,fe.e.c),ne.e.r=Math.max(ne.e.r,fe.e.r),-1==g&&(ne.e.r=(g=fe.e.r+1)+t.length-1+r)}else-1==g&&(g=0,ne.e.r=t.length-1+r);var Ce=s.header||[],ke=0;t.forEach(function(Ee,Te){Gi(Ee).forEach(function(Ie){-1==(ke=Ce.indexOf(Ie))&&(Ce[ke=Ce.length]=Ie);var Be=Ee[Ie],Le="z",Ye="",Ze=Kt({c:k+ke,r:g+Te+r});se=ua(a,Ze),!Be||"object"!=typeof Be||Be instanceof Date?("number"==typeof Be?Le="n":"boolean"==typeof Be?Le="b":"string"==typeof Be?Le="s":Be instanceof Date?(Le="d",s.cellDates||(Le="n",Be=os(Be)),Ye=s.dateNF||rt[14]):null===Be&&s.nullError&&(Le="e",Be=0),se?(se.t=Le,se.v=Be,delete se.w,delete se.R,Ye&&(se.z=Ye)):a[Ze]=se={t:Le,v:Be},Ye&&(se.z=Ye)):a[Ze]=Be})}),ne.e.c=Math.max(ne.e.c,k+Ce.length-1);var Ae=Hi(g);if(r)for(ke=0;ke<Ce.length;++ke)a[Ti(ke+k)+Ae]={t:"s",v:Ce[ke]};return a["!ref"]=ti(ne),a}function ua(e,t,i){if("string"==typeof t){if(Array.isArray(e)){var s=Ui(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return ua(e,Kt("number"!=typeof t?t:{r:t,c:i||0}))}function ef(e,t,i){return t?(e.l={Target:t},i&&(e.l.Tooltip=i)):delete e.l,e}var gc={encode_col:Ti,encode_row:Hi,encode_cell:Kt,encode_range:ti,decode_col:Ch,decode_row:xh,split_cell:function Qv(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Ui,decode_range:Ps,format_cell:Dr,sheet_add_aoa:Gu,sheet_add_json:Jg,sheet_add_dom:Fg,aoa_to_sheet:pn,json_to_sheet:function kE(e,t){return Jg(null,e,t)},table_to_sheet:Lg,table_to_book:function _M(e,t){return ho(Lg(e,t),t)},sheet_to_csv:dc,sheet_to_txt:Qg,sheet_to_json:gl,sheet_to_html:Dg,sheet_to_formulae:function SE(e){var i,t="",s="";if(null==e||null==e["!ref"])return[];var k,r=fi(e["!ref"]),a="",g=[],V=[],se=Array.isArray(e);for(k=r.s.c;k<=r.e.c;++k)g[k]=Ti(k);for(var ne=r.s.r;ne<=r.e.r;++ne)for(a=Hi(ne),k=r.s.c;k<=r.e.c;++k)if(t=g[k]+a,s="",void 0!==(i=se?(e[ne]||[])[k]:e[t])){if(null!=i.F){if(t=i.F,!i.f)continue;s=i.f,-1==t.indexOf(":")&&(t=t+":"+t)}if(null!=i.f)s=i.f;else{if("z"==i.t)continue;if("n"==i.t&&null!=i.v)s=""+i.v;else if("b"==i.t)s=i.v?"TRUE":"FALSE";else if(void 0!==i.w)s="'"+i.w;else{if(void 0===i.v)continue;s="s"==i.t?"'"+i.v:""+i.v}}V[V.length]=t+"="+s}return V},sheet_to_row_object_array:gl,sheet_get_cell:ua,book_new:function uc(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function pc(e,t,i,s){var r=1;if(!i)for(;r<=65535&&-1!=e.SheetNames.indexOf(i="Sheet"+r);++r,i=void 0);if(!i||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(i)>=0){var a=i.match(/(^.*?)(\d+)$/);r=a&&+a[2]||0;var g=a&&a[1]||i;for(++r;r<=65535&&-1!=e.SheetNames.indexOf(i=g+r);++r);}if(xg(i),e.SheetNames.indexOf(i)>=0)throw new Error("Worksheet with name |"+i+"| already exists!");return e.SheetNames.push(i),e.Sheets[i]=t,i},book_set_sheet_visibility:function EE(e,t,i){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=function ME(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var i=e.SheetNames.indexOf(t);if(i>-1)return i;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),i){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+i)}e.Workbook.Sheets[s].Hidden=i},cell_set_number_format:function AE(e,t){return e.z=t,e},cell_set_hyperlink:ef,cell_set_internal_link:function TE(e,t,i){return ef(e,"#"+t,i)},cell_add_comment:function PE(e,t,i){e.c||(e.c=[]),e.c.push({t,a:i||"SheetJS"})},sheet_set_array_formula:function RE(e,t,i,s){for(var r="string"!=typeof t?t:fi(t),a="string"==typeof t?t:ti(t),g=r.s.r;g<=r.e.r;++g)for(var k=r.s.c;k<=r.e.c;++k){var V=ua(e,g,k);V.t="n",V.F=a,delete V.v,g==r.s.r&&k==r.s.c&&(V.f=i,s&&(V.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},IE=mi(6554),bn=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const s=t?this.allAsyncListeners:this.allSyncListeners;let r=s.get(e);return!r&&i&&(r=new Set,s.set(e,r)),r}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const s=this.getListeners(e,i,!1);s&&(s.delete(t),0===s.size&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const k=e.event;k instanceof Event&&(e.eventPath=k.composedPath())}const r=this.getListeners(i,t,!1)??new Set,a=new Set(r);a.size>0&&((k,V)=>{k.forEach(se=>{if(!V.has(se))return;const ne=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>se(e)):()=>se(e);t?this.dispatchAsync(ne):ne()})})(a,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(k=>{const V=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>k(i,e)):()=>k(i,e);t?this.dispatchAsync(V):V()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},tf=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(tf||{}),sf={};function fc(e,t){sf[t]||(e(),sf[t]=!0)}function cr(e,...t){console.log("AG Grid: "+e,...t)}function mt(e,...t){fc(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function ni(e,...t){fc(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}function mc(e){return!!(e&&e.constructor&&e.call&&e.apply)}var vc=[],xc=!1;function rf(e){vc.push(e),!xc&&(xc=!0,window.setTimeout(()=>{const t=vc.slice();vc.length=0,xc=!1,t.forEach(i=>i())},0))}function Ds(e,t){let i;return function(...s){const r=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(r,s)},t)}}function of(e,t){let i=0;return function(...s){const a=(new Date).getTime();a-i<t||(i=a,e.apply(this,s))}}function qr(e){return null==e||""===e?null:e}function kt(e,t=!1){return null!=e&&(""!==e||t)}function ai(e){return!kt(e)}function Ws(e){return null==e||0===e.length}function Cc(e){return null!=e&&"function"==typeof e.toString?e.toString():null}function jo(e){if(void 0===e)return;if(null===e||""===e)return null;if("number"==typeof e)return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function yc(e){if(void 0!==e)return null!==e&&""!==e&&wc(e)}function wc(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)}function pa(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function _E(e,t,i=!1){const s=null==e,r=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&r)return 0;if(s)return-1;if(r)return 1;function a(g,k){return g>k?1:g<k?-1:0}if("string"!=typeof e||!i)return a(e,t);try{return e.localeCompare(t)}catch{return a(e,t)}}function ml(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}function nf(e,t){return e.get("rowModelType")===t}function Oi(e){return nf(e,"clientSide")}function Zr(e){return nf(e,"serverSide")}function fs(e,t){return e.get("domLayout")===t}function vl(e){return void 0!==bl(e)}function xl(e){return!e.get("suppressAsyncEvents")}function af(e){return"function"==typeof e.get("getRowHeight")}function mo(e,t,i=!1,s){if(null==s&&(s=e.environment.getDefaultRowHeight()),af(e)){if(i)return{height:s,estimated:!0};const g={node:t,data:t.data},k=e.getCallback("getRowHeight")(g);if(bc(k))return 0===k&&mt("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,k),estimated:!1}}if(t.detail&&e.get("masterDetail"))return function WE(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return bc(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}(e);const r=e.get("rowHeight");return{height:r&&bc(r)?r:s,estimated:!1}}function Vo(e){const{environment:t}=e,i=e.get("rowHeight");if(!i||ai(i))return t.getDefaultRowHeight();const s=t.refreshRowHeightVariable();return-1!==s?s:(mt("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function bc(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)}function ga(e,t,i){const s=t[e.getDomDataKey()];return s?s[i]:void 0}function Uo(e,t,i,s){const r=e.getDomDataKey();let a=t[r];ai(a)&&(a={},t[r]=a),a[i]=s}function Yi(e){let t=null;const i=e.get("getDocument");return i&&kt(i)?t=i():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&kt(t)?t:document}function lf(e){return Yi(e).defaultView||window}function fa(e){return e.eGridDiv.getRootNode()}function Pi(e){return fa(e).activeElement}function hf(e){const t=Yi(e),i=Pi(e);return null===i||i===t.body}function Sn(e){return!e.get("ensureDomOrder")&&e.get("animateRows")}function Cl(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||fs(e,"print"))}function Ir(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function Sc(e){const t=e.get("groupAggFiltering");return"function"==typeof t?e.getCallback("groupAggFiltering"):!0===t?()=>!0:void 0}function cf(e){return e.get("grandTotalRow")||(e.get("groupIncludeTotalFooter")?"bottom":void 0)}function df(e){const t=e.get("groupTotalRow");if("function"==typeof t)return e.getCallback("groupTotalRow");if(t)return()=>t;const i=e.get("groupIncludeFooter");if("function"==typeof i){const s=e.getCallback("groupIncludeFooter");return r=>s(r)?"bottom":void 0}return()=>i?"bottom":void 0}function uf(e){return e.exists("groupDisplayType")?"multipleColumns"===e.get("groupDisplayType"):e.get("groupHideOpenParents")}function yl(e,t){return!t&&"groupRows"===e.get("groupDisplayType")}function kn(e){const t=e.getCallback("getRowId");return void 0===t?t:i=>{let s=t(i);return"string"!=typeof s&&(mt("The getRowId callback must return a string. The ID ",s," is being cast to a string."),s=String(s)),s}}function Mn(e){return e?.checkboxes??!0}function wl(e){return"multiRow"===e?.mode&&(e.headerCheckbox??!0)}function Br(e){const t=e.get("cellSelection");return void 0!==t?!!t:e.get("enableRangeSelection")}function pf(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!=typeof t&&"fill"===t.handle?.mode:e.get("enableFillHandle")}function gf(e){const t=e.get("rowSelection")??"single";if("string"==typeof t){const i=e.get("suppressRowClickSelection"),s=e.get("suppressRowDeselection");return(!i||!s)&&(i?"enableDeselection":!s||"enableSelection")}return("singleRow"===t.mode||"multiRow"===t.mode)&&(t.enableClickSelection??!1)}function kc(e){const t=gf(e);return!0===t||"enableDeselection"===t}function Mc(e){const t=e.get("rowSelection");return"string"==typeof t?e.get("isRowSelectable"):t?.isRowSelectable}function bl(e){const t=e.get("rowSelection");if("string"==typeof t)switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t?.mode}function Ec(e){return"multiRow"===bl(e)}function Ac(e){const t=e.get("rowSelection");if("string"==typeof t){const i=e.get("groupSelectsChildren"),s=e.get("groupSelectsFiltered");return i&&s?"filteredDescendants":i?"descendants":"self"}return"multiRow"===t?.mode?t.groupSelects:void 0}function Xo(e){const t=Ac(e);return"descendants"===t||"filteredDescendants"===t}function Tc(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function li(e){if(e&&e.length)return e[e.length-1]}function Qr(e,t,i){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((s,r)=>i?i(s,t[r]):t[r]===s)}function ff(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function Fs(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function ma(e,t,i){e.splice(i,0,t)}function mf(e,t,i){(function QE(e,t){for(let i=0;i<t.length;i++)Fs(e,t[i])})(e,t),t.slice().reverse().forEach(s=>ma(e,s,i))}function Yo(e,t){return e.indexOf(t)>-1}function JE(e){return e?.flatMap(t=>t)??[]}function vf(e,t){null==t||null==e||t.forEach(i=>e.push(i))}var xf="__ag_Grid_Stop_Propagation",eA=["touchstart","touchend","touchmove","touchcancel","scroll"],Pc={};function En(e){e[xf]=!0}function Jr(e){return!0===e[xf]}var Cf=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if("boolean"==typeof Pc[i])return Pc[i];const s=document.createElement(e[i]||"div");return Pc[i="on"+i]=i in s}})();function Rc(e,t,i){let s=t;for(;s;){const r=ga(e,s,i);if(r)return r;s=s.parentElement}return null}function tA(e,t){return!(!t||!e)&&function sA(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():function iA(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}(t)}(t).indexOf(e)>=0}var ut=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new bn),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService&&this.localEventService.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const s in t){const r=t[s];r&&i.push(this._setupListener(e,s,r))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?function rA(e,t,i,s){const a=Yo(eA,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,s,a)}(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const s=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==s),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,s=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=r.changeSet.id}t({type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source})};e.forEach(r=>this.setupGridOptionListener(r,s))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Ls(e){return e instanceof Sl}var Sl=class extends ut{constructor(e,t,i,s){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=bf(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=s}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(e=>e.isVisible())}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Co(t)?e.push(t):Ls(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const s=this.findChildrenRemovingPadding();for(let a=0,g=s.length;a<g;a++){const k=s[a];if(!k.isVisible())continue;const V=k.getColumnGroupShow();"open"===V?(e=!0,i=!0):"closed"===V?(t=!0,i=!0):(e=!0,t=!0)}const r=e&&t&&i;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(s=>{Ls(s)&&s.isPadding()?t(s.children):e.push(s)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},yf="ag-Grid-ControlsColumn",oA=class extends ut{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const e=this.gos.get("rowSelection");if(!e||"string"==typeof e)return[];const t=Mn(e),i=wl(e);if(t||i){const s=this.gos.get("selectionColumnDef"),a={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:this.gos.get("enableRtl")?"right":"left",comparator(k,V,se,ne){const fe=se.isSelected(),Ce=ne.isSelected();return fe&&Ce?0:fe?1:-1},editable:!1,suppressFillHandle:!0,...s,colId:`${yf}`},g=new Nc(a,null,a.colId,!1);return this.createBean(g),[g]}return[]}},kl="ag-Grid-AutoColumn";function Dc(e){const t=[],i=s=>{for(let r=0;r<s.length;r++){const a=s[r];Co(a)?t.push(a):Ls(a)&&i(a.getChildren())}};return i(e),t}function eo(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function vo(e,t,i){const s={};if(!t)return;to(null,t,a=>{s[a.getInstanceId()]=a}),i&&to(null,i,a=>{s[a.getInstanceId()]=null});const r=Object.values(s).filter(a=>null!=a);e.destroyBeans(r)}function Fc(e){return e.getId().startsWith(kl)}function An(e){return e.getColId().startsWith(yf)}function Ml(e){let t=[];return e instanceof Array?e.some(s=>"string"!=typeof s)?mt("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:"string"==typeof e?t=e.split(","):mt("colDef.type should be of type 'string' | 'string[]'"),t}var Lc=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,s)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,s))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},Oc=new Set(["__proto__","constructor","prototype"]);function dr(e,t){if(null!=e){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const[i,s]of Object.entries(e))t(i,s)}}function wf(e){const t={},i=Object.keys(e);for(let s=0;s<i.length;s++){if(Oc.has(i[s]))continue;const r=i[s];t[r]=e[r]}return t}function Ic(e,t){if(!e)return;const i=e,s={};return Object.keys(i).forEach(r=>{if(t&&t.indexOf(r)>=0||Oc.has(r))return;const a=i[r];s[r]=Bc(a)&&a.constructor===Object?Ic(a):a}),s}function xo(e){if(!e)return[];const t=Object;if("function"==typeof t.values)return t.values(e);const i=[];for(const s in e)e.hasOwnProperty(s)&&e.propertyIsEnumerable(s)&&i.push(e[s]);return i}function Os(e,t,i=!0,s=!1){kt(t)&&dr(t,(r,a)=>{if(Oc.has(r))return;let g=e[r];g!==a&&(s&&null==g&&null!=a&&"object"==typeof a&&a.constructor===Object&&(g={},e[r]=g),Bc(a)&&Bc(g)&&!Array.isArray(g)?Os(g,a,i,s):(i||void 0!==a)&&(e[r]=a))})}function va(e,t,i){if(!t||!e)return;if(!i)return e[t];const s=t.split(".");let r=e;for(let a=0;a<s.length;a++){if(null==r)return;r=r[s[a]]}return r}function Bc(e){return"object"==typeof e&&null!==e}var nA={resizable:!0,sortable:!0},aA=0;function bf(){return aA++}function Co(e){return e instanceof Nc}var Nc=class extends ut{constructor(e,t,i,s){super(),this.isColumn=!0,this.instanceId=bf(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new bn,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=s,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?("asc"===e.sort||"desc"===e.sort)&&(this.sort=e.sort):("asc"===e.initialSort||"desc"===e.initialSort)&&(this.sort=e.initialSort);const t=e.sortIndex,i=e.initialSortIndex;void 0!==t?null!==t&&(this.sortIndex=t):null!==i&&(this.sortIndex=i);const s=e.hide;this.visible=void 0!==s?!s:!e.initialHide,this.setPinned(void 0!==e.pinned?e.pinned:e.initialPinned);const a=e.flex,g=e.initialFlex;void 0!==a?this.flex=a:void 0!==g&&(this.flex=g)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=kt(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=kt(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=kt(this.colDef.tooltipField)||kt(this.colDef.tooltipValueGetter)||kt(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=jo(e.width),s=jo(e.initialWidth);return t=null!=i?i:null!=s?s:200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return!ai(this.colDef)&&!ai(this.colDef.showRowGroup)&&(!0===this.colDef.showRowGroup||this.colDef.showRowGroup===e)}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new Lc(this.frameworkOverrides));const i=this.frameworkEventListenerService?.wrap(t)??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){const i=this.frameworkEventListenerService?.unwrap(t)??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1}isCellEditable(e){if(e.group)if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1;return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&"string"!=typeof t){const i=An(this)&&Mn(t);return this.isColumnFunc(e,i)}return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??nA[e]}isColumnFunc(e,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createColumnFunctionCallbackParams(e))}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return ai(this.sort)}isSorting(){return kt(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const s=this.createColumnEvent("filterChanged",t);i&&Os(s,i),this.columnEventService.dispatchEvent(s)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){const i=!0===e;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(ai(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(ai(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},lA={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},cA=class extends ut{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,s){const r=new class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Cc(e);let i=0;for(;;){let s;if(e?(s=e,0!==i&&(s+="_"+i)):t?(s=t,0!==i&&(s+="_"+i)):s=i,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);i++}}},{existingCols:a,existingGroups:g,existingColKeys:k}=this.extractExistingTreeData(i);r.addExistingKeys(k);const V=this.recursivelyCreateColumns(e,0,t,a,r,g,s),se=this.findMaxDept(V,0),ne=this.balanceColumnTree(V,0,se,r);return to(null,ne,(Ce,ke)=>{Ls(Ce)&&Ce.setupExpandable(),Ce.setOriginalParent(ke)}),{columnTree:ne,treeDept:se}}extractExistingTreeData(e){const t=[],i=[],s=[];return e&&to(null,e,r=>{if(Ls(r))i.push(r);else{const a=r;s.push(a.getId()),t.push(a)}}),{existingCols:t,existingGroups:i,existingColKeys:s}}balanceTreeForAutoCols(e,t){const i=[],s=this.findDepth(t);return e.forEach(r=>{let a=r;for(let g=s-1;g>=0;g--){const k=new Sl(null,`FAKE_PATH_${r.getId()}}_${g}`,!0,g);this.createBean(k),k.setChildren([a]),a.setOriginalParent(k),a=k}0===s&&r.setOriginalParent(null),i.push(a)}),[i,s]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&Ls(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,s){const r=[];for(let a=0;a<e.length;a++){const g=e[a];if(Ls(g)){const k=g,V=this.balanceColumnTree(k.getChildren(),t+1,i,s);k.setChildren(V),r.push(k)}else{let k,V;for(let se=i-1;se>=t;se--){const ne=s.getUniqueKey(null,null),fe=this.createMergedColGroupDef(null),Ce=new Sl(fe,ne,!0,t);this.createBean(Ce),V&&V.setChildren([Ce]),V=Ce,k||(k=V)}if(k&&V){if(r.push(k),e.some(ne=>Ls(ne))){V.setChildren([g]);continue}V.setChildren(e);break}r.push(g)}}return r}findMaxDept(e,t){let i=t;for(let s=0;s<e.length;s++){const r=e[s];if(Ls(r)){const g=this.findMaxDept(r.getChildren(),t+1);i<g&&(i=g)}}return i}recursivelyCreateColumns(e,t,i,s,r,a,g){if(!e)return[];const k=new Array(e.length);for(let V=0;V<k.length;V++){const se=e[V];k[V]=this.isColumnGroup(se)?this.createColumnGroup(i,se,t,s,r,a,g):this.createColumn(i,se,s,r,g)}return k}createColumnGroup(e,t,i,s,r,a,g){const k=this.createMergedColGroupDef(t),V=r.getUniqueKey(k.groupId||null,null),se=new Sl(k,V,!1,i);this.createBean(se);const ne=this.findExistingGroup(t,a);ne&&a.splice(ne.idx,1);const fe=ne?.group;fe&&se.setExpanded(fe.isExpanded());const Ce=this.recursivelyCreateColumns(k.children,i+1,e,s,r,a,g);return se.setChildren(Ce),se}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,s,r){const a=this.findExistingColumn(t,i);a&&i?.splice(a.idx,1);let g=a?.column;if(g){const k=this.addColumnDefaultAndTypes(t,g.getColId());g.setColDef(k,t,r),this.applyColumnState(g,k,r)}else{const k=s.getUniqueKey(t.colId,t.field),V=this.addColumnDefaultAndTypes(t,k);g=new Nc(V,t,k,e),this.createBean(g)}return this.dataTypeService?.addColumnListeners(g),g}applyColumnState(e,t,i){const s=jo(t.flex);if(void 0!==s&&e.setFlex(s),e.getFlex()<=0){const k=jo(t.width);if(null!=k)e.setActualWidth(k,i);else{const V=e.getActualWidth();e.setActualWidth(V,i)}}void 0!==t.sort&&e.setSort("asc"==t.sort||"desc"==t.sort?t.sort:void 0,i);const a=jo(t.sortIndex);void 0!==a&&e.setSortIndex(a);const g=yc(t.hide);void 0!==g&&e.setVisible(!g,i),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const s=t[i].getUserProvidedColDef();if(s)if(null==e.colId){if(null==e.field){if(s===e)return{idx:i,column:t[i]}}else if(s.field===e.field)return{idx:i,column:t[i]}}else if(t[i].getId()===e.colId)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(null!=e.groupId)for(let s=0;s<t.length;s++){const r=t[s];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:s,group:r}}}addColumnDefaultAndTypes(e,t){const i={};Os(i,this.gos.get("defaultColDef"),!1,!0);const r=this.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),Os(i,e,!1,!0);const a=this.gos.get("autoGroupColumnDef"),g=Ir(this.gos);return e.rowGroup&&a&&g&&Os(i,{sort:a.sort,initialSort:a.initialSort},!1,!0),this.dataTypeService?.validateColDef(i),i}updateColDefAndGetColumnType(e,t,i){const s=this.dataTypeService?.updateColDefAndGetColumnType(e,t,i),r=t.type??s??e.type;return e.type=r,r?Ml(r):void 0}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},lA);dr(this.gos.get("columnTypes")||{},(r,a)=>{r in i?mt(`the column type '${r}' is a default column type and cannot be overridden.`):(a.type&&mt("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[r]=a)}),e.forEach(r=>{const a=i[r.trim()];a?Os(t,a,!1,!0):mt("colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return void 0!==e.children}};function to(e,t,i){if(t)for(let s=0;s<t.length;s++){const r=t[s];Ls(r)&&to(r,r.getChildren(),i),i(r,e)}}var dA=class extends ut{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll($o(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,$o(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged($o(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs($o(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),$o(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const i=this.colDefCols?.list,s=this.colDefCols?.tree,r=this.columnFactory.createColumnTree(this.colDefs,!0,s,e);vo(this.context,this.colDefCols?.tree,r.columnTree);const a=r.columnTree,g=r.treeDept,k=Dc(a),V={};k.forEach(se=>V[se.getId()]=se),this.colDefCols={tree:a,treeDepth:g,list:k,map:V},this.funcColsService.extractCols(e,i),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),"gridInitializing"===e&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const i=function HE(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}(this.gos,this.showingPivotResult);(!e||i)&&this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Qr(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=null!=e,e){const{map:t,list:i,tree:s,treeDepth:r}=e;this.cols={list:i.slice(),map:{...t},tree:s.slice(),treeDepth:r},e.list.some(g=>void 0!==this.cols?.map[g.getColId()])||(this.lastPivotOrder=null)}else{const{map:t,list:i,tree:s,treeDepth:r}=this.colDefCols;this.cols={list:i.slice(),map:{...t},tree:s.slice(),treeDepth:r}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(s=>{const r=Fc(s);if(e){const a=t&&Yo(t,s);return r||a}return r||s.isVisible()})}addAutoCols(){null!=this.autoCols&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),Sf(this.cols))}createAutoCols(){const e=yl(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),a=()=>{this.autoCols&&(vo(this.context,this.autoCols.tree),this.autoCols=null)};if(!(i.length>0||this.gos.get("treeData"))||t||e||!this.autoColService)return void a();const g=this.autoColService.createAutoCols(i)??[],k=function uA(e,t){return Qr(e,t,(i,s)=>i.getColId()===s.getColId())}(g,this.autoCols?.list||null);if(k&&(this.autoCols?this.autoCols.treeDepth:-1)==this.cols.treeDepth)return;a();const[fe,Ce]=this.columnFactory.balanceTreeForAutoCols(g,this.cols?.tree);this.autoCols={list:g,tree:fe,treeDepth:Ce,map:{}};const ke=Ae=>{if(!Ae)return null;const Ee=Ae.filter(Te=>!Fc(Te));return[...g,...Ee]};this.lastOrder=ke(this.lastOrder),this.lastPivotOrder=ke(this.lastPivotOrder)}createControlsCols(){vo(this.context,this.controlsCols?.tree),this.controlsCols=null;const e=this.controlsColService?.createControlsCols()??[],[t,i]=this.columnFactory.balanceTreeForAutoCols(e,this.cols.tree);function s(r,a){const g=An(r),k=An(a);return g&&!k?-1:!g&&k?1:0}this.controlsCols={list:e,tree:t,treeDepth:i,map:{}},this.lastOrder?.sort(s),this.lastPivotOrder?.sort(s)}addControlsCols(){null!=this.controlsCols&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),Sf(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,i){this.columnApplyStateService.applyColumnState({state:e.map(s=>({colId:"string"==typeof s?s:s.getColId(),hide:!t}))},i)}setColsPinned(e,t,i){if(!this.cols||Ws(e))return;if(fs(this.gos,"print"))return void mt("Changing the column pinning status is not allowed with domLayout='print'");let s;this.columnAnimationService.start(),s=!0===t||"left"===t?"left":"right"===t?"right":null;const r=[];e.forEach(a=>{if(!a)return;const g=this.getCol(a);g&&g.getPinned()!==s&&(g.setPinned(s),r.push(g))}),r.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(r,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let s;s=Ls(e)?e.getId():e||"",this.columnGroupStateService.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColGroup(e){let t=null;return to(null,this.cols?.tree,i=>{Ls(i)&&i.getId()===e&&(t=i)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");return!(!e.isRowGroupActive()||0===t)&&(-1===t||t>this.funcColsService.getRowGroupColumns().findIndex(r=>r.getColId()===e.getColId()))}isSuppressAutoCol(){return"custom"===this.gos.get("groupDisplayType")||"custom"===this.gos.get("treeDataDisplayType")}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,Oi(this.gos)||Zr(this.gos)||mt("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((V,se)=>[V,se]));if(!this.cols.list.some(V=>t.has(V)))return;const s=new Map(this.cols.list.map(V=>[V,!0])),r=e.filter(V=>s.has(V)),a=new Map(r.map(V=>[V,!0])),g=this.cols.list.filter(V=>!a.has(V)),k=r.slice();g.forEach(V=>{let se=V.getOriginalParent();if(!se)return void k.push(V);const ne=[];for(;!ne.length&&se;)se.getLeafColumns().forEach(Ae=>{const Ee=k.indexOf(Ae)>=0,Te=ne.indexOf(Ae)<0;Ee&&Te&&ne.push(Ae)}),se=se.getOriginalParent();if(!ne.length)return void k.push(V);const fe=ne.map(ke=>k.indexOf(ke)),Ce=Math.max(...fe);ma(k,V,Ce+1)}),this.cols.list=k}sortColsLikeKeys(e){if(null==this.cols)return;let t=[];const i={};e.forEach(r=>{if(i[r])return;const a=this.cols.map[r];a&&(t.push(a),i[r]=!0)});let s=0;this.cols.list.forEach(r=>{const a=r.getColId();null==i[a]&&(a.startsWith(kl)?ma(t,r,s++):t.push(r))}),t=this.columnMoveService.placeLockedColumns(t),this.columnMoveService.doesMovePassMarryChildren(t)?this.cols.list=t:mt("Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}sortColsLikeCols(e){!e||e.length<=1||e.filter(i=>this.cols.list.indexOf(i)<0).length>0||e.sort((i,s)=>this.cols.list.indexOf(i)-this.cols.list.indexOf(s))}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const s=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(s,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){mf(this.cols?.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((s,r)=>this.lastOrder.indexOf(s)-this.lastOrder.indexOf(r)):this.lastOrder&&e.sort((s,r)=>this.cols.list.indexOf(s)-this.cols.list.indexOf(r));const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>null!=e.getColDef().colSpan)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return!e||!this.gos.get("treeData")||(mt("Pivot mode not available with treeData."),!1)}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!Ws(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){vo(this.context,this.colDefCols?.tree),vo(this.context,this.autoCols?.tree),vo(this.context,this.controlsCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){const t=this.pivotResultColsService.getPivotResultCols()?.list;return[this.colDefCols?.list??[],this.autoCols?.list??[],this.controlsCols?.list??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>null!=t):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return null==e?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(null==t)return null;const{map:i,list:s}=t;if("string"==typeof e&&i[e])return i[e];for(let r=0;r<s.length;r++)if(kf(s[r],e))return s[r];return this.getAutoCol(e)}getAutoCol(e){return this.autoCols?.list.find(t=>kf(t,e))??null}getAutoCols(){return this.autoCols?.list??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const i of t){if(!i)continue;const s=i.getGroupRowCount()||0;for(let r=0;r<s;r++){const a=i.getGroupRowCtrlAtIndex(r),g=e[r];if(a){const k=this.getColumnGroupHeaderRowHeight(a);(null==g||k>g)&&(e[r]=k)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let i=0;const s=e.getHeaderCtrls();for(const r of s){const a=r.getColumn();if(a.isAutoHeaderHeight()){const g=a.getAutoHeaderHeight();null!=g&&g>i&&(i=g)}}return Math.max(t,i)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(s=>s.isAutoHeaderHeight()).map(s=>s.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if("fitCellContents"!==e?.type)return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,i){if("string"==typeof e||"string"==typeof t)return;const a=(t?Mn(t):void 0)!==(e?Mn(e):void 0),g=t?wl(t):void 0,k=e?wl(e):void 0;(a||g!==k)&&this.refreshAll(i)}};function $o(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function Sf(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function kf(e,t){const i=e===t,s=e.getColDef()===t,r=e.getColId()==t;return i||s||r}var pA=class extends ut{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));const{colKeys:t,skipHeader:i,skipHeaderGroups:s,stopAtGroup:r,source:a="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout(()=>this.autoSizeCols(e));this.timesDelayed=0;const g=[];let k=-1;const V=i??this.gos.get("skipHeaderOnAutoSize"),se=s??V;for(;0!==k;){k=0;const ne=[];t.forEach(fe=>{if(!fe)return;const Ce=this.columnModel.getCol(fe);if(!Ce||g.indexOf(Ce)>=0)return;const ke=this.autoWidthCalculator.getPreferredWidthForColumn(Ce,V);if(ke>0){const Ae=this.normaliseColumnWidth(Ce,ke);Ce.setActualWidth(Ae,a),g.push(Ce),k++}ne.push(Ce)}),ne.length&&this.visibleColsService.refresh(a)}se||this.autoSizeColumnGroupsByColumns(t,a,r),this.eventDispatcher.columnResized(g,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const s=new Set;let a;this.columnModel.getColsForKeys(e).forEach(k=>{let V=k.getParent();for(;V&&V!=i;)V.isPadding()||s.add(V),V=V.getParent()});for(const k of s){for(const V of this.ctrlsService.getHeaderRowContainerCtrls())if(a=V.getHeaderCtrlForColumn(k),a)break;a&&a.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const i=e.getMinWidth();t<i&&(t=i);const s=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=s),t}},gA=class extends ut{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>Fs(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>Fs(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>Fs(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupCols.slice(0);const i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Ws(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;const s=this.columnModel.getColDefCol(e);s&&(s.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[s],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,s)=>this.setRowGroupActive(i,s,t),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(i,s)=>{s.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(i,s)=>this.setValueActive(i,s,t),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const s=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(s)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const s=this.rowGroupCols[e],r=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,s),this.eventDispatcher.rowGroupChanged(r,i)}setColList(e,t,i,s,r,a,g){if(Ws(this.columnModel.getCols()))return;const V=new Map;t.forEach((ne,fe)=>V.set(ne,fe)),t.length=0,kt(e)&&e.forEach(ne=>{const fe=this.columnModel.getColDefCol(ne);fe&&t.push(fe)}),t.forEach((ne,fe)=>{const Ce=V.get(ne);void 0!==Ce?s&&Ce!==fe||V.delete(ne):V.set(ne,0)}),(this.columnModel.getColDefCols()||[]).forEach(ne=>{const fe=t.indexOf(ne)>=0;a(fe,ne)}),r&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(g),this.eventDispatcher.columnChanged(i,[...V.keys()],g)}updateColList(e,t,i,s,r,a,g){if(!e||Ws(e))return;let k=!1;const V=new Set;e.forEach(se=>{if(!se)return;const ne=this.columnModel.getColDefCol(se);if(ne){if(V.add(ne),i){if(t.indexOf(ne)>=0)return;t.push(ne)}else{const fe=t.indexOf(ne);if(fe<0)return;for(let Ce=fe+1;Ce<t.length;Ce++)V.add(t[Ce]);Fs(t,ne)}r(ne),k=!0}}),k&&(s&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(g),this.eventDispatcher.genericColumnEvent(a,Array.from(V),g))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(i,s)=>i.setValueActive(s,e),()=>{},()=>{},i=>{const s=i.aggFunc;return null===s||""===s?null:void 0!==s?!!s:void 0},i=>null!=i.initialAggFunc&&""!=i.initialAggFunc),this.valueCols.forEach(i=>{const s=i.getColDef();null!=s.aggFunc&&""!=s.aggFunc?i.setAggFunc(s.aggFunc):i.getAggFunc()||i.setAggFunc(s.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(i,s)=>i.setRowGroupActive(s,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(i,s)=>i.setPivotActive(s,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(e=[],t=[],i,s,r,a,g){const k=[],V=[];(this.columnModel.getColDefCols()||[]).forEach(Ce=>{const ke=e.indexOf(Ce)<0,Ae=Ce.getColDef(),Ee=yc(a(Ae)),Te=yc(g(Ae)),Ie=jo(s(Ae)),Be=jo(r(Ae));let Le;Le=void 0!==Ee?Ee:void 0!==Ie?null!==Ie&&Ie>=0:ke?void 0!==Te?Te:void 0!==Be&&null!=Be&&Be>=0:t.indexOf(Ce)>=0,Le&&((ke?null!=Ie||null!=Be:null!=Ie)?k.push(Ce):V.push(Ce))});const ne=Ce=>{const ke=s(Ce.getColDef()),Ae=r(Ce.getColDef());return ke??Ae};k.sort((Ce,ke)=>{const Ae=ne(Ce),Ee=ne(ke);return Ae===Ee?0:Ae<Ee?-1:1});const fe=[].concat(k);return t.forEach(Ce=>{V.indexOf(Ce)>=0&&fe.push(Ce)}),V.forEach(Ce=>{fe.indexOf(Ce)<0&&fe.push(Ce)}),t.forEach(Ce=>{fe.indexOf(Ce)<0&&i(Ce,!1)}),fe.forEach(Ce=>{t.indexOf(Ce)<0&&i(Ce,!0)}),fe}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},s=(r,a,g,k,V,se)=>{const ne=this.columnModel.getColDefCols();if(!a.length||!ne)return[];const fe=Object.keys(r),Ce=new Set(fe),ke=new Set(fe),Ae=new Set(a.map(tt=>{const We=tt.getColId();return ke.delete(We),We}).concat(fe)),Ee=[],Te={};let Ie=0;for(let tt=0;tt<ne.length;tt++){const We=ne[tt].getColId();Ae.has(We)&&(Ee.push(We),Te[We]=Ie++)}let Be=1e3,Le=!1,Ye=0;const Ze=tt=>{const We=Te[tt];for(let Je=Ye;Je<We;Je++){const et=Ee[Je];ke.has(et)&&(r[et][V]=Be++,ke.delete(et))}Ye=We};a.forEach(tt=>{const We=tt.getColId();if(Ce.has(We))Ze(We),r[We][V]=Be++;else{const Je=tt.getColDef();(null===Je[V]||void 0===Je[V]&&null==Je[se])&&(Le||(Je[g]||void 0===Je[g]&&Je[k]?Ze(We):(ke.forEach(gt=>{r[gt][V]=Be+Te[gt]}),Be+=Ee.length,Le=!0)),i[We]||(i[We]={colId:We}),i[We][V]=Be++)}})};return s(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},fA=class extends ut{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const i=this.columnModel.getColDefCols()||[];if(Ws(i))return!1;if(e&&e.state&&!e.state.forEach)return mt("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const s=this.funcColsService.getModifyColumnsNoEventsCallbacks(),r=(k,V,se)=>{const ne=this.compareColumnStatesAndDispatchEvents(t),fe=V.slice(),Ce={},ke={},Ae=[],Ee=[];let Te=0;const Ie=this.funcColsService.getRowGroupColumns().slice(),Be=this.funcColsService.getPivotColumns().slice();k.forEach(tt=>{const We=tt.colId||"";if(We.startsWith(kl))return Ae.push(tt),void Ee.push(tt);const et=se(We);et?(this.syncColumnWithStateItem(et,tt,e.defaultState,Ce,ke,!1,t,s),Fs(fe,et)):(Ee.push(tt),Te+=1)});const Le=tt=>this.syncColumnWithStateItem(tt,null,e.defaultState,Ce,ke,!1,t,s);fe.forEach(Le),this.funcColsService.sortRowGroupColumns(Mf.bind(this,Ce,Ie)),this.funcColsService.sortPivotColumns(Mf.bind(this,ke,Be)),this.columnModel.refreshCols(!1);const Ze=(this.columnModel.getAutoCols()||[]).slice();return Ae.forEach(tt=>{const We=this.columnModel.getAutoCol(tt.colId);Fs(Ze,We),this.syncColumnWithStateItem(We,tt,e.defaultState,null,null,!0,t,s)}),Ze.forEach(Le),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),ne(),{unmatchedAndAutoStates:Ee,unmatchedCount:Te}};this.columnAnimationService.start();let{unmatchedAndAutoStates:a,unmatchedCount:g}=r(e.state||[],i,k=>this.columnModel.getColDefCol(k));if(a.length>0||kt(e.defaultState)){const V=this.pivotResultColsService.getPivotResultCols()?.list;g=r(a,V||[],se=>this.pivotResultColsService.getPivotResultCol(se)).unmatchedCount}return this.columnAnimationService.finish(),0===g}resetColumnState(e){if(Ws(this.columnModel.getColDefCols()))return;const s=Dc(this.columnModel.getColDefColTree()),r=[];let a=1e3,g=1e3,k=[];const V=this.columnModel.getAutoCols();V&&(k=k.concat(V)),s&&(k=k.concat(s)),k.forEach(se=>{const ne=this.getColumnStateFromColDef(se);ai(ne.rowGroupIndex)&&ne.rowGroup&&(ne.rowGroupIndex=a++),ai(ne.pivotIndex)&&ne.pivot&&(ne.pivotIndex=g++),r.push(ne)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(Ae,Ee)=>Ae??Ee??null,i=e.getColDef(),s=t(i.sort,i.initialSort),r=t(i.sortIndex,i.initialSortIndex),a=t(i.hide,i.initialHide),g=t(i.pinned,i.initialPinned),k=t(i.width,i.initialWidth),V=t(i.flex,i.initialFlex);let se=t(i.rowGroupIndex,i.initialRowGroupIndex),ne=t(i.rowGroup,i.initialRowGroup);null==se&&(null==ne||0==ne)&&(se=null,ne=null);let fe=t(i.pivotIndex,i.initialPivotIndex),Ce=t(i.pivot,i.initialPivot);null==fe&&(null==Ce||0==Ce)&&(fe=null,Ce=null);const ke=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:r,hide:a,pinned:g,width:k,flex:V,rowGroup:ne,rowGroupIndex:se,pivot:Ce,pivotIndex:fe,aggFunc:ke}}syncColumnWithStateItem(e,t,i,s,r,a,g,k){if(!e)return;const V=(Ye,Ze)=>{const tt={value1:void 0,value2:void 0};let We=!1;return t&&(void 0!==t[Ye]&&(tt.value1=t[Ye],We=!0),kt(Ze)&&void 0!==t[Ze]&&(tt.value2=t[Ze],We=!0)),!We&&i&&(void 0!==i[Ye]&&(tt.value1=i[Ye]),kt(Ze)&&void 0!==i[Ze]&&(tt.value2=i[Ze])),tt},se=V("hide").value1;void 0!==se&&e.setVisible(!se,g);const ne=V("pinned").value1;void 0!==ne&&e.setPinned(ne);const fe=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),Ce=V("flex").value1;if(void 0!==Ce&&e.setFlex(Ce),null==Ce){const Ye=V("width").value1;null!=Ye&&null!=fe&&Ye>=fe&&e.setActualWidth(Ye,g)}const ke=V("sort").value1;void 0!==ke&&e.setSort("desc"===ke||"asc"===ke?ke:void 0,g);const Ae=V("sortIndex").value1;if(void 0!==Ae&&e.setSortIndex(Ae),a||!e.isPrimary())return;const Ee=V("aggFunc").value1;void 0!==Ee&&("string"==typeof Ee?(e.setAggFunc(Ee),e.isValueActive()||(e.setValueActive(!0,g),k.addValueCol(e))):(kt(Ee)&&mt("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,g),k.removeValueCol(e))));const{value1:Te,value2:Ie}=V("rowGroup","rowGroupIndex");(void 0!==Te||void 0!==Ie)&&("number"==typeof Ie||Te?(e.isRowGroupActive()||(e.setRowGroupActive(!0,g),k.addGroupCol(e)),s&&"number"==typeof Ie&&(s[e.getId()]=Ie)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,g),k.removeGroupCol(e)));const{value1:Be,value2:Le}=V("pivot","pivotIndex");(void 0!==Be||void 0!==Le)&&("number"==typeof Le||Be?(e.isPivotActive()||(e.setPivotActive(!0,g),k.addPivotCol(e)),r&&"number"==typeof Le&&(r[e.getId()]=Le)):e.isPivotActive()&&(e.setPivotActive(!1,g),k.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(i=>{null!=i.colId&&t.push(i.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),s={};return i.forEach(r=>{s[r.colId]=r}),()=>{const r=this.columnModel.getAllCols(),a=(Ee,Te,Ie,Be)=>{if(Qr(Te.map(Be),Ie.map(Be)))return;const tt=new Set(Te);Ie.forEach(Je=>{tt.delete(Je)||tt.add(Je)});const We=[...tt];this.eventService.dispatchEvent({type:Ee,columns:We,column:1===We.length?We[0]:null,source:e})},g=Ee=>{const Te=[];return r.forEach(Ie=>{const Be=s[Ie.getColId()];Be&&Ee(Be,Ie)&&Te.push(Ie)}),Te},k=Ee=>Ee.getColId();a("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),k),a("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),k);const se=g((Ee,Te)=>{const Ie=null!=Ee.aggFunc,Be=Ie!=Te.isValueActive(),Le=Ie&&Ee.aggFunc!=Te.getAggFunc();return Be||Le});se.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",se,e),this.eventDispatcher.columnResized(g((Ee,Te)=>Ee.width!=Te.getActualWidth()),!0,e),this.eventDispatcher.columnPinned(g((Ee,Te)=>Ee.pinned!=Te.getPinned()),e),this.eventDispatcher.columnVisible(g((Ee,Te)=>Ee.hide==Te.isVisible()),e);const Ae=g((Ee,Te)=>Ee.sort!=Te.getSort()||Ee.sortIndex!=Te.getSortIndex());Ae.length>0&&this.sortController.dispatchSortChangedEvents(e,Ae),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){const i=this.columnGetStateService.getColumnState(),s={};i.forEach(V=>s[V.colId]=V);const r={};e.forEach(V=>{s[V.colId]&&(r[V.colId]=!0)});const a=e.filter(V=>r[V.colId]),g=i.filter(V=>r[V.colId]),k=[];g.forEach((V,se)=>{const ne=a&&a[se];if(ne&&ne.colId!==V.colId){const fe=this.columnModel.getCol(ne.colId);fe&&k.push(fe)}}),k.length&&this.eventDispatcher.columnMoved({movedColumns:k,source:t,finished:!0})}},Mf=(e,t,i,s)=>{const r=e[i.getId()],a=e[s.getId()],g=null!=r,k=null!=a;if(g&&k)return r-a;if(g)return-1;if(k)return 1;const V=t.indexOf(i),se=t.indexOf(s),ne=V>=0;return ne&&se>=0?V-se:ne?-1:1},mA=class extends ut{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){const s=this.columnModel.getCols();s&&this.moveColumns([s[e]],t,i)}moveColumns(e,t,i,s=!0){const r=this.columnModel.getCols();if(!r)return;if(t>r.length-e.length)return mt("tried to insert columns in invalid location, toIndex = ",t),void mt("remember that you should not count the moving columns when calculating the new index");this.columnAnimationService.start();const a=this.columnModel.getColsForKeys(e);this.doesMovePassRules(a,t)&&(this.columnModel.moveInCols(a,t,i),this.eventDispatcher.columnMoved({movedColumns:a,source:i,toIndex:t,finished:s})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const s=this.columnModel.getCols().slice();return mf(s,e,t),s}doesMovePassLockedPositions(e){const i=this.gos.get("enableRtl");let s=i?1:-1,r=!0;return e.forEach(a=>{const g=(a=>a?"left"===a||!0===a?-1:1:0)(a.getColDef().lockPosition);i?g>s&&(r=!1):g<s&&(r=!1),s=g}),r}doesMovePassMarryChildren(e){let t=!0;return to(null,this.columnModel.getColTree(),s=>{if(!Ls(s))return;const r=s,a=r.getColGroupDef();if(!a||!a.marryChildren)return;const k=[];r.getLeafColumns().forEach(Ce=>{const ke=e.indexOf(Ce);k.push(ke)}),Math.max.apply(Math,k)-Math.min.apply(Math,k)>r.getLeafColumns().length-1&&(t=!1)}),t}placeLockedColumns(e){const t=[],i=[],s=[];return e.forEach(a=>{const g=a.getColDef().lockPosition;"right"===g?s.push(a):"left"===g||!0===g?t.push(a):i.push(a)}),this.gos.get("enableRtl")?[...s,...i,...t]:[...t,...i,...s]}},vA=/[&<>"']/g,xA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Nr(e,t){if(null==e)return null;const i=e.toString().toString();return t?i:i.replace(vA,s=>xA[s])}function wA(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var bA=class extends ut{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const s=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){const s=t?t.getColGroupDef():null;return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,r){const a=e.headerValueGetter;if(a){const g=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:r});return"function"==typeof a?a(g):"string"==typeof a?this.expressionService.evaluate(a,g):(mt("headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?function yA(e){return e&&null!=e?e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" "):null}(e.field):""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn;let a,r=null;if(kt(i)){const g=this.funcColsService.getValueColumns(),k=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===g.length,V=void 0!==e.getColDef().pivotTotalColumnIds;if(k&&!V)return t;r=i?i.getAggFunc():null,a=!0}else{const g=e.isValueActive(),k=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();g&&k?(r=e.getAggFunc(),a=!0):a=!1}if(a){const g="string"==typeof r?r:"func";return`${this.localeService.getLocaleTextFunc()(g,g)}(${t})`}return t}},SA=class extends ut{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){vo(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return null!=this.pivotResultCols}lookupPivotResultCol(e,t){if(null==this.pivotResultCols)return null;const i=this.columnModel.getColDefCol(t);let s=null;return this.pivotResultCols.list.forEach(r=>{const a=r.getColDef().pivotKeys,g=r.getColDef().pivotValueColumn;Qr(a,e)&&g===i&&(s=r)}),s}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.columnModel.isReady()&&(null!=e||null!=this.pivotResultCols)){if(e){this.processPivotResultColDef(e);const i=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,t);vo(this.context,this.pivotResultCols?.tree,i.columnTree);const s=i.columnTree,r=i.treeDept,a=Dc(s);this.pivotResultCols={tree:s,treeDepth:r,list:a,map:{}},this.pivotResultCols.list.forEach(V=>this.pivotResultCols.map[V.getId()]=V);const k=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!k)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const s=r=>{r.forEach(a=>{if(kt(a.children)){const k=a;i&&i(k),s(k.children)}else t&&t(a)})};e&&s(e)}},kA=class extends ut{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,s){const r=[];e.forEach(a=>{const g=this.columnModel.getColDefCol(a.key)||this.columnModel.getCol(a.key);if(g&&(r.push({width:a.newWidth,ratios:[1],columns:[g]}),"shift"===this.gos.get("colResizeDefault")&&(t=!t),t)){const V=this.visibleColsService.getColAfter(g);if(!V)return;const se=g.getActualWidth()-a.newWidth,ne=V.getActualWidth()+se;r.push({width:ne,ratios:[1],columns:[V]})}}),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:i,source:s})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:s}=e;if(t&&!t.every(ne=>this.checkMinAndMaxWidthsForSet(ne)))return void(i&&this.eventDispatcher.columnResized(t&&t.length>0?t[0].columns:null,i,s));const a=[],g=[];t.forEach(ne=>{const{width:fe,columns:Ce,ratios:ke}=ne,Ae={},Ee={};Ce.forEach(Be=>g.push(Be));let Te=!0,Ie=0;for(;Te;){if(Ie++,Ie>1e3){ni("infinite loop in resizeColumnSets");break}Te=!1;const Be=[];let Le=0,Ye=fe;Ce.forEach((tt,We)=>{Ee[tt.getId()]?Ye-=Ae[tt.getId()]:(Be.push(tt),Le+=ke[We])});const Ze=1/Le;Be.forEach((tt,We)=>{let et;We===Be.length-1?et=Ye:(et=Math.round(ke[We]*fe*Ze),Ye-=et);const pt=tt.getMinWidth(),gt=tt.getMaxWidth();et<pt?(et=pt,Ee[tt.getId()]=!0,Te=!0):gt>0&&et>gt&&(et=gt,Ee[tt.getId()]=!0,Te=!0),Ae[tt.getId()]=et})}Ce.forEach(Be=>{const Le=Ae[Be.getId()];Be.getActualWidth()!==Le&&(Be.setActualWidth(Le,s),a.push(Be))})});const k=a.length>0;let V=[];k&&(V=this.refreshFlexedColumns({resizingCols:g,skipSetLeft:!0}),this.visibleColsService.setLeftValues(s),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const se=g.concat(V);(k||i)&&this.eventDispatcher.columnResized(se,i,s,V)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let s=0,r=0,a=!0;return t.forEach(V=>{const se=V.getMinWidth();s+=se||0;const ne=V.getMaxWidth();ne>0?r+=ne:a=!1}),i>=s&&(!a||i<=r)}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const i=this.visibleColsService.getCenterCols();let s=-1;if(e.resizingCols){const Ce=new Set(e.resizingCols);for(let ke=i.length-1;ke>=0;ke--)if(Ce.has(i[ke])){s=ke;break}}let r=0,a=[],g=0,k=0;for(let Ce=0;Ce<i.length;Ce++)i[Ce].getFlex()&&Ce>s?(a.push(i[Ce]),k+=i[Ce].getFlex(),g+=i[Ce].getMinWidth()):r+=i[Ce].getActualWidth();if(!a.length)return[];let V=[];r+g>this.flexViewportWidth&&(a.forEach(Ce=>Ce.setActualWidth(Ce.getMinWidth(),t)),V=a,a=[]);const se=[];let ne;e:for(;;){ne=this.flexViewportWidth-r;const Ce=ne/k;for(let ke=0;ke<a.length;ke++){const Ae=a[ke],Ee=Ce*Ae.getFlex();let Te=0;const Ie=Ae.getMinWidth(),Be=Ae.getMaxWidth();if(Ee<Ie?Te=Ie:Ee>Be&&(Te=Be),Te){Ae.setActualWidth(Te,t),ff(a,Ae),k-=Ae.getFlex(),V.push(Ae),r+=Ae.getActualWidth();continue e}se[ke]=Math.floor(Ee)}break}let fe=ne;return a.forEach((Ce,ke)=>{const Ae=ke<a.length-1?Math.min(se[ke],fe):Math.max(se[ke],fe);Ce.setActualWidth(Ae,t),V.push(Ce),fe-=se[ke]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(V,!0,t,a),a}sizeColumnsToFit(e,t="sizeColumnsToFit",i,s){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,s));const r={};s&&s?.columnLimits?.forEach(({key:Ce,...ke})=>{r["string"==typeof Ce?Ce:Ce.getColId()]=ke});const a=this.visibleColsService.getAllCols(),g=e===eo(a);if(e<=0||!a.length||g)return;const k=[],V=[];a.forEach(Ce=>{!0===Ce.getColDef().suppressSizeToFit?V.push(Ce):k.push(Ce)});const se=k.slice(0);let ne=!1;const fe=Ce=>{Fs(k,Ce),V.push(Ce)};for(k.forEach(Ce=>{Ce.resetActualWidth(t);const ke=r?.[Ce.getId()],Ae=ke?.minWidth??s?.defaultMinWidth,Ee=ke?.maxWidth??s?.defaultMaxWidth,Te=Ce.getActualWidth();"number"==typeof Ae&&Te<Ae?Ce.setActualWidth(Ae,t,!0):"number"==typeof Ee&&Te>Ee&&Ce.setActualWidth(Ee,t,!0)});!ne;){ne=!0;const Ce=e-eo(V);if(Ce<=0)k.forEach(ke=>{const Ae=r?.[ke.getId()]?.minWidth??s?.defaultMinWidth;"number"!=typeof Ae?ke.setMinimum(t):ke.setActualWidth(Ae,t,!0)});else{const ke=Ce/eo(k);let Ae=Ce;for(let Ee=k.length-1;Ee>=0;Ee--){const Te=k[Ee],Ie=r?.[Te.getId()],Be=Ie?.minWidth??s?.defaultMinWidth,Le=Ie?.maxWidth??s?.defaultMaxWidth,Ye=Te.getMinWidth(),Ze=Te.getMaxWidth(),tt="number"==typeof Be&&Be>Ye?Be:Ye,We="number"==typeof Le&&Le<Ze?Le:Ze;let Je=Math.round(Te.getActualWidth()*ke);Je<tt?(Je=tt,fe(Te),ne=!1):Je>We?(Je=We,fe(Te),ne=!1):0===Ee&&(Je=Ae),Te.setActualWidth(Je,t,!0),Ae-=Je}}}se.forEach(Ce=>{Ce.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(se,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if("fitGridWidth"===t){const{columnLimits:i,defaultMinWidth:s,defaultMaxWidth:r}=e,a=i?.map(({colId:g,minWidth:k,maxWidth:V})=>({key:g,minWidth:k,maxWidth:V}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:r,columnLimits:a})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function Ef(e,t){return e+"_"+t}function $i(e){return e instanceof Af}var Af=class extends ut{constructor(e,t,i,s){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=s}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return Ef(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{$i(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=li(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Co(t)?e.push(t):$i(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Co(t)?e.push(t):$i(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.getProvidedColumnGroup().isExpandable())return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach(i=>{if(!$i(i)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i)}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Tf=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return i="number"!=typeof t?0:t+1,this.existingIds[e]=i,i}},MA=class extends ut{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=Gc(this.treeLeft),this.columnsCenter=Gc(this.treeCenter),this.columnsRight=Gc(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=eo(this.columnsCenter),t=eo(this.columnsLeft),i=eo(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?li(this.columnsRight):null):(t=this.columnsLeft?li(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(s=>{s.setLastLeftPinned(s===t,e),s.setFirstRightPinned(s===i,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(a=>"left"==a.getPinned()),i=e.filter(a=>"right"==a.getPinned()),s=e.filter(a=>"left"!=a.getPinned()&&"right"!=a.getPinned()),r=new Tf;this.treeLeft=this.createGroups({columns:t,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:s,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],i=[],s=[];for(const r of e){const a=r.getPinned();a?!0===a||"left"===a?t.push(r):s.push(r):i.push(r)}this.ariaOrderColumns=t.concat(i).concat(s)}getAriaColIndex(e){let t;return t=$i(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{$i(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const i=this.columnModel.getCols().slice(0),s=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(r=>{if(s){let a=eo(r);r.forEach(g=>{a-=g.getActualWidth(),g.setLeft(a,e)})}else{let a=0;r.forEach(g=>{g.setLeft(a,e),a+=g.getActualWidth()})}!function ZE(e,t){for(let i=0;i<t.length;i++)ff(e,t[i])}(i,r)}),i.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.columns=this.gos.get("enableRtl")?this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,s){const r=[];let a=null;for(let g=0;g<t.length;g++){const k=t[g],V=t.length-g,se=Math.min(k.getColSpan(e),V),ne=[k];if(se>1){const Ce=se-1;for(let ke=1;ke<=Ce;ke++)ne.push(t[g+ke]);g+=Ce}let fe;i?(fe=!1,ne.forEach(Ce=>{i(Ce)&&(fe=!0)})):fe=!0,fe&&(0===r.length&&a&&s&&s(k)&&r.push(a),r.push(k)),a=k}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),r="After"===t?li(s):s[0],a=`getCol${t}`;for(;;){const g=this[a](r);if(!g)return null;const k=this.getColGroupAtLevel(g,i);if(k!==e)return k}}getColGroupAtLevel(e,t){let s,r,i=e.getParent();for(;s=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(s+r<=t);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Ko(this.treeCenter,!1,e),Ko(this.treeLeft,!1,e),Ko(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){Ko(this.getAllTrees(),!1,t=>{$i(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const s=this[t[i]]();if(s.length)return e?li(s):s[0]}return null}getColumnGroup(e,t){if(!e)return null;if($i(e))return e;const i=this.getAllTrees(),s="number"==typeof t;let r=null;return Ko(i,!1,a=>{if($i(a)){const g=a;let k;k=s?e===g.getGroupId()&&t===g.getPartId():e===g.getGroupId(),k&&(r=g)}}),r}getColAfter(e){const t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return eo(this.columnsLeft)}getDisplayedColumnsRightWidth(){return eo(this.columnsRight)}isColAtEdge(e,t){const i=this.getAllCols();if(!i.length)return!1;const s="first"===t;let r;if($i(e)){const a=e.getDisplayedLeafColumns();if(!a.length)return!1;r=s?a[0]:li(a)}else r=e;return(s?i[0]:li(i))===r}createGroups(e){const{columns:t,idCreator:i,pinned:s,oldDisplayedGroups:r,isStandaloneStructure:a}=e,g=this.mapOldGroupsById(r),k=[];let V=t;for(;V.length;){const se=V;V=[];let ne=0;const fe=Ce=>{const ke=ne;ne=Ce;const Ae=se[ke],Te=($i(Ae)?Ae.getProvidedColumnGroup():Ae).getOriginalParent();if(null==Te){for(let Be=ke;Be<Ce;Be++)k.push(se[Be]);return}const Ie=this.createColGroup(Te,i,g,s,a);for(let Be=ke;Be<Ce;Be++)Ie.addChild(se[Be]);V.push(Ie)};for(let Ce=1;Ce<se.length;Ce++){const ke=se[Ce],Ee=($i(ke)?ke.getProvidedColumnGroup():ke).getOriginalParent(),Te=se[ne];Ee!==($i(Te)?Te.getProvidedColumnGroup():Te).getOriginalParent()&&fe(Ce)}ne<se.length&&fe(se.length)}return a||this.setupParentsIntoCols(k,null),k}createColGroup(e,t,i,s,r){const a=e.getGroupId(),g=t.getInstanceIdForKey(a);let V=i[Ef(a,g)];return V&&V.getProvidedColumnGroup()!==e&&(V=null),kt(V)?V.reset():(V=new Af(e,a,g,s),r||this.createBean(V)),V}mapOldGroupsById(e){const t={},i=s=>{s.forEach(r=>{if($i(r)){const a=r;t[r.getUniqueId()]=a,i(a.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.setParent(t),$i(i)){const s=i;this.setupParentsIntoCols(s.getChildren(),s)}})}};function Ko(e,t,i){if(e)for(let s=0;s<e.length;s++){const r=e[s];$i(r)&&Ko(t?r.getDisplayedChildren():r.getChildren(),t,i),i(r)}}function Gc(e){const t=[];return Ko(e,!0,i=>{Co(i)&&t.push(i)}),t}var Pf=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],AA=[...Pf,"scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],TA={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},ks=class{};ks.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],ks.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"],ks.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],ks.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],ks.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],ks.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"],ks.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],ks.ALL_PROPERTIES=[...ks.ARRAY_PROPERTIES,...ks.OBJECT_PROPERTIES,...ks.STRING_PROPERTIES,...ks.NUMBER_PROPERTIES,...ks.FUNCTION_PROPERTIES,...ks.BOOLEAN_PROPERTIES,...ks.OTHER_PROPERTIES];var xa=ks,ur=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};ur.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",ur.PUBLIC_EVENTS=Pf,ur.EVENT_CALLBACKS=AA.map(e=>ur.getCallbackForEvent(e)),ur.BOOLEAN_PROPERTIES=xa.BOOLEAN_PROPERTIES,ur.ALL_PROPERTIES=xa.ALL_PROPERTIES,ur.ALL_PROPERTIES_AND_CALLBACKS=[...ur.ALL_PROPERTIES,...ur.EVENT_CALLBACKS],ur.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(ur.ALL_PROPERTIES_AND_CALLBACKS);var Wc,Tl,jc,Vc,Uc,Xc,Yc,$c,Kc,Pl,Ca=ur;function ya(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}function pr(e,t,i){null==i||"string"==typeof i&&""==i?zc(e,t):gr(e,t,i)}function gr(e,t,i){e.setAttribute(Rf(t),i.toString())}function zc(e,t){e.removeAttribute(Rf(t))}function Rf(e){return`aria-${e}`}function js(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Tn(e,t){pr(e,"label",t)}function wa(e,t){pr(e,"labelledby",t)}function Df(e,t){pr(e,"live",t)}function _c(e,t){pr(e,"hidden",t)}function El(e,t){gr(e,"expanded",t)}function Ff(e,t){gr(e,"rowindex",t)}function Lf(e,t){gr(e,"colindex",t)}function Al(e,t){pr(e,"selected",t)}function Hc(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function Gr(){return void 0===Wc&&(Wc=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Wc}function Of(){if(void 0===Tl)if(Gr()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Tl=null!=e[1]?parseFloat(e[1]):0)}else Tl=0;return Tl}function qc(){if(void 0===jc){const e=window;jc=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return jc}function Zc(){return void 0===Vc&&(Vc=/(firefox)/i.test(navigator.userAgent)),Vc}function If(){return void 0===Uc&&(Uc=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Uc}function yo(){return void 0===Xc&&(Xc=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Xc}function Qc(){return!Gr()||Of()>=15}function Jc(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return-1!==t||null!==i&&(""!==i||Zc())?t.toString():null}function Bf(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;0===i&&0===t.clientWidth&&(i=null),t.parentNode&&t.parentNode.removeChild(t),null!=i&&($c=i,Yc=0===i)}function Nf(){return null==Yc&&Bf(),Yc}var Gf="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function ed(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,s=t.call(e,"input, select, button, textarea"),r=t.call(e,Gf),a=kr(e);return s&&!r&&a}function Ri(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-hidden",!t),s||_c(e,!t)}function ba(e,t){const i="disabled",s=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);s(e),Uf(e.querySelectorAll("input"),r=>s(r))}function Pn(e,t,i){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof i){if(++s>i)break}else if(e===i)break}return!1}function qo(e){const{height:t,width:i,borderTopWidth:s,borderRightWidth:r,borderBottomWidth:a,borderLeftWidth:g,paddingTop:k,paddingRight:V,paddingBottom:se,paddingLeft:ne,marginTop:fe,marginRight:Ce,marginBottom:ke,marginLeft:Ae,boxSizing:Ee}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(a||"0"),borderLeftWidth:parseFloat(g||"0"),paddingTop:parseFloat(k||"0"),paddingRight:parseFloat(V||"0"),paddingBottom:parseFloat(se||"0"),paddingLeft:parseFloat(ne||"0"),marginTop:parseFloat(fe||"0"),marginRight:parseFloat(Ce||"0"),marginBottom:parseFloat(ke||"0"),marginLeft:parseFloat(Ae||"0"),boxSizing:Ee}}function td(e){const t=qo(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Sa(e){const t=qo(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function zf(e){const{height:t,marginBottom:i,marginTop:s}=qo(e);return Math.floor(t+i+s)}function Rl(e){const{width:t,marginLeft:i,marginRight:s}=qo(e);return Math.floor(t+i+s)}function _f(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:r,borderBottomWidth:a}=qo(e);return{top:t.top+(i||0),left:t.left+(s||0),right:t.right+(r||0),bottom:t.bottom+(a||0)}}function Dl(){if("boolean"==typeof Pl)return Pl;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,Pl=0===Math.floor(e.scrollLeft),document.body.removeChild(e),Pl}function Fl(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),qc()&&!Dl()&&(i=e.scrollWidth-e.clientWidth-i)),i}function Ll(e,t,i){i&&(Dl()?t*=-1:(Gr()||qc())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function Ms(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Sr(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Hf(e){return!!e.offsetParent}function kr(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!Hf(e)||"visible"!==window.getComputedStyle(e).visibility)}function ka(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Wf(e,t,i){i&&i.nextSibling===t||(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function jf(e,t){for(let i=0;i<t.length;i++){const s=t[i],r=e.children[i];r!==s&&e.insertBefore(s,r)}}function Vf(e,t){if(t)for(const[i,s]of Object.entries(t)){if(!i||!i.length||null==s)continue;const r=wA(i),a=s.toString(),g=a.replace(/\s*!important/g,"");e.style.setProperty(r,g,g.length!=a.length?"important":void 0)}}function Ol(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Mr(e,t)}function Mr(e,t){t=id(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Ma(e,t){t=id(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function id(e){return"number"==typeof e?`${e}px`:e}function sd(e){return e instanceof Node||e instanceof HTMLElement}function fr(e,t,i){null==i||""===i?e.removeAttribute(t):e.setAttribute(t,i.toString())}function Uf(e,t){if(null!=e)for(let i=0;i<e.length;i++)t(e[i])}var Rn=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Yf=class nn extends ut{constructor(t,i,s,r){super(),this.parentComp=t,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=s,this.shouldDisplayTooltip=r,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();0===this.tooltipTrigger&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const i=this.gos.get(t);return i<0&&mt(`${t} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(t){return"show"===t?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return t&&"hover"!==t?1:0}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!yo()&&(nn.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},100):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){const i=t.relatedTarget,s=this.parentComp.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||s.contains(i)||this.interactionEnabled&&r?.contains(i)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(0!=this.state||nn.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-nn.lastTooltipHideTime<1e3}setToDoNothing(t){!t&&2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!kt(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(i)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),nn.lastTooltipHideTime=(new Date).getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,i){if(2!==this.state||this.tooltipInstanceCount!==t)return void this.destroyBean(i);const r=i.getGui();this.tooltipComp=i,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const a=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({eChild:r,ariaLabel:a("ariaLabelTooltip","Tooltip")});if(g&&(this.tooltipPopupDestroyFunc=g.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){const k=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:k,columnMoved:k})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),1===this.tooltipTrigger&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const t=this.tooltipComp?.getGui(),i=Pi(this.gos);return!!t&&t.contains(i)}onTooltipFocusOut(t){const i=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,i.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout(()=>{t(),this.destroyBean(i)},0===this.tooltipTrigger?1e3:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){nn.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},100)}unlockService(){nn.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};Yf.isLocked=!1;var oT=Yf,Dn=class extends ut{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(null!=e&&""!=e?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){null==this.tooltipManager&&(this.tooltipManager=this.createBean(new oT({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()},this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context))}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?.(),i=e.getColDef?.(),s=e.getRowNode?.();return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?.(),node:s,data:s?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},nT=new Rn,Lt=null,gi=class ev extends ut{constructor(t,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=nT.next(),this.cssClassManager=new class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(s=>this.addCssClass(s));else if(!0!==this.cssClassStates[e]&&e.length){const s=this.getGui();s&&s.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(s=>this.removeCssClass(s));else if(!1!==this.cssClassStates[e]&&e.length){const s=this.getGui();s&&s.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(e){if(e.indexOf(" ")>=0){const s=(e||"").split(" ");if(s.length>1)return void s.forEach(r=>this.addOrRemoveCssClass(r,t))}if(this.cssClassStates[e]!==t&&e.length){const s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}}}(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(s=>[s.selector,s])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,i){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:i,showDelayOverride:s,hideDelayOverride:r,location:a,shouldDisplayTooltip:g}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i),null!=i&&(this.tooltipFeature=this.createBean(new Dn({getTooltipValue:()=>this.tooltipText,getGui:()=>this.getGui(),getLocation:()=>a??"UNKNOWN",getColDef:t?.getColDef,getColumn:t?.getColumn,getTooltipShowDelayOverride:null!=s?()=>s:void 0,getTooltipHideDelayOverride:null!=r?()=>r:void 0,shouldDisplayTooltip:g})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,i,s,r=null){if(void 0===i&&(i=this.getDataRefAttribute(t)),i){const a=this[i];a===Lt?this[i]=r??t:!this.suppressDataRefValidation&&(!s||!s[i])&&mt(`Issue with data-ref: ${i} on ${this.constructor.name} with ${a}`)}}createChildComponentsFromTags(t,i){(function tT(e){if(null==e)return[];const t=[];return Uf(e,i=>t.push(i)),t})(t.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const a=this.createComponentFromElement(r,g=>{g.getGui()&&this.copyAttributesFromNode(r,g.getGui())},i);if(a){if(a.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const g=Array.prototype.slice.call(r.children);a.addItems(g)}this.swapComponentForNode(a,t,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(t,i,s){const r=t.nodeName,a=this.getDataRefAttribute(t),g=0===r.indexOf("AG-"),k=g?this.componentSelectors.get(r):null;let V=null;return k?(ev.elementGettingCreated=t,V=new k.component(s&&a?s[a]:void 0),V.setParentComponent(this),this.createBean(V,null,i)):g&&mt(`Missing selector: ${r}`),this.applyElementsToComponent(t,a,s,V),V}copyAttributesFromNode(t,i){!function iT(e,t){if(e)for(let i=0;i<e.length;i++){const s=e[i];t(s.name,s.value)}}(t.attributes,(s,r)=>i.setAttribute(s,r))}swapComponentForNode(t,i,s){const r=t.getGui();i.replaceChild(r,s),i.insertBefore(document.createComment(s.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(s=>s.setAttribute("tabindex",i.toString()))}setTemplate(t,i,s){const r=ka(t);this.setTemplateFromElement(r,i,s)}setTemplateFromElement(t,i,s,r=!1){if(this.eGui=t,this.suppressDataRefValidation=r,i)for(let a=0;a<i.length;a++){const g=i[a];this.componentSelectors.set(g.selector,g)}this.wireTemplate(t,s)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,i){let s=i;return null==t?null:(s||(s=this.eGui),sd(t)?{element:t,parent:s}:{element:t.getGui(),parent:s})}prependChild(t,i){const{element:s,parent:r}=this.getContainerAndElement(t,i)||{};!s||!r||r.insertAdjacentElement("afterbegin",s)}appendChild(t,i){const{element:s,parent:r}=this.getContainerAndElement(t,i)||{};!s||!r||r.appendChild(s)}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:s}=i;!function ZA(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-invisible",!t),s||_c(e,!t)}(this.eGui,t,{skipAriaHidden:s})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:s}=i;Ri(this.eGui,t,{skipAriaHidden:s}),this.dispatchLocalEvent({type:"displayChanged",visible:this.displayed})}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,i,s){this.eGui.addEventListener(t,i,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}},$f={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},aT=(()=>{const e=new Set(Object.values($f));return e.add("eye"),e})();function Js(e,t,i,s){let r=null;const a=i&&i.getColDef().icons;if(a&&(r=a[e]),t&&!r){const g=t.get("icons");g&&(r=g[e])}if(!r){const g=document.createElement("span");let k=$f[e]??(aT.has(e)?e:void 0);return k||(s?k=e:(mt(`Did not find icon ${e}`),k="")),g.setAttribute("class",`ag-icon ag-icon-${k}`),g.setAttribute("unselectable","on"),js(g,"presentation"),g}{let g;if("function"==typeof r)g=r();else{if("string"!=typeof r)throw new Error("icon from grid options needs to be a string or a function");g=r}if("string"==typeof g)return ka(g);if(sd(g))return g;mt("iconRenderer should return back a string or a dom object")}}var hT=class extends gi{constructor(){super(...arguments),this.dragSource=null,this.eIcon=Lt,this.eLabel=Lt}postConstruct(){const e=t=>function lT(e,t,i){const s=Js(e,t,i);if(s){const{className:a}=s;if("string"==typeof a&&a.indexOf("ag-icon")>-1||"object"==typeof a&&a["ag-icon"])return s}const r=document.createElement("span");return r.appendChild(s),r}(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate('<div class="ag-dnd-ghost ag-unselectable">\n                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>\n            </div>')}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){Ms(this.eIcon);let i=null;e||(e=this.dragSource?.getDefaultIconName?this.dragSource?.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),(i!==this.dropIconMap.hide||!this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eIcon.appendChild(i)}setLabel(e){this.eLabel.textContent=Nr(e)}};function Kf(e,t,i){if(0===i)return!1;const s=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(s,r)<=i}var wo=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new bn,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",s,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",s,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{this.touching&&this.touchStart===t&&!this.moved&&(this.moved=!0,this.localEventService.dispatchEvent({type:"longTap",touchStart:this.touchStart,touchEvent:e}))},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);t&&!Kf(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){this.touching&&(this.moved||(this.localEventService.dispatchEvent({type:"tap",touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1)}checkForDoubleTap(){const e=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&e-this.lastTapTime>this.DOUBLE_TAP_MILLIS?(this.localEventService.dispatchEvent({type:"doubleTap",touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function Ea(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var cT=`<span class="ag-sort-indicator-container">\n        ${Ea("Order","order")}\n        ${Ea("Asc","ascending-icon")}\n        ${Ea("Desc","descending-icon")}\n        ${Ea("Mixed","mixed-icon")}\n        ${Ea("None","none-icon")}\n    </span>`,rd=class extends gi{constructor(e){super(),this.eSortOrder=Lt,this.eSortAsc=Lt,this.eSortDesc=Lt,this.eSortMixed=Lt,this.eSortNone=Lt,e||this.setTemplate(cT)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,s,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:s,columnRowGroupChanged:s}),this.onSortChanged()}addInIcon(e,t,i){if(null==t)return;const s=Js(e,this.gos,i);s&&t.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&Ri(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&Ri(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon");Ri(this.eSortNone,!t&&null==e,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;Ir(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);Ri(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=e.some(r=>this.sortController.getDisplaySortIndexForColumn(r)??!1);Ri(this.eSortOrder,t>=0&&i,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():Ms(this.eSortOrder)}},dT={selector:"AG-SORT-INDICATOR",component:rd},od=class extends gi{constructor(){super(...arguments),this.eFilter=Lt,this.eFilterButton=Lt,this.eSortIndicator=Lt,this.eMenu=Lt,this.eLabel=Lt,this.eText=Lt,this.eSortOrder=Lt,this.eSortAsc=Lt,this.eSortDesc=Lt,this.eSortMixed=Lt,this.eSortNone=Lt,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&t.enableFilterButton==e.enableFilterButton&&t.enableFilterIcon==e.enableFilterIcon&&(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??'<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>\n        </div>\n    </div>';return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[dT]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=Nr(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(null==t)return;const s=Js(e,this.gos,i);s&&t.appendChild(s)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new wo(this.getGui(),!0),i=this.shouldSuppressMenuHide(),s=i&&kt(this.eMenu),r=s?new wo(this.eMenu,!0):t;if(this.params.enableMenu&&this.addManagedListeners(r,{[s?"tap":"longTap"]:k=>this.params.showColumnMenuAfterMouseClick(k.touchStart)}),this.params.enableSorting&&this.addManagedListeners(t,{tap:g=>{const k=g.touchStart.target;i&&(this.eMenu?.contains(k)||this.eFilterButton?.contains(k))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")}}),this.params.enableFilterButton){const a=new wo(this.eFilterButton,!0);this.addManagedListeners(a,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>a.destroy())}this.addDestroyFunc(()=>t.destroy()),s&&this.addDestroyFunc(()=>r.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return Sr(this.eMenu),void(this.eMenu=void 0);const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new rd(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=(new Date).getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{if(!(this.params.column.isMoving()||(new Date).getTime()-this.lastMovingChanged<50)){const k="ctrl"===this.gos.get("multiSortKey")?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(k)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc","asc"===t),this.addOrRemoveCssClass("ag-header-cell-sorted-desc","desc"===t),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const r=!this.funcColsService.getSourceColumnsForGroupColumn(this.params.column)?.every(a=>this.params.column.getSort()==a.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0)}configureFilter(e,t,i){if(!e)return Sr(t),!1;const s=this.params.column;return this.addInIcon("filter",t,s),this.addManagedListeners(s,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Ri(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},pT=class extends gi{constructor(){super('<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>'),this.agOpened=Lt,this.agClosed=Lt,this.agLabel=Lt}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&mt("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=r=>{if(Jr(r))return;const a=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=r=>{En(r)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(e,t){const i=new wo(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Ri(this.agOpened,t),Ri(this.agClosed,!t)}else Ri(this.agOpened,!1),Ri(this.agClosed,!1)}addInIcon(e,t){const i=Js(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return Ri(this.agOpened,!1),void Ri(this.agClosed,!1)}setupLabel(){const{displayName:e,columnGroup:t}=this.params;if(kt(e)){const i=Nr(e,!0);this.agLabel.textContent=i}this.addOrRemoveCssClass("ag-sticky-label",!t.getColGroupDef()?.suppressStickyLabel)}},mT=class extends gi{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),s=e.formatValue(i),r=kt(s)?s:i,a=t>=0;this.eDelta.textContent=a?"\u2191"+r:"\u2193"+r,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ms(this.eDelta)}refresh(e,t=!1){const i=e.value;return i!==this.lastValue&&(kt(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:kt(e.value)?this.eValue.textContent=i:Ms(this.eValue),!this.filterManager?.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof i&&"number"==typeof this.lastValue&&this.showDelta(e,i-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0)}},vT=class extends gi{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;return ai(i)&&(i=""),i!==this.lastValue&&!this.filterManager?.isSuppressFlashingCellsBecauseFiltering()&&(t||this.addSlideAnimation(),this.lastValue=i,kt(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:kt(e.value)?this.eCurrent.textContent=i:Ms(this.eCurrent),!0)}},nt=class{};nt.BACKSPACE="Backspace",nt.TAB="Tab",nt.ENTER="Enter",nt.ESCAPE="Escape",nt.SPACE=" ",nt.LEFT="ArrowLeft",nt.UP="ArrowUp",nt.RIGHT="ArrowRight",nt.DOWN="ArrowDown",nt.DELETE="Delete",nt.F2="F2",nt.PAGE_UP="PageUp",nt.PAGE_DOWN="PageDown",nt.PAGE_HOME="Home",nt.PAGE_END="End",nt.A="KeyA",nt.C="KeyC",nt.D="KeyD",nt.V="KeyV",nt.X="KeyX",nt.Y="KeyY",nt.Z="KeyZ";var xT=class extends gi{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s,disabled:r}=this.config;null!=r&&this.setDisabled(r),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){Ms(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Ri(this.eLabel,!1),js(this.eLabel,"presentation")):(Ri(this.eLabel,!0),js(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===e),i.toggle("ag-label-align-right","right"===e),i.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||Ol(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return ba(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},qf=class extends xT{constructor(e,t,i,s){super(e,t,i),this.className=s}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=i&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();null==i||""==i||null!==function LA(e){return e.getAttribute("aria-label")}(e)?wa(e,""):wa(e,t??"")}setAriaLabel(e){return Tn(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Mr(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}},Zo=class extends qf{constructor(e,t,i="text",s="input"){super(e,e?.template??`\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${s} data-ref="eInput" class="ag-input-field-input"></${s}>\n                </div>\n            </div>`,[],t),this.inputType=i,this.displayFieldTag=s,this.eLabel=Lt,this.eWrapper=Lt,this.eInput=Lt}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;null!=e&&this.setInputName(e),null!=t&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Ol(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return fr(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Tn(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return ba(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){return fr(this.eInput,"autocomplete",!0===e?null:"string"==typeof e?e:"off"),this}},Il=class extends Zo{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"==typeof e&&this.setReadOnly(e),"boolean"==typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const s=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}},nd={selector:"AG-CHECKBOX",component:Il},CT=class extends gi{constructor(){super('\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[nd]),this.eCheckbox=Lt}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),Df(t,"polite"),this.addManagedListeners(t,{click:i=>{if(En(i),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)},dblclick:i=>{En(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===nt.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Pi(this.gos)&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0;if(e.node.group&&e.column)if("boolean"==typeof e.value)t=e.value;else{const k=e.column.getColId();k.startsWith(kl)?t=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[k]?t=e.value??void 0:i=!1}else t=e.value??void 0;if(!i)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(t);const s=null!=e.disabled?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(s);const r=this.localeService.getLocaleTextFunc(),a=Hc(r,t),g=s?a:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${a})`;this.eCheckbox.setInputAriaLabel(g)}onCheckboxChanged(e){const{column:t,node:i,value:s}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s});const r=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:r}),r||this.updateCheckbox(this.params)}},yT=class extends gi{constructor(){super('<div class="ag-loading">\n            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" data-ref="eLoadingText"></span>\n        </div>'),this.eLoadingIcon=Lt,this.eLoadingText=Lt}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Js("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},wT=class extends gi{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>wa(e.eParentOfValue)),wa(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Tn(this.getGui(),t)}setupLoading(e){const i=Yi(this.gos).createElement("div");i.classList.add("ag-skeleton-effect");const s=e.node.rowIndex;if(null!=s){const g=75+25*(s%2==0?Math.sin(s):Math.cos(s));i.style.width=`${g}%`}this.getGui().appendChild(i);const a=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Tn(this.getGui(),a)}refresh(e){return!1}destroy(){super.destroy()}},Zf=class extends gi{constructor(){super()}destroy(){super.destroy()}},bT=class extends Zf{init(){const e=qr(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},ST=class extends Zf{init(){const e=qr(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}},Fn=class extends gi{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},kT=class extends Fn{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Nr(t,!0)}};function Qf(e,t,i,s){let r=t.map((k,V)=>({value:k,relevance:ET(e.toLowerCase(),k.toLocaleLowerCase()),idx:V}));if(r.sort((k,V)=>V.relevance-k.relevance),i&&(r=r.filter(k=>0!==k.relevance)),r.length>0&&s&&s>0){const V=r[0].relevance*s;r=r.filter(se=>V-se.relevance<0)}const a=[],g=[];for(const k of r)a.push(k.value),g.push(k.idx);return{values:a,indices:g}}function ET(e,t){const i=e.replace(/\s/g,""),s=t.replace(/\s/g,"");let r=0,a=-1;for(let g=0;g<i.length;g++){const k=s.indexOf(i[g],a+1);-1!==k&&(a=k,r+=100-100*a/1e4*100)}return r}var AT=class extends ut{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:hT,agColumnHeader:od,agColumnGroupHeader:pT,agSortIndicator:rd,agAnimateShowChangeCellRenderer:mT,agAnimateSlideCellRenderer:vT,agLoadingCellRenderer:yT,agSkeletonCellRenderer:wT,agCheckboxCellRenderer:CT,agLoadingOverlay:bT,agNoRowsOverlay:ST,agTooltipComponent:kT},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");null!=e&&dr(e,(t,i)=>this.registerJsComponent(t,i))}registerDefaultComponent(e,t,i){this.agGridDefaults[e]=t,i&&(this.agGridDefaultParams[e]=i)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(k,V,se)=>({componentFromFramework:V,component:k,params:se}),s=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(null!=s)return i(s,!0);const r=this.jsComps[t];if(r)return i(r,this.getFrameworkOverrides().isFrameworkComponent(r));const a=this.agGridDefaults[t];if(a)return i(a,!1,this.agGridDefaultParams[t]);const g=this.enterpriseAgDefaultCompsModule[t];return g?this.gos.assertModuleRegistered(g,`AG Grid '${e}' component: ${t}`):fc(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const s=Qf(t,[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],!0,.8).values;mt(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),s.length>0&&mt(`         Did you mean: [${s.slice(0,3)}]?`),mt(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},er=class _a{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new _a(i=>{let s=t.length;const r=new Array(s);t.forEach((a,g)=>{a.then(k=>{r[g]=k,s--,0===s&&i(r)})})}):_a.resolve()}static resolve(t=null){return new _a(i=>i(t))}then(t){return new _a(i=>{1===this.status?i(t(this.resolution)):this.waiters.push(s=>i(t(s)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}},TT={propertyName:"dateComponent",cellRenderer:!1},PT={propertyName:"dragAndDropImageComponent",cellRenderer:!1},RT={propertyName:"headerComponent",cellRenderer:!1},DT={propertyName:"headerGroupComponent",cellRenderer:!1},Jf={propertyName:"cellRenderer",cellRenderer:!0},FT={propertyName:"cellRenderer",cellRenderer:!1},LT={propertyName:"loadingCellRenderer",cellRenderer:!0},OT={propertyName:"cellEditor",cellRenderer:!1},e0={propertyName:"innerRenderer",cellRenderer:!0},IT={propertyName:"loadingOverlayComponent",cellRenderer:!1},BT={propertyName:"noRowsOverlayComponent",cellRenderer:!1},NT={propertyName:"tooltipComponent",cellRenderer:!1},ad={propertyName:"filter",cellRenderer:!1},GT={propertyName:"floatingFilterComponent",cellRenderer:!1},zT={propertyName:"toolPanel",cellRenderer:!1},_T={propertyName:"statusPanel",cellRenderer:!1},HT={propertyName:"fullWidthCellRenderer",cellRenderer:!0},WT={propertyName:"loadingCellRenderer",cellRenderer:!0},jT={propertyName:"groupRowRenderer",cellRenderer:!0},VT={propertyName:"detailCellRenderer",cellRenderer:!0},UT={propertyName:"menuItem",cellRenderer:!1},t0=class tv extends ut{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,PT,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,i){return this.getCompDetails(t,RT,"agColumnHeader",i)}getHeaderGroupCompDetails(t){const i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,DT,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,HT,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,WT,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,jT,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,VT,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,i){return this.getCompDetails(t,e0,null,i)}getFullWidthGroupRowInnerCellRenderer(t,i){return this.getCompDetails(t,e0,null,i)}getCellRendererDetails(t,i){return this.getCompDetails(t,Jf,null,i)}getEditorRendererDetails(t,i){return this.getCompDetails(t,FT,null,i)}getLoadingCellRendererDetails(t,i){return this.getCompDetails(t,LT,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(t,i){return this.getCompDetails(t,OT,"agCellEditor",i,!0)}getFilterDetails(t,i,s){return this.getCompDetails(t,ad,s,i,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,TT,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,IT,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,BT,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,NT,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,i){return this.getCompDetails(t,Jf,null,i)}getFloatingFilterCompDetails(t,i,s){return this.getCompDetails(t,GT,s,i)}getToolPanelCompDetails(t,i){return this.getCompDetails(t,zT,null,i,!0)}getStatusPanelCompDetails(t,i){return this.getCompDetails(t,_T,null,i,!0)}getMenuItemCompDetails(t,i){return this.getCompDetails(t,UT,"agMenuItem",i,!0)}getCompDetails(t,i,s,r,a=!1){const{propertyName:g,cellRenderer:k}=i;let Ae,{compName:V,jsComp:se,fwComp:ne,paramsFromSelector:fe,popupFromSelector:Ce,popupPositionFromSelector:ke}=tv.getCompKeys(this.frameworkOverrides,t,i,r);const Ee=Le=>{const Ye=this.userComponentRegistry.retrieve(g,Le);Ye&&(se=Ye.componentFromFramework?void 0:Ye.component,ne=Ye.componentFromFramework?Ye.component:void 0,Ae=Ye.params)};if(null!=V&&Ee(V),null==se&&null==ne&&null!=s&&Ee(s),se&&k&&!this.agComponentUtils.doesImplementIComponent(se)&&(se=this.agComponentUtils.adaptFunction(g,se)),!se&&!ne)return void(a&&ni(`Could not find component ${V}, did you forget to configure this component?`));const Te=this.mergeParamsWithApplicationProvidedParams(t,i,r,fe,Ae),Ie=null==se,Be=se||ne;return{componentFromFramework:Ie,componentClass:Be,params:Te,type:i,popupFromSelector:Ce,popupPositionFromSelector:ke,newAgStackInstance:()=>this.newAgStackInstance(Be,Ie,Te,i)}}static getCompKeys(t,i,s,r){const{propertyName:a}=s;let g,k,V,se,ne,fe;if(i){const Ce=i,ke=Ce[a+"Selector"],Ae=ke?ke(r):null,Ee=Te=>{"string"==typeof Te?g=Te:null!=Te&&!0!==Te&&(t.isFrameworkComponent(Te)?V=Te:k=Te)};Ae?(Ee(Ae.component),se=Ae.params,ne=Ae.popup,fe=Ae.popupPosition):Ee(Ce[a])}return{compName:g,jsComp:k,fwComp:V,paramsFromSelector:se,popupFromSelector:ne,popupPositionFromSelector:fe}}newAgStackInstance(t,i,s,r){let k;if(i){const se=this.componentMetadataProvider.retrieve(r.propertyName);k=this.frameworkComponentWrapper.wrap(t,se.mandatoryMethodList,se.optionalMethodList,r)}else k=new t;const V=this.initComponent(k,s);return null==V?er.resolve(k):V.then(()=>k)}mergeParamsWithApplicationProvidedParams(t,i,s,r=null,a){const g=this.gos.getGridCommonParams();Os(g,s),a&&Os(g,a);const V=t&&t[i.propertyName+"Params"];return"function"==typeof V?Os(g,V(s)):"object"==typeof V&&Os(g,V),Os(g,r),g}initComponent(t,i){if(this.createBean(t),null!=t.init)return t.init(i)}};function Aa(e){return null!=e&&null!=e.getFrameworkComponentInstance?e.getFrameworkComponentInstance():e}var Bl=class xi{static register(t){xi.__register(t,!0,void 0)}static registerModules(t){xi.__registerModules(t,!0,void 0)}static __register(t,i,s){xi.runVersionChecks(t),void 0!==s?(xi.areGridScopedModules=!0,void 0===xi.gridModulesMap[s]&&(xi.gridModulesMap[s]={}),xi.gridModulesMap[s][t.moduleName]=t):xi.globalModulesMap[t.moduleName]=t,xi.setModuleBased(i)}static __unRegisterGridModules(t){delete xi.gridModulesMap[t]}static __registerModules(t,i,s){xi.setModuleBased(i),t&&t.forEach(r=>xi.__register(r,i,s))}static isValidModuleVersion(t){const[i,s]=t.version.split(".")||[],[r,a]=xi.currentModuleVersion.split(".")||[];return i===r&&s===a}static runVersionChecks(t){xi.currentModuleVersion||(xi.currentModuleVersion=t.version);const i=s=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${s} Please update all modules to the same version.`;if(t.version?xi.isValidModuleVersion(t)||ni(i(`'${t.moduleName}' is version ${t.version} but the other modules are version ${xi.currentModuleVersion}.`)):ni(i(`'${t.moduleName}' is incompatible.`)),t.validate){const s=t.validate();s.isValid||ni(`${s.message}`)}}static setModuleBased(t){void 0===xi.moduleBased?xi.moduleBased=t:xi.moduleBased!==t&&(ni("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),ni("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){xi.isBundled=!0}static __assertRegistered(t,i,s){if(this.__isRegistered(t,s))return!0;let r;if(xi.isBundled)r=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(xi.moduleBased||void 0===xi.moduleBased){const a=Object.entries(tf).find(([g,k])=>k===t)?.[0];r=`AG Grid: unable to use ${i} as the ${a} is not registered${xi.areGridScopedModules?` for gridId: ${s}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${a} } from '${t}';\n    \n    ModuleRegistry.registerModules([ ${a} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';`;return ni(r),!1}static __isRegistered(t,i){return!!xi.globalModulesMap[t]||!!xi.gridModulesMap[i]?.[t]}static __getRegisteredModules(t){return[...ml(xi.globalModulesMap),...ml(xi.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return ml(xi.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!xi.moduleBased}};Bl.globalModulesMap={},Bl.gridModulesMap={},Bl.areGridScopedModules=!1;var io=Bl,XT=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,e&&e.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach(([t,i])=>{this.beans[t]=i}),e.beanClasses.forEach(t=>{const i=new t;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(i)}),e.derivedBeans?.forEach(t=>{const{beanName:i,bean:s}=t(this);this.beans[i]=s,this.createdBeans.push(s)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{i.preWireBeans?.(this.beans),i.wireBeans?.(this.beans)}),e.forEach(i=>i.preConstruct?.()),t&&e.forEach(t),e.forEach(i=>i.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},YT=class extends XT{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),io.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},s0=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(s0||{}),ZT=class extends ut{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return e&&e.comp?e.comp:null}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),Fs(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){if(this.dragSource?.onDragStopped?.(),this.lastDropTarget?.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.clearDragAndDropProperties()}onDragCancel(){this.dragSource?.onDragCancelled?.(),this.lastDropTarget?.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const i=this.getHorizontalDirection(e),s=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(g=>this.isMouseOnDropTarget(e,g)),a=this.findCurrentDropTarget(e,r);if(a!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,i,s,t),null!==this.lastDropTarget&&null===a&&this.dragSource?.onGridExit?.(this.dragItem),null===this.lastDropTarget&&null!==a&&this.dragSource?.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(a,e,i,s,t),a&&this.dragAndDropImageComp){const{comp:g,promise:k}=this.dragAndDropImageComp;g?g.setIcon(a.getIconName?a.getIconName():null):k.then(V=>{V&&V.setIcon(a.getIconName?a.getIconName():null)})}this.lastDropTarget=a}else if(a&&a.onDragging){const g=this.createDropTargetEvent(a,e,i,s,t);a.onDragging(g)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const{width:s,height:r,left:a,right:g,top:k,bottom:V}=i.getBoundingClientRect();if(0===s||0===r)return!1;if(!(e.clientX>=a&&e.clientX<g&&e.clientY>=k&&e.clientY<V))return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let s=!1;for(const g of i)if(this.allContainersIntersect(e,g)){s=!0;break}const{eElement:r,type:a}=this.dragSource;return!(t.targetContainsSource&&!t.getContainer().contains(r))&&s&&t.isInterestedIn(a,r)}findCurrentDropTarget(e,t){const i=t.length;if(0===i)return null;if(1===i)return t[0];const r=fa(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const a of r)for(const g of t)if(-1!==JE(this.getAllContainersFromDropTarget(g)).indexOf(a))return g;return null}enterDragTargetIfExists(e,t,i,s,r){if(e&&e.onDragEnter){const a=this.createDropTargetEvent(e,t,i,s,r);e.onDragEnter(a)}}leaveLastTargetIfExists(e,t,i,s){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const a=this.createDropTargetEvent(this.lastDropTarget,e,t,i,s);this.lastDropTarget.onDragLeave(a)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:s}=e;return i.contains(s)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,s,r){const a=e.getContainer(),g=a.getBoundingClientRect(),{dragItem:k,dragSource:V}=this;return this.gos.addGridCommonParams({event:t,x:t.clientX-g.left,y:t.clientY-g.top,vDirection:s,hDirection:i,dragSource:V,fromNudge:r,dragItem:k,dropZoneTarget:a})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const i=t.getGui(),r=i.getBoundingClientRect().height,a=function YA(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}()-2,g=function $A(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}()-2;if(!i.offsetParent)return;const V=_f(i.offsetParent),{clientY:se,clientX:ne}=e;let fe=se-V.top-r/2,Ce=ne-V.left-10;const ke=Yi(this.gos),Ae=ke.defaultView||window,Ee=Ae.pageYOffset||ke.documentElement.scrollTop,Te=Ae.pageXOffset||ke.documentElement.scrollLeft;a>0&&Ce+i.clientWidth>a+Te&&(Ce=a+Te-i.clientWidth),Ce<0&&(Ce=0),g>0&&fe+i.clientHeight>g+Ee&&(fe=g+Ee-i.clientHeight),fe<0&&(fe=0),i.style.left=`${Ce}px`,i.style.top=`${fe}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const i=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:i,environment:s}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),i.stampTopLevelGridCompWithGridInstance(r),s.applyThemeClasses(r),e.setIcon(null);let{dragItemName:a}=t;mc(a)&&(a=a()),e.setLabel(a||""),r.style.top="20px",r.style.left="20px";const g=Yi(this.gos);let k=null,V=null;try{k=g.fullscreenElement}catch{}finally{k||(k=fa(this.gos));V=k.querySelector("body")||(k instanceof ShadowRoot?k:k instanceof Document?k?.documentElement:k)}this.dragAndDropImageParent=V,V?V.appendChild(r):mt("Could not find document body, it is needed for drag and drop.")}},e3=class extends ut{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){Oi(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const s=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<s.left+r,this.tickRight=e.clientX>s.right-r,this.tickUp=e.clientY<s.top+r&&!i,this.tickDown=e.clientY>s.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}}({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){return!!(this.funcColsService.getRowGroupColumns().length||this.filterManager?.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const s=[...this.selectionService.getSelectedNodes()].sort((r,a)=>null==r.rowIndex||null==a.rowIndex?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(a));if(-1!==s.indexOf(t))return s}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),s=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(li(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&1===t.highlighted,s=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes;let a=i?1:0;if(this.isFromThisGrid(e))r.forEach(g=>{g.rowTop<s&&(a-=1)}),this.moveRows(r,s,a);else{const g=kn(this.gos);let k=this.clientSideRowModel.getRowIndexAtPixel(s)+1;0===this.clientSideRowModel.getHighlightPosition(s)&&k--,this.clientSideRowModel.updateRowData({add:r.filter(V=>!this.clientSideRowModel.getRowNode(g?.({data:V.data,level:0,rowPinned:V.rowPinned})??V.data.id)).map(V=>V.data),addIndex:k})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void mt("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(e))return void mt("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=s=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",s))}),e.onDragLeave&&(t.onDragLeave=s=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",s))}),e.onDragging&&(t.onDragging=s=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",s))}),e.onDragStop&&(t.onDragStop=s=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",s))}),e.onDragCancel&&(t.onDragCancel=s=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",s))}));const i={isInterestedIn:s=>2===s,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(i),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),r=this.onDragging.bind(this),a=this.onDragStop.bind(this),g=this.onDragCancel.bind(this);let k;return k=e?{getContainer:t,onDragEnter:e.onDragEnter?V=>{i(V),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",V))}:i,onDragLeave:e.onDragLeave?V=>{s(V),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",V))}:s,onDragging:e.onDragging?V=>{r(V),e.onDragging(this.draggingToRowDragEvent("rowDragMove",V))}:r,onDragStop:e.onDragStop?V=>{a(V),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",V))}:a,onDragCancel:e.onDragCancel?V=>{g(V),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",V))}:g,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:s,onDragging:r,onDragStop:a,onDragCancel:g,fromGrid:!0},k}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y;let a,g,r=-1;switch(i>this.pageBoundsService.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(i),a=this.rowModel.getRow(r)),t.vDirection){case 1:g="down";break;case 0:g="up";break;default:g=null}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:a,y:i,vDirection:g})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},t3=class extends ut{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),Fs(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:r}=e;i.addEventListener("mousedown",t);let a=null;const g=this.gos.get("suppressTouch");s&&!g&&(a=k=>{ed(k.target)||(r&&k.stopPropagation(),this.onTouchStart(e,k))},i.addEventListener("touchstart",a,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:a,touchEnabled:!!s})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const r=V=>this.onTouchUp(V,e.eElement),g=t.target,k=[{target:fa(this.gos),type:"touchmove",listener:V=>{V.cancelable&&V.preventDefault()},options:{passive:!1}},{target:g,type:"touchmove",listener:V=>this.onTouchMove(V,e.eElement),options:{passive:!0}},{target:g,type:"touchend",listener:r,options:{passive:!0}},{target:g,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(k),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==t.button))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const k=fa(this.gos);this.addTemporaryEvents([{target:k,type:"mousemove",listener:se=>this.onMouseMove(se,e.eElement)},{target:k,type:"mouseup",listener:se=>this.onMouseUp(se,e.eElement)},{target:k,type:"contextmenu",listener:se=>se.preventDefault()},{target:k,type:"keydown",listener:se=>{se.key===nt.ESCAPE&&this.cancelDrag(e.eElement)}}]),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:s,listener:r,options:a}=t;i.addEventListener(s,r,a)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:s,listener:r,options:a}=t;i.removeEventListener(s,r,a)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams;return Kf(e,t,kt(i)?i:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){Gr()&&Yi(this.gos).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){return!!e.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventService.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},ld=class extends gi{constructor(e,t,i,s,r,a){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=s,this.dragStartPixels=r,this.suppressVisibilityChange=a,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Js("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new s3(this,this.beans,this.rowNode,this.column):new i3(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&mt("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:s=>{s?.preventDefault()}})[0]);const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const s=this.getDragItem(),r=s.rowNodes?.length||1,a=this.getRowDragText(this.column);return a?a(s,r):1===r?this.cellValueFn():`${r} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},r0=class extends ut{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,s=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),s=mc(this.column.getColDef().rowDrag)),s?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},i3=class extends r0{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},s3=class extends r0{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),s=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!r||s)}},r3=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),Ta=class Ao{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Ao.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){const s=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(t,s,i);this.localEventService?.dispatchEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,s){return{type:"dataChanged",node:this,oldData:i,newData:t,update:s}}getRowIndexString(){return null==this.rowIndex?(ni("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):"top"===this.rowPinned?Ao.ID_PREFIX_TOP_PINNED+this.rowIndex:"bottom"===this.rowPinned?Ao.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Ao(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){const s=kt(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,s);const a=this.createDataChangedEvent(t,r,!1);this.localEventService?.dispatchEvent(a)}checkRowSelectable(){const t=Mc(this.beans.gos);this.setRowSelectable(!t||t(this))}setRowSelectable(t,i){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),i)return;if(Xo(this.beans.gos)){const r=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:r??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const i=kn(this.beans.gos);if(i)if(this.data){const s=this.parent?.getRoute()??[];this.id=i({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Ao.ID_PREFIX_ROW_GROUP)&&ni(`Row IDs cannot start with ${Ao.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==t))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Ds(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,i=!0,s=0;const r=this.__autoHeights;null==r||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(k=>{let V=r[k.getId()];if(null==V){if(!this.beans.columnModel.isColSpanActive())return void(t=!0);{let se=[];switch(k.getPinned()){case"left":se=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":se=this.beans.visibleColsService.getRightColsForRow(this);break;case null:se=this.beans.columnViewportService.getColsWithinViewport(this)}if(se.includes(k))return void(t=!0);V=-1}}else i=!1;V>s&&(s=V)}),t)||((i||s<10)&&(s=mo(this.beans.gos,this).height),s==this.rowHeight)||(this.setRowHeight(s),this.beans.rowModel.onRowHeightChangedDebounced?.())}setExpanded(t,i,s){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const r={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:i||null};this.beans.rowNodeEventThrottle.dispatchExpanded(r,s),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,i,s){const a=(()=>"string"!=typeof t?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t))(),g=this.beans.valueService.getValueForDisplay(a,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:a,colDef:a.getColDef(),data:this.data,node:this,oldValue:g,newValue:i,value:i,source:s}),!1;const k=this.beans.valueService.setValue(this,a,i,s);return this.dispatchCellChangedEvent(a,i,g),this.checkRowSelectable(),k}setGroupValue(t,i){const s=this.beans.columnModel.getCol(t);ai(this.groupData)&&(this.groupData={});const r=s.getColId(),a=this.groupData[r];a!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(s,i,a))}setAggData(t){const i=this.aggData;if(this.aggData=t,this.localEventService){const s=r=>{const a=this.aggData?this.aggData[r]:void 0,g=i?i[r]:void 0;if(a===g)return;const k=this.beans.columnModel.getCol(r);k&&this.dispatchCellChangedEvent(k,a,g)};for(const r in i)s(r);for(const r in t)(!i||!(r in i))&&s(r)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(Zr(this.beans.gos)){const s=this.beans.gos.get("treeData"),r=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(s?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,i,s){const r={type:"cellChanged",node:this,column:t,newValue:i,oldValue:s};this.localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){let t=!1,i=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const r=this.childrenAfterGroup[s];let a=r.isSelected();if(!r.selectable){const g=r.calculateSelectedFromChildren();if(null===g)continue;a=g}switch(a){case!0:t=!0;break;case!1:i=!0;break;default:return}}return t&&i?void 0:!!t||!i&&(this.selectable?this.selected:null)}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){this.localEventService?.dispatchEvent({type:t,node:this})}selectThisNode(t,i,s="api"){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const g=this.sibling;return g&&g.footer&&g.localEventService&&g.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:i||null,source:s}),!0}setSelected(t,i=!1,s="api"){"boolean"!=typeof s?this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:s}):mt("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(t){return this.rowPinned?(mt("cannot select pinned rows"),0):void 0===this.id?(mt("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,i){this.localEventService||(this.localEventService=new bn),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new Lc(this.beans.frameworkOverrides));const s=this.frameworkEventListenerService?.wrap(i)??i;this.localEventService.addEventListener(t,s)}removeEventListener(t,i){if(!this.localEventService)return;const s=this.frameworkEventListenerService?.unwrap(i)??i;this.localEventService.removeEventListener(t,s),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(mt("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})}getRoute(){if(-1===this.level)return[];if(null==this.key)return;const t=[];let i=this;for(;i&&null!=i.key;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Ao(this.beans);Object.keys(this).forEach(i=>{r3.has(i)||(t[i]=this[i])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};Ta.ID_PREFIX_ROW_GROUP="row-group-",Ta.ID_PREFIX_TOP_PINNED="t-",Ta.ID_PREFIX_BOTTOM_PINNED="b-",Ta.OBJECT_ID_SEQUENCE=0;var so=Ta,n3=class extends gi{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??er.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(t=>{t?.afterGuiAttached?.(e)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:i}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(s=>{const r=s.getGui();kt(r)||mt(`getGui method from filter returned ${r}; it should be a DOM element.`),this.appendChild(r),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){("api"===e.source||"paramsUpdated"===e.source)&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(Ms(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},o0="ag-resizer-wrapper",bo=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,a3=`<div class="${o0}">\n        ${bo("eTopLeft","topLeft")}\n        ${bo("eTop","top")}\n        ${bo("eTopRight","topRight")}\n        ${bo("eRight","right")}\n        ${bo("eBottomRight","bottomRight")}\n        ${bo("eBottom","bottom")}\n        ${bo("eBottomLeft","bottomLeft")}\n        ${bo("eLeft","left")}\n    </div>`,l3=class extends ut{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:s,minHeight:r,height:a,x:g,y:k}=this.config;this.offsetParent||this.setOffsetParent();let V=0,se=0;const ne=kr(this.element);if(ne){const fe=this.findBoundaryElement(),Ce=window.getComputedStyle(fe);if(null!=Ce.minWidth){const ke=fe.offsetWidth-this.element.offsetWidth;se=parseInt(Ce.minWidth,10)-ke}if(null!=Ce.minHeight){const ke=fe.offsetHeight-this.element.offsetHeight;V=parseInt(Ce.minHeight,10)-ke}}if(this.minHeight=r||V,this.minWidth=i||se,s&&this.setWidth(s),a&&this.setHeight(a),(!s||!a)&&this.refreshSize(),e)this.center();else if(g||k)this.offsetElement(g,k);else if(ne&&t){let fe=this.boundaryEl,Ce=!0;if(fe||(fe=this.findBoundaryElement(),Ce=!1),fe){const ke=parseFloat(fe.style.top),Ae=parseFloat(fe.style.left);Ce?this.offsetElement(isNaN(Ae)?0:Ae,isNaN(ke)?0:ke):this.setPosition(Ae,ke)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const s=!!e[t],r=this.getResizerElement(t),a={dragStartPixels:0,eElement:r,onDragStart:g=>this.onResizeStart(g,t),onDragging:this.onResize.bind(this),onDragStop:g=>this.onResizeEnd(g,t)};(s||!this.isAlive()&&!s)&&(s?(this.dragService.addDragSource(a),this.resizeListeners.push(a),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width=`${t}px`),-1!==e&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let s=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Ma(i,e),e=zf(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?Ma(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),a=e?this.position.y:s.top,g=e?0:r.top;let k=0;if(t){const se=this.element.parentElement;if(se){const{bottom:ne}=se.getBoundingClientRect();k=ne-s.bottom}}return i+g-a-k}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let s=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Mr(t,e),e=Rl(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,a=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+a>r&&(e=r-a)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Mr(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupService.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:s,anywhereWithin:r,topBuffer:a}=e,g=t.clientX-this.dragStartPosition.x,k=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!i,!!r,g)?0:g,movementY:this.shouldSkipY(t,!!s,a,k)?0:k}}shouldSkipX(e,t,i,s){const r=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),g=this.boundaryEl.getBoundingClientRect(),k=this.config.popup?this.position.x:r.left;let V=k<=0&&a.left>=e.clientX||a.right<=e.clientX&&a.right<=g.right;return!!V||(V=t?s<0&&e.clientX>k+a.left||s>0&&e.clientX<k+a.left:i?s<0&&e.clientX>g.right||s>0&&e.clientX<k+a.left:s<0&&e.clientX>g.right||s>0&&e.clientX<g.right,V)}shouldSkipY(e,t,i=0,s){const r=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),g=this.boundaryEl.getBoundingClientRect(),k=this.config.popup?this.position.y:r.top;let V=k<=0&&a.top>=e.clientY||a.bottom<=e.clientY&&a.bottom<=g.bottom;return!!V||(V=t?s<0&&e.clientY>k+a.top+i||s>0&&e.clientY<k+a.top:s<0&&e.clientY>g.bottom||s>0&&e.clientY<g.bottom,V)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=(new DOMParser).parseFromString(a3,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${o0}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let s=0;s<e.length;s++){const r=e[s],a=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r===this.element)continue;let g=this.minHeight||0,k=this.minWidth||0;if(a){const V=window.getComputedStyle(r);V.minHeight&&(g=parseInt(V.minHeight,10)),V.minWidth&&(k=parseInt(V.minWidth,10))}else g=r.offsetHeight,k=r.offsetWidth;t+=g,i+=k}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){const r=i[s];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:r,isBottom:a,isLeft:g}=this.currentResizer,k=r||g,V=a||s,{movementX:se,movementY:ne}=this.calculateMouseMovement({e,isLeft:g,isTop:s}),fe=this.position.x,Ce=this.position.y;let ke=0,Ae=0;if(k&&se){const Ee=g?-1:1,Te=this.getWidth(),Ie=Te+se*Ee;let Be=!1;g&&(ke=Te-Ie,(fe+ke<=0||Ie<=this.minWidth)&&(Be=!0,ke=0)),Be||this.setWidth(Ie)}if(V&&ne){const Ee=s?-1:1,Te=this.getHeight(),Ie=Te+ne*Ee;let Be=!1;s?(Ae=Te-Ie,(Ce+Ae<=0||Ie<=this.minHeight)&&(Be=!0,Ae=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Te<Ie&&this.getMinSizeOfSiblings().height+Ie>this.element.parentElement.offsetHeight&&(Be=!0),Be||this.setHeight(Ie)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&ke||Ae)&&this.offsetElement(fe+ke,Ce+Ae)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:r,movementY:a}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+r,i+a),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},n0=class iv extends ut{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,s.shiftKey);r&&(r.focus(),s.preventDefault())},...i}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(iv.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:i=>{if(!i.defaultPrevented&&!Jr(i)){if(this.callbacks.shouldStopEventPropagation(i))return void En(i);i.key===nt.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}}})}};n0.FOCUS_MANAGED_CLASS="ag-focus-managed";var Qo=n0,a0={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function hd(e,t){return Nl(e)?(null!=e.debounceMs&&mt("debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:t}function Nl(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var h3=class extends gi{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Lt,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Qo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new l3(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Nl(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Nl(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:i,readOnly:s}=t??{},{buttons:r,readOnly:a}=e;if(s===a&&pa(i,r))return;const g=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Ms(this.eButtonsPanel),this.buttonListeners.forEach(se=>se()),this.buttonListeners=[]):g&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!g)return void(this.eButtonsPanel&&Sr(this.eButtonsPanel));const k=document.createDocumentFragment(),V=se=>{let ne,fe;switch(se){case"apply":ne=this.translate("applyFilter"),fe=Ae=>this.onBtApply(!1,!1,Ae);break;case"clear":ne=this.translate("clearFilter"),fe=()=>this.onBtClear();break;case"reset":ne=this.translate("resetFilter"),fe=()=>this.onBtReset();break;case"cancel":ne=this.translate("cancelFilter"),fe=Ae=>{this.onBtCancel(Ae)};break;default:return void mt("Unknown button type specified")}const ke=ka(`<button\n                    type="${"apply"===se?"submit":"button"}"\n                    data-ref="${se}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${ne}\n                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(ke,{click:fe})),k.append(ke)};r.forEach(se=>V(se)),this.eButtonsPanel.append(k),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=hd(this.providedFilterParams,this.getDefaultDebounceMs()),t=Ds(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t?.()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:s}=this.providedFilterParams;s&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e&&e.key;let s;("Enter"===i||"Space"===i)&&(s={keyboardEvent:e}),this.hidePopup(s),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),s=this.queryForHtmlElement('[data-ref="applyFilterButton"]');s&&ba(s,!i)}e&&!t||"immediately"===t?this.onBtApply(e):(!this.applyActive&&!t||"debounce"===t)&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const t="floatingFilter"===e||"columnFilter"===e,{positionableFeature:i,gos:s}=this;t?(i.restoreLastSize(),i.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,a0[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},c3=class extends Il{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},d3=class extends gi{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case nt.ENTER:if(this.highlightedEl){const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}else this.setValue(this.getValue());break;case nt.DOWN:case nt.UP:e.preventDefault(),this.navigate(t);break;case nt.PAGE_DOWN:case nt.PAGE_UP:case nt.PAGE_HOME:case nt.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}navigate(e){const t=e===nt.DOWN;let i;if(this.highlightedEl){let r=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}else i=this.itemEls[t?0:this.itemEls.length-1];this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||0===this.itemEls.length)return;const t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,s=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/s);let a=-1;e===nt.PAGE_HOME?a=0:e===nt.PAGE_END?a=i:e===nt.PAGE_DOWN?a=Math.min(t+r,i):e===nt.PAGE_UP&&(a=Math.max(t-r,0)),-1!==a&&this.highlightItem(this.itemEls[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,s=i||t;return this.options.push({value:t,text:s}),this.renderOption(t,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Sr(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{(function GA(e,t){gr(e,"posinset",t)})(t,i+1),function NA(e,t){gr(e,"setsize",t)}(t,e.length)})}renderOption(e,t){const i=Yi(this.gos),s=i.createElement("div");js(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=i.createElement("span");s.appendChild(r),r.textContent=t,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListeners(s,{mouseover:()=>this.highlightItem(s),mousedown:a=>{a.preventDefault(),a.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new Dn({getTooltipValue:()=>t,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(s)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;const i=this.options.findIndex(s=>s.value===e);if(-1!==i){const s=this.options[i];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!kr(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),Al(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:i,clientHeight:s}=t,{offsetTop:r,offsetHeight:a}=e;(r+a>i+s||r<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!kr(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),Al(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},u3=class extends qf{constructor(e){if(super(e,e?.template||'\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Lt,this.eWrapper=Lt,this.eDisplayField=Lt,this.eIcon=Lt,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:s,minPickerWidth:r,maxPickerWidth:a}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!s,null!=i&&this.setPickerMaxHeight(i),null!=r&&this.setPickerMinWidth(r),null!=a&&this.setPickerMaxWidth(a)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:s}=this.config;if(i){const r=Js(i,this.gos);r&&this.eIcon.appendChild(r)}null!=s&&this.setInputWidth(s)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),El(e,!1),this.ariaRole&&js(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case nt.UP:case nt.DOWN:case nt.ENTER:case nt.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case nt.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:s,modalPicker:r=!0}=this.config,a={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const Ce=hf(this.gos);this.beforeHidePicker(),Ce&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,s),anchorToElement:this.eWrapper};e.style.position="absolute";const g=this.popupService.addPopup(a),{maxPickerHeight:k,minPickerWidth:V,maxPickerWidth:se,variableWidth:ne}=this;ne?(V&&(e.style.minWidth=V),e.style.width=id(Rl(this.eWrapper)),se&&(e.style.maxWidth=se)):Ol(e,se??Rl(this.eWrapper));const fe=k??`${td(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",fe),this.alignPickerToComponent(),g.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){this.isAlive()&&(El(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Ol(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"==typeof e&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return"number"==typeof e&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return"number"==typeof e&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},cd=class extends u3{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;null!=e&&this.addOptions(e),null!=t&&this.setValue(t,!0),i&&null==t&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new d3("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),function UA(e,t){pr(e,"controls",t.id),wa(t,e.id)}(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===nt.TAB&&this.hidePicker(),t){case nt.ENTER:case nt.UP:case nt.DOWN:case nt.PAGE_UP:case nt.PAGE_DOWN:case nt.PAGE_HOME:case nt.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case nt.ESCAPE:super.onKeyDown(e);break;case nt.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return null==r&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},p3={selector:"AG-SELECT",component:cd},l0=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{"string"!=typeof e&&([["displayKey"],["displayName"],["predicate","test"]].every(s=>!!s.some(r=>null!=e[r])||(mt(`ignoring FilterOptionDef as it doesn't contain one of '${s}'`),!1))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter(s=>s===e)||[])})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:mt("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else mt("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},h0=class extends h3{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:s}=t;return s??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:"inRange"===e?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{t.setValue(0===i?e:this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,s=!t.operator;if(!i&&s||i&&!s)return!1;let a;return a=i?this.areSimpleModelsEqual(e,t):e.operator===t.operator&&Qr(e.conditions,t.conditions,(V,se)=>this.areSimpleModelsEqual(V,se)),a}shouldRefresh(e){const t=this.getModel(),i=t?t.conditions??[t]:null,s=e.filterOptions?.map(a=>"string"==typeof a?a:a.displayKey)??this.getDefaultFilterOptions();return!(i&&!i.every(a=>void 0!==s.find(g=>g===a.type))||"number"==typeof e.maxNumConditions&&i&&i.length>e.maxNumConditions)}refresh(e){return!(!this.shouldRefresh(e)||!super.refresh(e)||(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),0))}setModelIntoUi(e){if(e.operator){const i=e;let s=i.conditions;null==s&&(s=[],mt("Filter model is missing 'conditions'"));const r=this.validateAndUpdateConditions(s),a=this.getNumConditions();if(r<a)this.removeConditionsAndOperators(r);else if(r>a)for(let k=a;k<r;k++)this.createJoinOperatorPanel(),this.createOption();const g="OR"===i.operator;this.eJoinOperatorsAnd.forEach(k=>k.setValue(!g,!0)),this.eJoinOperatorsOr.forEach(k=>k.setValue(g,!0)),s.forEach((k,V)=>{this.eTypes[V].setValue(k.type,!0),this.setConditionIntoUi(k,V)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),er.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),mt('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(null==t)return!0;const{operator:i}=t,s=[];return i?s.push(...t.conditions??[]):s.push(t),s[i&&"OR"===i?"some":"every"](a=>this.individualConditionPasses(e,a))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new l0,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(mt('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(mt('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(mt('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new cd);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,s=>this.resetInput(s)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const s=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,s,r),this.resetJoinOperatorOr(i,s,r),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const s=this.createManagedBean(new c3);return e.push(s),s.addCssClass("ag-filter-condition-operator"),s.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(s.getGui()),s}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>"string"==typeof t?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);const s=e+1,r=i-s;r>0&&this.removeConditionsAndOperators(s,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((s,r)=>{const a=this.isConditionDisabled(r,e);s.setDisabled(a||this.filterListOptions.length<=1),1===r&&(ba(this.eJoinOperatorPanels[0],a),this.eJoinOperatorsAnd[0].setDisabled(a),this.eJoinOperatorsOr[0].setDisabled(a))}),this.eConditionBodies.forEach((s,r)=>{Ri(s,this.isConditionBodyVisible(r))});const i="OR"===(t??this.getJoinOperator());this.eJoinOperatorsAnd.forEach(s=>{s.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(s=>{s.setValue(i,!0)}),this.forEachInput((s,r,a,g)=>{this.setElementDisplayed(s,r<g),this.setElementDisabled(s,this.isConditionDisabled(a,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(r=>Sr(r))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(r=>{Sr(r.getGui()),this.destroyBean(r)})}removeItems(e,t,i){return null==i?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof Zo&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,s=!1;const r=this.getJoinOperator();for(let g=this.getNumConditions()-1;g>=0;g--)if(this.isConditionUiComplete(g))-1===t&&(t=g,i=g);else{const V=g<t;(g>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(g-1)||V)&&(this.removeConditionsAndOperators(g,1),s=!0,V&&i--)}let a=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),a=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),a=!0),a&&this.updateConditionStatusesAndValues(i,r),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(mc(this.filterPlaceholder)){const s=this.filterPlaceholder,r=this.eTypes[t].getValue();i=s({filterOptionKey:r,filterOption:this.translate(r),placeholder:i})}else"string"==typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,s,r)=>{if(!(t instanceof Zo))return;const a=0===i&&r>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",g=0===i&&r>1?e("ariaFilterFromValue","Filter from value"):0===i?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(a,s)),t.setInputAriaLabel(g)})}setElementValue(e,t,i){e instanceof Zo&&e.setValue(null!=t?String(t):null,!0)}setElementDisplayed(e,t){e instanceof gi&&Ri(e.getGui(),t)}setElementDisabled(e,t){e instanceof gi&&ba(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Zo&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const s=this.getNumberOfInputs(t),r=this.getInputs(e);for(let a=0;a<r.length;a++){const g=r[a];null!=g&&i(g,a,e,s)}}isConditionDisabled(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||"empty"===this.getConditionType(e)||this.getValues(e).some(i=>null==i))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),er.resolve()}resetType(e){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,s,r){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(s),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput((s,r,a)=>{a===t&&this.setElementValue(s,null!=i[r]?i[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,s)=>{this.setElementValue(t,0===i&&0===s?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),s=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type);return this.evaluateCustomFilter(r,s,i)??(null==i?this.evaluateNullValue(t.type):this.evaluateNonNullValue(s,i,t,e))}evaluateCustomFilter(e,t,i){if(null==e)return;const{predicate:s}=e;return null==s||t.some(r=>null==r)?void 0:s(t,i)}isBlank(e){return null==e||"string"==typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}},c0=class extends h0{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const s=this.comparator(),r=null!=e[0]?s(e[0],t):0;switch(i.type){case"equals":return 0===r;case"notEqual":return 0!==r;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const a=s(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&a<=0:r>0&&a<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return mt('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};function d0(e){return!(e.altKey||e.ctrlKey||e.metaKey)&&1===e.key?.length}function dd(e,t,i,s,r){const a=s?s.getColDef().suppressKeyboardEvent:void 0;if(!a)return!1;const g=e.addGridCommonParams({event:t,editing:r,column:s,node:i,data:i.data,colDef:s.getColDef()});return!(!a||!a(g))}var Jo=class extends Zo{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=kt(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListeners(this.eInput,{keydown:i=>{d0(i)&&i.key&&!e.test(i.key)&&i.preventDefault()},paste:i=>{const s=i.clipboardData?.getData("text");s&&s.split("").some(r=>!e.test(r))&&i.preventDefault()}})}},Gl={selector:"AG-INPUT-TEXT-FIELD",component:Jo},ud=class extends Jo{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const r=parseFloat(this.eInput.value),a=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==a&&this.setValue(a)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:i,step:s}=this.config;"number"==typeof e&&this.setPrecision(e),"number"==typeof t&&this.setMin(t),"number"==typeof i&&this.setMax(i),"number"==typeof s&&this.setStep(s)}onWheel(e){Pi(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const s=parseFloat(e).toFixed(this.precision);return parseFloat(s).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e||(this.min=e,fr(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,fr(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,fr(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(kt(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return e(i);if(s||(s=(i=this.adjustPrecision(i))!=this.normalizeValue(i)),s)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"==typeof e&&e.includes("e")}},S3={selector:"AG-INPUT-NUMBER-FIELD",component:ud},u0=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],pd=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(t){const s=e,a=(s.conditions??[]).map(k=>this.getModelAsString(k)),g="AND"===s.operator?"andCondition":"orCondition";return a.join(` ${i(g,a0[g])} `)}if("blank"===e.type||"notBlank"===e.type)return i(e.type,e.type);{const s=e,r=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:g,numberOfInputs:k}=r||{};return a&&g&&0===k?(i(a,g),g):this.conditionToString(s,r)}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},p0=class extends pd{conditionToString(e,t){const{numberOfInputs:i}=t||{};return"inRange"==e.type||2===i?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:null!=e.filter?this.formatValue(e.filter):`${e.type}`}};function gd(e){const{allowedCharPattern:t}=e??{};return t??null}var g0=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],f0=class extends pd{conditionToString(e,t){const{numberOfInputs:i}=t||{};return"inRange"==e.type||2===i?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}};function m0(e){const t=e&&e.trim();return""===t?e:t}function v0(e){if("number"==typeof e)return e;if("string"==typeof e){const t=parseInt(e);return isNaN(t)?void 0:t}}function zr(e,t=Number.MAX_VALUE){return i=>{const s=v0(i);if(!(null==s||s<e||s>t))return s}}function Pa(e,t){return e.toString().padStart(t,"0")}function mr(e,t=!0,i="-"){if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>Pa(r,2)).join(i);return t&&(s+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>Pa(r,2)).join(":")),s}var fd=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Ra(e,t="YYYY-MM-DD"){const i=Pa(e.getFullYear(),4),s=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>s[e.getMonth()],MMM:()=>s[e.getMonth()].slice(0,3),MM:()=>Pa(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${fd(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${fd(e.getDate())}`,DD:()=>Pa(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${fd(e.getDay())}`,d:()=>`${e.getDay()}`},g=new RegExp(Object.keys(a).join("|"),"g");return t.replace(g,k=>k in a?a[k]():k)}function Vs(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const s=t.split("-").map(fe=>parseInt(fe,10));if(3!==s.filter(fe=>!isNaN(fe)).length)return null;const[r,a,g]=s,k=new Date(r,a-1,g);if(k.getFullYear()!==r||k.getMonth()!==a-1||k.getDate()!==g)return null;if(!i||"00:00:00"===i)return k;const[V,se,ne]=i.split(":").map(fe=>parseInt(fe,10));return V>=0&&V<24&&k.setHours(V),se>=0&&se<60&&k.setMinutes(se),ne>=0&&ne<60&&k.setSeconds(ne),k}var C0=class{constructor(e,t,i,s,r){this.alive=!0,this.context=e,this.eParent=s,t.getDateCompDetails(i).newAgStackInstance().then(k=>{this.alive?(this.dateComp=k,k&&(s.appendChild(k.getGui()),k.afterGuiAttached&&k.afterGuiAttached(),this.tempValue&&k.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),r?.(this))):e.destroyBean(k)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Ri(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}updateParams(e){let t=!1;this.dateComp?.refresh&&"function"==typeof this.dateComp.refresh&&null!==this.dateComp.refresh(e)&&(t=!0),!t&&this.dateComp?.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&null!==this.dateComp.onParamsUpdated(e)&&mt("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}},y0=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],w0=class extends pd{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:s}=t||{},r="inRange"==i||2===s,a=Vs(e.dateFrom),g=Vs(e.dateTo),k=this.dateFilterParams.inRangeFloatingFilterDateFormat;return r?`${null!==a?Ra(a,k):"null"}-${null!==g?Ra(g,k):"null"}`:null!=a?Ra(a,k):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},md=class extends ut{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=s,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?li(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=kt(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),s=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(s),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!fs(this.beans.gos,"print")||"left"===e.getPinned())return t;const s=this.beans.visibleColsService.getColsLeftWidth();return"right"===e.getPinned()?s+this.beans.visibleColsService.getBodyContainerWidth()+t:s+t}setLeft(e){if(kt(e)&&(this.eCell.style.left=`${e}px`),$i(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&function WA(e,t){gr(e,"colspan",t)}(this.ariaEl,t.length)}}};function k0(e,t,i,s){return ai(e)?[]:function E0(e,t,i,s,r){if(ai(e))return[];let a;if("function"==typeof e){const g=function R3(e,t,i,s){return t.addGridCommonParams({colDef:e,column:i,columnGroup:s})}(t,i,s,r);a=e(g)}else a=e;return"string"==typeof a?[a]:Array.isArray(a)?[...a]:[]}(e.headerClass,e,t,i,s)}function M0(e,t,i){e.addOrRemoveCssClass("ag-column-first",i.isColAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",i.isColAtEdge(t,"last"))}var D3=0,A0=class sv extends ut{constructor(t,i,s){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=s,this.beans=i,this.instanceId=t.getUniqueId()+"-"+D3++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:i,column:s}=this.focusService.getFocusedHeader();return function y3(e,t,i,s){const r=s.getDefinition(),a=r&&r.suppressHeaderKeyboardEvent;return!!kt(a)&&!!a(e.addGridCommonParams({colDef:r,column:s,headerRowIndex:i,event:t}))}(this.gos,t,i,s)}getWrapperHasFocus(){return Pi(this.gos)===this.eGui}setGui(t,i){this.eGui=t,this.addDomData(i),i.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),i.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:i,checkMeasuringCallback:s,compBean:r}=t,{animationFrameService:a,resizeObserverService:g,columnModel:k,gos:V}=this.beans,se=Ee=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:Te,paddingBottom:Ie,borderBottomWidth:Be,borderTopWidth:Le}=qo(this.getGui()),tt=i.offsetHeight+(Te+Ie+Be+Le);if(Ee<5){const We=Yi(V);if(!We||!We.contains(i)||0==tt)return void a.requestAnimationFrame(()=>se(Ee+1))}k.setColHeaderHeight(this.column,tt)};let fe,ne=!1;const Ce=()=>{const Ee=this.column.isAutoHeaderHeight();Ee&&!ne&&ke(),!Ee&&ne&&Ae()},ke=()=>{ne=!0,se(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),fe=g.observeResize(i,()=>se(0))},Ae=()=>{ne=!1,fe&&fe(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),fe=void 0};Ce(),r.addDestroyFunc(()=>Ae()),r.addManagedListeners(this.column,{widthChanged:()=>ne&&se(0)}),r.addManagedEventListeners({sortChanged:()=>{ne&&window.setTimeout(()=>se(0))}}),s&&s(Ce)}onDisplayedColumnsChanged(){const{comp:t,column:i,beans:s,eGui:r}=this;!t||!i||!r||(M0(t,i,s.visibleColsService),Lf(r,s.visibleColsService.getAriaColIndex(i)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&fr(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){const i=Pi(this.gos),s=t.key===nt.LEFT||t.key===nt.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),i!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||s)&&(t.preventDefault(),t.stopImmediatePropagation()),!s))return;const r=t.key===nt.LEFT!==this.gos.get("enableRtl"),a=s0[r?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const g=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(g,t.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(a)}getViewportAdjustedResizeDiff(t){let i=this.getResizeDiff(t);if(this.column.getPinned()){const r=this.pinnedWidthService.getPinnedLeftWidth(),a=this.pinnedWidthService.getPinnedRightWidth(),g=Sa(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+a+i>g){if(!(g>r+a))return 0;i=g-r-a}}return i}getResizeDiff(t){let i=t.key===nt.LEFT!==this.gos.get("enableRtl");const s=this.column.getPinned(),r=this.gos.get("enableRtl");return s&&r!==("right"===s)&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case nt.PAGE_DOWN:case nt.PAGE_UP:case nt.PAGE_HOME:case nt.PAGE_END:i&&t.preventDefault()}}addDomData(t){const i=sv.DOM_DATA_KEY_HEADER_CTRL;Uo(this.gos,this.eGui,i,this),t.addDestroyFunc(()=>Uo(this.gos,this.eGui,i,null))}getGui(){return this.eGui}focus(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,i,s){const r=t??i;this.gos.get("preventDefaultOnContextMenu")&&r.preventDefault(),this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,t,i),this.dispatchColumnMouseEvent("columnHeaderContextMenu",s)}dispatchColumnMouseEvent(t,i){this.eventService.dispatchEvent({type:t,column:i})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};A0.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var zl=A0,vd=class extends ut{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},Yt="32.2.1",T0={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},P0=["january","february","march","april","may","june","july","august","september","october","november","december"],R0=class extends gi{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let i;i=e.operator?e.conditions[0]:e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new l0,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return null==i||1==i}isTypeEditable(e){return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&["inRange","empty","blank","notBlank"].indexOf(e)<0}getAriaLabel(e){return`${this.columnNameService.getDisplayNameForColumn(e.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},D0=class extends ut{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=Lt,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new Jo(this.params?.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const i=s=>this.valueChangedListener(s);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},F0=class extends R0{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Lt}postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Nl(this.params.filterParams),!this.isReadOnly()){const i=hd(this.params.filterParams,this.getDefaultDebounceMs()),s=Ds(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(s)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Ms(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){if(this.applyActive&&e.key!==nt.ENTER)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=m0(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(s=>{s&&s.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},K3=class extends ut{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new ud),this.eFloatingFilterTextInput=this.createManagedBean(new Jo),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,s=>this.valueChangedListener(s)),this.setupListeners(i,s=>this.valueChangedListener(s))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},xd={version:Yt,moduleName:"@ag-grid-community/filter-core",beans:[class extends ut{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return"function"==typeof t&&t(e)}setFilterModel(e,t="api"){this.isAdvancedFilterEnabled()?this.warnAdvancedFilters():this.columnFilterService?.setFilterModel(e,t)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){Sc(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:i,columns:s=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):er.resolve()).then(()=>{const r={source:t,type:"filterChanged",columns:s};i&&Os(r,i),this.eventService.dispatchEvent(r),this.columnFilterService?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!Sc(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.columnFilterService?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){this.columnFilterService?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.columnFilterService?.areFilterCompsDifferent(e,t)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService?.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(e);this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,t){if(!this.isAdvancedFilterEnabled())return this.columnFilterService?.getFilterInstance(e,t);this.warnAdvancedFilters()}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){mt("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,t)??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){this.columnFilterService?.setColDefPropertiesForDataType(e,t,i)}}]},iP={version:Yt,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:function V3(e){return!!e.filterManager?.isAnyFilterPresent()},onFilterChanged:function U3(e,t="api"){e.filterManager?.onFilterChanged({source:t})}},dependantModules:[xd]},_l={version:Yt,moduleName:"@ag-grid-community/column-filter",beans:[class extends ut{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(e,t="api"){if(this.dataTypeService?.isPendingInference())return void this.filterModelUpdateQueue.push({model:e,source:t});const i=[],s=this.getFilterModel(!0);if(e){const r=new Set(Object.keys(e));this.allColumnFilters.forEach((a,g)=>{i.push(this.setModelOnFilterWrapper(a.filterPromise,e[g])),r.delete(g)}),r.forEach(a=>{const g=this.columnModel.getColDefCol(a)||this.columnModel.getCol(a);if(!g)return void mt("setFilterModel() - no column found for colId: "+a);if(!g.isFilterAllowed())return void mt("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+a);const k=this.getOrCreateFilterWrapper(g);k?i.push(this.setModelOnFilterWrapper(k.filterPromise,e[a])):mt("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+a)})}else this.allColumnFilters.forEach(r=>{i.push(this.setModelOnFilterWrapper(r.filterPromise,null))});er.all(i).then(()=>{const r=this.getFilterModel(!0),a=[];this.allColumnFilters.forEach((g,k)=>{pa(s?s[k]:null,r?r[k]:null)||a.push(g.column)}),a.length>0&&this.filterManager?.onFilterChanged({columns:a,source:t})})}setModelOnFilterWrapper(e,t){return new er(i=>{e.then(s=>{"function"!=typeof s.setModel&&(mt("filter missing setModel method, which is needed for setFilterModel"),i()),(s.setModel(t)||er.resolve()).then(()=>i())})})}getFilterModel(e){const t={},{allColumnFilters:i,initialFilterModel:s}=this;return i.forEach((r,a)=>{const g=this.getModelFromFilterWrapper(r);kt(g)&&(t[a]=g)}),e||Object.entries(s).forEach(([r,a])=>{kt(a)&&!i.has(r)&&this.columnModel.getCol(r)?.isFilterAllowed()&&(t[r]=a)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?"function"!=typeof t.getModel?(mt("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return!!this.allColumnFilters.size&&(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0)}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const t=!!Sc(this.gos),i=a=>{if(!a.isPrimary())return!0;const k=!this.columnModel.isPivotActive();return!(!a.isValueActive()||!k)&&(!!this.columnModel.isPivotMode()||t)},s=[],r=[];return this.forEachColumnFilter((a,g)=>{(a=>!!a&&(a.isFilterActive?a.isFilterActive():(mt("Filter is missing isFilterActive() method"),!1)))(a)&&(i(g.column)?s.push(a):r.push(a))}).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,s)=>s.column.setFilterActive(i.isFilterActive(),e,t))}forEachColumnFilter(e){return er.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(i=>e(i,t))))}doColumnFiltersPass(e,t,i){const{data:s,aggData:r}=e,a=i?this.activeAggregateFilters:this.activeColumnFilters,g=i?r:s;for(let k=0;k<a.length;k++){const V=a[k];if(null!=V&&V!==t){if("function"!=typeof V.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!V.doesFilterPass({node:e,data:g}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(s=>{s.filterPromise&&s.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!this.gos.get("allowShowChangeAfterFilter")&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{const s=i?this.columnModel.getCol(i):e;return s?this.valueService.getValue(s,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():null!=this.getModelFromInitialState(e)}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(Tc(this.gos))t="agSetColumnFilter";else{const i=this.dataTypeService?.getBaseDataType(e);t="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(Tc(this.gos))t="agSetColumnFloatingFilter";else{const i=this.dataTypeService?.getBaseDataType(e);t="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),s=e.getColDef();let r;const a={...this.createFilterParams(e,s),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:k=>this.filterChangedCallbackFactory(r,e)(k),doesRowPassOtherFilter:k=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(r,k)},g=this.userComponentFactory.getFilterDetails(s,a,i);return g?{filterPromise:()=>{const k=g.newAgStackInstance();return k?.then(V=>{r=V,t&&(t.filter=V)}),k},compDetails:g}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:wf(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:s}=this.createFilterInstance(e,t);return t.filterPromise=i?.()??null,t.compDetails=s,t}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((i,s)=>{let r;r=i.column.isPrimary()?this.columnModel.getColDefCol(s):this.columnModel.getCol(s),(!r||r!==i.column)&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(s))});const t=e.every(i=>"agGroupColumnFilter"===i.getColDef().filter);e.length>0&&!t?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.columnModel.getAutoCols()?.forEach(t=>{"agGroupColumnFilter"===t.getColDef().filter&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:i}=this.allColumnFilters.get(e.getColId())??{};return!i||"function"!=typeof i?.isFilterAllowed||i.isFilterAllowed()}getFloatingFilterCompDetails(e,t){const i=V=>{const se=this.getOrCreateFilterWrapper(e)?.filterPromise;se?.then(ne=>{V(Aa(ne))})},s=e.getColDef(),r={...this.createFilterParams(e,s),filterChangedCallback:()=>i(V=>this.filterChangedCallbackFactory(V,e)())},a=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,ad,r);let g=function W3(e,t,i){if(null==t)return null;let s=null;const{compName:r,jsComp:a,fwComp:g}=t0.getCompKeys(e,t,ad);return r?s={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:null==a&&null==g&&!0===t.filter&&(s=i()),s}(this.frameworkOverrides,s,()=>this.getDefaultFloatingFilter(e));return null==g&&(g="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(s,{column:e,filterParams:a,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1},g)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const i=e.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],s&&(this.disposeFilterWrapper(s,t),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{this.callOnFilterChangedOutsideRenderCycle({filter:e,additionalEventAttributes:i,columns:[t],source:i?.source??"columnFilter"})}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,s))return void this.destroyFilter(i,"paramsUpdated");const r=i.getColDef().filterParams;t.filterPromise?t.filterPromise.then(a=>{!1===(!a?.refresh||a.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(a,i),filterChangedCallback:this.filterChangedCallbackFactory(a,i),doesRowPassOtherFilter:k=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(a,k),...r}))&&this.destroyFilter(i,"paramsUpdated")}):this.destroyFilter(i,"paramsUpdated")}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:s}=t;return!(i===s||i?.render&&s?.render&&i.render===s.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(i=>{const s=Aa(i);t(s)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(Aa(i))})})}getFilterInstanceImpl(e){const t=this.columnModel.getColDefCol(e);return t?this.getOrCreateFilterWrapper(t)?.filterPromise??er.resolve(null):er.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.dataTypeService?.isPendingInference()){let a=()=>{};const g=new Promise(k=>{a=k});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),g}const i=this.columnModel.getColDefCol(e),s=i?this.getOrCreateFilterWrapper(i):null;return s?(a=this.setModelOnFilterWrapper(s.filterPromise,t),new Promise(g=>{a.then(k=>g(k))})):Promise.resolve();var a}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){const s=Tc(this.gos),r=this.localeService.getLocaleTextFunc(),a=g=>{const{filterParams:k}=e;e.filterParams="object"==typeof k?{...k,...g}:g};switch(t.baseDataType){case"number":s&&a({comparator:(g,k)=>{const V=null==g?0:parseInt(g),se=null==k?0:parseInt(k);return V===se?0:V>se?1:-1}});break;case"boolean":a(s?{valueFormatter:g=>kt(g.value)?r(String(g.value),g.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(g,k)=>k,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(g,k)=>!1===k,numberOfInputs:0}]});break;case"date":s&&a({valueFormatter:g=>{const k=i(g);return kt(k)?k:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(g,k)=>{if(1===k&&null!=g){const V=P0[Number(g)-1];return r(V,T0[V])}return g??r("blanks","(Blanks)")}});break;case"dateString":{const g=t.dateParser;a(s?{valueFormatter:k=>{const V=i(k);return kt(V)?V:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:k=>{const V=g(k??void 0);return V?[String(V.getFullYear()),String(V.getMonth()+1),String(V.getDate())]:null},treeListFormatter:(k,V)=>{if(1===V&&null!=k){const se=P0[Number(k)-1];return r(se,T0[se])}return k??r("blanks","(Blanks)")}}:{comparator:(k,V)=>{const se=g(V);return null==V||se<k?-1:se>k?1:0}});break}case"object":s?a({valueFormatter:g=>{const k=i(g);return kt(k)?k:r("blanks","(Blanks)")}}):e.filterValueGetter=g=>i({column:g.column,node:g.node,value:this.valueService.getValue(g.column,g.node)})}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}}],dependantModules:[xd]},sP={version:Yt,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:function L3(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()},getFilterInstance:function O3(e,t,i){return e.filterManager?.getFilterInstance(t,i)},getColumnFilterInstance:function I3(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)},destroyFilter:function B3(e,t){const i=e.columnModel.getColDefCol(t);if(i)return e.filterManager?.destroyFilter(i,"api")},setFilterModel:function N3(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))},getFilterModel:function G3(e){return e.filterManager?.getFilterModel()??{}},getColumnFilterModel:function z3(e,t){return e.filterManager?.getColumnFilterModel(t)??null},setColumnFilterModel:function _3(e,t,i){return e.filterManager?.setColumnFilterModel(t,i)??Promise.resolve()},showColumnFilter:function H3(e,t){const i=e.columnModel.getCol(t);i?e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"}):ni(`column '${t}' not found`)}},dependantModules:[_l,iP]},Cd={version:Yt,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:class extends zl{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,s,r){this.comp=e,r=ya(this,this.beans.context,r),this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setGui(t,r),this.setupActive(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Js("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Qo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Tn(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Pi(this.gos)===this.eGui)return;const s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void s.focus();const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let i=this.column;do{if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case nt.UP:case nt.DOWN:t||e.preventDefault();case nt.LEFT:case nt.RIGHT:if(t)return;e.stopPropagation();case nt.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case nt.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&Pn(e.relatedTarget,"ag-floating-filter");if(i&&s&&e.target===this.eGui){const a=this.lastFocusEvent;a&&a&&a.key===nt.TAB&&this.focusService.focusInto(this.eGui,a.shiftKey)}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(e){e.createManagedBean(new vd([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new md(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){this.menuService.showFilterMenu({column:this.column,buttonElement:this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,i=s=>{if("filterDestroyed"===s?.source&&!this.isAlive())return;const r=this.comp.getFloatingFilterComp();r&&r.then(a=>{if(a){const g=t?.getCurrentFloatingFilterParentModel(this.column),k=s?{...s,columns:s.columns??[],source:"api"===s.source?"api":"columnFilter"}:null;a.onParentModelChanged(g,k)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t?.isFilterActive(this.column)&&i(null)}setupWidth(e){const t=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const s=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();r&&s?r.then(a=>{!a||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,s)?this.updateCompDetails(e,s,i):this.updateFloatingFilterParams(s)}):this.updateCompDetails(e,s,i)}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;const t=e.params;this.comp.getFloatingFilterComp()?.then(i=>{let s=!1;i?.refresh&&"function"==typeof i.refresh&&null!==i.refresh(t)&&(s=!0),!s&&i?.onParamsUpdated&&"function"==typeof i.onParamsUpdated&&null!==i.onParamsUpdated(t)&&mt("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}}}],dependantModules:[_l]},rP={version:Yt,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:class extends gi{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>',[Gl]),this.eFloatingFilterText=Lt}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){null!=e?this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}}):this.eFloatingFilterText.setValue("")}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}}}],dependantModules:[Cd]},nP={version:Yt,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[{version:Yt,moduleName:"@ag-grid-community/simple-filter",dependantModules:[_l],userComponents:[{name:"agTextColumnFilter",classImp:class extends h0{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>null==e?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(null==i)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return 0===t.indexOf(i);case"endsWith":{const s=t.lastIndexOf(i);return s>=0&&s===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new f0(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(mt("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:i,filterText:s})=>e(t,i,s)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValuesWithSideEffects(e,!0);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,(s,r,a,g)=>{if(r<g){let k=qr(s.getValue());t&&this.textFilterParams.trimInput&&(k=m0(k)??null,s.setValue(k,!0)),i.push(k)}}),i}getDefaultFilterOptions(){return g0}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),js(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const s=this.createManagedBean(new Jo);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(e){return!!e&&["notEqual","notContains","blank"].indexOf(e)>=0}evaluateNonNullValue(e,t,i,s){const r=e.map(Ce=>this.formatter(Ce))||[],a=this.formatter(t),{api:g,colDef:k,column:V,context:se,textFormatter:ne}=this.textFilterParams;if("blank"===i.type)return this.isBlank(t);if("notBlank"===i.type)return!this.isBlank(t);const fe={api:g,colDef:k,column:V,context:se,node:s.node,data:s.data,filterOption:i.type,value:a,textFormatter:ne};return r.some(Ce=>this.matcher({...fe,filterText:Ce}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agNumberColumnFilter",classImp:class extends c0{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new p0(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return u0}setElementValue(e,t,i){const s=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,s)}createValueElement(){const e=gd(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),js(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,s){const r=this.createManagedBean(s?new Jo({allowedCharPattern:s}):new ud);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,r,a)=>{s<a&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"==typeof e)return e;let t=qr(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{t.getInputElement().validity.valid||(e=!0)}),e}}},{name:"agDateColumnFilter",classImp:class extends c0{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=1/0,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:s}=e||{};return[t&&Vs(t)||null,i&&Vs(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:t>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,s)=>{if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?s:Number(e[i]);mt(`DateFilter ${i} is not a number`)}return s};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&mt("DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Vs(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Vs(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&mt("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new w0(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new C0(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return y0}createValueElement(){const t=Yi(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,s){const a=Yi(this.gos).createElement("div");a.classList.add(`ag-filter-${s}`),a.classList.add(`ag-filter-date-${s}`),t.push(a),e.appendChild(a),i.push(this.createDateCompWrapper(a))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(r=>r.destroy())}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,s,r,a)=>{r!==e||!t||s>=a||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},s=this.getValues(e);return s.length>0&&(i.dateFrom=mr(s[0])),s.length>1&&(i.dateTo=mr(s[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...i}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(t),s.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,r,a)=>{s<a&&t.push(i.getDate())}),t}translate(e){return super.translate("lessThan"===e?"before":"greaterThan"===e?"after":e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agDateInput",classImp:class extends gi{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>',[Gl]),this.eDateInput=Lt}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:i=>{i.target===Pi(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Gr(),t.type=i?"date":"text";const{minValidYear:s,maxValidYear:r,minValidDate:a,maxValidDate:g}=e.filterParams||{};if(a&&s&&mt("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),g&&r&&mt("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),a&&g){const[k,V]=[a,g].map(se=>se instanceof Date?se:Vs(se));k&&V&&k.getTime()>V.getTime()&&mt("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}a?t.min=a instanceof Date?Ra(a):a:s&&(t.min=`${s}-01-01`),g?t.max=g instanceof Date?Ra(g):g:r&&(t.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Vs(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(mr(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:qc()||Zc()||Gr()&&Of()>=14.1}}}]},Cd],userComponents:[{name:"agTextColumnFloatingFilter",classImp:class extends F0{init(e){super.init(e),this.filterModelFormatter=new f0(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return g0}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new D0)}}},{name:"agNumberColumnFloatingFilter",classImp:class extends F0{init(e){super.init(e),this.filterModelFormatter=new p0(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){gd(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return u0}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=gd(e.filterParams),this.createManagedBean(this.allowedCharPattern?new D0({config:{allowedCharPattern:this.allowedCharPattern}}):new K3)}}},{name:"agDateColumnFloatingFilter",classImp:class extends R0{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>',[Gl]),this.eReadOnlyText=Lt,this.eDateWrapper=Lt}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return y0}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new w0(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(t),t?(this.dateComp.setDate(e?Vs(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))}setEditable(e){Ri(this.eDateWrapper,e),Ri(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const t=mr(this.dateComp.getDate());this.params.parentFilterInstance(i=>{if(i){const s=Vs(t);i.onFloatingFilterChanged(this.getLastType()||null,s)}})}getDateComponentParams(){const e=hd(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Ds(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new C0(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}}}]},L0={version:Yt,moduleName:"@ag-grid-community/quick-filter-core",beans:[class extends ut{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols();let s=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:i)??[];t&&(s=s.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?s:s.filter(r=>r.isVisible()||r.isRowGroupActive())}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;this.quickFilterParts=e?t?t(e):e.split(" "):null}parseQuickFilter(e){return kt(e)?Oi(this.gos)?e.toUpperCase():(mt("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!=typeof e)return void mt("Grid option quickFilterText only supports string inputs, received: "+typeof e);const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(i=>{const s=this.getQuickFilterTextForColumn(i,e);return kt(s)&&s.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:s,matcher:r}=this;return r(s,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const s=e.getColDef();if(s.getQuickFilterText){const r=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:s});i=s.getQuickFilterText(r)}return kt(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(i=>{const s=this.getQuickFilterTextForColumn(i,e);kt(s)&&t.push(s)}),t.join("\n")}}],dependantModules:[xd]},hP={version:Yt,moduleName:"@ag-grid-community/filter",dependantModules:[nP,rP,{version:Yt,moduleName:"@ag-grid-community/quick-filter",dependantModules:[L0,{version:Yt,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:function Q3(e){return!!e.filterManager?.isQuickFilterPresent()},getQuickFilter:function J3(e){return e.gos.get("quickFilterText")},resetQuickFilter:function eP(e){e.filterManager?.resetQuickFilterCache()}},dependantModules:[L0]}]},sP]},yd=class extends gi{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},cP=class extends yd{constructor(e){super('<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div data-ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',e),this.eFloatingFilterBody=Lt,this.eButtonWrapper=Lt,this.eButtonShowMainFilter=Lt}postConstruct(){const e=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(i,s)=>this.addOrRemoveCssClass(i,s),addOrRemoveBodyCssClass:(i,s)=>this.eFloatingFilterBody.classList.toggle(i,s),setButtonWrapperDisplayed:i=>Ri(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)},e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},dP=class extends yd{constructor(e){super('<div class="ag-header-cell" role="columnheader">\n            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',e),this.eResize=Lt,this.eHeaderCompWrapper=Lt,this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();var r,a;r="col-id",null!=(a=this.column.getColId())&&""!=a?e.setAttribute(r,a):e.removeAttribute(r);const i={setWidth:r=>e.style.width=r,addOrRemoveCssClass:(r,a)=>this.addOrRemoveCssClass(r,a),setAriaSort:r=>r?function jA(e,t){gr(e,"sort",t)}(e,r):function VA(e){zc(e,"sort")}(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);const s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(t)}},uP=class extends yd{constructor(e){super('<div class="ag-header-group-cell" role="columnheader">\n            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',e),this.eResize=Lt,this.eHeaderCompWrapper=Lt}postConstruct(){const e=this.getGui();e.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:(s,r)=>this.addOrRemoveCssClass(s,r),setResizableDisplayed:s=>Ri(this.eResize,s),setWidth:s=>e.style.width=s,setAriaExpanded:s=>((s,r)=>null!=r?e.setAttribute(s,r):e.removeAttribute(s))("aria-expanded",s),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerGroupComp},e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive())return void t();const i=this.getGui(),s=e.getGui();this.eHeaderCompWrapper.appendChild(s),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}},gP=class extends gi{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){Ff(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t},void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;const i=this.headerComps;if(this.headerComps={},e.forEach(s=>{const r=s.instanceId;let a=i[r];delete i[r],null==a&&(a=this.createHeaderComp(s),this.getGui().appendChild(a.getGui())),this.headerComps[r]=a}),dr(i,(s,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)}),t){const s=xo(this.headerComps);s.sort((a,g)=>a.getCtrl().getColumnGroupChild().getLeft()-g.getCtrl().getColumnGroupChild().getLeft());const r=s.map(a=>a.getGui());jf(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new uP(e);break;case"filter":t=new cP(e);break;default:t=new dP(e)}return this.createBean(t),t.setParentComponent(this),t}},mP=class extends ut{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=Yi(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){return this.ctrlsService.getHeaderRowContainerCtrl()?.getRowCount()??0}getHeaderPositionForColumn(e,t){let i;if("string"==typeof e?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;const r=this.ctrlsService.getHeaderRowContainerCtrl()?.getAllCtrls(),a="filter"===li(r||[]).getType(),g=this.getHeaderRowCount()-1;let k=-1,V=i;for(;V;)k++,V=V.getParent();let se=k;return t&&a&&se===g-1&&se++,-1===se?null:{headerRowIndex:se,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:s}=t,r=t.column,a=this.getHeaderRowCount(),g=0===e;let{headerRowIndex:k,column:V,headerRowIndexWithoutSpan:se}=g?this.headerPositionUtils.getColumnVisibleParent(r,s):this.headerPositionUtils.getColumnVisibleChild(r,s),ne=!1;return k<0&&(k=0,V=r,ne=!0),k>=a?(k=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==se&&(this.currentHeaderRowWithoutSpan=se),!(!ne&&!V)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:k,column:V},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){const s=this.focusService.getFocusedHeader(),r=2===e,a=this.gos.get("enableRtl");let g,k;if(-1!==this.currentHeaderRowWithoutSpan?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,r!==a?(k="Before",g=this.headerPositionUtils.findHeader(s,k)):(k="After",g=this.headerPositionUtils.findHeader(s,k)),g||!t)return this.focusService.focusHeaderPosition({headerPosition:g,direction:k,fromTab:t,allowUserOverride:!0,event:i});if(t){const V=this.gos.getCallback("tabToNextHeader");if(V)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:V,headerPosition:g,direction:k})}return this.focusNextHeaderRow(s,k,i)}focusNextHeaderRow(e,t,i){const s=e.headerRowIndex;let a,r=null;if("Before"===t?s>0&&(a=s-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"end")):(a=s+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"start")),!r)return!1;const{column:g,headerRowIndex:k}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:g,headerRowIndex:k},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if($i(e)){const s=e.getDisplayedLeafColumns();i="Before"===t?li(s):s[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},vP=class extends ut{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new Qo(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),this.mockContextMenuForIPad(s),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0;const i=this.columnModel.getGroupRowsHeight().reduce((a,g)=>a+g,0),s=this.columnModel.getColumnHeaderRowHeight();this.filterManager?.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=i,t+=s,this.headerHeight!==t&&(this.headerHeight=t,this.comp.setHeightAndMinHeight(`${t+1}px`),this.eventService.dispatchEvent({type:"headerHeightChanged"}))}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey;(this.headerNavigationService.navigateHorizontally(i!==t?2:3,!0,e)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case nt.LEFT:t=2;case nt.RIGHT:kt(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break;case nt.UP:t=0;case nt.DOWN:kt(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Pi(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement())&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!yo())return;const t=new wo(this.eGui);this.addManagedListeners(t,{longTap:s=>{e(void 0,s.touchStart,s.touchEvent)}}),this.addDestroyFunc(()=>t.destroy())}},wd=class extends ut{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=fs(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),s=this.visibleColsService.getDisplayedColumnsRightWidth();let r;e?r=t+i+s:(r=t,this.addSpacer&&0===(this.gos.get("enableRtl")?i:s)&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.scrollVisibleService.getScrollbarWidth())),this.callback(r)}},xP=class extends ut{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function O0(e){const{isFromHeader:t,fromLeft:i,xPosition:s,fromEnter:r,fakeEvent:a,pinned:g,gos:k,columnModel:V,columnMoveService:se,visibleColsService:ne}=e;let{allMovingColumns:fe}=e;if(t){const Ze=[];fe.forEach(tt=>{let We=null,Je=tt.getParent();for(;null!=Je&&1===Je.getDisplayedLeafColumns().length;)We=Je,Je=Je.getParent();null!=We?(We.getColGroupDef()?.marryChildren?We.getProvidedColumnGroup().getLeafColumns():We.getLeafColumns()).forEach(gt=>{Ze.includes(gt)||Ze.push(gt)}):Ze.includes(tt)||Ze.push(tt)}),fe=Ze}const Ce=fe.slice();V.sortColsLikeCols(Ce);const ke=function bP(e){const{movingCols:t,draggingRight:i,xPosition:s,pinned:r,gos:a,columnModel:g,visibleColsService:k}=e;if(a.get("suppressMovableColumns")||t.some(Le=>Le.getColDef().suppressMovable))return[];const se=function wP(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}(k,r),ne=g.getCols(),fe=se.filter(Le=>Yo(t,Le)),Ce=se.filter(Le=>!Yo(t,Le)),ke=ne.filter(Le=>!Yo(t,Le));let Te,Ae=0,Ee=s;if(i){let Le=0;fe.forEach(Ye=>Le+=Ye.getActualWidth()),Ee-=Le}if(Ee>0){for(let Le=0;Le<Ce.length&&(Ee-=Ce[Le].getActualWidth(),!(Ee<0));Le++)Ae++;i&&Ae++}Ae>0?Te=ke.indexOf(Ce[Ae-1])+1:(Te=ke.indexOf(Ce[0]),-1===Te&&(Te=0));const Ie=[Te],Be=(Le,Ye)=>Le-Ye;if(i){let Le=Te+1;const Ye=ne.length-1;for(;Le<=Ye;)Ie.push(Le),Le++;Ie.sort(Be)}else{let Le=Te;const Ye=ne.length-1;let Ze=ne[Le];for(;Le<=Ye&&se.indexOf(Ze)<0;)Le++,Ie.push(Le),Ze=ne[Le];Le=Te-1;const tt=0;for(;Le>=tt;)Ie.push(Le),Le--;Ie.sort(Be).reverse()}return Ie}({movingCols:Ce,draggingRight:i,xPosition:s,pinned:g,gos:k,columnModel:V,visibleColsService:ne}),Ae=function CP(e,t){const i=t.getCols(),s=function qE(e){return e.sort((t,i)=>t-i)}(e.map(V=>i.indexOf(V))),r=s[0];return li(s)-r!=s.length-1?null:r}(Ce,V);if(0===ke.length)return;const Ee=ke[0];let Te=null!==Ae&&!r;if(t&&(Te=null!==Ae),Te&&!a&&(!i&&Ee>=Ae||i&&Ee<=Ae))return;const Ie=ne.getAllCols(),Be=[];let Le=null;for(let Ze=0;Ze<ke.length;Ze++){const tt=ke[Ze],We=se.getProposedColumnOrder(Ce,tt);if(!se.doesOrderPassRules(We))continue;const Je=We.filter(pt=>Ie.includes(pt));if(null===Le)Le=Je;else if(!Qr(Je,Le))break;const et=yP(We);Be.push({move:tt,fragCount:et})}if(0===Be.length)return;Be.sort((Ze,tt)=>Ze.fragCount-tt.fragCount);const Ye=Be[0].move;return Ye>V.getCols().length-fe.length?void 0:{columns:fe,toIndex:Ye}}function bd(e){const{columns:t,toIndex:i}=O0(e)||{},{finished:s,columnMoveService:r}=e;return t&&null!=i?(r.moveColumns(t,i,"uiColumnMoved",s),s?null:{columns:t,toIndex:i}):null}function yP(e){function t(s){const r=[];let a=s.getOriginalParent();for(;null!=a;)r.push(a),a=a.getOriginalParent();return r}let i=0;for(let s=0;s<e.length-1;s++){let r=t(e[s]),a=t(e[s+1]);[r,a]=r.length>a.length?[r,a]:[a,r],r.forEach(g=>{-1===a.indexOf(g)&&i++})}return i}function Hl(e){const{pinned:t,fromKeyboard:i,gos:s,ctrlsService:r,useHeaderRow:a,skipScrollPadding:g}=e;let k=r.getHeaderRowContainerCtrl(t)?.getViewportElement(),{x:V}=e;return k?(i&&(V-=k.getBoundingClientRect().left),s.get("enableRtl")&&(a&&(k=k.querySelector(".ag-header-row")),V=k.clientWidth-V),null==t&&!g&&(V+=r.get("center").getCenterViewportScrollLeft()),V):0}function Ln(e,t){for(const i of e)i.setMoving(t,"uiColumnMoved")}var MP=class extends ut{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!kt(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const e=this.lastDraggingEvent?.dragItem.columns??[];for(const t of e){const i=t.getPinned();if(t.getColDef().lockPinned){if(i==this.pinned)return"move"}else{if(i===this.pinned||!this.pinned)return"move";if(!i&&this.pinned)return"pinned"}}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const s=e.dragItem.visibleState,r=(t||[]).filter(a=>s[a.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,s=!1){const r=this.gos.get("suppressMoveWhenColumnDragging");if(s&&!r)return void this.finishColumnMoving();if(this.lastDraggingEvent=e,!e||!s&&ai(e.hDirection))return;const{pinned:a,gos:g,ctrlsService:k}=this,V=Hl({x:e.x,pinned:a,gos:g,ctrlsService:k});t||this.checkCenterForScrolling(V),r?this.handleColumnDragWhileSuppressingMovement(e,t,i,V,s):this.handleColumnDragWhileAllowingMovement(e,t,i,V,s)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;const s=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColsVisible(s,t,i)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,s,r){const a=this.getAllMovingColumns(e,!0);if(r){const g=this.isAttemptingToPin(a);g&&this.attemptToPinColumns(a,void 0,!0);const{fromLeft:k,xPosition:V}=this.getNormalisedXPositionInfo(a,g)||{};if(null==k||null==V)return void this.finishColumnMoving();this.moveColumnsAfterHighlight({allMovingColumns:a,xPosition:V,fromEnter:t,fakeEvent:i,fromLeft:k})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(a,s)}}handleColumnDragWhileAllowingMovement(e,t,i,s,r){const a=this.getAllMovingColumns(e),g=1===this.normaliseDirection(e.hDirection),se=bd({...this.getMoveColumnParams({allMovingColumns:a,isFromHeader:1===e.dragSource.type,xPosition:s,fromLeft:g,fromEnter:t,fakeEvent:i}),finished:r});se&&(this.lastMovedInfo=se)}getAllMovingColumns(e,t=!1){const i=e.dragSource.getDragItem();let s=null;return t?(s=i.columnsInSplit,s||(s=i.columns)):s=i.columns,s?s.filter(a=>!a.getColDef().lockPinned||a.getPinned()==this.pinned):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:s,fromLeft:r,fromEnter:a,fakeEvent:g}=e,{pinned:k,gos:V,columnModel:se,columnMoveService:ne,visibleColsService:fe}=this;return{allMovingColumns:t,isFromHeader:i,fromLeft:r,xPosition:s,pinned:k,fromEnter:a,fakeEvent:g,gos:V,columnModel:se,columnMoveService:ne,visibleColsService:fe}}findFirstAndLastMovingColumns(e){const t=e.length;let i,s;for(let r=0;r<=t;r++){if(!i){const a=e[r];null!=a.getLeft()&&(i=a)}if(!s){const a=e[t-1-r];null!=a.getLeft()&&(s=a)}if(i&&s)break}return{firstMovingCol:i,lastMovingCol:s}}highlightHoveredColumn(e,t){const{gos:i,columnModel:s}=this,r=i.get("enableRtl"),a=s.getCols().filter(ne=>ne.isVisible()&&ne.getPinned()===this.pinned);let se,g=null,k=null,V=null;for(const ne of a){if(k=ne.getActualWidth(),g=this.getNormalisedColumnLeft(ne,0,r),null!=g&&g<=t&&g+k>=t){V=ne;break}g=null,k=null}if(V)-1!==e.indexOf(V)&&(V=null);else{for(let ne=a.length-1;ne>=0;ne--){const fe=a[ne],Ce=a[ne].getParent();if(!Ce){V=fe;break}const ke=Ce?.getDisplayedLeafColumns();if(ke.length){V=li(ke);break}}if(!V)return;g=this.getNormalisedColumnLeft(V,0,r),k=V.getActualWidth()}this.lastHighlightedColumn?.column!==V&&this.clearHighlighted(),null!=V&&null!=g&&null!=k&&(se=t-g<k/2!==r?0:1,V.setHighlighted(se),this.lastHighlightedColumn={column:V,position:se})}getNormalisedXPositionInfo(e,t){const{gos:i,visibleColsService:s}=this,r=i.get("enableRtl"),{firstMovingCol:a,column:g,position:k}=this.getColumnMoveAndTargetInfo(e,t,r);if(!a||!g||null==k)return;const V=s.getAllCols(),se=V.indexOf(a),ne=V.indexOf(g),fe=0===k!==r,Ce=se<ne||se===ne&&!fe;let ke=0;if(fe?Ce&&(ke-=1):Ce||(ke+=1),ne+ke===se)return;const Ae=V[ne+ke];return Ae?{fromLeft:Ce,xPosition:this.getNormalisedColumnLeft(Ae,20,r)}:void 0}getColumnMoveAndTargetInfo(e,t,i){const s=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:a}=this.findFirstAndLastMovingColumns(e);if(!r||!a||s.column||!t)return{firstMovingCol:r,...s};const k="left"===this.getPinDirection();return{firstMovingCol:r,position:k?1:0,column:k!==i?r:a}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,i){const{gos:s,ctrlsService:r}=this,a=e.getLeft();if(null==a)return null;const g=e.getActualWidth();return Hl({x:i?a+g-t:a+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:s,ctrlsService:r})}isAttemptingToPin(e){return(this.needToMoveLeft||this.needToMoveRight)&&this.failedMoveAttempts>7||e.some(s=>s.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:s,fakeEvent:r,fromLeft:a}=e,g=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:a,fromEnter:s,fakeEvent:r}),{columns:k,toIndex:V}=O0(g)||{};k&&null!=V&&(this.lastMovedInfo={columns:k,toIndex:V}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),s=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>s-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=8)return;if(this.dragAndDropService.getDragAndDropImageComponent()?.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const s=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(s,void 0,!0)}}}getPinDirection(){return this.needToMoveLeft||"left"===this.pinned?"left":this.needToMoveRight||"right"===this.pinned?"right":void 0}attemptToPinColumns(e,t,i=!1){const s=(e||[]).filter(r=>!r.getColDef().lockPinned);return s.length?(i&&(t=this.getPinDirection()),this.columnModel.setColsPinned(s,t,"uiColumnDragged"),i&&this.dragAndDropService.nudge(),s.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},EP=class extends ut{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]]}}),this.moveColumnFeature=this.createManagedBean(new MP(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new xP(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},AP=class extends ut{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s,r){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=r}postConstruct(){const e=[];let t,i;const s=()=>{if(Ri(this.eResize,t),!t)return;const g=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(g),i){const k=this.gos.get("skipHeaderOnAutoSize"),V=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",k)};this.eResize.addEventListener("dblclick",V);const se=new wo(this.eResize);se.addEventListener("doubleTap",V),e.push(()=>{this.eResize.removeEventListener("dblclick",V),se.removeEventListener("doubleTap",V),se.destroy()})}},r=()=>{e.forEach(g=>g()),e.length=0},a=()=>{const g=this.column.isResizable(),k=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(g!==t||k!==i)&&(t=g,i=k,r(),s())};a(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",a)}onResizing(e,t){const{column:i,lastResizeAmount:s,resizeStartWidth:r}=this,a=this.normaliseResizeAmount(t),k=[{key:i,newWidth:r+a}];this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(a-s)>Sa(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50||(this.lastResizeAmount=a,this.columnSizeService.setColumnWidths(k,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1))}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i="left"!==this.pinned,s="right"===this.pinned;return this.gos.get("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}},TP=class extends ut{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){const e=t=>{t&&"string"!=typeof t&&(this.selectionOptions=t)};e(this.gos.get("rowSelection")),this.addManagedPropertyListener("rowSelection",t=>e(t.currentValue))}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Pi(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Il),this.cbSelectAll.addCssClass("ag-header-select-all"),js(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),_c(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),s=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?`${s} (${i})`:null),this.cbSelectAll.setInputAriaLabel(`${s} (${i})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return!!Ec(this.gos)||(mt(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return!(!Oi(this.gos)&&!Zr(this.gos)&&(mt(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),1))}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let s="uiSelectAll";i?s="uiSelectAllCurrentPage":t&&(s="uiSelectAllFiltered");const r={source:s,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){const e=this.selectionOptions,t=e&&wl(e)&&An(this.column),i=this.column.getColDef().headerCheckboxSelection;let s=!1;return s=!!t||("function"==typeof i?i(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):!!i),s&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.selectionOptions;return void 0!==e?"multiRow"===e.mode&&"filtered"===e.selectAll:!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.selectionOptions;return void 0!==e?"multiRow"===e.mode&&"currentPage"===e.selectAll:!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},PP=class extends zl{constructor(e,t,i){super(e,t,i),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,s,r){this.comp=e,r=ya(this,this.beans.context,r),this.setGui(t,r),this.updateState(),this.setupWidth(r),this.setupMovingCss(r),this.setupMenuClass(r),this.setupSortableClass(r),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:g=>this.setRefreshFunction("measuring",g),compBean:r}),this.addColumnHoverListener(r),this.setupFilterClass(r),this.setupClassesFromColDef(),this.setupTooltip(r),this.addActiveHeaderMouseListeners(r),this.setupSelectAll(r),this.setupUserComp(r),this.refreshAria(),this.resizeFeature=r.createManagedBean(new AP(this.getPinned(),this.column,i,e,this)),r.createManagedBean(new vd([this.column],t)),r.createManagedBean(new md(this.column,t,this.beans)),r.createManagedBean(new Qo(t,{shouldStopEventPropagation:g=>this.shouldStopEventPropagation(g),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(r),r.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(r)),r.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(r)}),r.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const a=()=>this.checkDisplayName(r);r.addManagedEventListeners({columnValueChanged:a,columnRowGroupChanged:a,columnPivotChanged:a,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),r.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const i=this.column.getActualWidth(),s=this.column.getMinWidth(),r=this.column.getMaxWidth(),a=Math.min(Math.max(i+e,s),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:a}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:i,column:s,ctrlsService:r}=this,{gos:a,columnModel:g,columnMoveService:k,visibleColsService:V}=i,se=this.getPinned(),ne=t.getBoundingClientRect().left,fe=s.getActualWidth(),Ae=Hl({x:0===e!==a.get("enableRtl")?ne-20:ne+fe+20,pinned:se,fromKeyboard:!0,gos:a,ctrlsService:r}),Ee=this.focusService.getFocusedHeader();bd({allMovingColumns:[s],isFromHeader:!0,fromLeft:1===e,xPosition:Ae,pinned:se,fromEnter:!1,fakeEvent:!1,gos:a,columnModel:g,columnMoveService:k,visibleColsService:V,finished:!0}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&Ee&&this.restoreFocus(Ee)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:i=>{this.menuService.showColumnMenu({column:this.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:i=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:i,positionBy:"mouse"})},showFilter:i=>{this.menuService.showFilterMenu({column:this.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:i=>{this.beans.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,s)=>{this.beans.sortController.setSortForColumn(this.column,i,!!s,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(i,s)=>{this.setupTooltip(e,i,s)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new TP(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===nt.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===nt.ENTER&&this.onEnterKeyDown(e),e.key===nt.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();!i||!(i instanceof od)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s="whenTruncated"===this.gos.get("tooltipShowMode"),r=this.eGui,a=this.column.getColDef();!i&&s&&!a.headerComponent&&(i=()=>{const V=r.querySelector(".ag-header-cell-text");return!V||V.scrollWidth>V.clientWidth});const k=e.createManagedBean(new Dn({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:i}));this.setRefreshFunction("tooltip",()=>k.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const i=k0(this.column.getColDef(),this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{s.has(r)?s.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),s.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:s,dragAndDropService:r,gos:a}=this,{columnModel:g}=i;let k=!this.gos.get("suppressDragLeaveHidesColumns");const V=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>k?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:s,onDragStarted:()=>{k=!a.get("suppressDragLeaveHidesColumns"),Ln([t],!0)},onDragStopped:()=>Ln([t],!1),onDragCancelled:()=>Ln([t],!1),onGridEnter:se=>{if(k){const ne=se?.columns?.filter(fe=>!fe.getColDef().lockVisible)||[];g.setColsVisible(ne,!0,"uiColumnMoved")}},onGridExit:se=>{if(k){const ne=se?.columns?.filter(fe=>!fe.getColDef().lockVisible)||[];g.setColsVisible(ne,!1,"uiColumnMoved")}}};r.addDragSource(V,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!(!t||!t.refresh)&&t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!(this.gos.get("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),i=1===e;this.comp.addOrRemoveCssClass("ag-header-highlight-before",0===e),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:s}=this;if(!t.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),void i.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:r,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",r>0);const{columnModel:g}=s,k=g.getColumnHeaderRowHeight();if(0===r)return i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height",`${k}px`);i.addOrRemoveCssClass("ag-header-span-total",a);const V=this.beans.columnModel.getGroupRowsHeight();let se=0;for(let ne=0;ne<r;ne++)se+=V[V.length-1-ne];e.style.setProperty("top",-se+"px"),e.style.setProperty("height",`${k+se}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(function FA(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Pi(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>"filter"===t?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange("mouseenter"===r.type);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),contextmenu:r=>this.handleContextMenuMouseEvent(r,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof od?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},RP=class extends ut{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const s=this.normaliseDragChange(t);this.resizeColumnsFromLocalValues(this.resizeStartWidth+s,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),r={columnsToResize:t,resizeStartWidth:i,resizeRatios:this.getSizeRatiosOfColumns(t,i)};let a=null;if(e&&(a=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),a){const g=a.getDisplayedLeafColumns(),k=r.groupAfterColumns=g.filter(se=>se.isResizable()),V=r.groupAfterStartWidth=this.getInitialSizeOfColumns(k);r.groupAfterRatios=this.getSizeRatiosOfColumns(k,V)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:r,groupAfterStartWidth:a,groupAfterRatios:g}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=a,this.resizeTakeFromRatios=g}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){this.resizeCols&&this.resizeRatios&&this.resizeColumns({columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0},e,t,i)}resizeColumns(e,t,i,s=!0){const{columnsToResize:r,resizeStartWidth:a,resizeRatios:g,groupAfterColumns:k,groupAfterStartWidth:V,groupAfterRatios:se}=e,ne=[];ne.push({columns:r,ratios:g,width:t}),k&&ne.push({columns:k,ratios:se,width:V-(t-a)}),this.columnSizeService.resizeColumnSets({resizeSets:ne,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},DP=class extends ut{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}},FP=class extends zl{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const s=this.getGui();this.setDragSource(s)}},this.column=e}setComp(e,t,i,s,r){this.comp=e,r=ya(this,this.beans.context,r),this.setGui(t,r),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(r),this.setupAutoHeight({wrapperElement:s,compBean:r}),this.setupUserComp(r),this.addHeaderMouseListeners(r);const a=this.getParentRowCtrl().getPinned(),g=this.column.getProvidedColumnGroup().getLeafColumns();r.createManagedBean(new vd(g,t)),r.createManagedBean(new md(this.column,t,this.beans)),r.createManagedBean(new DP(e,this.column)),this.resizeFeature=r.createManagedBean(new RP(e,i,a,this.column)),r.createManagedBean(new Qo(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,g),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,s=li(t)===e;if(!i&&!s)return;const r=e.getHighlighted();let g=!1,k=!1;if(this.getParentRowCtrl().findHeaderCellCtrl(V=>V.getColumnGroupChild().isMoving())){const V=this.beans.gos.get("enableRtl"),se=1===r,ne=0===r;i&&(V?k=se:g=ne),s&&(V?g=ne:k=se)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",g),this.comp.addOrRemoveCssClass("ag-header-highlight-after",k)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:s,ctrlsService:r}=this,{gos:a,columnModel:g,columnMoveService:k,visibleColsService:V}=t,se=a.get("enableRtl"),ne=0===e,fe=this.getPinned(),Ce=i.getBoundingClientRect(),ke=Ce.left,Ee=Hl({x:ne!==se?ke-20:ke+Ce.width+20,pinned:fe,fromKeyboard:!0,gos:a,ctrlsService:r}),Te=s.getGroupId(),Ie=this.focusService.getFocusedHeader();bd({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:1===e,xPosition:Ee,pinned:fe,fromEnter:!1,fakeEvent:!1,gos:a,columnModel:g,columnMoveService:k,visibleColsService:V,finished:!0});const Be=s.getDisplayedLeafColumns(),Le=ne?Be[0]:li(Be);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(Le,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&Ie&&this.restoreFocus(Te,s,Ie)}restoreFocus(e,t,i){const s=t.getLeafColumns();if(!s.length)return;const r=s[0].getParent();if(!r)return;const a=this.findGroupWidthId(r,e);a&&this.focusService.focusHeaderPosition({headerPosition:{...i,column:a}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:s=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),s,"gridInitializing")},setTooltip:(s,r)=>{this.setupTooltip(e,s,r)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange("mouseenter"===r.type);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.column.getColGroupDef(),r="whenTruncated"===this.gos.get("tooltipShowMode"),a=this.eGui;!i&&r&&!s?.headerGroupComponent&&(i=()=>{const k=a.querySelector(".ag-header-group-text");return!k||k.scrollWidth>k.clientWidth});const g={getColumn:()=>this.column,getGui:()=>a,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(s&&s.headerTooltip),shouldDisplayTooltip:i};s&&(g.getColDef=()=>s),e.createManagedBean(new Dn(g))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.comp.setAriaExpanded(this.expandable?t?"true":"false":void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=k0(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e?.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){const i=this.column.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach(r=>{e.addManagedListeners(r,{movingChanged:s})}),s()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===nt.ENTER){const i=this.column,s=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:i,displayName:s,gos:r,dragAndDropService:a}=this,{columnModel:g}=t,k=i.getProvidedColumnGroup().getLeafColumns();let V=!r.get("suppressDragLeaveHidesColumns");const se=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>V?"hide":"notAllowed",dragItemName:s,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{V=!r.get("suppressDragLeaveHidesColumns"),Ln(k,!0)},onDragStopped:()=>Ln(k,!1),onDragCancelled:()=>Ln(k,!1),onGridEnter:ne=>{if(V){const{columns:fe=[],visibleState:Ce}=ne??{},ke=fe.filter(Ae=>!Ae.getColDef().lockVisible&&(!Ce||Ce[Ae.getColId()]));g.setColsVisible(ke,!0,"uiColumnMoved")}},onGridExit:ne=>{if(V){const fe=ne?.columns?.filter(Ce=>!Ce.getColDef().lockVisible)||[];g.setColsVisible(fe,!1,"uiColumnMoved")}}};a.addDragSource(se,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(g=>i[g.getId()]=g.isVisible());const s=[];this.beans.visibleColsService.getAllCols().forEach(g=>{t.indexOf(g)>=0&&(s.push(g),Fs(t,g))}),t.forEach(g=>s.push(g));const r=[],a=e.getLeafColumns();for(const g of s)-1!==a.indexOf(g)&&r.push(g);return{columns:s,columnsInSplit:r,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},LP=0,kd=class extends ut{constructor(e,t,i){super(),this.instanceId=LP++,this.rowIndex=e,this.pinned=t,this.type=i,this.headerRowClass="ag-header-row "+("group"==i?"ag-header-row-column-group":"filter"==i?"ag-header-row-column-filter":"ag-header-row-column")}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=fs(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return!!this.comp&&this.getHeaderCellCtrls().every(e=>null!=e.getGui())}setComp(e,t,i=!0){this.comp=e,t=ya(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return ml(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=fs(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,i=[],s=e.getGroupRowsHeight(),r=e.getColumnHeaderRowHeight();i.push(...s),i.push(r),t?.hasFloatingFilters()&&i.push(e.getFloatingFiltersHeight());let a=0;for(let k=0;k<this.rowIndex;k++)a+=i[k];return{topOffset:a,rowHeight:i[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls();this.comp.setHeaderCtrls(t,this.isEnsureDomOrder||this.isPrintLayout,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const s of t)this.recycleAndCreateHeaderCtrls(s,e);const i=s=>{const{focusService:r,visibleColsService:a}=this.beans;return!!r.isHeaderWrapperFocused(s)&&a.isVisible(s.getColumnGroupChild())};if(e)for(const[s,r]of e)i(r)?this.headerCellCtrls.set(s,r):this.destroyBean(r);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let s;if(t&&(s=t.get(i),t.delete(i)),s&&s.getColumnGroupChild()!=e&&(this.destroyBean(s),s=void 0),null==s)switch(this.type){case"filter":s=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break;case"group":s=this.createBean(new FP(e,this.beans,this));break;default:s=this.createBean(new PP(e,this.beans,this))}this.headerCellCtrls.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(s=>{const r=i.getHeadersToRender(s,t);e=e.concat(r)}),e}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;let i;return i=this.getHeaderCellCtrls().find("function"==typeof e?e:s=>s.getColumnGroupChild()==e),i}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);return!!i&&i.focus(t)}destroy(){this.headerCellCtrls?.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},OP=class extends ut{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i}),this.ctrlsService.register(`${"string"==typeof this.pinned?this.pinned:"center"}Header`,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Rn,i=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const k=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let V=0;V<k;V++){const se=this.createBean(new kd(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(se)}})(),(()=>{const k=t.next(),V=!(this.hidden||null!=this.columnsRowCtrl&&e&&this.columnsRowCtrl.getRowIndex()===k);(V||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),V&&(this.columnsRowCtrl=this.createBean(new kd(k,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;const k=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void k();const V=t.next();if(this.filtersRowCtrl){const se=this.filtersRowCtrl.getRowIndex()!==V;(!e||se)&&k()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new kd(V,this.pinned,"filter")))})();const g=this.getAllCtrls();this.comp.setCtrls(g),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){if(Co(e))return this.columnsRowCtrl?.getHeaderCellCtrl(e);if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const r=this.getAllCtrls()[e];return!!r&&r.focusHeader(t,i)}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new EP(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new wd(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const i=()=>{const s=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==s)return;const r=0==s,a=this.hidden!==r,g=this.gos.get("enableRtl"),k=this.scrollVisibleService.getScrollbarWidth(),se=this.scrollVisibleService.isVerticalScrollShowing()&&(g&&e||!g&&t)?s+k:s;this.comp.setPinnedContainerWidth(`${se}px`),this.comp.setDisplayed(!r),a&&(this.hidden=r,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},Md=class extends gi{constructor(e){super(),this.eCenterContainer=Lt,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();const e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{const s=this.getGui();s.style.width=i,s.style.maxWidth=i,s.style.minWidth=i}};this.createManagedBean(new OP(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){this.setTemplate("left"==this.pinned?'<div class="ag-pinned-left-header" role="rowgroup"></div>':"right"==this.pinned?'<div class="ag-pinned-right-header" role="rowgroup"></div>':'<div class="ag-header-viewport" role="presentation">\n        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>\n    </div>'),this.eRowContainer=this.eCenterContainer!==Lt?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;let i;this.headerRowComps={},this.rowCompsList=[];const s=r=>{const a=r.getGui();a.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(a),i&&Wf(this.eRowContainer,a,i),i=a};e.forEach(r=>{const a=r.instanceId,g=t[a];delete t[a];const k=g||this.createBean(new gP(r));this.headerRowComps[a]=k,this.rowCompsList.push(k),s(k)}),xo(t).forEach(r=>this.destroyRowComp(r))}},zP={selector:"AG-HEADER-ROOT",component:class extends gi{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){const e={addOrRemoveCssClass:(s,r)=>this.addOrRemoveCssClass(s,r),setHeightAndMinHeight:s=>{this.getGui().style.height=s,this.getGui().style.minHeight=s}};this.createManagedBean(new vP).setComp(e,this.getGui(),this.getFocusableElement());const i=s=>{this.createManagedBean(s),this.appendChild(s)};i(new Md("left")),i(new Md(null)),i(new Md("right"))}}},Ed=class extends ut{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal",t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(mt(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},WP={selector:"AG-OVERLAY-WRAPPER",component:class extends gi{constructor(){super('\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>'),this.eOverlayWrapper=Lt,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==nt.TAB||e.defaultPrevented||Jr(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;i=e.shiftKey?this.focusService.focusGridView(li(this.visibleColsService.getAllCols()),!0,!1):this.focusService.focusNextGridCoreContainer(!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new Ed(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,s){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){const r=Pi(this.gos);r&&!hf(this.gos)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e)return void(this.activeOverlay!==r&&(this.destroyBean(r),r=null));if(this.activePromise=null,!r)return;if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,s)){const g=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,({currentValue:k})=>{g.refresh?.(this.gos.addGridCommonParams({...k??{}}))})}const a=this.focusService;i&&a.isGridFocused()&&a.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Ms(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}}},B0=class extends gi{constructor(e,t){super(),this.direction=t,this.eViewport=Lt,this.eContainer=Lt,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",If()||yo())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=Nf(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();!function GE(e,t,i=100,s){const r=(new Date).getTime();let a=null,g=!1;const k=()=>{const V=(new Date).getTime()-r>i;(e()||V)&&(t(),g=!0,null!=a&&(window.clearInterval(a),a=null),V&&s&&mt(s))};k(),g||(a=window.setInterval(k,10))}(()=>kr(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},VP={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:class extends B0{constructor(){super('<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>',"horizontal"),this.eLeftSpacer=Lt,this.eRightSpacer=Lt}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new wd(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,s=this.scrollVisibleService.getScrollbarWidth();i&&(t+=s),Mr(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=s);let r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(r+=s),Mr(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=s)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=e&&this.scrollVisibleService.getScrollbarWidth()||0,a=i?0:0===s&&t?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Ma(this.getGui(),a),Ma(this.eViewport,a),Ma(this.eContainer,a),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return Fl(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){kr(this.getViewportElement())||this.attemptSettingScrollPosition(e),Ll(this.getViewportElement(),e,this.enableRtl)}}},N0=class extends ut{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},XP={selector:"AG-FAKE-VERTICAL-SCROLL",component:class extends B0{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super('<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>',"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new N0(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.scrollVisibleService.getScrollbarWidth()||0,s=0===i&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Mr(this.getGui(),s),Mr(this.eViewport,s),Mr(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),s=this.getScrollPosition(),r=i.scrollTop;s!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!kr(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}}},Ad=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(Ad||{}),YP=class extends ut{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Ds(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Ds(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(Ad)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?Ds(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),s=t?Ds(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,s)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){null!=this.centerRowsCtrl&&(void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(Ad),"Viewport"])this.lastScrollSource[1]!==t&&Ll(this.getViewportForSource(t),e,this.enableRtl)}getViewportForSource(e){return"Viewport"===e?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(0===t?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const s=Fl(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(Math.round(s)),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;t="Viewport"===e?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,"Viewport"===e?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,i=!1){return!(i&&!yo())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=td(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Dl()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const s=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&Dl()?e>0?0:s:Math.min(Math.max(e,0),s)),Ll(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let s=-1;for(let r=0;r<i;r++){const a=this.rowModel.getRow(r);if("function"==typeof e){if(a&&e(a)){s=r;break}}else if(e===a||e===a.data){s=r;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(fs(this.gos,"print"))return;const i=this.rowModel.getRowCount();if("number"!=typeof e||e<0||e>=i)return void mt("Invalid row index for ensureIndexVisible: "+e);const r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{r||this.paginationService?.goToPageWithIndex(e);const a=this.ctrlsService.getGridBodyCtrl(),g=a.getStickyTopHeight(),k=a.getStickyBottomHeight(),V=this.rowModel.getRow(e);let se;do{const ne=V.rowTop,fe=V.rowHeight,Ce=this.pageBoundsService.getPixelOffset(),ke=V.rowTop-Ce,Ae=ke+V.rowHeight,Ee=this.getVScrollPosition(),Te=this.heightScaler.getDivStretchOffset(),Ie=Ee.top+Te,Be=Ee.bottom+Te,Le=Be-Ie,Ye=this.heightScaler.getScrollPositionForPixel(ke),Ze=this.heightScaler.getScrollPositionForPixel(Ae-Le),tt=Math.min((Ye+Ze)/2,ke);let et=null;"top"===t?et=Ye:"bottom"===t?et=Ze:"middle"===t?et=tt:Ie+g>ke?et=Ye-g:Be-k<Ae&&(et=Ze+k),null!==et&&(this.setVerticalScrollPosition(et),this.rowRenderer.redraw({afterScroll:!0})),se=ne!==V.rowTop||fe!==V.rowHeight}while(se);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getCol(e);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{null!==s&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),a=this.centerRowsCtrl.getCenterWidth(),g=this.enableRtl;let k=(g?i:s)||r,V=g?s:i;"auto"!==t&&(k="start"===t,V="end"===t);const se="middle"===t;if(k||V||se){const{colLeft:ne,colMiddle:fe,colRight:Ce}=this.getColumnBounds(e);return se?fe-a/2:k?g?Ce:ne:g?ne-a:Ce-a}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:r}=this.getColumnBounds(e),a=this.enableRtl;return{columnBeforeStart:a?t>r:i<r,columnAfterEnd:a?i<s:t>s}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),s=e.getActualWidth(),r=e.getLeft(),a=t?-1:1,g=t?i-r:r;return{colLeft:g,colMiddle:g+s/2*a,colRight:g+s*a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},$P=class extends ut{wireBeans(e){this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const t=Sa(this.gridBodyCtrl.getBodyViewportElement());if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50);const s=this.gos.getCallback("processUnpinnedColumns");i.length&&(s&&(i=s({columns:i,viewportWidth:t})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const s=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(s<e)return[];const r=[...this.visibleColsService.getLeftCols()],a=[...this.visibleColsService.getRightCols()];let g=0,k=0;const se=[];let ne=s-0-e;for(;(k<r.length||g<a.length)&&ne>0;){if(g<a.length){const fe=a[g++];ne-=fe.getActualWidth(),se.push(fe)}if(k<r.length&&ne>0){const fe=r[k++];ne-=fe.getActualWidth(),se.push(fe)}}return se}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=td(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},KP=class extends ut{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){this.rangeService&&(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Br(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),Br(this.gos)&&this.enableFeature())}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},qP=class extends gi{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[nd]),this.eCheckbox=Lt}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=Hc(e,t),[s,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,r);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${a} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:s=>En(s),click:s=>{En(s);const r="filteredDescendants"===Ac(this.gos),a=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(a,r)?0===this.onClicked(!0,r,s||{})&&this.onClicked(!1,r,s):a?this.onClicked(!1,r,s):this.onClicked(!0,r,s||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),Mc(this.gos)||"function"==typeof this.getIsVisible()){const s=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:s}),this.addManagedListeners(this.rowNode,{dataChanged:s,cellChanged:s}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&Oi(this.gos)}showOrHideSelect(){let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if("function"==typeof t){const r=this.overrides?.callbackParams;if(this.column){const a=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...r,...a})}else e=t({...r,node:this.rowNode,data:this.rowNode.data})}else e=t??!1;const i=this.gos.get("rowSelection");if(i&&"string"!=typeof i?!function jE(e){return e?.hideDisabledCheckboxes??!1}(i):this.column?.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!e),this.setVisible(!0),void this.setDisplayed(!0);this.overrides?.removeHidden?this.setDisplayed(e):this.setVisible(e)}getIsVisible(){if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&"string"!=typeof e?Mn(e):this.column?.getColDef()?.checkboxSelection}},ZP=class extends gi{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(Js("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),t?t(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e})):(()=>{try{const s=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}})()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},QP=class extends ut{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,s=>this.cellComp.addOrRemoveCssClass(s,!0),s=>this.cellComp.addOrRemoveCssClass(s,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"==typeof e.cellStyle){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});t=(0,e.cellStyle)(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},JP=class extends ut{constructor(e,t,i,s,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=s,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case nt.ENTER:this.onEnterKeyDown(e);break;case nt.F2:this.onF2KeyDown(e);break;case nt.ESCAPE:this.onEscapeKeyDown(e);break;case nt.TAB:this.onTabKeyDown(e);break;case nt.BACKSPACE:case nt.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case nt.DOWN:case nt.UP:case nt.RIGHT:case nt.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:s,rowNode:r}=this,{gos:a,rangeService:g,eventService:k}=s;if(!i.isEditing()){if(k.dispatchEvent({type:"keyShortcutChangedCellStart"}),function b3(e,t=!1){return e===nt.DELETE||!t&&e===nt.BACKSPACE&&If()}(e,a.get("enableCellEditingOnBackspace"))){if(g&&Br(a))g.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const V=i.getColumn(),se=this.beans.valueService.getDeleteValue(V,r);r.setDataValue(V,se,"cellClear")}}else i.startRowOrCellEdit(e,t);k.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gos.get("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?nt.UP:nt.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(nt.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(nt.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const s=e.key;" "===s?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(s,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&vl(t)){const i=this.rowNode.isSelected(),s=!i,r="filteredDescendants"===Ac(t),a=this.rowNode.setSelectedParams({newValue:s,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});void 0===i&&0===a&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},eR=class extends ut{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!Jr(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:i,gos:s}=this.beans;i&&(e.ctrlKey||e.metaKey)&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const a=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(a);const g=this.column.getColDef();g.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{g.onCellClicked(a)})},0),(s.get("singleClickEdit")||g.singleClickEdit)&&!s.get("suppressClickEdit")&&(!e.shiftKey||0==i?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!yo()||Cf("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:s}=this,{eventService:r,frameworkOverrides:a,gos:g}=i,k=t.getColDef(),V=s.createEvent(e,"cellDoubleClicked");r.dispatchEvent(V),"function"==typeof k.onCellDoubleClicked&&window.setTimeout(()=>{a.wrapOutgoing(()=>{k.onCellDoubleClicked(V)})},0),!g.get("singleClickEdit")&&!g.get("suppressClickEdit")&&s.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:s}=e,r=e.target,{cellCtrl:a,beans:g}=this,{eventService:k,rangeService:V,focusService:se,gos:ne}=g;if(this.isRightClickInExistingRange(e))return;const fe=V&&0!=V.getCellRanges().length;if(!s||!fe){const ke=ne.get("enableCellTextSelection")&&e.defaultPrevented,Ae=(Gr()||ke)&&!a.isEditing()&&!ed(r);a.focusCell(Ae)}if(s&&fe&&!se.isCellFocused(a.getCellPosition())){e.preventDefault();const Ce=se.getFocusedCell();if(Ce){const{column:ke,rowIndex:Ae,rowPinned:Ee}=Ce,Ie=g.rowRenderer.getRowByPosition({rowIndex:Ae,rowPinned:Ee})?.getCellCtrl(ke);Ie?.isEditing()&&Ie.stopEditing(),se.setFocusedCell({column:ke,rowIndex:Ae,rowPinned:Ee,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(V){const Ce=this.cellCtrl.getCellPosition();s?V.extendLatestRangeToCell(Ce):V.setRangeToCell(Ce,t||i)}k.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),s=2===e.button||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s)return!0}return!1}containsWidget(e){return Pn(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}destroy(){super.destroy()}},tR=class extends ut{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Qr(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let i=this.column;const s=this.column.getPinned();for(let r=0;i&&r<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),i&&!ai(i)&&s===i.getPinned());r++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gos.get("enableRtl")&&this.colsSpanning?li(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.visibleColsService.getColsLeftWidth();return"right"===this.column.getPinned()?t+this.beans.visibleColsService.getBodyContainerWidth()+(e||0):t+(e||0)}applyRowSpan(e){if(1===this.rowSpan&&!e)return;const i=Vo(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Da="ag-cell-range-selected",bR=0,G0=class jd extends ut{constructor(t,i,s,r){super(),this.column=t,this.rowNode=i,this.beans=s,this.rowCtrl=r,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+bR++,this.colIdSanitised=Nr(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new tR(this,this.beans),this.cellCustomStyleFeature=new QP(this,this.beans),this.cellMouseListenerFeature=new eR(this,this.beans,this.column),this.cellKeyboardListenerFeature=new JP(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&Br(this.beans.gos)&&(this.cellRangeFeature=new class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Da,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Da}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Da}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Da}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Da}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Al(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),s=!t&&e.right,r=!t&&e.bottom,a=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!t&&e.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",s),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",a)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>Yo([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,s=!1,r=!1;const a=this.cellCtrl.getCellPosition().column,g=this.beans.visibleColsService;let k,V;e?(k=g.getColAfter(a),V=g.getColBefore(a)):(k=g.getColBefore(a),V=g.getColAfter(a));const se=this.rangeService.getCellRanges().filter(ne=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),ne));k||(r=!0),V||(i=!0);for(let ne=0;ne<se.length&&!(t&&i&&s&&r);ne++){const fe=se[ne],Ce=this.rangeService.getRangeStartRow(fe),ke=this.rangeService.getRangeEndRow(fe);!t&&this.beans.rowPositionUtils.sameRow(Ce,this.cellCtrl.getCellPosition())&&(t=!0),!s&&this.beans.rowPositionUtils.sameRow(ke,this.cellCtrl.getCellPosition())&&(s=!0),!r&&k&&fe.columns.indexOf(k)<0&&(r=!0),!i&&V&&fe.columns.indexOf(V)<0&&(i=!0)}return{top:t,right:i,bottom:s,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const s=li(t),r=this.cellCtrl.getCellPosition(),a=pf(e)&&!this.cellCtrl.isSuppressFillHandle(),g=function YE(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!=typeof t&&"range"===t.handle?.mode:e.get("enableRangeHandle")}(e);let k=1===i&&!this.cellCtrl.isEditing()&&(a||g);if(this.hasChartRange){const se=1===t[0].type&&this.rangeService.isCellInSpecificRange(r,t[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",se),k=0===s.type}return k&&null!=s.endRow&&this.rangeService.isContiguousRange(s)&&this.rangeService.isBottomRightCell(s,r)}addSelectionHandle(){const e=li(this.rangeService.getCellRanges()).type,i=pf(this.beans.gos)&&ai(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,i){const r="whenTruncated"===this.beans.gos.get("tooltipShowMode");!i&&r&&!this.isCellRenderer()&&(i=()=>{const g=this.getGui(),k=0===g.children.length?g:g.querySelector(".ag-cell-value");return!k||k.scrollWidth>k.clientWidth}),this.tooltipFeature=new Dn({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=t?()=>t:()=>{const g=this.column.getColDef(),k=this.rowNode.data;if(g.tooltipField&&kt(k))return va(k,g.tooltipField,this.column.isTooltipFieldContainsDots());const V=g.tooltipValueGetter;return V?V(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i},this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,i,s,r,a,g){this.cellComp=t,this.eGui=i,this.printLayout=r,g??(g=this),this.addDomData(g),this.addFeatures(),g.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(s,g),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(i),this.cellCustomStyleFeature?.setComp(t),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),a&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(k=>k()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,i){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const s=t.parentElement,r=mo(this.beans.gos,this.rowNode).height,a=V=>{if(this.editing||!this.isAlive()||!i.isAlive())return;const{paddingTop:se,paddingBottom:ne,borderBottomWidth:fe,borderTopWidth:Ce}=qo(s),Ee=t.offsetHeight+(se+ne+fe+Ce);if(V<5){const Ie=Yi(this.beans.gos);if(!Ie||!Ie.contains(t)||0==Ee)return void window.setTimeout(()=>a(V+1),0)}const Te=Math.max(Ee,r);this.rowNode.setRowAutoHeight(Te,this.column)},g=()=>a(0);g();const k=this.beans.resizeObserverService.observeResize(t,g);i.addDestroyFunc(()=>{k(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return null!=t.cellRenderer||null!=t.cellRendererSelector}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){const i=this.getValueToDisplay();let s;if(this.rowNode.stub&&null==this.rowNode.groupData?.[this.column.getId()]){const a=this.createCellRendererParams();s=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),a)}else if(this.isCellRenderer()){const a=this.createCellRendererParams();s=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),a)}this.cellComp.setRenderDetails(s,i,t),this.cellRangeFeature?.refreshHandle()}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return null==this.rowNode.rowPinned&&("function"==typeof t||!0===t)}isCheckboxSelection(t){const{rowSelection:i}=this.beans.gridOptions;return t.checkboxSelection||An(this.column)&&i&&"string"!=typeof i&&Mn(i)}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),s=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),r=this.includeDndSource!=this.isIncludeControl(t.dndSource),a=this.isAutoHeight!=this.column.isAutoHeight();return i||s||r||a}startEditing(t=null,i=!1,s=null){const{editService:r}=this.beans;return!(this.isCellEditable()&&!this.editing&&r)||(this.cellComp?r.startEditing(this,t,i,s):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,s)}),!0))}setEditing(t,i){this.editCompDetails=i,this.editing!==t&&(this.editing=t,this.cellRangeFeature?.refreshHandle())}stopRowOrCellEdit(t=!1){"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:i}=this.beans;return!(!this.editing||!i)&&i.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,s,r,a)=>this.registerRowDragger(i,s,a),setTooltip:(i,s)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,s),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(t)}refreshCell(t){if(this.suppressRefreshCell||this.editing)return;const i=this.column.getColDef(),s=null!=t&&!!t.newData,r=null!=t&&!!t.suppressFlash||!!i.suppressCellFlash,g=t&&t.forceRefresh||null==i.field&&null==i.valueGetter&&null==i.showRowGroup||s,k=!!this.cellComp,V=this.updateAndFormatValue(k);if(k){if(g||V){this.showValue(s);const ne=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!r&&!ne&&(this.beans.gos.get("enableCellChangeFlash")||i.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(t=!1,i=!1){this.beans.editService?.stopEditingAndFocus(this,t,i)}flashCell(t){this.animateCell("data-changed",t?.flashDuration??t?.flashDelay,t?.fadeDuration??t?.fadeDelay)}animateCell(t,i,s){if(!this.cellComp)return;const{gos:r}=this.beans;if(i||(i=r.get("cellFlashDuration")),0===i)return;kt(s)||(s=r.get("cellFadeDuration"));const a=`ag-cell-${t}`,g=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(g,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(a,!1),this.cellComp.addOrRemoveCssClass(g,!0),this.eGui.style.transition=`background-color ${s}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(g,!1),this.eGui.style.transition="")},s))},i)})}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const i=this.value,s=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),!t||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=s}valuesAreEqual(t,i){const s=this.column.getColDef();return s.equals?s.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const i=this.getGui();Uo(this.beans.gos,i,jd.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>Uo(this.beans.gos,i,jd.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return this.beans.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){this.cellKeyboardListenerFeature?.processCharacter(t)}onKeyDown(t){this.cellKeyboardListenerFeature?.onKeyDown(t)}onMouseEvent(t,i){this.cellMouseListenerFeature?.onMouseEvent(t,i)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:i,beans:s}=this;M0(t,i,s.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);Lf(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){return this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,i)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&fr(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(i&&t?.forceBrowserFocus&&(this.focusEventToRestore=t));if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&t&&t.forceBrowserFocus){let r=this.cellComp.getFocusableElement();if(this.editing){const a=this.beans.focusService.findFocusableElements(r,null,!0);a.length&&(r=a[0])}r.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const s="fullRow"===this.beans.gos.get("editType");!i&&!s&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:qr(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}onColDefChanged(){this.cellComp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),s=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(s),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(s)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new qP;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new ZP(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,s){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(t,i);const r=this.createRowDragComp(t,i,s);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(t,i,s){const r=this.beans.gos.get("pagination"),a=this.beans.gos.get("rowDragManaged"),g=Oi(this.beans.gos);if(a){if(!g)return void mt("managed row dragging is only allowed in the Client Side Row Model");if(r)return void mt("managed row dragging is not possible when doing pagination")}const k=new ld(()=>this.value,this.rowNode,this.column,t,i,s);return this.beans.context.createBean(k),k}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};G0.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var en=G0,SR=0,z0=class Vd extends ut{constructor(t,i,s,r,a){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gos=i.gos,this.rowNode=t,this.paginationPage=i.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=r,this.printLayout=a,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+SR++,this.rowId=Nr(t.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(s),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Nr(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,i){"left"===t?this.leftGui=i:"right"===t?this.rightGui=i:"fullWidth"===t?this.fullWidthGui=i:this.centerGui=i}setComp(t,i,s,r){const a={rowComp:t,element:i,containerType:s,compBean:r=ya(this,this.beans.context,r)};this.allRowGuis.push(a),this.updateGui(s,a),this.initialiseRowComp(a),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=i)}initialiseRowComp(t){const i=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),vl(i)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(a=>s.addOrRemoveCssClass(a,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&El(t.element,1==this.rowNode.expanded),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),Uo(i,t.element,Vd.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>Uo(i,t.element,Vd.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){null!=this.businessKeySanitised&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Nr(this.rowNode.id),null!=this.rowId&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(rf(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(rf(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if(Br(this.gos))return void mt("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");const i=this.beans.localeService.getLocaleTextFunc(),s=new ld(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),r=this.createBean(s,this.beans.context);this.rowDragComps.push(r),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(a=>a!==r),this.destroyBean(r,this.beans.context)})}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType);if("FullWidthDetail"==this.rowType&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const s=this.createFullWidthCompDetails(t.element,i);t.rowComp.showFullWidth(s)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(t=>t?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");t&&this.areAllContainersReady()&&t({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),i=!!this.centerGui,s=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&i&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return!!t&&t({rowNode:this.rowNode})}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),i=this.isNodeFullWidthCell(),s=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),g=!!this.rowNode.group&&!this.rowNode.footer&&yl(this.gos,r);this.rowType=t?"FullWidthLoading":s?"FullWidthDetail":i?"FullWidth":g?"FullWidthGroup":"Normal"}updateColumnLists(t=!1,i=!1){this.isFullWidth()||(t||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(i):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(t,i,s=null){const r={list:[],map:{}},a=(g,k)=>{r.list.push(k),r.map[g]=k};return i.forEach(g=>{const k=g.getInstanceId();let V=t.map[k];V||(V=new en(g,this.rowNode,this.beans,this)),a(k,V)}),t.list.forEach(g=>{const k=g.getColumn().getInstanceId();null==r.map[k]&&(this.isCellEligibleToBeRemoved(g,s)?g.destroy():a(k,g))}),r}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(i=>{const s=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(s,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,i=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const s=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);const r=i.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const a=i.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,a,"right")}}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const g=t.isEditing(),k=this.beans.focusService.isCellFocused(t.getCellPosition());if(g||k){const se=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(se)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||fs(this.gos,"print")}listenOnDomOrder(t){t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],()=>{t.rowComp.setDomOrder(this.getDomOrder())})}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=kt(this.rowNode.oldRowTop),s=this.beans.visibleColsService.isPinningLeft(),r=this.beans.visibleColsService.isPinningRight();if(i){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=s,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=s,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const t=(k,V)=>!k||k.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(k.element,V).params),i=t(this.fullWidthGui,null),s=t(this.centerGui,null),r=t(this.leftGui,"left"),a=t(this.rightGui,"right");return i&&s&&r&&a}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)}):this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))}})}onRowNodeDataChanged(t){this.isFullWidth()===!!this.isNodeFullWidthCell()?this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(s=>s.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(s=>{this.setRowCompRowId(s.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()):this.beans.rowRenderer.redrawRow(this.rowNode)}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const r=1===t;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",0===t),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass("ag-row-group",t),s.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),s.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),El(s.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:qr(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(i=>i.element.contains(t))}onKeyboardNavigate(t){const i=this.findFullWidthRowGui(t.target);if((i?i.element:null)!==t.target)return;const a=this.rowNode,g=this.beans.focusService.getFocusedCell(),k={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:g?.column??this.getColumnForFullWidth(i)};this.beans.navigationService.navigateToNextCell(t,t.key,k,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Jr(t))return;const i=this.allRowGuis.find(V=>V.element.contains(t.target)),s=i?i.element:null,r=s===t.target,a=Pi(this.gos);let g=!1;s&&a&&(g=s.contains(a)&&a.classList.contains("ag-cell"));let k=null;!r&&!g&&(k=this.beans.focusService.findNextFocusableElement(s,!1,t.shiftKey)),(this.isFullWidth()&&r||!k)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const t=this.allRowGuis.find(i=>kr(i.element))?.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const i=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(s=>{fr(s.element,"tabindex",i)})}onFullWidthRowFocused(t){const i=this.rowNode,s=!!t&&this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned,r=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;r&&(r.classList.toggle("ag-full-width-focus",s),s&&t?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,i){const s={list:[],map:{}};return t.list.forEach(r=>{r!==i&&(s.list.push(r),s.map[r.getColumn().getInstanceId()]=r)}),s}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}}createRowEvent(t,i){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(t,i){const s=this.createRowEvent(t,i);return s.source=this,s}onRowDblClick(t){Jr(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:i}=this.beans;switch(t?.containerType){case"center":return i.getCenterCols()[0];case"left":return i.getLeftCols()[0];case"right":return i.getRightCols()[0];default:return i.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Pn(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const s=this.findFullWidthRowGui(t.target),r=s?.element,a=t.target;let g=!0;r&&r.contains(a)&&ed(a)&&(g=!1),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:this.getColumnForFullWidth(s),rowPinned:i.rowPinned,forceBrowserFocus:g})}onRowClick(t){if(Jr(t)||this.lastMouseDownOnDragger)return;const{gos:s}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const r=t.ctrlKey||t.metaKey,a=t.shiftKey,g=this.rowNode.isSelected();if(Xo(s)&&this.rowNode.group||this.isRowSelectionBlocked()||!function $E(e){const t=gf(e);return!0===t||"enableSelection"===t}(s)&&!g||!kc(s)&&g)return;const V=function KE(e){const t=e.get("rowSelection");return"string"==typeof t?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}(s),se=kc(s),ne="rowClicked";g?V?this.rowNode.setSelectedParams({newValue:!1,event:t,source:ne}):r?se&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:ne}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a,event:t,source:ne}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!V&&!r,rangeSelect:a,event:t,source:ne})}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!vl(this.gos)}setupDetailRowAutoHeight(t){if("FullWidthDetail"!==this.rowType||!this.gos.get("detailRowAutoHeight"))return;const i=()=>{const r=t.clientHeight;null!=r&&r>0&&window.setTimeout(()=>{this.rowNode.setRowHeight(r),(Oi(this.gos)||Zr(this.gos))&&this.beans.rowModel.onRowHeightChanged()},0)},s=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(s),i()}createFullWidthCompDetails(t,i){const{gos:s,rowNode:r}=this,a=s.addGridCommonParams({fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(k,V,se,ne)=>this.addFullWidthRowDragging(k,V,se,ne),setTooltip:(k,V)=>this.refreshRowTooltip(k,V)}),g=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return g.getFullWidthDetailCellRendererDetails(a);case"FullWidthGroup":return g.getFullWidthGroupCellRendererDetails(a);case"FullWidthLoading":return g.getFullWidthLoadingCellRendererDetails(a);default:return g.getFullWidthCellRendererDetails(a)}}refreshRowTooltip(t,i){if(!this.fullWidthGui)return;const s={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Dn(s,this.beans))}addFullWidthRowDragging(t,i,s="",r){if(!this.isFullWidth())return;const a=new ld(()=>s,this.rowNode,void 0,t,i,r);this.createBean(a,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(a,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(i=>i.isEditing());this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,i=null,s=null){return!!this.editingRow||(this.beans.rowEditService?.startEditing(this,t,i,s)??!0)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,i){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,s=>s.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return"left"===t||"right"===t?t:null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),s={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(s)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&"function"==typeof t)return void mt("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const i=this.gos.getCallback("getRowStyle");let s;return i&&(s=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),s||t?Object.assign({},t,s):this.emptyStyle}onRowSelected(t){const i=!!this.rowNode.isSelected();this.forEachGui(t,s=>{s.rowComp.addOrRemoveCssClass("ag-row-selected",i),Al(s.element,i),s.element.contains(Pi(this.gos))&&(s===this.centerGui||s===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!kc(this.gos))return;const s=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(s,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:i,compBean:s}=t,{rowNode:r,beans:a,gos:g}=this;s.addManagedListeners(i,{mouseenter:()=>r.onMouseEnter(),mouseleave:()=>r.onMouseLeave()}),s.addManagedListeners(r,{mouseEnter:()=>{!a.dragService.isDragging()&&!g.get("suppressRowHoverHighlight")&&(i.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{i.classList.remove("ag-row-hover"),r.setHovered(!1)}})}roundRowTopToBounds(t){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),s=this.applyPaginationOffset(i.top,!0)-100,r=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(s,t),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){t?i(t):this.allRowGuis.forEach(i)}onRowHeightChanged(t){if(null==this.rowNode.rowHeight)return;const i=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),a=af(this.gos)?mo(this.gos,this.rowNode).height:void 0,g=a?Math.min(s,a)-2+"px":void 0;this.forEachGui(t,k=>{k.element.style.height=`${i}px`,g&&k.element.style.setProperty("--ag-line-height",g)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(t=!1){if(this.active=!1,!t&&Sn(this.gos)&&!this.isSticky())if(null!=this.rowNode.rowTop){const r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=i=>(i.list.forEach(s=>s.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const t=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?t:t+this.beans.pageBoundsService.getPixelOffset()*(i?1:-1)}setRowTop(t){if(!this.printLayout&&kt(t)){const i=this.applyPaginationOffset(t),a=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(a)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const i=this.rowNode;let s;if(this.isSticky())s=i.stickyRowTop;else{const r=this.slideInAnimation[t]?this.roundRowTopToBounds(i.oldRowTop):i.rowTop,a=this.applyPaginationOffset(r);s=i.isRowPinned()?a:this.beans.rowContainerHeightService.getRealPixelPosition(a)}return s+"px"}setRowTopStyle(t){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(t):i.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(s=>{s.getColumn()==t&&(i=s)}),null!=i||this.getAllCellCtrls().forEach(s=>{s.getColSpanningList().indexOf(t)>=0&&(i=s)}),i}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){const i=this.rowNode.getRowIndexString();if(null===i)return;const s=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2==0,a=s+this.rowNode.rowIndex+1;this.forEachGui(t,g=>{g.rowComp.setRowIndex(i),g.rowComp.addOrRemoveCssClass("ag-row-even",r),g.rowComp.addOrRemoveCssClass("ag-row-odd",!r),Ff(g.element,a)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};z0.DOM_DATA_KEY_ROW_CTRL="renderedRow";var tn=z0,kR=class extends ut{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Cf("touchstart")?"touchstart":"mousedown"].forEach(i=>{const s=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:s})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Jr(t))return;const i=this.getRowForEvent(t),s=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,i,s):(s&&s.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!yo())return;const e=new wo(this.element);this.addManagedListeners(e,{longTap:i=>{const s=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,s,r)}}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=ga(this.gos,t,tn.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,s){const r=i?i.getRowNode():null,a=s?s.getColumn():null;let g=null;a&&(s.dispatchCellContextMenuEvent((e||t)??null),g=this.valueService.getValue(a,r));const k=this.ctrlsService.getGridBodyCtrl(),V=s?s.getGui():k.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:r,column:a,value:g,anchorToElement:V})}getControlsForEventTarget(e){return{cellCtrl:Rc(this.gos,e,en.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Rc(this.gos,e,tn.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){const s=e.getRowNode(),r=e.getColumn(),a=e.isEditing();!dd(this.gos,i,s,r,a)&&"keydown"===t&&(!a&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),d0(i)&&e.processCharacter(i)),"keydown"===t&&this.eventService.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const s=e.getRowNode(),r=this.focusService.getFocusedCell();if(!dd(this.gos,i,s,r&&r.column,!1)&&"keydown"===t)switch(i.key){case nt.PAGE_HOME:case nt.PAGE_END:case nt.PAGE_UP:case nt.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case nt.UP:case nt.DOWN:e.onKeyboardNavigate(i);break;case nt.TAB:e.onTabKeyDown(i)}"keydown"===t&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=function w3(e){const{keyCode:t}=e;let i;switch(t){case 65:i=nt.A;break;case 67:i=nt.C;break;case 86:i=nt.V;break;case 68:i=nt.D;break;case 90:i=nt.Z;break;case 89:i=nt.Y;break;default:i=e.code}return i}(e);return i===nt.A?this.onCtrlAndA(e):i===nt.C?this.onCtrlAndC(e):i===nt.D?this.onCtrlAndD(e):i===nt.V?this.onCtrlAndV(e):i===nt.X?this.onCtrlAndX(e):i===nt.Y?this.onCtrlAndY():i===nt.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:i,rangeService:s}=this;if(s&&i.isRowsToRender()){const[r,a]=[t.isEmpty("top"),t.isEmpty("bottom")],g=r?null:"top";let k,V;a?(k=null,V=i.getRowCount()-1):(k="bottom",V=t.getPinnedBottomRowCount()-1);const se=this.visibleColsService.getAllCols();if(Ws(se))return;s.setCellRange({rowStartIndex:0,rowStartPinned:g,rowEndIndex:V,rowEndPinned:k,columnStart:se[0],columnEnd:li(se)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},MR=class extends ut{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth();Ri(this.element,e>0),Mr(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},ER=class extends ut{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth();Ri(this.element,e>0),Mr(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},jl=e=>e.getTopRowCtrls(),Vl=e=>e.getStickyTopRowCtrls(),Ul=e=>e.getStickyBottomRowCtrls(),Xl=e=>e.getBottomRowCtrls(),Yl=e=>e.getCentreRowCtrls(),AR={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Yl},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Yl},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Yl},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Yl},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:jl},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:jl},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:jl},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:jl},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Vl},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Vl},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Vl},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Vl},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Ul},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Ul},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Ul},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:Ul},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Xl},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Xl},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Xl},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Xl}};function On(e){return AR[e]}var DR=["center","left","right","fullWidth"],FR=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],LR=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],OR=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],_0=["stickyTopCenter","stickyTopLeft","stickyTopRight"],H0=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],IR=[..._0,"stickyTopFullWidth",...H0,"stickyBottomFullWidth"],BR=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",..._0,...H0],NR=class extends ut{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=On(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new $P(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new kR(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const s=()=>this.onPinnedWidthChanged();this.forContainers(LR,()=>{this.pinnedWidthFeature=this.createManagedBean(new MR(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(OR,()=>{this.pinnedWidthFeature=this.createManagedBean(new ER(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(DR,()=>this.createManagedBean(new N0(this.eContainer,"center"===this.name?i:void 0))),this.forContainers(BR,()=>this.createManagedBean(new KP(this.eContainer))),this.forContainers(FR,()=>this.createManagedBean(new wd(r=>this.comp.setContainerWidth(`${r}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(IR.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const t=()=>{const i=this.gos.get("ensureDomOrder"),s=fs(this.gos,"print");this.comp.setDomOrder(i||s)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Sa(this.eViewport)}getCenterViewportScrollLeft(){return Fl(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return Hf(this.eViewport)}getViewportScrollLeft(){return Fl(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||function JA(e){return e.clientWidth<e.scrollWidth}(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Ll(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const i=fs(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||i,a=t.filter(g=>{const k=g.isFullWidth();return this.options.fullWidth?!r&&k:r||!k});this.comp.setRowCtrls({rowCtrls:a,useFlushSync:e})}},W0="ag-force-vertical-scroll",_R=class extends ut{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,s,r,a,g){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=r,this.eStickyTop=a,this.eStickyBottom=g,this.eCenterColsViewport=i.querySelector(`.${On("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${On("fullWidth").container}`),this.eStickyTopFullWidthContainer=a.querySelector(`.${On("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=g.querySelector(`.${On("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",k=>this.setCellTextSelection(k.currentValue)),this.createManagedBean(new Ed(this.comp)),this.bodyScrollFeature=this.createManagedBean(new YP(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,r,a,g]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvancedFilterHeaderComp(s),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:s}=i,r=Pn(s,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:i=>{const{target:s,relatedTarget:r}=i,a=t.contains(r),g=Pn(r,"ag-root",t);Pn(s,"ag-root",t)||(!a||g)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const s=`calc(100% + ${(e&&this.scrollVisibleService.getScrollbarWidth()||0)+(Nf()?16:0)}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const s=i.relatedTarget;if(null===Jc(s))return void this.rowRenderer.stopEditing();let r=t.some(a=>a.contains(s))&&this.mouseEventService.isElementInThisGrid(s);if(!r){const a=this.popupService;r=a.getActivePopups().some(g=>g.contains(s))||a.isElementWithinCustomPopup(s)}r||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(i=>this.addManagedElementListeners(i,{focusout:e}))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===t?-1:e+t)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?W0:null,i=fs(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&function eT(e){return e.clientHeight<e.scrollHeight}(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const i=e&&Sn(this.gos)&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(i?"ag-row-animation":"ag-row-no-animation",i)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e;(s||Math.abs(t)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e,r=s||Math.abs(t)>Math.abs(i),a=e.target;r?(this.eStickyTopFullWidthContainer.contains(a)||this.eStickyBottomFullWidthContainer.contains(a))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:s}=e||t;(s===this.eBodyViewport||s===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!yo())return;const t=new wo(this.eBodyViewport);this.addManagedListeners(t,{longTap:s=>{e(void 0,s.touchStart,s.touchEvent)}}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new e3(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(e){const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),i=this.pinnedRowModel.getPinnedTopTotalHeight();let s=0;t>0&&(s+=t),i>0&&(s+=i),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0;this.comp.setStickyBottomBottom(`${e+i}px`)}sizeColumnsToFit(e,t){const s=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,a=Sa(this.eGridBody)-s;a>0?this.columnSizeService.sizeColumnsToFit(a,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):100===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):500===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):mt("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},HR=class extends gi{constructor(e,t,i,s,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=s,this.cellCtrl=t;const a=document.createElement("div");a.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(a);const g=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1),js(g,t.getCellAriaRole()),g.setAttribute("col-id",t.colIdSanitised),t.setComp({addOrRemoveCssClass:(V,se)=>this.addOrRemoveCssClass(V,se),setUserStyles:V=>Vf(g,V),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:V=>this.includeSelection=V,setIncludeRowDrag:V=>this.includeRowDrag=V,setIncludeDndSource:V=>this.includeDndSource=V,setRenderDetails:(V,se,ne)=>this.setRenderDetails(V,se,ne),setEditDetails:(V,se,ne)=>this.setEditDetails(V,se,ne),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()},this.getGui(),this.eCellWrapper,i,r,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!i&&!r&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,s=i&&null==this.eCellWrapper;if(s){const se=document.createElement("div");se.setAttribute("role","presentation"),se.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=se,this.getGui().appendChild(this.eCellWrapper)}const r=!i&&null!=this.eCellWrapper;r&&(Sr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const a=!e&&i,g=a&&null==this.eCellValue;if(g){const se=document.createElement("span");se.setAttribute("role","presentation"),se.setAttribute("class","ag-cell-value"),this.eCellValue=se,this.eCellWrapper.appendChild(this.eCellValue)}const k=!a&&null!=this.eCellValue;k&&(Sr(this.eCellValue),this.eCellValue=void 0);const V=s||r||g||k;return V&&this.removeControls(),e||t&&this.addControls(),V}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const s=this.editorVersion,r=e.newAgStackInstance();if(null==r)return;const{params:a}=e;r.then(k=>this.afterCellEditorCreated(s,k,a,t,i)),ai(this.cellEditor)&&a.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();Ms(t);const i=null!=e?Nr(e,!0):null;null!=i&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Sr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Sr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t}createCellRendererInstance(e){const i=!this.beans.gos.get("suppressAnimationFrame"),s=this.rendererVersion,{componentClass:r}=e,a=()=>{if(this.rendererVersion!==s||!this.isAlive())return;const k=e.newAgStackInstance(),V=this.afterCellRendererCreated.bind(this,s,r);k&&k.then(V)};i&&this.firstRender?this.beans.animationFrameService.createTask(a,this.rowNode.rowIndex,"createTasksP2"):a()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const r=this.getParentOfValue();Ms(r),r.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)}afterCellEditorCreated(e,t,i,s,r){if(e!==this.editorVersion)return void this.beans.context.destroyBean(t);if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing(!0);if(!t.getGui)return mt(`cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui();const k=s||void 0!==t.isPopup&&t.isPopup();k?this.addPopupCellEditor(i,r):this.addInCellEditor(),this.refreshEditStyles(!0,k),t.afterGuiAttached&&t.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.rowCtrl?.setInlineEditingCss()}addInCellEditor(){const e=this.getGui();e.contains(Pi(this.beans.gos))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){"fullRow"===this.beans.gos.get("editType")&&mt("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(e));const s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);const r=this.beans.popupService,a=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),g=t??i.getPopupPosition?.()??"over",k=this.beans.gos.get("enableRtl"),V={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:g,alignSide:k?"right":"left",keepWithinBounds:!0},se=r.positionPopupByComponent.bind(r,V),ne=this.beans.localeService.getLocaleTextFunc(),fe=r.addPopup({modal:a,eChild:s,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:se,ariaLabel:ne("ariaLabelCellEditor","Cell Editor")});fe&&(this.hideEditorPopup=fe.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui();e.contains(Pi(this.beans.gos))&&Qc()&&e.focus({preventScroll:!0}),Ms(this.getParentOfValue())}},WR=class extends gi{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),s.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(s);const r=this.getGui(),a=r.style;this.domOrder=this.rowCtrl.getDomOrder(),js(r,"row"),e.setComp({setDomOrder:k=>this.domOrder=k,setCellCtrls:k=>this.setCellCtrls(k),showFullWidth:k=>this.showFullWidth(k),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(k,V)=>this.addOrRemoveCssClass(k,V),setUserStyles:k=>Vf(r,k),setTop:k=>a.top=k,setTransform:k=>a.transform=k,setRowIndex:k=>r.setAttribute("row-index",k),setRowId:k=>r.setAttribute("row-id",k),setRowBusinessKey:k=>r.setAttribute("row-business-key",k),refreshFullWidth:k=>this.fullWidthCellRenderer?.refresh?.(k())??!1},this.getGui(),i,void 0),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const i=e.newAgStackInstance();i?.then(s=>{if(this.isAlive()){const r=s.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(s)}else this.beans.context.destroyBean(s)})}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(s=>{const r=s.instanceId;null==this.cellComps[r]?this.newCellComp(s):t[r]=null});const i=xo(t).filter(s=>null!=s);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(i=>{const s=this.cellComps[i.instanceId];s&&t.push(s.getGui())}),jf(this.getGui(),t)}newCellComp(e){const t=new HR(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.instanceId]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=xo(this.cellComps).filter(t=>null!=t);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&ni("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){e.forEach(t=>{if(!t)return;const i=t.getCtrl().instanceId;this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}},UR={selector:"AG-ROW-CONTAINER",component:class extends gi{constructor(){super(),this.eViewport=Lt,this.eContainer=Lt,this.rowComps={},this.name=gi.elementGettingCreated.getAttribute("name"),this.options=On(this.name),this.setTemplate(function jR(e){let t;return t="center"===e.type?`<div class="${e.viewport}" data-ref="eViewport" role="presentation">\n                <div class="${e.container}" data-ref="eContainer"></div>\n            </div>`:`<div class="${e.container}" data-ref="eContainer"></div>`,t}(this.options))}wireBeans(e){this.beans=e}postConstruct(){const e={setHorizontalScroll:i=>this.eViewport.scrollLeft=i,setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i,setOffsetTop:i=>this.eContainer.style.transform=`translateY(${i})`};this.createManagedBean(new NR(this.name)).setComp(e,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy()}setRowCtrls(e){const t={...this.rowComps};this.rowComps={},this.lastPlacedElement=null,e.forEach(s=>{const r=s.instanceId,a=t[r];if(a)this.rowComps[r]=a,delete t[r],this.ensureDomOrder(a.getGui());else{if(!s.getRowNode().displayed)return;const g=new WR(s,this.beans,this.options.type);this.rowComps[r]=g,this.appendRow(g.getGui())}}),xo(t).forEach(s=>{this.eContainer.removeChild(s.getGui()),s.destroy()}),js(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?function QA(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(Wf(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}}};function Fa(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}var XR=`<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root></ag-header-root>\n        <div class="ag-floating-top" data-ref="eTop" role="presentation">\n            ${Fa(["topLeft","topCenter","topRight","topFullWidth"])}\n        </div>\n        <div class="ag-body" data-ref="eBody" role="presentation">\n            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">\n            ${Fa(["left","center","right","fullWidth"])}\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">\n            ${Fa(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}\n        </div>\n        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">\n            ${Fa(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}\n        </div>\n        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">\n            ${Fa(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>`,$R={selector:"AG-GRID-BODY",component:class extends gi{constructor(){super(XR,[WP,VP,XP,zP,UR]),this.eBodyViewport=Lt,this.eStickyTop=Lt,this.eStickyBottom=Lt,this.eTop=Lt,this.eBottom=Lt,this.eBody=Lt}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.rangeService=e.rangeService}postConstruct(){const e=(i,s)=>{const r=`${i}px`;s.style.minHeight=r,s.style.height=r},t={setRowAnimationCssOnBodyViewport:(i,s)=>this.setRowAnimationCssOnBodyViewport(i,s),setColumnCount:i=>function HA(e,t){gr(e,"colcount",t)}(this.getGui(),i),setRowCount:i=>function _A(e,t){gr(e,"rowcount",t)}(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setStickyBottomHeight:i=>{this.eStickyBottom.style.height=i,this.eStickyBottom.classList.toggle("ag-hidden","0px"===i)},setStickyBottomBottom:i=>this.eStickyBottom.style.bottom=i,setStickyBottomWidth:i=>this.eStickyBottom.style.width=i,setColumnMovingCss:(i,s)=>this.addOrRemoveCssClass(i,s),updateLayoutClasses:(i,s)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(a=>{a.toggle("ag-layout-auto-height",s.autoHeight),a.toggle("ag-layout-normal",s.normal),a.toggle("ag-layout-print",s.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",s.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",s.normal),this.addOrRemoveCssClass("ag-layout-print",s.print)},setAlwaysVerticalScrollClass:(i,s)=>this.eBodyViewport.classList.toggle(W0,s),registerBodyViewportResizeListener:i=>{const s=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>s())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,s)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(i,s))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new _R),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&Br(this.gos)||Ec(this.gos))&&function zA(e,t){gr(e,"multiselectable",t)}(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}}},KR=class extends ut{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(null==this.scrollbarWidth){const e=this.gos.get("scrollbarWidth"),i="number"==typeof e&&e>=0?e:function KA(){return null==$c&&Bf(),$c}();null!=i&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},j0="__ag_grid_instance",V0=class rv extends ut{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=rv.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[j0]=this.gridInstanceId}getRenderedCellForEvent(t){return Rc(this.gos,t.target,en.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let i=t;for(;i;){const s=i[j0];if(kt(s))return s===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(t){const i=this.getRenderedCellForEvent(t);return i?i.getCellPosition():null}getNormalisedPosition(t){const i=fs(this.gos,"normal");let r,a;if(null!=t.clientX||null!=t.clientY?(r=t.clientX,a=t.clientY):(r=t.x,a=t.y),i){const g=this.ctrlsService.getGridBodyCtrl(),k=g.getScrollFeature().getVScrollPosition();r+=g.getScrollFeature().getHScrollPosition().left,a+=k.top}return{x:r,y:a}}};V0.gridInstanceSequence=new Rn;var qR=V0,ZR=class extends ut{constructor(){super(),this.beanName="navigationService",this.onPageDown=of(this.onPageDown,100),this.onPageUp=of(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,s=e.altKey,r=e.ctrlKey||e.metaKey,a=!!this.rangeService&&e.shiftKey,g=this.mouseEventService.getCellPositionForEvent(e);let k=!1;switch(i){case nt.PAGE_HOME:case nt.PAGE_END:!r&&!s&&(this.onHomeOrEndKey(i),k=!0);break;case nt.LEFT:case nt.RIGHT:case nt.UP:case nt.DOWN:if(!g)return!1;r&&!s&&!a&&(this.onCtrlUpDownLeftRight(i,g),k=!0);break;case nt.PAGE_DOWN:case nt.PAGE_UP:!r&&!s&&(k=this.handlePageUpDown(i,g,t))}return k&&e.preventDefault(),k}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),!!t&&(e===nt.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:s,focusIndex:r,focusColumn:a}=e;kt(s)&&!s.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(s),kt(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:r,rowPinned:null,column:a})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.getViewportHeight(),r=this.pageBoundsService.getPixelOffset(),g=this.rowModel.getRowIndexAtPixel(i.top+s+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,g):this.navigateToNextPage(e,g)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRowIndexAtPixel(i.top+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a,!0):this.navigateToNextPage(e,a,!0)}navigateToNextPage(e,t,i=!1){const s=this.getViewportHeight(),r=this.pageBoundsService.getFirstRow(),a=this.pageBoundsService.getLastRow(),g=this.pageBoundsService.getPixelOffset(),k=this.rowModel.getRow(e.rowIndex),V=i?k?.rowHeight-s-g:s-g;let fe,ne=this.rowModel.getRowIndexAtPixel(k?.rowTop+V+g);ne===e.rowIndex&&(t=ne=e.rowIndex+(i?-1:1)),i?(fe="bottom",ne<r&&(ne=r),t<r&&(t=r)):(fe="top",ne>a&&(ne=a),t>a&&(t=a)),this.isRowTallerThanView(ne)&&(t=ne,fe="top"),this.navigateTo({scrollIndex:t,scrollType:fe,scrollColumn:null,focusIndex:ne,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,s=this.getViewportHeight(),r=this.pageBoundsService.getLastRow();let a=0,g=e.rowIndex;for(;g>=0&&g<=r;){const k=this.rowModel.getRow(g);if(k){const V=k.rowHeight??0;if(a+V>s)break;a+=V}g+=i}return Math.max(0,Math.min(g,r))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let i=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(i-=t),i}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const i=t.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:s}=i,r=i.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:r,focusIndex:s,focusColumn:r})}onHomeOrEndKey(e){const t=e===nt.PAGE_HOME,i=this.visibleColsService.getAllCols(),s=t?i[0]:li(i),r=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s})}onTabKeyDown(e,t){const i=t.shiftKey,s=this.tabToNextCellCommon(e,i,t);if(!1===s)if(i){const{rowIndex:r,rowPinned:a}=e.getRowPosition();(a?0===r:r===this.pageBoundsService.getFirstRow())&&(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof en&&e.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&t.preventDefault();else s?t.preventDefault():null===s&&this.focusService.allowFocusForNextGridCoreContainer(i)}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let s=this.getCellByPosition(i);return!!(s||(s=this.rowRenderer.getRowByPosition(i),s&&s.isFullWidth()))&&!!this.tabToNextCellCommon(s,e,t)}tabToNextCellCommon(e,t,i){let r,s=e.isEditing();if(!s&&e instanceof en){const g=e.getRowCtrl();g&&(s=g.isEditing())}return r=s?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(e,t,i):this.moveToNextEditingCell(e,t,i):this.moveToNextCellNotEditing(e,t),null===r?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const s=e.getCellPosition();e.getGui().focus(),e.stopEditing();const r=this.findNextCellToFocusOn(s,t,!0);return!1===r?null:null!=r&&(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const s=e.getCellPosition(),r=this.findNextCellToFocusOn(s,t,!0);if(!1===r)return null;if(null==r)return!1;const a=r.getCellPosition(),g=this.isCellEditable(s),k=this.isCellEditable(a),V=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned;return g&&e.setFocusOutOnEditor(),V||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),k?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.visibleColsService.getAllCols();let s;s=e instanceof tn?{...e.getRowPosition(),column:t?i[0]:li(i)}:e.getCellPosition();const r=this.findNextCellToFocusOn(s,t,!1);if(!1===r)return null;if(r instanceof en)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return kt(r)}findNextCellToFocusOn(e,t,i){let s=e;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextTabbedCell(s,t);const r=this.gos.getCallback("tabToNextCell");if(kt(r)){const V=r({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:s||null});if(!0===V||null===V)null===V&&mt("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),s=e;else{if(!1===V)return!1;s={rowIndex:V.rowIndex,column:V.column,rowPinned:V.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const k=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:k+s.rowIndex,column:s.column},fromCell:!0}),null}const a="fullRow"===this.gos.get("editType");if(i&&!a&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const g=this.getCellByPosition(s);if(!g){const k=this.rowRenderer.getRowByPosition(s);if(!k||!k.isFullWidth()||i)continue;return k}if(!g.isSuppressNavigable())return this.rangeService?.setRangeToCell(s),g}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,s){let r=i,a=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?t===nt.LEFT&&(r=this.getLastCellOfColSpan(r)):t===nt.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(t,r),a=ai(r);if(a&&e&&e.key===nt.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),s){const k=this.gos.getCallback("navigateToNextCell");if(kt(k)){const se=k({key:t,previousCellPosition:i,nextCellPosition:r||null,event:e});r=kt(se)?{rowPinned:se.rowPinned,rowIndex:se.rowIndex,column:se.column}:null}}if(!r)return;if(r.rowIndex<0){const k=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:k+r.rowIndex,column:i.column},event:e||void 0,fromCell:!0})}const g=this.getNormalisedPosition(r);g?this.focusPosition(g):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const i=this.visibleColsService.getAllCols(),s=this.rowRenderer.getRowByPosition(e);if(!s||!s.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),a={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?li(i):i[0])};this.focusPosition(a);const g=t??(null!=r&&this.rowPositionUtils.before(a,r));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,fromBelow:g}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:li(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=Cl(this.gos),i=this.rowModel.getRow(e.rowIndex);!(t&&i?.sticky)&&ai(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},QR=class extends ut{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},JR=class extends ut{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,s=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:s})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let s=-1,r="left";const a=this.menuService.isLegacyMenuEnabled();!a&&this.gos.get("enableRtl")&&(s=1,r="right");const g=a?void 0:4*s,k=a?void 0:4;this.showPopup(e,V=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:V,nudgeX:g,nudgeY:k,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},i,t,a)}showPopup(e,t,i,s,r){const a=e?this.createBean(new n3(e,"COLUMN_MENU")):void 0;if(this.activeMenu=a,!a?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const g=document.createElement("div");let k;js(g,"presentation"),g.classList.add("ag-menu"),r||g.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(g,{keydown:Ae=>this.trapFocusWithin(Ae,g)}),g.appendChild(a?.getGui());const se=this.menuService.isColumnMenuAnchoringEnabled()?s??this.ctrlsService.getGridBodyCtrl().getGui():void 0,fe=this.localeService.getLocaleTextFunc(),Ce=r&&"columnFilter"!==i?fe("ariaLabelColumnMenu","Column Menu"):fe("ariaLabelColumnFilter","Column Filter"),ke=this.popupService.addPopup({modal:!0,eChild:g,closeOnEsc:!0,closedCallback:Ae=>{e.setMenuVisible(!1,"contextMenu");const Ee=Ae instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),Ee&&s&&kr(s)){const Te=this.focusService.findTabbableParent(s);Te&&Te.focus()}a?.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},positionCallback:()=>t(g),anchorToElement:se,ariaLabel:Ce});ke&&(this.hidePopup=k=ke.hideFunc),a.afterInit().then(()=>{t(g),a.afterGuiAttached({container:i,hidePopup:k})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==nt.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},eD=class extends ut{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const s=lf(this.gos).ResizeObserver,r=s?new s(t):null;return r?.observe(e),()=>r?.disconnect()}},tD=class extends ut{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){const i=this.paginationService?.getCurrentPage()??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&mt(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],s),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,s)=>i.index!==s.index?t*(s.index-i.index):s.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,s=this.createTasksP2,r=s.list,a=this.destroyTasks,g=(new Date).getTime();let k=(new Date).getTime()-g;const V=e<=0,se=this.ctrlsService.getGridBodyCtrl();for(;V||k<e;){if(!se.getScrollFeature().scrollGridIfNeeded()){let fe;if(i.length)this.sortTaskList(t),fe=i.pop().task;else if(r.length)this.sortTaskList(s),fe=r.pop().task;else{if(!a.length){this.cancelledTasks.clear();break}fe=a.pop()}this.cancelledTasks.has(fe)||fe()}k=(new Date).getTime()-g}i.length||r.length||a.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=lf(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask(()=>{t=!1,e()})):window.setTimeout(e,0)}}},sD=class extends ut{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=Oi(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,s){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,i,s),e.setExpanded(t,void 0,s))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},rD=class extends ut{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),s=this.getCellGui(i,t);if(!s)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const r=s.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){const{rowNode:t}=e,i=e.column;let{anchorToElement:s,value:r}=e;t&&i&&null==r&&(r=this.valueService.getValueForDisplay(i,t)),null==s&&(s=this.getContextMenuAnchorElement(t,i)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,i??null,r,s)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Co(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(yo()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!(!this.filterManager?.isFilterAllowed(e)||this.isLegacyMenuEnabled()||this.isFilterMenuInHeaderEnabled(e)||this.isFloatingFilterButtonDisplayed(e))}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(e){const t=e.getColDef(),i=t.floatingFilterComponentParams?.suppressFilterButton;return null!=i&&mt("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==t.suppressFloatingFilterButton?!i:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?!!this.gos.exists("suppressMenuHide")&&e:e}showColumnMenuCommon(e,t,i,s){const{positionBy:r}=t,a=t.column;if("button"===r){const{buttonElement:g}=t;e.showMenuAfterButtonClick(a,g,i,s)}else if("mouse"===r){const{mouseEvent:g}=t;e.showMenuAfterMouseEvent(a,g,i,s)}else a&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(a,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const g=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned())?.getHeaderCtrlForColumn(a);g&&e.showMenuAfterButtonClick(a,g.getAnchorElementForMenu(s),i,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(null!=t)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){return e&&t&&e.getCellCtrl(t)?.getGui()||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),s=this.getRowCtrl(e);return s?this.getCellGui(s,t)||(s.isFullWidth()?s.getFullWidthElement():i):i}},nD={selector:"AG-INPUT-TEXT-AREA",component:class extends Zo{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}},lD=class extends Fn{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Uo(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params;this.addManagedElementListeners(e,{keydown:s=>{dd(this.gos,s,t.node,t.column,!0)||t.onKeyDown(s)}})}},$l=class extends Fn{constructor(e){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${e.getTemplate()}\n            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Lt}init(e){this.params=e;const{cellStartedEdit:t,eventKey:i,suppressPreventDefault:s}=e,r=this.eInput;this.cellEditorInput.init(r,e);let a,g=!0;t?(this.focusAfterAttached=!0,i===nt.BACKSPACE||i===nt.DELETE?a="":i&&1===i.length?s?g=!1:a=i:(a=this.cellEditorInput.getStartValue(),i!==nt.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,a=this.cellEditorInput.getStartValue()),g&&null!=a&&r.setStartValue(a),this.addManagedElementListeners(r.getGui(),{keydown:k=>{const{key:V}=k;(V===nt.PAGE_UP||V===nt.PAGE_DOWN)&&k.preventDefault()}})}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Gr()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},U0=class extends $l{constructor(){super(new class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Gl]}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return kt(e)||kt(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=kt(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}})}},X0={selector:"AG-INPUT-DATE-FIELD",component:class extends Jo{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Gr();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Pi(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?mr(e??null,!1)??void 0:e;return this.min===t||(this.min=t,fr(this.eInput,"min",t)),this}setMax(e){const t=e instanceof Date?mr(e??null,!1)??void 0:e;return this.max===t||(this.max=t,fr(this.eInput,"max",t)),this}setStep(e){return this.step===e||(this.step=e,fr(this.eInput,"step",e)),this}getDate(){if(this.eInput.validity.valid)return Vs(this.getValue())??void 0}setDate(e,t){this.setValue(mr(e??null,!1),t)}}},La=class{constructor(e){this.cellValueChanges=e}},Td=class extends La{constructor(e,t,i,s){super(e),this.initialRange=t,this.finalRange=i,this.ranges=s}},Y0=class{constructor(e){this.actionStack=[],this.maxStackSize=e||10,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};function $0(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function K0(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}var sn={version:Yt,moduleName:"@ag-grid-community/edit-core",beans:[class extends ut{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,i=!1,s=null){const r=this.createCellEditorParams(e,t,i),a=e.getColumn().getColDef(),g=this.userComponentFactory.getCellEditorDetails(a,r),k=null!=g?.popupFromSelector?g.popupFromSelector:!!a.cellEditorPopup,V=null!=g?.popupPositionFromSelector?g.popupPositionFromSelector:a.cellEditorPopupPosition;return e.setEditing(!0,g),e.getComp().setEditDetails(g,k,V,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(s,"cellEditingStarted")),!g?.params?.suppressPreventDefault}stopEditing(e,t){const i=e.getComp(),{newValue:s,newValueExists:r}=this.takeValueFromCellEditor(t,i),a=e.getRowNode(),g=e.getColumn(),k=this.valueService.getValueForDisplay(g,a);let V=!1;return r&&(V=this.saveNewValue(e,k,s,a,g)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:k,newValue:s,valueChanged:V}),V}handleColDefChanged(e){const t=e.getCellEditor();if(t?.refresh){const{eventKey:i,cellStartedEdit:s}=e.getEditCompDetails().params,r=this.createCellEditorParams(e,i,s),a=e.getColumn().getColDef(),g=this.userComponentFactory.getCellEditorDetails(a,r);t.refresh(g.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),i=t.getCellEditor();i?.focusIn?i.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>t.getCellEditor()?.focusIn?.()))}stopEditingAndFocus(e,t=!1,i=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new lD(e)}takeValueFromCellEditor(e,t){const i={newValueExists:!1};if(e)return i;const s=t.getCellEditor();return!s||s.isCancelAfterEnd&&s.isCancelAfterEnd()?i:{newValue:s.getValue(),newValueExists:!0}}saveNewValue(e,t,i,s,r){if(i===t)return!1;e.setSuppressRefreshCell(!0);const a=s.setDataValue(r,i,"edit");return e.setSuppressRefreshCell(!1),a}createCellEditorParams(e,t,i){const s=e.getColumn(),r=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(s,r),eventKey:t,column:s,colDef:s.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:a=>this.valueService.parseValue(s,r,a,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){this.gos.get("enterNavigatesVerticallyAfterEdit")&&this.navigationService.navigateToNextCell(null,e?nt.UP:nt.DOWN,t,!1)}}]},OD={version:Yt,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:function kD(e){e.undoRedoService?.undo("api")},redoCellEditing:function MD(e){e.undoRedoService?.redo("api")},getCellEditorInstances:function ED(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(Aa)},getEditingCells:function AD(e){return e.rowRenderer.getEditingCells()},stopEditing:function TD(e,t=!1){e.rowRenderer.stopEditing(t)},startEditingCell:function PD(e,t){const i=e.columnModel.getCol(t.colKey);if(!i)return void mt(`no column found for ${t.colKey}`);const s={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};null==t.rowPinned&&K0(e,t.rowIndex),$0(e,t.colKey);const a=e.navigationService.getCellByPosition(s);if(!a)return;const{focusService:g,gos:k}=e,se=k.get("stopEditingWhenCellsLoseFocus")&&(()=>{const ne=Pi(k),fe=a.getGui();return ne!==fe&&fe.contains(ne)})();(se||!g.isCellFocused(s))&&g.setFocusedCell({...s,forceBrowserFocus:se,preventScrollOnBrowserFocus:!0}),a.startRowOrCellEdit(t.key)},getCurrentUndoSize:function RD(e){return e.undoRedoService?.getCurrentUndoStackSize()??0},getCurrentRedoSize:function DD(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}},dependantModules:[sn]},q0={version:Yt,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:U0}],dependantModules:[sn]},HD={version:Yt,moduleName:"@ag-grid-community/editing",dependantModules:[sn,{version:Yt,moduleName:"@ag-grid-community/undo-redo-edit",beans:[class extends ut{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),s=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||s||this.isPasting||this.isRangeInAction))return;const{rowPinned:a,rowIndex:g,column:k,oldValue:V,value:se}=e,ne={rowPinned:a,rowIndex:g,columnId:k.getColId(),newValue:se,oldValue:V};this.cellValueChanges.push(ne)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new Y0(e),this.redoStack=new Y0(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,i,s,r){if(!e)return!1;const a=e.pop();return!(!a||!a.cellValueChanges||(this.processAction(a,g=>g[s],r),a instanceof Td?this.processRange(this.rangeService,a.ranges||[a[i]]):this.processCell(a.cellValueChanges),t.push(a),0))}processAction(e,t,i){e.cellValueChanges.forEach(s=>{const{rowIndex:r,rowPinned:a,columnId:g}=s,V=this.rowPositionUtils.getRowNode({rowIndex:r,rowPinned:a});V.displayed&&V.setDataValue(g,t(s),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((s,r)=>{if(!s)return;const a=s.startRow,g=s.endRow;r===t.length-1&&(i={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(i)),e.addCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:g.rowIndex,rowEndPinned:g.rowPinned,columnStart:s.startColumn,columns:s.columns})})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:s}=t,a=this.rowPositionUtils.getRowNode({rowIndex:i,rowPinned:s});this.setLastFocusedCell({rowPinned:t.rowPinned,rowIndex:a.rowIndex,columnId:t.columnId},this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:s,rowPinned:r}=e,a=this.gridBodyCtrl.getScrollFeature(),g=this.columnModel.getCol(s);if(!g)return;a.ensureIndexVisible(i),a.ensureColumnVisible(g);const k={rowIndex:i,column:g,rowPinned:r};this.focusService.setFocusedCell({...k,forceBrowserFocus:!0}),t?.setRangeToCell(k)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new La(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new La(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new La(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Td(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;e=this.rangeService&&Br(this.gos)?new Td(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new La(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}}],dependantModules:[sn]},{version:Yt,moduleName:"@ag-grid-community/full-row-edit",beans:[class extends ut{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,i=null,s=null){let r=!0;return e.getAllCellCtrls().reduce((g,k)=>{const V=k===i;return V?r=k.startEditing(t,V,s):k.startEditing(null,V,s),!!g||k.isEditing()},!1)&&this.setEditing(e,!0),r}stopEditing(e,t=!1){const i=e.getAllCellCtrls(),s=e.isEditing();e.setStoppingRowEdit(!0);let r=!1;for(const a of i){const g=a.stopEditing(t);s&&!t&&!r&&g&&(r=!0)}r&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),s&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,s=>s.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=e.createRowEvent(t?"rowEditingStarted":"rowEditingStopped");this.eventService.dispatchEvent(i)}}],dependantModules:[sn]},{version:Yt,moduleName:"@ag-grid-community/all-editors",dependantModules:[q0,{version:Yt,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:U0},{name:"agNumberCellEditor",classImp:class extends $l{constructor(){super(new class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[S3]}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===nt.UP||e.key===nt.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!kt(e)&&!kt(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"==typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){Gr()&&this.eInput.getInputElement().focus({preventScroll:!0})}})}},params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:class extends $l{constructor(){super(new class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[X0]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return kt(e)||kt(this.params.value)?e??null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return mr(e,!1)}})}}},{name:"agDateStringCellEditor",classImp:class extends $l{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[X0]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return kt(e)||kt(this.params.value)?this.params.parseValue(e??""):this.params.value}getStartValue(){return mr(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Vs(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):mr(e??null,!1)??void 0}}(()=>this.dataTypeService))}}},{name:"agCheckboxCellEditor",classImp:class extends Fn{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[nd]),this.eCheckbox=Lt}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=Hc(t,e),s=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}}}],dependantModules:[q0]},{version:Yt,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:class extends Fn{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>',[p3]),this.eSelect=Lt,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:s}=this,{values:r,value:a,eventKey:g}=e;if(ai(r))return void mt("no values found for select cellEditor");this.startedByEnter=null!=g&&g===nt.ENTER;let k=!1;r.forEach(fe=>{const Ce={value:fe},ke=i.formatValue(e.column,null,fe);Ce.text=null!=ke?ke:fe,t.addOption(Ce),k=k||a===fe}),k?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:V,valueListMaxWidth:se,valueListMaxHeight:ne}=e;null!=V&&t.setPickerGap(V),null!=ne&&t.setPickerMaxHeight(ne),null!=se&&t.setPickerMaxWidth(se),"fullRow"!==s.get("editType")&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}}],dependantModules:[sn]},{version:Yt,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:class extends Fn{constructor(){super('<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',[nD]),this.eTextArea=Lt}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),kt(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===nt.LEFT||t===nt.UP||t===nt.RIGHT||t===nt.DOWN||e.shiftKey&&t===nt.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return kt(e)||kt(this.params.value)?this.params.parseValue(e):this.params.value}}}],dependantModules:[sn]}]},OD]},WD=class extends ut{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const s=this.rowRenderer.getAllCellsForColumn(e);return t||s.push(i),this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(a=>this.cloneItemIntoDummy(a,t)),i.appendChild(t);const s=t.offsetWidth;return i.removeChild(t),s+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const s=i.getHtmlElementForColumnHeader(e);null!=s&&(t=s)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const s=document.createElement("div"),r=s.classList;["ag-header-cell","ag-header-group-cell"].some(k=>i.classList.contains(k))?(r.add("ag-header","ag-header-row"),s.style.position="static"):r.add("ag-row");let g=e.parentElement;for(;g;){if(["ag-header-row","ag-row"].some(V=>g.classList.contains(V))){for(let V=0;V<g.classList.length;V++){const se=g.classList[V];"ag-row-position-absolute"!=se&&r.add(se)}break}g=g.parentElement}s.appendChild(i),t.appendChild(s)}},jD=class extends ut{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=Oi(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let i=e.childStore?.getStoreBounds();return e.footer&&(i=e.sibling.childStore?.getStoreBounds()),(i?.heightPx??0)+(i?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&0===e.rowIndex)return Number.MAX_SAFE_INTEGER;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let s=e.footer?e.sibling:e;for(;s.isExpandable()&&s.expanded;)if(s.master)s=s.detailNode;else if(s.childrenAfterSort){if(0===s.childrenAfterSort.length)break;s=li(s.childrenAfterSort)}return s.rowTop+s.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t="top"===e;let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const s=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,r=new Set,a=se=>{if(r.add(se),t){const ne=this.getLastPixelOfGroup(se),fe=s+i+se.rowHeight;se.stickyRowTop=ne<fe?i+(ne-fe):i}else{const ne=this.getFirstPixelOfGroup(se),fe=s-(i+se.rowHeight);se.stickyRowTop=ne>fe?i-(ne-fe):i}i=0,r.forEach(ne=>{const fe=ne.stickyRowTop+ne.rowHeight;i<fe&&(i=fe)})},g=this.areFooterRowsStickySuppressed(),k=this.gos.get("suppressGroupRowsSticky"),V=se=>!!se.displayed&&(se.footer?!(!0===g||"grand"===g&&-1===se.level||"group"===g&&se.level>-1)&&!("bottom"===e&&se.sibling.rowIndex&&se.sibling.rowIndex+1===se.rowIndex||r.has(se)):!!se.isExpandable()&&!0!==k&&"bottom"!==e&&!r.has(se)&&se.expanded);for(let se=0;se<100;se++){let ne=s+i;t||(ne=s-i);const fe=this.rowModel.getRowIndexAtPixel(ne),Ce=this.rowModel.getRow(fe);if(null==Ce)break;const Ae=this.getStickyAncestors(Ce).find(Te=>(t?Te.rowIndex<fe:Te.rowIndex>fe)&&V(Te));if(Ae)a(Ae);else{if(!(t?Ce.rowTop<ne:Ce.rowTop+Ce.rowHeight>ne)||!V(Ce))break;a(Ce)}}return t||r.forEach(se=>{se.stickyRowTop=i-(se.stickyRowTop+se.rowHeight)}),this.refreshNodesAndContainerHeight(e,r,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;const t=!!this.gos.get("groupIncludeFooter")||"group"===e,i=!!this.gos.get("groupIncludeTotalFooter")||"grand"===e;return!(!t||!i)||(i?"grand":!!t&&"group")}canRowsBeSticky(){const e=Cl(this.gos),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const s=this.stickyTopRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const s=this.stickyBottomRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(e,t,i){const s="top"===e,r=s?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,a={},g=[];for(let Ce=0;Ce<r.length;Ce++){const ke=r[Ce].getRowNode();t.has(ke)?g.push(r[Ce]):(a[ke.id]=r[Ce],ke.sticky=!1)}const k=new Set;for(let Ce=0;Ce<g.length;Ce++)k.add(g[Ce].getRowNode());const V=[];t.forEach(Ce=>{k.has(Ce)||(Ce.sticky=!0,V.push(this.createRowCon(Ce,!1,!1)))});let se=!!V.length||g.length!==r.length;s?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),se=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),se=!0),this.destroyRowCtrls(a,!1);const ne=[...g,...V];ne.sort((Ce,ke)=>ke.getRowNode().rowIndex-Ce.getRowNode().rowIndex),s||ne.reverse(),ne.forEach(Ce=>Ce.setRowTop(Ce.getRowNode().stickyRowTop));let fe=0;return s?(t.forEach(Ce=>{Ce.rowIndex<this.pageBoundsService.getFirstRow()&&(fe+=Ce.rowHeight)}),fe>this.topContainerHeight&&(fe=this.topContainerHeight),this.setOffsetTop(fe)):(t.forEach(Ce=>{Ce.rowIndex>this.pageBoundsService.getLastRow()&&(fe+=Ce.rowHeight)}),fe>this.bottomContainerHeight&&(fe=this.bottomContainerHeight),this.setOffsetBottom(fe)),!!se&&(s?this.stickyTopRowCtrls=ne:this.stickyBottomRowCtrls=ne,!0)}ensureRowHeightsValid(){let e=!1;const t=i=>{const s=i.getRowNode();if(s.rowHeightEstimated){const r=mo(this.gos,s);s.setRowHeight(r.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},VD=class extends ut{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(a=>a.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(a=>a.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},s=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Br(this.gos)?i():s()}),Br(this.gos)&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),Cl(this.gos)&&(Oi(this.gos)||Zr(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new jD(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=fs(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new UD(e??3)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=xo(this.rowCtrlsByRowIndex),t=xo(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=t.length>0||i.length>0?[...e,...t,...i]:e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const i=V=>{this.getAllCellCtrls().forEach(se=>{se.getColumn()===t&&V(se)})},s=()=>{i(V=>V.onLeftChanged())},r=()=>{i(V=>V.onWidthChanged())},a=()=>{i(V=>V.onFirstRightPinnedChanged())},g=()=>{i(V=>V.onLastLeftPinnedChanged())},k=()=>{i(V=>V.onColDefChanged())};t.addEventListener("leftChanged",s),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",a),t.addEventListener("lastLeftPinnedChanged",g),t.addEventListener("colDefChanged",k),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",s),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",a),t.removeEventListener("lastLeftPinnedChanged",g),t.removeEventListener("colDefChanged",k)})})}onDomLayoutChanged(){const e=fs(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const s=i.getCellElement(e);s&&t.push(s)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:s,printLayout:r}=this,a=Object.fromEntries(e.map(k=>[k.getRowNode().id,k]));i.forEachPinnedRow(t,(k,V)=>{const se=e[V];se&&void 0===i.getPinnedRowById(se.getRowNode().id,t)&&(se.destroyFirstPass(),se.destroySecondPass()),k.id in a?(e[V]=a[k.id],delete a[k.id]):e[V]=new tn(k,s,!1,!1,r)});const g="top"===t?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();e.length=g}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(this.cachedRowCtrls?.has(e))return void this.cachedRowCtrls.removeRow(e);{const i=s=>{const r=s[e.rowIndex];r&&r.getRowNode()===e&&(r.destroyFirstPass(),r.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(null!=e)return e?.forEach(i=>this.redrawRow(i,!0)),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const i=Pi(this.gos),s=ga(this.gos,i,en.DOM_DATA_KEY_CELL_CTRL),r=ga(this.gos,i,tn.DOM_DATA_KEY_ROW_CTRL);return s||r?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&Sn(this.gos),r=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}this.recycleRows(r,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let t=this.pageBoundsService.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){const r=t[s].getAllCellCtrls(),a=r.length;for(let g=0;g<a;g++)e.push(r[g])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const s in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[s]);return i}addRenderedRowListener(e,t,i){const s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&Qc()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e))i.isFullWidth()&&(i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0));this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){const t=this.getCellCtrls(e.rowNodes,e.columns).map(r=>r.getCellRenderer()).filter(r=>null!=r);if(e.columns?.length)return t;const i=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(r=>{if(s&&!this.isRowInMap(r.getRowNode(),s)||!r.isFullWidth())return;const a=r.getFullWidthCellRenderers();for(let g=0;g<a.length;g++){const k=a[g];null!=k&&i.push(k)}}),[...i,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const s=i.getCellEditor();s&&t.push(s)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const s=i.id;switch(i.rowPinned){case"top":t.top[s]=i;break;case"bottom":t.bottom[s]=i;break;default:t.normal[s]=i}}),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return null!=t.top[i];case"bottom":return null!=t.bottom[i];default:return null!=t.normal[i]}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return e&&t?i.filter(s=>{const r=s.getRowNode();return this.isRowInMap(r,t)}):i}getCellCtrls(e,t){let i;kt(t)&&(i={},t.forEach(r=>{const a=this.columnModel.getCol(r);kt(a)&&(i[a.getId()]=!0)}));const s=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(a=>{const g=a.getColumn().getId();i&&!i[g]||s.push(a)})}),s}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];dr(this.rowCtrlsByRowIndex,(i,s)=>{null==s.getRowNode().id&&e.push(i)}),this.removeRowCtrls(e);const t={};return dr(this.rowCtrlsByRowIndex,(i,s)=>{const r=s.getRowNode();t[r.id]=s}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const s=this.rowCtrlsByRowIndex[i];s&&(s.destroyFirstPass(t),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let i;this.stickyRowFeature&&Qc()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const s=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let a=!1;if(this.stickyRowFeature){a=this.stickyRowFeature.checkStickyRows();const k=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();k&&this.updateContainerHeights(k)}if((!t||a||this.firstRenderedRow!==s||this.lastRenderedRow!==r)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!a),null!=i)){const k=this.getCellToRestoreFocusToAfterRefresh();null!=i&&null==k&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(a=>i[a]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(a=>!i[a]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){const t=function E3(e,t){const i=[];for(let s=e;s<=t;s++)i.push(s);return i}(this.firstRenderedRow,this.lastRenderedRow),i=(r,a)=>{const g=a.getRowNode().rowIndex;null!=g&&(g<this.firstRenderedRow||g>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(a)&&t.push(g)};dr(this.rowCtrlsByRowIndex,i),dr(e,i),t.sort((r,a)=>r-a);const s=[];for(let r=0;r<t.length;r++){const a=t[r],g=this.rowModel.getRow(a);g&&!g.sticky&&s.push(a)}return s}recycleRows(e,t=!1,i=!1){const s=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(s,!t);const r=[];s.forEach(a=>{const g=this.createOrUpdateRowCtrl(a,e,t,i);kt(g)&&r.push(g)}),e&&(!i||this.gos.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,t):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const s=i.getRowNode();return!(null!=t&&!this.isRowInMap(s,t))})}createOrUpdateRowCtrl(e,t,i,s){let r,a=this.rowCtrlsByRowIndex[e];if(a||(r=this.rowModel.getRow(e),kt(r)&&kt(t)&&t[r.id]&&r.alreadyRendered&&(a=t[r.id],t[r.id]=null)),!a){if(r||(r=this.rowModel.getRow(e)),!kt(r))return;a=this.createRowCon(r,i,s)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=a,a}destroyRowCtrls(e,t){const i=[];dr(e,(s,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable())return void this.cachedRowCtrls.addRow(r);if(r.destroyFirstPass(!t),t){const a=r.instanceId;this.zombieRowCtrls[a]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[a]})}else r.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),function BE(e){!function NE(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}(e,400)}(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*Vo(this.gos)}workOutFirstAndLastRowsToRender(){let e,t;if(this.rowContainerHeightService.updateOffset(),this.rowModel.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const k=this.getRowBufferInPixels(),V=this.ctrlsService.getGridBodyCtrl(),se=this.gos.get("suppressRowVirtualisation");let fe,Ce,ne=!1;do{const Ie=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:Be,pageLastPixel:Le}=this.pageBoundsService.getCurrentPagePixelRange(),Ye=this.rowContainerHeightService.getDivStretchOffset(),Ze=V.getScrollFeature().getVScrollPosition(),tt=Ze.top,We=Ze.bottom;se?(fe=Be+Ye,Ce=Le+Ye):(fe=Math.max(tt+Ie-k,Be)+Ye,Ce=Math.min(We+Ie+k,Le)+Ye),this.firstVisibleVPixel=Math.max(tt+Ie,Be)+Ye,this.lastVisibleVPixel=Math.min(We+Ie,Le)+Ye,ne=this.ensureAllRowsInRangeHaveHeightsCalculated(fe,Ce)}while(ne);let ke=this.rowModel.getRowIndexAtPixel(fe),Ae=this.rowModel.getRowIndexAtPixel(Ce);const Ee=this.pageBoundsService.getFirstRow(),Te=this.pageBoundsService.getLastRow();ke<Ee&&(ke=Ee),Ae>Te&&(Ae=Te),e=ke,t=Ae}else e=0,t=-1;const i=fs(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!s&&t-e>r&&(t=e+r),(e!==this.firstRenderedRow||t!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.pinnedRowModel?.ensureRowHeightsValid(),s=this.stickyRowFeature?.ensureRowHeightsValid(),r=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(r||s)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),!!(s||r||i)&&(this.updateContainerHeights(),!0)}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const s=e.getRowNode(),r=this.focusService.isRowNodeFocused(s),a=e.isEditing();return!!(r||a||s.detail)&&!!this.isRowPresent(s)}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&(!this.paginationService||this.paginationService.isRowPresent(e))}createRowCon(e,t,i){const s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(s)return s;const r=this.gos.get("suppressAnimationFrame");return new tn(e,this.beans,t,i&&!r&&!this.printLayout,this.printLayout)}getRenderedNodes(){return Object.values(this.rowCtrlsByRowIndex).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null))}return t}isRangeInRenderedViewport(e,t){return null!=e&&null!=t&&!(t<this.firstRenderedRow||e>this.lastRenderedRow)}},UD=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],Fs(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],Fs(this.entriesList,e)}getEntries(){return this.entriesList}},XD=class extends ut{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new Z0,this.pinnedBottomRows=new Z0}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return("top"===e?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){let e=!1,t=0;const i=s=>{if(s.rowHeightEstimated){const r=mo(this.gos,s);s.setRowTop(t),s.setRowHeight(r.height),t+=r.height,e=!0}};return this.pinnedBottomRows?.forEach(i),t=0,this.pinnedTopRows?.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(void 0===e)return void i.clear();const s=kn(this.gos),r="top"===t?so.ID_PREFIX_TOP_PINNED:so.ID_PREFIX_BOTTOM_PINNED,a=i.getIds(),g=[],k=new Set;let V=0,se=-1;for(const ne of e){const fe=s?.({data:ne,level:0,rowPinned:t})??r+this.nextId++;if(k.has(fe)){mt("Duplicate ID",fe,"found for pinned row with data",ne,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}se++,k.add(fe),g.push(fe);const Ce=i.getById(fe);if(void 0!==Ce)Ce.data!==ne&&Ce.setData(ne),V+=this.setRowTopAndRowIndex(Ce,V,se),a.delete(fe);else{const ke=new so(this.beans);ke.id=fe,ke.data=ne,ke.rowPinned=t,V+=this.setRowTopAndRowIndex(ke,V,se),i.push(ke)}}a.forEach(ne=>{i.getById(ne)?.clearRowTopAndRowIndex()}),i.removeAllById(a),i.setOrder(g)}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(mo(this.gos,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return"top"===t?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return"top"===e?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(0===t)return 0;const i=e.getByIndex(t-1);return void 0===i?0:i.rowTop+i.rowHeight}},Z0=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){return this.cache[this.ordering[e]]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,i)=>{const s=this.cache[t];s&&e(s,i)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return 0===this.ordering.length}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},$D=class extends ut{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){this.dispatchLocalEvent({type:"loadComplete",success:e,block:this})}},qD={version:Yt,moduleName:"@ag-grid-community/row-node-block",beans:[class extends ut{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Ds(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Fs(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),0==this.activeBlockLoadsCount&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void(this.gos.get("debug")&&cr("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded"));const e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>"needsLoading"===i.getState()).slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(Zr(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:i,state:s}=t.getBlockStateJson();e[i]=s}),e}printCacheStatus(){this.gos.get("debug")&&cr(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}}]},QD=class extends ut{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,s){this.processClassRules(void 0,e.cellClassRules,t,i,s),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,s,r){if(null==t&&null==e)return;const a={},g={},k=(V,se)=>{V.split(" ").forEach(ne=>{""!=ne.trim()&&se(ne)})};if(t){const V=Object.keys(t);for(let se=0;se<V.length;se++){const ne=V[se],fe=t[ne];let Ce;"string"==typeof fe?Ce=this.expressionService.evaluate(fe,i):"function"==typeof fe&&(Ce=fe(i)),k(ne,ke=>{Ce?a[ke]=!0:g[ke]=!0})}}e&&r&&Object.keys(e).forEach(V=>k(V,se=>{a[se]||(g[se]=!0)})),r&&Object.keys(g).forEach(r),Object.keys(a).forEach(s)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let s;return s="function"==typeof i?i(t):i,"string"==typeof s&&(s=[s]),s||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(r=>{i(r)})}},tF=class extends ut{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:s,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:a,isFocusableContainer:g,focusInnerElement:k,onFocusIn:V,onFocusOut:se,shouldStopEventPropagation:ne,onTabKeyDown:fe,handleKeyDown:Ce,eFocusableElement:ke}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=k,this.eFocusableElement=ke,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!a,this.isFocusableContainer=!!g,this.providedFocusIn=V,this.providedFocusOut=se,this.providedShouldStopEventPropagation=ne,this.providedOnTabKeyDown=fe,this.providedHandleKeyDown=Ce}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new Qo(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty&&0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=Yi(this.gos),i=this.focusService.findFocusableElements(t.body,null,!0),s=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===s)return;let r,a;e?(r=0,a=s):(r=s+1,a=i.length);const g=i.slice(r,a),k=this.gos.get("tabIndex");g.sort((V,se)=>{const ne=parseInt(V.getAttribute("tabindex")||"0"),fe=parseInt(se.getAttribute("tabindex")||"0");return fe===k?1:ne===k?-1:0===ne?1:0===fe?-1:ne-fe}),g[e?g.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},iF=class extends ut{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:s}=this,r=[t,i],a={setTabIndex:Ee=>{r.forEach(Te=>null!=Ee?Te.setAttribute("tabindex",Ee):Te.removeAttribute("tabindex"))}};this.addTabGuards(t,i);const{focusTrapActive:g=!1,onFocusIn:k,onFocusOut:V,focusInnerElement:se,handleKeyDown:ne,onTabKeyDown:fe,shouldStopEventPropagation:Ce,forceFocusOutWhenTabGuardsAreEmpty:ke,isFocusableContainer:Ae}=e;this.tabGuardCtrl=this.createManagedBean(new tF({comp:a,focusTrapActive:g,eTopGuard:t,eBottomGuard:i,eFocusableElement:s,onFocusIn:k,onFocusOut:V,focusInnerElement:se,handleKeyDown:ne,onTabKeyDown:fe,shouldStopEventPropagation:Ce,forceFocusOutWhenTabGuardsAreEmpty:ke,isFocusableContainer:Ae}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Yi(this.gos).createElement("div");return t.classList.add("ag-tab-guard","top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom"),js(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Ms(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){sd(t)||(t=t.getGui());const{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",t):e(t,i)}},Q0=class extends gi{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new iF(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},sF=0,oF=class extends ut{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){return this.gos.get("popupParent")||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,s=this.getPopupIndex(i);-1!==s&&(this.popupList[s].alignedToElement=t);const r=t.getBoundingClientRect(),a=this.getParentRect(),g=this.keepXYWithinBounds(i,r.top-a.top,0),k=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${k}px`;const se=a.right-a.left-k;let ne;function fe(){return r.right-a.left-2}function Ce(){return r.left-a.left-k}this.gos.get("enableRtl")?(ne=Ce(),ne<0&&(ne=fe(),this.setAlignedStyles(i,"left")),ne>se&&(ne=0,this.setAlignedStyles(i,"right"))):(ne=fe(),ne>se&&(ne=Ce(),this.setAlignedStyles(i,"right")),ne<0&&(ne=0,this.setAlignedStyles(i,"left"))),i.style.left=`${ne}px`,i.style.top=`${g}px`}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:r,eventSource:a,alignSide:g="left",position:k="over",column:V,rowNode:se,type:ne}=e,fe=a.getBoundingClientRect(),Ce=this.getParentRect(),ke=this.getPopupIndex(t);-1!==ke&&(this.popupList[ke].alignedToElement=a),this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:r,updatePosition:()=>{let Te,Ee=fe.left-Ce.left;return"right"===g&&(Ee-=t.offsetWidth-fe.width),"over"===k?(Te=fe.top-Ce.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),Te="under"===this.shouldRenderUnderOrAbove(t,fe,Ce,e.nudgeY||0)?fe.top-Ce.top+fe.height:fe.top-t.offsetHeight-2*(s||0)-Ce.top),{x:Ee,y:Te}},postProcessCallback:()=>this.callPostProcessPopup(ne,t,a,null,V,se)})}shouldRenderUnderOrAbove(e,t,i,s){const r=i.bottom-t.bottom,a=t.top-i.top,g=e.offsetHeight+s;return r>g?"under":a>g||a>r?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const s=this.popupList[i],{alignedToElement:r}=s;!r||(["right","left","over","above","under"].forEach(g=>{r.classList.remove(`ag-has-popup-positioned-${g}`),e.classList.remove(`ag-popup-positioned-${g}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,s,r,a){const g=this.gos.getCallback("postProcessPopup");g&&g({column:r,rowNode:a,ePopup:t,type:e,eventSource:i,mouseEvent:s})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:s,nudgeY:r,skipObserver:a,updatePosition:g}=e,k={width:0,height:0},V=(se=!1)=>{let{x:ne,y:fe}=g();se&&t.clientWidth===k.width&&t.clientHeight===k.height||(k.width=t.clientWidth,k.height=t.clientHeight,s&&(ne+=s),r&&(fe+=r),i&&(ne=this.keepXYWithinBounds(t,ne,1),fe=this.keepXYWithinBounds(t,fe,0)),t.style.left=`${ne}px`,t.style.top=`${fe}px`,e.postProcessCallback&&e.postProcessCallback())};if(V(),!a){const se=this.resizeObserverService.observeResize(t,()=>V(!0));setTimeout(()=>se(),200)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=Yi(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),_f(t)}keepXYWithinBounds(e,t,i){const s=0===i,r=s?"clientHeight":"clientWidth",a=s?"top":"left",g=s?"height":"width",k=s?"scrollTop":"scrollLeft",V=Yi(this.gos),se=V.documentElement,ne=this.getPopupParent(),fe=e.getBoundingClientRect(),Ce=ne.getBoundingClientRect(),ke=V.documentElement.getBoundingClientRect(),Ae=ne===V.body,Ee=Math.ceil(fe[g]);let Ie=Ae?(s?zf:Rl)(se)+se[k]:ne[r];Ae&&(Ie-=Math.abs(ke[a]-Ce[a]));const Be=Ie-Ee;return Math.min(Math.max(t,0),Math.abs(Be))}addPopup(e){const t=Yi(this.gos),{eChild:i,ariaLabel:s,alwaysOnTop:r,positionCallback:a,anchorToElement:g}=e;if(!t)return mt("could not find the document, document is empty"),{hideFunc:()=>{}};const k=this.getPopupIndex(i);if(-1!==k)return{hideFunc:this.popupList[k].hideFunc};this.initialisePopupPosition(i);const V=this.createPopupWrapper(i,s,!!r),se=this.addEventListenersToPopup({...e,wrapperEl:V});return a&&a(),this.addPopupToPopupList(i,V,se,g),{hideFunc:se}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();kt(e.style.top)||(e.style.top=-1*i.top+"px"),kt(e.style.left)||(e.style.left=-1*i.left+"px")}createPopupWrapper(e,t,i){const s=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||js(e,"dialog"),Tn(e,t),r.appendChild(e),s.appendChild(r),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=Yi(this.gos),i=this.getPopupParent(),{wrapperEl:s,eChild:r,closedCallback:a,afterGuiAttached:g,closeOnEsc:k,modal:V}=e;let se=!1;const ne=Ae=>{s.contains(Pi(this.gos))&&Ae.key===nt.ESCAPE&&!Jr(Ae)&&ke({keyboardEvent:Ae})},fe=Ae=>ke({mouseEvent:Ae}),Ce=Ae=>ke({touchEvent:Ae}),ke=(Ae={})=>{const{mouseEvent:Ee,touchEvent:Te,keyboardEvent:Ie,forceHide:Be}=Ae;!Be&&(this.isEventFromCurrentPopup({mouseEvent:Ee,touchEvent:Te},r)||se)||(se=!0,i.removeChild(s),t.removeEventListener("keydown",ne),t.removeEventListener("mousedown",fe),t.removeEventListener("touchstart",Ce),t.removeEventListener("contextmenu",fe),this.eventService.removeEventListener("dragStarted",fe),a&&a(Ee||Te||Ie),this.removePopupFromPopupList(r))};return g&&g({hidePopup:ke}),window.setTimeout(()=>{k&&t.addEventListener("keydown",ne),V&&(t.addEventListener("mousedown",fe),this.eventService.addEventListener("dragStarted",fe),t.addEventListener("touchstart",Ce),t.addEventListener("contextmenu",fe))},0),ke}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:sF++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(a=>a&&a()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=r,s.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:r}=e,a=s.getBoundingClientRect(),g=fe=>parseInt(fe.substring(0,fe.length-1),10),k=(fe,Ce)=>{const ke=i[fe]-a[fe],Ae=g(r.style[fe]);return{initialDiff:ke,lastDiff:ke,initial:Ae,last:Ae,direction:Ce}},V=k("top",0),se=k("left",1),ne=this.getFrameworkOverrides();return new er(fe=>{ne.wrapIncoming(()=>{ne.setInterval(()=>{const Ce=t.getBoundingClientRect(),ke=s.getBoundingClientRect();if(0==ke.top&&0==ke.left&&0==ke.height&&0==ke.width)return void e.hidePopup();const Ee=(Te,Ie)=>{const Be=g(r.style[Ie]);Te.last!==Be&&(Te.initial=Be,Te.last=Be);const Le=Ce[Ie]-ke[Ie];if(Le!=Te.lastDiff){const Ye=this.keepXYWithinBounds(r,Te.initial+Te.initialDiff-Le,Te.direction);r.style[Ie]=`${Ye}px`,Te.last=Ye}Te.lastDiff=Le};Ee(V,"top"),Ee(se,"left")},200).then(Ce=>{fe(()=>{null!=Ce&&window.clearInterval(Ce)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:s}=e,r=i||s;if(!r)return!1;const a=this.getPopupIndex(t);if(-1===a)return!1;for(let g=a;g<this.popupList.length;g++)if(tA(this.popupList[g].element,r))return!0;return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=Yi(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),a=r.length,g=this.getWrapper(e);if(!g||s<=1||!t.contains(e))return!1;const k=i.indexOf(g),V=g.querySelectorAll("div"),se=[];V.forEach(fe=>{0!==fe.scrollTop&&se.push([fe,fe.scrollTop])});let ne=!1;for(a?g.classList.contains("ag-always-on-top")?k!==s-1&&(li(r).insertAdjacentElement("afterend",g),ne=!0):k!==s-a-1&&(r[0].insertAdjacentElement("beforebegin",g),ne=!0):k!==s-1&&(li(i).insertAdjacentElement("afterend",g),ne=!0);se.length;){const fe=se.pop();fe[0].scrollTop=fe[1]}return ne}},nF=["touchstart","touchend","touchmove","touchcancel"],J0=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new er(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,s){const r=Yo(nF,t);e.addEventListener(t,i,{capture:!!s,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},aF=class extends ut{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===nt.UP,r=e===nt.LEFT;let a,g;if(i||e===nt.DOWN)g=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),a=t.column;else{const k=this.visibleColsService.getAllCols(),V=this.gos.get("enableRtl");g=t.rowIndex,a=r!==V?k[0]:li(k)}return{rowIndex:g,rowPinned:null,column:a}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case nt.UP:i=this.getCellAbove(i);break;case nt.DOWN:i=this.getCellBelow(i);break;case nt.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case nt.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,mt("unknown key for navigation ",e)}s=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}return!!i&&!t.isSuppressNavigable(i)}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;let s=!1;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(s=!0);const r=this.rowModel.getRow(e.rowIndex);return(s?void 0:this.getNextStickyPosition(r))||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!Cl(this.gos)||!e||!e.sticky)return;let s=[];s=this.rowRenderer.getStickyTopRowCtrls().some(k=>k.getRowNode().rowIndex===e.rowIndex)?[...this.rowRenderer.getStickyTopRowCtrls()].sort((k,V)=>k.getRowNode().rowIndex-V.getRowNode().rowIndex):[...this.rowRenderer.getStickyBottomRowCtrls()].sort((k,V)=>V.getRowNode().rowIndex-k.getRowNode().rowIndex);const r=t?-1:1,a=s.findIndex(k=>k.getRowNode().rowIndex===e.rowIndex),g=s[a+r];return g?{rowIndex:g.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return"top"===t?this.pinnedRowModel.getPinnedTopRowCount()-1<=i:"bottom"===t?this.pinnedRowModel.getPinnedBottomRowCount()-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;let r=!1;if(i?0===t:t===this.pageBoundsService.getFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(r=!0);const a=this.rowModel.getRow(e.rowIndex);return(r?void 0:this.getNextStickyPosition(a,!0))||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.visibleColsService.getAllCols();let i=e.rowIndex,s=e.rowPinned,r=this.visibleColsService.getColAfter(e.column);if(!r){r=t[0];const a=this.getRowBelow(e);if(ai(a)||!a.rowPinned&&!(this.paginationService?.isRowInPage(a)??1))return null;i=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}getNextTabbedCellBackwards(e){const t=this.visibleColsService.getAllCols();let i=e.rowIndex,s=e.rowPinned,r=this.visibleColsService.getColBefore(e.column);if(!r){r=li(t);const a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(ai(a)||!a.rowPinned&&!(this.paginationService?.isRowInPage(a)??1))return null;i=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}},Is=(e,t)=>{for(const i in t)t[i]=e;return t},em={...Is("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Is("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Is("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Is("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Is("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Is("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Is("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Is("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Is("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Is("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Is("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Is("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Is("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Is("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Is("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},Pd={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},lF=(e,t)=>e.eventService.dispatchEvent(t),tm=class{};Reflect.defineProperty(tm,"name",{value:"GridApi"});var hF=class extends ut{constructor(){super(),this.beanName="apiFunctionService",this.api=new tm,this.fns={...Pd,dispatchEvent:lF},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in em)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:i,beans:s}=this;i!==Pd&&(i[e]=s?.validationService?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:s}}=this;return s?s(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:s}=this;if(t){const r=em[e];i.assertModuleRegistered(r,`api.${e}`)&&mt(`API function '${e}' not registered to module '${r}'`)}else mt(`Grid API function ${e}() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${s}`)}destroy(){super.destroy(),this.fns=Pd,this.beans=null}};function cF(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var dF=class extends ut{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){const s=[],r={};return e.forEach(a=>{let k=!0,V=this.createDefFromColumn(a,t,i),se=a.getOriginalParent(),ne=null;for(;se;){let fe=null;if(se.isPadding()){se=se.getOriginalParent();continue}const Ce=r[se.getGroupId()];if(Ce){Ce.children.push(V),k=!1;break}if(fe=this.createDefFromGroup(se),fe&&(fe.children=[V],r[fe.groupId]=fe,V=fe,se=se.getOriginalParent()),null!=se&&ne===se){k=!1;break}ne=se}k&&s.push(V)}),s}createDefFromGroup(e){const t=Ic(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const s=Ic(e.getColDef());return s.colId=e.getColId(),s.width=e.getActualWidth(),s.rowGroup=e.isRowGroupActive(),s.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,s.pivot=e.isPivotActive(),s.pivotIndex=e.isPivotActive()?i.indexOf(e):null,s.aggFunc=e.isValueActive()?e.getAggFunc():null,s.hide=!e.isVisible()||void 0,s.pinned=e.isPinned()?e.getPinned():null,s.sort=e.getSort()?e.getSort():null,s.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,s}},uF=class extends ut{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:1===e.length?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:1===e.length?e[0]:null,source:t})}genericColumnEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:1===t.length?t[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:i,toIndex:s,finished:r}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&1===t.length?t[0]:null,toIndex:s,finished:r,source:i})}columnPinned(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,s=this.getCommonValue(e,r=>r.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:s??null,columns:e,column:i,source:t})}columnVisible(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,s=this.getCommonValue(e,r=>r.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:s,columns:e,column:i,source:t})}getCommonValue(e,t){if(!e||0==e.length)return;const i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}columnChanged(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&1==t.length?t[0]:null,source:i})}columnResized(e,t,i,s=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:1===e.length?e[0]:null,flexColumns:s,finished:t,source:i})}},pF=class extends ut{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){if(ai(this.columnModel.getColDefCols())||!this.columnModel.isAlive())return[];const i=this.columnModel.getAllCols().map(s=>this.createStateItemFromColumn(s));return this.orderColumnStateList(i),i}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),s=e.isRowGroupActive()?t.indexOf(e):null,r=e.isPivotActive()?i.indexOf(e):null,a=e.isValueActive()?e.getAggFunc():null,g=null!=e.getSort()?e.getSort():null,k=null!=e.getSortIndex()?e.getSortIndex():null,V=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:g,sortIndex:k,aggFunc:a,rowGroup:e.isRowGroupActive(),rowGroupIndex:s,pivot:e.isPivotActive(),pivotIndex:r,flex:V}}orderColumnStateList(e){const t=this.columnModel.getCols(),i=new Map(t.map((s,r)=>[s.getColId(),r]));e.sort((s,r)=>(i.has(s.colId)?i.get(s.colId):-1)-(i.has(r.colId)?i.get(r.colId):-1))}},gF=class extends ut{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[];return to(null,this.columnModel.getColTree(),i=>{Ls(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const i=[];to(null,t,s=>{if(Ls(s)){const r=s.getColGroupDef(),a={groupId:s.getGroupId(),open:r?r.openByDefault:void 0};i.push(a)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const s=[];e.forEach(r=>{const g=r.open,k=this.columnModel.getProvidedColGroup(r.groupId);k&&k.isExpanded()!==g&&(k.setExpanded(g),s.push(k))}),this.visibleColsService.refresh(t,!0),s.length&&this.eventDispatcher.groupOpened(s),this.columnAnimationService.finish()}},fF=class extends ut{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const s=this.visibleColsService.isBodyWidthDirty();if(e!==this.scrollWidth||t!==this.scrollPosition||s){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const a=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=a-this.scrollPosition-this.scrollWidth,this.viewportRight=a-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t]}return i||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return!(!e.isAutoHeaderHeight()&&!this.isAnyParentAutoHeaderHeight(e))||this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,r=this.viewportRight+200;return!(t<s&&i<s||t>r&&i>r)}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),s=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,s,i,r=>{const a=r.getLeft();return kt(a)&&a>this.viewportLeft})}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach(a=>e[a.getId()]=!0);const r=(a,g,k)=>{let V=!1;for(let se=0;se<a.length;se++){const ne=a[se];let fe=!1;if(Co(ne))fe=!0===e[ne.getId()];else{const ke=ne.getDisplayedChildren();ke&&(fe=r(ke,g,k+1))}fe&&(V=!0,g[k]||(g[k]=[]),g[k].push(ne))}return V};r(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),r(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),r(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){this.extractViewportColumns();const t=this.getViewportColumns().map(s=>`${s.getId()}-${s.getPinned()||"normal"}`).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}},mF=class extends ut{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){return class t{refresh(){return!1}getGui(){return this.eGui}init(s){const r=e(s),a=typeof r;this.eGui="string"!==a&&"number"!==a&&"boolean"!==a?null!=r?r:ka("<span></span>"):ka("<span>"+r+"</span>")}}}doesImplementIComponent(e){return!!e&&e.prototype&&"getGui"in e.prototype}},vF=class extends ut{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},im=Object.fromEntries(["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"].map((e,t)=>[e,t]));function CF(e,t){return((e.beanName?im[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER)-((t.beanName?im[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER)}function yF(e,t){return"gridDestroyService"===e?.beanName?-1:0}var wF=class extends ut{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const i=this.registry[e];if(null!=i)return new i(...t)}},bF=class extends ut{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){this.runReadyCallbacksAsync=e.frameworkOverrides.runWhenReadyAsync?.()??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>e?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},SF=class extends ut{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:i,column:s}=e;return this.createIdFromValues({rowIndex:t,column:s,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:s}=e;return`${t}.${i??"null"}.${s.getId()}`}equals(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex}},kF=class extends ut{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){Oi(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(e);this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(s=>this.eventService.dispatchEvent(s)),this.events=[]};t?i():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},MF=class extends ut{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),s=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):s&&(t="top",e=s-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(kt(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}},sm={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},rm={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},om={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},EF=class extends ut{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(sm),this.getSizeEl(rm),this.getSizeEl(om)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(sm)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(rm)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(om)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){return this.gridTheme?.getCssClass()||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&!t.includes(i)&&e.classList.remove(i);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):""!=e?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(null!=t)return t;const i=this.measureSizeEl(e);return"detached"===i||"no-styles"===i?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(null==t.offsetParent)return"detached";const i=t.offsetWidth;return i===nm?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(i),this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${nm}px)`,i.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);"no-styles"===s&&mt(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const r=this.resizeObserverService.observeResize(t,()=>{const a=this.measureSizeEl(e);"detached"===a||"no-styles"===a||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const i=this.readAncestorThemeClasses();AF(i,this.ancestorThemeClasses)||(this.ancestorThemeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const i=Array.from(e.classList).filter(s=>s.startsWith("ag-theme-"));for(const s of i)t.includes(s)||t.unshift(s);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:i}=this,s=e.get("theme")||null;s!==i&&(i?.stopUse(),this.gridTheme=s,s?.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){this.gridTheme?.stopUse(),this.gridTheme=null}},AF=(e,t)=>e.length===t.length&&-1===e.findIndex((i,s)=>e[s]!==t[s]),nm=15538,TF=class extends ut{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new bn}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=xl(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},Rd=class Cr extends ut{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",Cr.toggleKeyboardMode),t.addEventListener("mousedown",Cr.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",Cr.toggleKeyboardMode),t.removeEventListener("mousedown",Cr.toggleKeyboardMode))}static toggleKeyboardMode(t){const s="keydown"===t.type;s&&(t.ctrlKey||t.metaKey||t.altKey)||Cr.keyboardModeActive!==s&&(Cr.keyboardModeActive=s)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,i=>{this.gridCtrl=i.gridCtrl})}registerKeyboardFocusEvents(){const t=Yi(this.gos);Cr.addKeyboardModeEvents(t),Cr.instanceCount++,this.addDestroyFunc(()=>{Cr.instanceCount--,Cr.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,i=this.columnModel.getCol(t.getId());t!==i&&this.clearFocusedCell()}isKeyboardMode(){return Cr.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Pi(this.gos),tn.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Pi(this.gos),zl.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,i){let s=t;for(;s;){if(ga(this.gos,s,i))return!1;s=s.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return!!this.isCellRestoreFocused(t)&&(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0)}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,i){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),i())})}isCellRestoreFocused(t){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:i,rowPinned:s,column:r}=t,a={rowIndex:i,rowPinned:s,column:r,isFullWidthCell:!1},g=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:s});return g&&(a.isFullWidthCell=g.isFullWidth()),a}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:i,rowIndex:s,rowPinned:r,forceBrowserFocus:a=!1,preventScrollOnBrowserFocus:g=!1}=t,k=this.columnModel.getCol(i);k?(this.focusedCellPosition={rowIndex:s,rowPinned:qr(r),column:k},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:a,preventScrollOnBrowserFocus:g})):this.focusedCellPosition=null}isCellFocused(t){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(null==this.focusedHeaderPosition)return!1;const i=t.getColumnGroupChild(),s=t.getRowIndex(),r=t.getPinned(),{column:a,headerRowIndex:g}=this.focusedHeaderPosition;return i===a&&s===g&&r==a.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,i){this.focusedHeaderPosition={headerRowIndex:t,column:i}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){if(this.isHeaderFocusSuppressed())return!1;const{direction:i,fromTab:s,allowUserOverride:r,event:a,fromCell:g,rowWithoutSpanValue:k}=t;let{headerPosition:V}=t;if(g&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(V);if(r){const se=this.getFocusedHeader(),ne=this.headerNavigationService.getHeaderRowCount();if(s){const fe=this.gos.getCallback("tabToNextHeader");fe&&(V=this.getHeaderPositionFromUserFunc({userFunc:fe,direction:i,currentPosition:se,headerPosition:V,headerRowCount:ne}))}else{const fe=this.gos.getCallback("navigateToNextHeader");fe&&a&&(V=fe({key:a.key,previousHeaderPosition:se,nextHeaderPosition:V,headerRowCount:ne,event:a}))}}return!!V&&this.focusProvidedHeaderPosition({headerPosition:V,direction:i,event:a,fromCell:g,rowWithoutSpanValue:k})}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:i,headerPosition:s,direction:r,event:a}=t,g=this.getFocusedHeader(),k=this.headerNavigationService.getHeaderRowCount(),V=this.getHeaderPositionFromUserFunc({userFunc:i,direction:r,currentPosition:g,headerPosition:s,headerRowCount:k});return!!V&&this.focusProvidedHeaderPosition({headerPosition:V,direction:r,event:a})}getHeaderPositionFromUserFunc(t){const{userFunc:i,direction:s,currentPosition:r,headerPosition:a,headerRowCount:g}=t,V=i({backwards:"Before"===s,previousHeaderPosition:r,nextHeaderPosition:a,headerRowCount:g});return!0===V||null===V?(null===V&&mt("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),r):!1===V?null:V}focusProvidedHeaderPosition(t){const{headerPosition:i,direction:s,fromCell:r,rowWithoutSpanValue:a,event:g}=t,{column:k,headerRowIndex:V}=i;if(-1===V)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(i):this.focusGridView(k);this.headerNavigationService.scrollToColumn(k,s);const ne=this.ctrlsService.getHeaderRowContainerCtrl(k.getPinned())?.focusHeader(i.headerRowIndex,k,g)||!1;return ne&&(null!=a||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(a??-1),ne}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const i=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const i=this.headerNavigationService.getHeaderRowCount()-1,s=li(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:s},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,i){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===qr(i)}findFocusableElements(t,i,s=!1){let a=Gf;i&&(a+=", "+i),s&&(a+=', [tabindex="-1"]');const g=Array.prototype.slice.apply(t.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter(se=>kr(se)),k=Array.prototype.slice.apply(t.querySelectorAll(a));return k.length?(ne=k,g.filter(fe=>-1===ne.indexOf(fe))):g;var ne}focusInto(t,i=!1,s=!1){const r=this.findFocusableElements(t,null,s),a=i?li(r):r[0];return!!a&&(a.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(t,i){if(!i)return null;const s=this.findFocusableElements(t),r=s.indexOf(i);if(-1===r)return null;let a=-1;for(let g=r-1;g>=0;g--)if(s[g].classList.contains("ag-tab-guard-top")){a=g;break}return a<=0?null:s[a-1]}findNextFocusableElement(t=this.eGridDiv,i,s){const r=this.findFocusableElements(t,i?':not([tabindex="-1"])':null),a=Pi(this.gos);let g;g=i?r.findIndex(V=>V.contains(a)):r.indexOf(a);const k=g+(s?-1:1);return k<0||k>=r.length?null:r[k]}isTargetUnderManagedComponent(t,i){if(!i)return!1;const s=t.querySelectorAll(`.${Qo.FOCUS_MANAGED_CLASS}`);if(!s.length)return!1;for(let r=0;r<s.length;r++)if(s[r].contains(i))return!0;return!1}findTabbableParent(t,i=5){let s=0;for(;t&&null===Jc(t)&&++s<=i;)t=t.parentElement;return null===Jc(t)?null:t}focusOverlay(t){const i=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!i&&this.focusInto(i,t)}focusGridViewFailed(t,i){return i&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,i=!1,s=!0){if(this.overlayService.isExclusive())return s&&this.focusOverlay(i);if(this.isCellFocusSuppressed())return i&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():!(!s||!this.focusOverlay(i))||this.focusNextGridCoreContainer(!1);const r=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(r){const{rowIndex:a,rowPinned:g}=r;if(t??(t=this.getFocusedHeader()?.column),t&&null!=a)return this.navigationService.ensureCellVisible({rowIndex:a,column:t,rowPinned:g}),i&&this.rowRenderer.getRowByPosition(r)?.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(r,i)||(this.setFocusedCell({rowIndex:a,column:t,rowPinned:qr(g),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:a,rowPinned:g,column:t})),!0}return!!(s&&this.focusOverlay(i)||i&&this.focusLastHeader())}isGridFocused(){const t=Pi(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,i=!1){return!(i||!this.gridCtrl.focusNextInnerContainer(t))||((i||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){return this.advancedFilterFocusColumn=t?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(t,i){const s=(i?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return t?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};Rd.keyboardModeActive=!1,Rd.instanceCount=0;var PF=Rd,RF=class extends ut{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=fs(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},DF=class extends ut{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:s,mouseEventService:r,ctrlsService:a,resizeObserverService:g}=this.beans,k={getContainer:()=>this.eGui,isInterestedIn:se=>1===se||0===se,getIconName:()=>"notAllowed"};s.addDropTarget(k),this.addDestroyFunc(()=>s.removeDropTarget(k)),r.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Ed(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const V=g.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>V()),a.register("gridCtrl",this)}isDetailGrid(){return this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:s}=this.getNextFocusableIndex(t,e);if(s<0||s>=t.length)return!1;if(0===s){if(i>0){const a=li(this.visibleColsService.getAllCols());if(this.focusService.focusGridView(a,!0))return!0}return!1}return this.focusContainer(t[s],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),s=this.visibleColsService.getAllCols();if(e){if(i.length>1)return this.focusContainer(li(i),!0);const r=li(s);if(this.focusService.focusGridView(r,!0))return!0}if(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(s[0]))return!0;for(let r=1;r<i.length;r++)if(this.focusService.focusInto(i[r].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:s}=this.getNextFocusableIndex(t,e);if(-1===s||i<0||i>=t.length)return;const r=t[i];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}getNextFocusableIndex(e,t){const i=Pi(this.gos),s=e.findIndex(a=>a.getGui().contains(i));return{indexWithFocus:s,nextIndex:s+(t?-1:1)}}focusContainer(e,t){e.setAllowFocus?.(!0);const i=this.focusService.focusInto(e.getGui(),t);return e.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},am=class extends Q0{constructor(e){super(),this.gridBody=Lt,this.sideBar=Lt,this.pagination=Lt,this.rootWrapperBody=Lt,this.eGridDiv=e}postConstruct(){const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:a=>this.addCssClass(a),setGridThemeClass:a=>this.addCssClass(a),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:a=>{this.getGui().style.userSelect=a??"",this.getGui().style.webkitUserSelect=a??""},setCursor:a=>{this.getGui().style.cursor=a??""}},t=this.createManagedBean(new DF),i=t.getOptionalSelectors(),s=this.createTemplate(i),r=[$R,...Object.values(i).filter(a=>!!a)];this.setTemplate(s,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:a=>t.focusInnerElement(a),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.gos.get("debug")&&cr("Grid removed from DOM")})}updateLayoutClasses(e,t){const i=this.rootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(e){return`<div class="ag-root-wrapper" role="presentation">\n                ${e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body data-ref="gridBody"></ag-grid-body>\n                    ${e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${e.statusBarSelector?"<ag-status-bar></ag-status-bar>":""}\n                ${e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':""}\n                ${e.watermarkSelector?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){e||!this.pagination?.isDisplayed()?super.forceFocusOutOfContainer(e):this.pagination.forceFocusOutOfContainer(e)}getFocusableContainers(){const e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>kr(t.getGui()))}},LF={version:Yt,moduleName:"@ag-grid-community/aligned-grid",beans:[class extends ut{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t="function"==typeof e;"function"==typeof e&&(e=e());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(r=>{if(!r)return ni("alignedGrids contains an undefined option."),t||ni('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void ni(i());if(this.isGridApi(r))return r;const a=r;return"current"in a?a.current?.api:(a.api||ni(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),a.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach(s=>{i.push(t(s))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":this.processColumnEvent(e);break;case"columnGroupOpened":this.processGroupOpenedEvent(e);break;case"columnPivotChanged":mt("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(i=>{let s=null;i&&(s=t.getProvidedColGroup(i.getGroupId())),(!i||s)&&t.setColumnGroupOpened(s,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;const s=this.getMasterColumns(e),{columnApplyStateService:r,columnSizeService:a,ctrlsService:g}=this;switch(e.type){case"columnMoved":{const ne=e.api.getColumnState().map(fe=>({colId:fe.colId}));r.applyColumnState({state:ne,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const ne=e.api.getColumnState().map(fe=>({colId:fe.colId,hide:fe.hide}));r.applyColumnState({state:ne},"alignedGridChanged")}break;case"columnPinned":{const ne=e.api.getColumnState().map(fe=>({colId:fe.colId,pinned:fe.pinned}));r.applyColumnState({state:ne},"alignedGridChanged")}break;case"columnResized":{const se=e,ne={};s.forEach(fe=>{ne[fe.getId()]={key:fe.getColId(),newWidth:fe.getActualWidth()}}),se.flexColumns?.forEach(fe=>{ne[fe.getId()]&&delete ne[fe.getId()]}),a.setColumnWidths(Object.values(ne),!1,se.finished,"alignedGridChanged");break}}const V=g.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(se=>{se.setGridOption("alwaysShowVerticalScroll",V)})}}]},kL={version:Yt,moduleName:"@ag-grid-community/data-type",beans:[class extends ut{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs($o(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=s=>r=>{const{column:a,node:g,value:k}=r;let V=a.getColDef().valueFormatter;return V===s.groupSafeValueFormatter&&(V=s.valueFormatter),this.valueService.formatValue(a,g,k,V)};Object.entries(e).forEach(([s,r])=>{const a={...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)};this.dataTypeDefinitions[s]=a,this.formatValueFuncs[s]=t(a)});const i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([s,r])=>{const a=this.processDataTypeDefinition(r,i,[s],e);a&&(this.dataTypeDefinitions[s]=a,r.dataTypeMatcher&&(this.dataTypeMatchers[s]=r.dataTypeMatcher),this.formatValueFuncs[s]=t(a))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(s=>{const r=this.dataTypeMatchers[s];r&&delete this.dataTypeMatchers[s],this.dataTypeMatchers[s]=r??e[s].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...Ml(e.columnTypes),...Ml(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,s){let r;const a=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let g=s[a];const k=t[a];if(g&&k&&(g=k),!this.validateDataTypeDefinition(e,g,a))return;r=this.mergeDataTypeDefinitions(g,e)}else{if(i.includes(a))return void mt('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const g=t[a];if(!this.validateDataTypeDefinition(e,g,a))return;const k=this.processDataTypeDefinition(g,t,[...i,a],s);if(!k)return;r=this.mergeDataTypeDefinitions(k,e)}return{...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)}}validateDataTypeDefinition(e,t,i){return t?t.baseDataType===e.baseDataType||(mt('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(mt(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{if(t.node?.group){const i=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(i){if("first"===i||"last"===i)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==i){if("number"==typeof t.value)return e.valueFormatter(t);if("object"==typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||"groupRows"===this.gos.get("groupDisplayType"))&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&"string"==typeof t.value&&!e.dataTypeMatcher?.(t.value))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:s}=t;const{field:r}=t;if(void 0===s&&(s=e.cellDataType),(null==s||!0===s)&&(s=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(r,i)),!s)return void(e.cellDataType=!1);const a=this.dataTypeDefinitions[s];if(a)return e.cellDataType=s,a.groupSafeValueFormatter&&(e.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(e.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,a,i),a.columnTypes;mt(`Missing data type definition - "${s}"`)}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=s=>{t.add(s.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){if(!Oi(this.gos))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const s=null===t.type?e.type:t.type;if(s){const r=this.gos.get("columnTypes")??{};if(Ml(s).some(g=>{const k=r[g.trim()];return k&&this.doColDefPropsPreventInference(k,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>this.doesColDefPropPreventInference(e,t,i,s))}doesColDefPropPreventInference(e,t,i,s){if(!t[i])return!1;const r=e[i];return null===r?(t[i]=!1,!1):void 0===s?!!r:r===s}inferCellDataType(e,t){if(!e)return;let i;const s=this.getInitialData();if(s){const a=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=va(s,e,a)}else this.initWaitForRowData(t);if(null==i)return;const[r]=Object.entries(this.dataTypeMatchers).find(([a,g])=>g(i))??["object"];return r}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:r}=s;r&&(i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const s={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([a,g])=>{const k=this.columnModel.getCol(a);if(!k)return;const V=k.getColDef();if(!this.columnModel.resetColDefIntoCol(k,"cellDataTypeInferred"))return;const se=k.getColDef();if(t&&se.type&&se.type!==V.type){const ne=this.getUpdatedColumnState(k,g);ne.rowGroup&&null==ne.rowGroupIndex&&(s[a]=ne),ne.pivot&&null==ne.pivotIndex&&(r[a]=ne),i.push(ne)}}),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(s,r)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(s=>{delete i[s],"rowGroup"===s?delete i.rowGroupIndex:"pivot"===s&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(null==t)return!0;const i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!i||i(t)}validateColDef(e){const t=i=>mt(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,s){const r=this.formatValueFuncs[t];switch(i.baseDataType){case"number":e.cellEditor="agNumberCellEditor";break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=a=>!!a.colDef.editable&&a.event.key===nt.SPACE;break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=r;break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(a,g)=>{const k=this.columnModel.getColDefCol(s),V=k?.getColDef();if(!k||!V)return 0;const se=null==a?"":r({column:k,node:null,value:a}),ne=null==g?"":r({column:k,node:null,value:g});return se===ne?0:se>ne?1:-1},e.keyCreator=r}this.filterManager?.setColDefPropertiesForDataType(e,i,r)}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>""===i.newValue?.trim?.()?null:Number(i.newValue),valueFormatter:i=>null==i.value?"":"number"!=typeof i.value||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>"number"==typeof i},text:{baseDataType:"text",valueParser:i=>""===i.newValue?null:Cc(i.newValue),dataTypeMatcher:i=>"string"==typeof i},boolean:{baseDataType:"boolean",valueParser:i=>null==i.newValue?i.newValue:""===i.newValue?.trim?.()?null:"true"===String(i.newValue).toLowerCase(),valueFormatter:i=>null==i.value?"":String(i.value),dataTypeMatcher:i=>"boolean"==typeof i},date:{baseDataType:"date",valueParser:i=>Vs(null==i.newValue?null:String(i.newValue)),valueFormatter:i=>null==i.value?"":i.value instanceof Date&&!isNaN(i.value.getTime())?mr(i.value,!1)??"":t("invalidDate","Invalid Date"),dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>Vs(i)??void 0,dateFormatter:i=>mr(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>"string"==typeof i&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>Cc(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}]};function lm(e,t){const{colKey:i,rowNode:s,useFormatter:r}=t,a=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(ai(a))return null;const g=e.valueService.getValueForDisplay(a,s);return r?e.valueService.formatValue(a,s,g)??Nr(g,!0):g}function hm(e,t){e.gos.updateGridOptions({options:t})}function cm(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function dm(e){return e.rowRenderer.getLastVirtualRenderedRow()}var UO={version:Yt,moduleName:"@ag-grid-community/api",dependantModules:[{version:Yt,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:function qL(e){return e.context.getGridId()},destroy:function ZL(e){e.gridDestroyService.destroy()},isDestroyed:function QL(e){return e.gridDestroyService.isDestroyCalled()},getGridOption:function JL(e,t){return e.gos.get(t)},setGridOption:function eO(e,t,i){hm(e,{[t]:i})},updateGridOptions:hm}},{version:Yt,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:function RL(e){return e.pinnedRowModel.getPinnedTopRowCount()},getPinnedBottomRowCount:function DL(e){return e.pinnedRowModel.getPinnedBottomRowCount()},getPinnedTopRow:function FL(e,t){return e.pinnedRowModel.getPinnedTopRow(t)},getPinnedBottomRow:function LL(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}}},{version:Yt,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:function EO(e,t){if(!t.nodes.every(k=>k.rowPinned?(mt("cannot select pinned rows"),!1):void 0!==k.id||(mt("cannot select node until id for node is known"),!1)))return;const{nodes:s,source:r,newValue:a}=t;e.selectionService.setNodesSelected({nodes:s,source:r??"api",newValue:a})},selectAll:function AO(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})},deselectAll:function TO(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})},selectAllFiltered:function PO(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},deselectAllFiltered:function RO(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},selectAllOnCurrentPage:function DO(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},deselectAllOnCurrentPage:function FO(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},getSelectedNodes:function LO(e){return e.selectionService.getSelectedNodes()},getSelectedRows:function OO(e){return e.selectionService.getSelectedRows()}}},{version:Yt,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:function OF(e,t){const i=e.columnModel.getColDefCol(t);return i?i.getColDef():null},getColumnDefs:function IF(e){return e.columnModel.getColumnDefs()},sizeColumnsToFit:function BF(e,t){"number"==typeof t?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)},setColumnGroupOpened:function NF(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")},getColumnGroup:function GF(e,t,i){return e.visibleColsService.getColumnGroup(t,i)},getProvidedColumnGroup:function zF(e,t){return e.columnModel.getProvidedColGroup(t)},getDisplayNameForColumn:function _F(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""},getDisplayNameForColumnGroup:function HF(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""},getColumn:function WF(e,t){return e.columnModel.getColDefCol(t)},getColumns:function jF(e){return e.columnModel.getColDefCols()},applyColumnState:function VF(e,t){return e.columnApplyStateService.applyColumnState(t,"api")},getColumnState:function UF(e){return e.columnGetStateService.getColumnState()},resetColumnState:function XF(e){e.columnApplyStateService.resetColumnState("api")},getColumnGroupState:function YF(e){return e.columnGroupStateService.getColumnGroupState()},setColumnGroupState:function $F(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")},resetColumnGroupState:function KF(e){e.columnGroupStateService.resetColumnGroupState("api")},isPinning:function qF(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()},isPinningLeft:function ZF(e){return e.visibleColsService.isPinningLeft()},isPinningRight:function QF(e){return e.visibleColsService.isPinningRight()},getDisplayedColAfter:function JF(e,t){return e.visibleColsService.getColAfter(t)},getDisplayedColBefore:function eL(e,t){return e.visibleColsService.getColBefore(t)},setColumnVisible:function tL(e,t,i){e.columnModel.setColsVisible([t],i,"api")},setColumnsVisible:function iL(e,t,i){e.columnModel.setColsVisible(t,i,"api")},setColumnPinned:function sL(e,t,i){e.columnModel.setColsPinned([t],i,"api")},setColumnsPinned:function rL(e,t,i){e.columnModel.setColsPinned(t,i,"api")},getAllGridColumns:function oL(e){return e.columnModel.getCols()},getDisplayedLeftColumns:function nL(e){return e.visibleColsService.getLeftCols()},getDisplayedCenterColumns:function aL(e){return e.visibleColsService.getCenterCols()},getDisplayedRightColumns:function lL(e){return e.visibleColsService.getRightCols()},getAllDisplayedColumns:function hL(e){return e.visibleColsService.getAllCols()},getAllDisplayedVirtualColumns:function cL(e){return e.columnViewportService.getViewportColumns()},moveColumn:function dL(e,t,i){e.columnMoveService.moveColumns([t],i,"api")},moveColumnByIndex:function uL(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")},moveColumns:function pL(e,t,i){e.columnMoveService.moveColumns(t,i,"api")},setColumnWidth:function gL(e,t,i,s=!0,r="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,s,r)},setColumnWidths:function fL(e,t,i=!0,s="api"){e.columnSizeService.setColumnWidths(t,!1,i,s)},getLeftDisplayedColumnGroups:function mL(e){return e.visibleColsService.getTreeLeft()},getCenterDisplayedColumnGroups:function vL(e){return e.visibleColsService.getTreeCenter()},getRightDisplayedColumnGroups:function xL(e){return e.visibleColsService.getTreeRight()},getAllDisplayedColumnGroups:function CL(e){return e.visibleColsService.getAllTrees()},autoSizeColumn:function yL(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})},autoSizeColumns:function wL(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})},autoSizeAllColumns:function bL(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}}},{version:Yt,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:function fO(e,t={}){const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))},setRowNodeExpanded:function mO(e,t,i,s,r){e.expansionService.setRowNodeExpanded(t,i,s,r)},getRowNode:function vO(e,t){return e.rowModel.getRowNode(t)},addRenderedRowListener:function xO(e,t,i,s){e.rowRenderer.addRenderedRowListener(t,i,s)},getRenderedNodes:function CO(e){return e.rowRenderer.getRenderedNodes()},forEachNode:function yO(e,t,i){e.rowModel.forEachNode(t,i)},getFirstDisplayedRow:function wO(e){return cm(e)},getFirstDisplayedRowIndex:cm,getLastDisplayedRow:function bO(e){return dm(e)},getLastDisplayedRowIndex:dm,getDisplayedRowAtIndex:function SO(e,t){return e.rowModel.getRow(t)},getDisplayedRowCount:function kO(e){return e.rowModel.getRowCount()},getModel:function MO(e){return e.rowModel}}},{version:Yt,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:function EL(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)},removeRowDropZone:function AL(e,t){const i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)},getRowDropZoneParams:function TL(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}}},{version:Yt,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:function wD(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function bD(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()},ensureColumnVisible:$0,ensureIndexVisible:K0,ensureNodeVisible:function SD(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}}},{version:Yt,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:function IL(e){e.overlayService.showLoadingOverlay()},showNoRowsOverlay:function BL(e){e.overlayService.showNoRowsOverlay()},hideOverlay:function NL(e){e.overlayService.hideOverlay()}}},{version:Yt,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:function oO(e){return e.focusService.getFocusedCell()},clearFocusedCell:function nO(e){return e.focusService.clearFocusedCell()},setFocusedCell:function aO(e,t,i,s){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:s,forceBrowserFocus:!0})},setFocusedHeader:function cO(e,t,i=!1){const s=e.headerNavigationService.getHeaderPositionForColumn(t,i);s&&e.focusService.focusHeaderPosition({headerPosition:s})},tabToNextCell:function lO(e,t){return e.navigationService.tabToNextCell(!1,t)},tabToPreviousCell:function hO(e,t){return e.navigationService.tabToNextCell(!0,t)}}},{version:Yt,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:function tO(e,t,i){e.apiEventService.addEventListener(t,i)},addGlobalListener:function sO(e,t){e.apiEventService.addGlobalListener(t)},removeEventListener:function iO(e,t,i){e.apiEventService.removeEventListener(t,i)},removeGlobalListener:function rO(e,t){e.apiEventService.removeGlobalListener(t)}}},{version:Yt,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:function zL(e,t,i){if(!t)return;const s=e.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${t}`;null===i?s.removeAttribute(r):s.setAttribute(r,i)},refreshCells:function _L(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))},flashCells:function HL(e,t={}){const i=s=>mt(`Since v31.1 api.flashCells parameter '${s}Delay' is deprecated. Please use '${s}Duration' instead.`);kt(t.fadeDelay)&&i("fade"),kt(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))},refreshHeader:function WL(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))},isAnimationFrameQueueEmpty:function jL(e){return e.animationFrameService.isQueueEmpty()},flushAllAnimationFrames:function VL(e){e.animationFrameService.flushAllFrames()},getSizesForCurrentTheme:function UL(e){return{rowHeight:Vo(e.gos),headerHeight:e.columnModel.getHeaderHeight()}},getCellRendererInstances:function XL(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(Aa)}}},{version:Yt,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:function $L(e){e.valueCache.expire()},getValue:function KL(e,t,i){return lm(e,{colKey:t,rowNode:i})},getCellValue:lm}},{version:Yt,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:function dO(e,t,i){const s=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:s,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:function uO(e,t,i){let s=e.columnModel.getCol(t);s||(s=e.columnModel.getColDefCol(t)),s?e.menuService.showColumnMenu({column:s,mouseEvent:i,positionBy:"mouse"}):ni(`column '${t}' not found`)},showColumnMenu:function pO(e,t){const i=e.columnModel.getCol(t);i?e.menuService.showColumnMenu({column:i,positionBy:"auto"}):ni(`column '${t}' not found`)},hidePopupMenu:function gO(e){e.menuService.hidePopupMenu()}}},{version:Yt,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:function IO(e){e.sortController.onSortChanged("api")}}}]};var um={version:Yt,moduleName:"@ag-grid-community/state-core",beans:[class extends ut{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Ds(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Ds(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Ds(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=Oi(this.gos),this.cachedState=this.getInitialState(),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{"gridInitializing"===s&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return function YO(e){return"32.1.0"===(e.version||(e.version="32.1.0"),e.version)&&(e=function $O(e){return e.cellSelection=function KO(e,t){if(e&&"object"==typeof e)return e[t]}(e,"rangeSelection"),e}(e)),e}(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:s}=this.getInitialState(),r=this.gos.get("advancedFilterModel");(e||r)&&this.setFilterState(e,r),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const a=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:a,columnRowGroupChanged:a,rowDataUpdated:()=>{0!==this.gos.get("groupDefaultExpanded")&&setTimeout(()=>{a()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:g=>{(g.newPage||g.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:i,columnOrder:s}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!s?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const r=this.getRangeSelectionState();this.updateCachedState("rangeSelection",r),this.updateCachedState("cellSelection",r),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:a=>{if(a.finished){const g=this.getRangeSelectionState();this.updateCachedState("rangeSelection",g),this.updateCachedState("cellSelection",g)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],s=[],r=[],a=[],g=[],k=[],V=[],se=[];let ne=0;const fe=this.columnGetStateService.getColumnState();for(let Ce=0;Ce<fe.length;Ce++){const{colId:ke,sort:Ae,sortIndex:Ee,rowGroup:Te,rowGroupIndex:Ie,aggFunc:Be,pivot:Le,pivotIndex:Ye,pinned:Ze,hide:tt,width:We,flex:Je}=fe[Ce];se.push(ke),Ae&&(t[Ee??ne++]={colId:ke,sort:Ae}),Te&&(i[Ie??0]=ke),"string"==typeof Be&&s.push({colId:ke,aggFunc:Be}),Le&&(r[Ye??0]=ke),Ze&&("right"===Ze?g:a).push(ke),tt&&k.push(ke),(Je||We)&&V.push({colId:ke,flex:Je??void 0,width:We})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:a.length||g.length?{leftColIds:a,rightColIds:g}:void 0,columnVisibility:k.length?{hiddenColIds:k}:void 0,columnSizing:V.length?{columnSizingModel:V}:void 0,columnOrder:se.length?{orderedColIds:se}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:s,pivot:r,columnPinning:a,columnVisibility:g,columnSizing:k,columnOrder:V,partialColumnState:se}=e,ne={},fe=Te=>{let Ie=ne[Te];return Ie||(Ie={colId:Te},ne[Te]=Ie,Ie)},Ce=se?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:Te,sort:Ie},Be)=>{const Le=fe(Te);Le.sort=Ie,Le.sortIndex=Be}),Ce.sort=null,Ce.sortIndex=null),i&&(i.groupColIds.forEach((Te,Ie)=>{const Be=fe(Te);Be.rowGroup=!0,Be.rowGroupIndex=Ie}),Ce.rowGroup=null,Ce.rowGroupIndex=null),s&&(s.aggregationModel.forEach(({colId:Te,aggFunc:Ie})=>{fe(Te).aggFunc=Ie}),Ce.aggFunc=null),r&&(r.pivotColIds.forEach((Te,Ie)=>{const Be=fe(Te);Be.pivot=!0,Be.pivotIndex=Ie}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),Ce.pivot=null,Ce.pivotIndex=null),a&&(a.leftColIds.forEach(Te=>{fe(Te).pinned="left"}),a.rightColIds.forEach(Te=>{fe(Te).pinned="right"}),Ce.pinned=null),g&&(g.hiddenColIds.forEach(Te=>{fe(Te).hide=!0}),Ce.hide=null),k&&(k.columnSizingModel.forEach(({colId:Te,flex:Ie,width:Be})=>{const Le=fe(Te);Le.flex=Ie??null,Le.width=Be}),Ce.flex=null);const ke=V?.orderedColIds,Ae=!!ke?.length,Ee=Ae?ke.map(Te=>fe(Te)):Object.values(ne);Ee.length&&(this.columnStates=Ee,this.columnApplyStateService.applyColumnState({state:Ee,applyOrder:Ae,defaultState:Ce},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,this.pivotResultColsService.isPivotResultColsPresent()){if(t){const s=[];for(const r of t)this.pivotResultColsService.getPivotResultCol(r.colId)&&s.push(r);this.columnApplyStateService.applyColumnState({state:s,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:s})=>{s&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set(e.columnGroup?.openColumnGroupIds),s=this.columnGroupStateService.getColumnGroupState().map(({groupId:r})=>{const a=t.has(r);return a&&t.delete(r),{groupId:r,open:a}});t.forEach(r=>{s.push({groupId:r,open:!0})}),s.length&&(this.columnGroupStates=s),this.columnGroupStateService.setColumnGroupState(s,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&0===Object.keys(e).length&&(e=void 0);const t=this.filterManager?.getAdvancedFilterModel()??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){const{filterModel:i,advancedFilterModel:s}=e??{advancedFilterModel:t};i&&this.filterManager?.setFilterModel(i,"columnFilter"),s&&this.filterManager?.setAdvancedFilterModel(s)}getRangeSelectionState(){const e=this.rangeService?.getCellRanges().map(t=>{const{id:i,type:s,startRow:r,endRow:a,columns:g,startColumn:k}=t;return{id:i,type:s,startRow:r,endRow:a,colIds:g.map(V=>V.getColId()),startColId:k.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:i,columnModel:s,visibleColsService:r}=this;if(!Br(t)||!i)return;const a=[];if(e.cellRanges.forEach(g=>{const k=[];if(g.colIds.forEach(se=>{const ne=s.getCol(se);ne&&k.push(ne)}),!k.length)return;let V=s.getCol(g.startColId);if(!V){const se=r.getAllCols(),ne=new Set(k);V=se.find(fe=>ne.has(fe))}a.push({...g,columns:k,startColumn:V})}),function UE(e){return void 0!==e.get("cellSelection")}(t)&&function XE(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!=typeof t&&(t?.suppressMultiRanges??!1):e.get("suppressMultiRangeSelection")}(t)&&a.length>1)return mt("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");i.setCellRanges(a)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:i}=e?.getVScrollPosition()??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:i}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:s}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:s}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:s}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();return e||t?{page:e,pageSize:t}:void 0}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),"number"==typeof e.page&&this.paginationService.setPage(e.page))}getRowSelectionState(){const e=this.selectionService.getSelectionState();return e&&(Array.isArray(e)||!1!==e.selectAll&&!1!==e.selectAllChildren||e?.toggledNodes?.length)?e:void 0}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach(([s,r])=>{pa(r,this.cachedState[s])||(i=!0)}),this.cachedState={...this.cachedState,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),pa(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{"rowSelection"===e&&this.setCachedStateValue(e,this.getRowSelectionState())}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}}]},QO={version:Yt,moduleName:"@ag-grid-community/state",dependantModules:[um,{version:Yt,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:function XO(e){return e.stateService?.getState()??{}}},dependantModules:[um]}]},Oa="paginationPageSizeSelector",uI={selector:"AG-PAGE-SIZE-SELECTOR",component:class extends gi{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(Oa,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&this.reloadPageSizesSelector()}reset(){Ms(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get(Oa)}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);if(i){const r=this.gos.exists("paginationPageSize"),a=!0!==this.gos.get(Oa);mt(`'paginationPageSize=${t}'${r?"":" (default value)"}, but ${t} is not included in${a?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),a||mt(`Either set '${Oa}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const s=String(i?"":t);this.selectPageSizeComp?(Qr(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(s,!0)):this.createPageSizeSelectorComp(e,s),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const i=this.localeService.getLocaleTextFunc(),s=i("pageSizeSelectorLabel","Page Size:"),r=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new cd).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const t=this.gos.get(Oa);return!Array.isArray(t)||Ws(t)?[20,50,100]:[...t].sort((i,s)=>i-s)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},gI={selector:"AG-PAGINATION",component:class extends Q0{constructor(){super(),this.btFirst=Lt,this.btPrevious=Lt,this.btNext=Lt,this.btLast=Lt,this.lbRecordCount=Lt,this.lbFirstRowOnPage=Lt,this.lbLastRowOnPage=Lt,this.lbCurrent=Lt,this.lbTotal=Lt,this.pageSizeComp=Lt,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[uI]);const{btFirst:t,btPrevious:i,btNext:s,btLast:r}=this;this.activateTabIndex([t,i,s,r]),t.insertAdjacentElement("afterbegin",Js(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",Js(e?"next":"previous",this.gos)),s.insertAdjacentElement("afterbegin",Js(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",Js(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:a=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(a):this.focusService.focusGridInnerElement(a)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:s=>{(s.key===nt.ENTER||s.key===nt.SPACE)&&(s.preventDefault(),i())}})}),function cI(e,t,i){e.addManagedElementListeners(t,{keydown:s=>{if(!s.defaultPrevented&&s.key===nt.TAB){const r=s.shiftKey;i.findNextFocusableElement(t,!1,r)||i.focusNextGridCoreContainer(r)&&s.preventDefault()}}})}(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc();return function x0(e,t,i){return"number"!=typeof e?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}(e,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),s=e("of","of"),r=e("firstPage","First Page"),a=e("previousPage","Previous Page"),g=e("nextPage","Next Page"),k=e("lastPage","Last Page"),V=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${V}">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel">\n                    <span id="ag-${V}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${V}-to">${i}</span>\n                    <span id="ag-${V}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${V}-of">${s}</span>\n                    <span id="ag-${V}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>\n                    <span class="ag-paging-description">\n                        <span id="ag-${V}-start-page">${t}</span>\n                        <span id="ag-${V}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${V}-of-page">${s}</span>\n                        <span id="ag-${V}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${g}"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${k}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay();this.nextButtonDisabled=e===i-1||s,this.lastButtonDisabled=!t||s||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){(function BA(e,t){pr(e,"disabled",t)})(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&0===t}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),s=e?i:null;if(1===s){const Be=this.rowModel.getRow(0);if(Be&&Be.group&&!Be.groupData&&!Be.aggData)return void this.setTotalLabelsToZero()}const r=this.paginationService.getCurrentPage(),a=this.paginationService.getPageSize();let g,k;this.isZeroPagesToDisplay()?g=k=0:(g=a*r+1,k=g+a-1,e&&k>s&&(k=s));const se=!e&&i<g+a-1,ne=this.formatNumber(g);let fe;this.lbFirstRowOnPage.textContent=ne;const Ce=this.localeService.getLocaleTextFunc();fe=se?Ce("pageLastRowUnknown","?"):this.formatNumber(k),this.lbLastRowOnPage.textContent=fe;const Ee=this.formatNumber(t>0?r+1:0);let Te,Ie;if(this.lbCurrent.textContent=Ee,e)Te=this.formatNumber(t),Ie=this.formatNumber(s);else{const Be=Ce("more","more");Te=Be,Ie=Be}this.lbTotal.textContent=Te,this.lbRecordCount.textContent=Ie,this.announceAriaStatus(ne,fe,Ie,Ee,Te)}announceAriaStatus(e,t,i,s,r){const a=this.localeService.getLocaleTextFunc(),g=a("page","Page"),k=a("to","to"),V=a("of","of"),se=`${e} ${k} ${t} ${V} ${i}`,ne=`${g} ${s} ${V} ${r}`;se!==this.ariaRowStatus&&(this.ariaRowStatus=se,this.ariaAnnouncementService.announceValue(se,"paginationRow")),ne!==this.ariaPageStatus&&(this.ariaPageStatus=ne,this.ariaAnnouncementService.announceValue(ne,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}}},pm={version:Yt,moduleName:"@ag-grid-community/pagination-core",beans:[class extends ut{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return gI}isPaginateChildRows(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||"number"!=typeof this.currentPage||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return kt(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:kt(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:kt(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:kt(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const s=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=s-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:s=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:s,keepRenderedRows:t})}},class extends ut{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=Math.max(Vo(this.gos),1),s=Math.floor(e/i);this.paginationService.setPageSize(s,"autoCalculated")};this.isBodyRendered?Ds(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}]},vI={version:Yt,moduleName:"@ag-grid-community/pagination",dependantModules:[pm,{version:Yt,moduleName:"@ag-grid-community/pagination-api",dependantModules:[pm],apiFunctions:{paginationIsLastPageFound:function JO(e){return e.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function eI(e){return e.paginationService?.getPageSize()??100},paginationGetCurrentPage:function tI(e){return e.paginationService?.getCurrentPage()??0},paginationGetTotalPages:function iI(e){return e.paginationService?.getTotalPages()??1},paginationGetRowCount:function sI(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()},paginationGoToNextPage:function rI(e){e.paginationService?.goToNextPage()},paginationGoToPreviousPage:function oI(e){e.paginationService?.goToPreviousPage()},paginationGoToFirstPage:function nI(e){e.paginationService?.goToFirstPage()},paginationGoToLastPage:function aI(e){e.paginationService?.goToLastPage()},paginationGoToPage:function lI(e,t){e.paginationService?.goToPage(t)}}}]},Us="clientSide",Bs="serverSide",In="infinite",xI={onGroupExpandedOrCollapsed:[Us],refreshClientSideRowModel:[Us],isRowDataEmpty:[Us],forEachLeafNode:[Us],forEachNodeAfterFilter:[Us],forEachNodeAfterFilterAndSort:[Us],resetRowHeights:[Us],applyTransaction:[Us],applyTransactionAsync:[Us],flushAsyncTransactions:[Us],getBestCostNodeSelection:[Us],getServerSideSelectionState:[Bs],setServerSideSelectionState:[Bs],applyServerSideTransaction:[Bs],applyServerSideTransactionAsync:[Bs],applyServerSideRowData:[Bs],retryServerSideLoads:[Bs],flushServerSideAsyncTransactions:[Bs],refreshServerSide:[Bs],getServerSideGroupLevelState:[Bs],refreshInfiniteCache:[In],purgeInfiniteCache:[In],getInfiniteRowCount:[In],isLastRowIndexKnown:[In,Bs],expandAll:[Us,Bs],collapseAll:[Us,Bs],onRowHeightChanged:[Us,Bs],setRowCount:[In,Bs],getCacheBlockState:[In,Bs]},CI={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}},So=(e,t)=>"clientSide"===(t.rowModelType??"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null,bI={enableRowGroup:So,rowGroup:So,rowGroupIndex:So,enablePivot:So,enableValue:So,pivot:So,pivotIndex:So,aggFunc:So,cellEditor:e=>"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(i=>t.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Bn},Bn={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},validations:bI},EI={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},gm={version:Yt,moduleName:"@ag-grid-community/core-community-features",dependantModules:[{version:Yt,moduleName:"@ag-grid-community/core"},{version:Yt,moduleName:"@ag-grid-community/core-validations",beans:[class extends ut{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,{objectName:"gridOptions",allProperties:[...xa.ALL_PROPERTIES,...Ca.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}},validations:{sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":return e.getDataPath?null:`treeData requires 'getDataPath' in the ${t} row model.`;case"serverSide":return e.isServerSideGroup&&e.getServerSideGroupKey?null:`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return"boolean"==typeof t||null==t||t.length?null:"'paginationPageSizeSelector' cannot be an empty array.\n                    If you want to hide the page size selector, set paginationPageSizeSelector to false."}},rowSelection:{validate:({rowSelection:e})=>e&&"string"==typeof e?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':null},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>Bn,defaultColDef:()=>Bn,defaultColGroupDef:()=>Bn,autoGroupColumnDef:()=>Bn,selectionColumnDef:()=>Bn}})}validateApiFunction(e,t){return function yI(e,t,i){const s=CI[e];if(s){const{version:a,new:g,old:k,message:V}=s,se=k??e;return(...ne)=>(mt(`Since ${a} api.${se} is deprecated. ${g?`Please use ${g} instead. `:""}${V??""}`),t.apply(t,ne))}const r=xI[e];return r?(...a)=>{const g=i.rowModel.getType();if(r.includes(g))return t.apply(t,a);ni(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`)}:t}(e,t,this.beans)}processOptions(e,t){const{validations:i,deprecations:s,allProperties:r,propertyExceptions:a,objectName:g,docsUrl:k}=t;r&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...a??[],...Object.keys(s)],r,g,k);const V=new Set;Object.keys(e).forEach(ne=>{const fe=s[ne];if(fe)if("renamed"in fe){const{renamed:Le,version:Ye}=fe;V.add(`As of v${Ye}, ${String(ne)} is deprecated. Please use ${String(Le)} instead.`),e[Le]=e[ne]}else{const{message:Le,version:Ye}=fe;V.add(`As of v${Ye}, ${String(ne)} is deprecated. ${Le??""}`)}const Ce=e[ne];if(null==Ce||!1===Ce)return;const ke=i[ne];let Ae;if(!ke)return;if("function"==typeof ke){const Le=ke(e,this.gridOptions);if(!Le)return;if("objectName"in Le){const Ye=e[ne];return Array.isArray(Ye)?void Ye.forEach(Ze=>{this.processOptions(Ze,Le)}):void this.processOptions(e[ne],Le)}Ae=Le}else Ae=ke;const{module:Ee,dependencies:Te,validate:Ie,supportedRowModels:Be}=Ae;if(Be){const Le=this.gridOptions.rowModelType??"clientSide";if(!Be.includes(Le))return void V.add(`${String(ne)} is not supported with the '${Le}' row model.`)}if(Ee){const Le=Array.isArray(Ee)?Ee:[Ee];let Ye=!0;if(Le.forEach(Ze=>{this.gos.assertModuleRegistered(Ze,String(ne))||(Ye=!1,V.add(`${String(ne)} is only available when ${Ze} is loaded.`))}),!Ye)return}if(Te){const Le=this.checkForRequiredDependencies(ne,Te,e);if(Le)return void V.add(Le)}if(Ie){const Le=Ie(e,this.gridOptions);if(Le)return void V.add(Le)}}),V.size>0&&V.forEach(ne=>{mt(ne)})}checkForRequiredDependencies(e,t,i){const r=Object.entries(t).find(([k,V])=>!V.includes(i[k]));if(!r)return null;const[a,g]=r;return g.length>1?`'${String(e)}' requires '${a}' to be one of [${g.join(", ")}].`:`'${String(e)}' requires '${a}' to be ${g[0]}.`}checkProperties(e,t,i,s,r){const g=function MT(e,t,i){const s={},r=e.filter(a=>!t.some(g=>g===a));return r.length>0&&r.forEach(a=>s[a]=Qf(a,i).values),s}(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...i],i);if(dr(g,(k,V)=>{let se=`invalid ${s} property '${k}' did you mean any of these: ${V.slice(0,8).join(", ")}.`;i.includes("context")&&(se+=`\nIf you are trying to annotate ${s} with application data, use the '${s}.context' property instead.`),mt(se)}),Object.keys(g).length>0&&r){const k=this.getFrameworkOverrides().getDocLink(r);mt(`to see all the valid ${s} properties please check: ${k}`)}}}]},HD,hP,QO,kL,LF,vI,UO]},FI=class extends ut{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},Kl=new Set(["gridPreDestroyed","fillStart","pasteStart"]),OI=new Map([...xa.BOOLEAN_PROPERTIES.map(e=>[e,wc]),...xa.NUMBER_PROPERTIES.map(e=>[e,v0]),["groupAggFiltering",e=>"function"==typeof e?e:wc(e)],["pageSize",zr(1)],["autoSizePadding",zr(0)],["keepDetailRowsCount",zr(1)],["rowBuffer",zr(0)],["infiniteInitialRowCount",zr(1)],["cacheOverflowSize",zr(1)],["cacheBlockSize",zr(1)],["serverSideInitialRowCount",zr(1)],["viewportRowModelPageSize",zr(1)],["viewportRowModelBufferSize",zr(0)]]);function fm(e,t){const i=OI.get(e);return i?i(t):t}var mm=class ov extends ut{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new bn,this.globalEventHandlerFactory=t=>(i,s)=>{if(!this.isAlive())return;const r=Kl.has(i);if(r&&!t||!r&&t)return;const a=Ca.getCallbackForEvent(i),g=this.gridOptions[a];"function"==typeof g&&this.frameworkOverrides.wrapOutgoing(()=>{g(s)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:i})=>{this.updateGridOptions({options:i,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??EI[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return kt(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(s=>{const r=s;return r.api=this.api,r.context=this.gridOptionsContext,t(r)})}updateGridOptions({options:t,force:i,source:s="api"}){const r={id:ov.changeSetId++,properties:[]},a=[];Object.entries(t).forEach(([g,k])=>{"api"===s&&TA[g]&&mt(`${g} is an initial property and cannot be updated.`);const V=fm(g,k),ne=this.gridOptions[g];(i||"object"==typeof V&&"api"===s||ne!==V)&&(this.gridOptions[g]=V,a.push({type:g,currentValue:V,previousValue:ne,changeSet:r,source:s}))}),this.validationService?.processGridOptions(this.gridOptions),r.properties=a.map(g=>g.type),a.forEach(g=>{this.gridOptions.debug&&cr(`Updated property ${g.type} from`,g.previousValue," to ",g.currentValue),this.propertyEventService.dispatchEvent(g)})}addPropertyEventListener(t,i){this.propertyEventService.addEventListener(t,i)}removePropertyEventListener(t,i){this.propertyEventService.removeEventListener(t,i)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const i=t;return i.api=this.api,i.context=this.gridOptionsContext,i}assertModuleRegistered(t,i){return io.__assertRegistered(t,i,this.gridId)}isModuleRegistered(t){return io.__isRegistered(t,this.gridId)}};mm.changeSetId=0;var BI=mm,NI=class extends ut{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,s;if($i(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(s=`getCol${t}`,i=this.visibleColsService[s](e.column)),!i)return;const{headerRowIndex:r}=e;if("filter"!==this.getHeaderRowType(r)){const k=[i];for(;i.getParent();)i=i.getParent(),k.push(i);i=k[k.length-1-r]}const{column:a,headerRowIndex:g}=this.getHeaderIndexToFocus(i,r);return{column:a,headerRowIndex:g}}getHeaderIndexToFocus(e,t){let i;if($i(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const s=e;i=s.getLeafColumns()[0];let r=i;for(;r!==s;)t++,r=r.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some(t=>t.isSpanHeaderHeight())}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),r="column"===i;let a="filter"===i?e:e.getParent(),g=t-1,k=g;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;a&&a.isPadding();)a=a.getParent(),g--;k=g,g<0&&(a=e,g=t,k=void 0)}return{column:a,headerRowIndex:g,headerRowIndexWithoutSpan:k}}getColumnVisibleChild(e,t,i="After"){let r=e,a=t+1;const g=a;if("group"===this.getHeaderRowType(t)){const k=e.getDisplayedLeafColumns(),V="After"===i?k[0]:li(k),se=[];let ne=V;for(;ne.getParent()!==e;)ne=ne.getParent(),se.push(ne);if(r=V,V.isSpanHeaderHeight())for(let fe=se.length-1;fe>=0;fe--){const Ce=se[fe];if(!Ce.isPadding()){r=Ce;break}a++}else r=li(se),r||(r=V)}return{column:r,headerRowIndex:a,headerRowIndexWithoutSpan:g}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.visibleColsService.getAllCols(),s=i["start"===t?0:i.length-1];if(!s)return;const a=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned())?.getRowType(e);return"group"==a?{headerRowIndex:e,column:this.visibleColsService.getColGroupAtLevel(s,e)}:{headerRowIndex:null==a?-1:e,column:s}}},GI=class extends ut{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(i,s,r)=>e({key:i,defaultValue:s,variableValues:r});const t=this.gos.get("localeText");return(i,s,r)=>{let a=t&&t[i];if(a&&r&&r.length){let g=0;for(;!(g>=r.length||-1===a.indexOf("${variable}"));)a=a.replace("${variable}",r[g++])}return a??s}}},zI=class extends ut{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new Lc(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),s=xl(this.gos)&&!Kl.has(e),r=s?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(i),this.eventService.addEventListener(e,i,s)}removeEventListener(e,t){const i=this.frameworkEventWrappingService.unwrap(t),r=!!this.asyncEventListeners.get(e)?.delete(i);r||this.syncEventListeners.get(e)?.delete(i),this.eventService.removeEventListener(e,i,r)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(xl(this.gos)){const s=(a,g)=>{Kl.has(a)&&t(a,g)},r=(a,g)=>{Kl.has(a)||t(a,g)};this.globalEventListenerPairs.set(e,{syncListener:s,asyncListener:r}),this.eventService.addGlobalListener(s,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:s,asyncListener:r}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(s,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,s)=>{i.forEach(r=>this.eventService.removeEventListener(s,r,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},_I=class extends ut{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},HI=class extends ut{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return ai(this.topRowBounds)||ai(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=kt(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},WI=class extends ut{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=Ds(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=Yi(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),Df(t,"polite"),function IA(e,t){pr(e,"relevant",t)}(t,"additions text"),function OA(e,t){pr(e,"atomic",t)}(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Ms(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},jI=class extends ut{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return e(),void t();const i=s=>{for(;s.length;){const r=s.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),i(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),i(this.executeLaterFuncs)},200)})}},VI=class extends ut{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},UI=class extends ut{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=Oi(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return 0!==this.state&&!!this.overlayWrapperComp}isExclusive(){return 1===this.state&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(void 0!==e||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!this.gos.get("loading")&&!this.gos.get("suppressNoRowsOverlay")&&this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")?mt("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead."):this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp)return void(this.state=0);let e=this.gos.get("loading");this.showInitialOverlay&&void 0===e&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?1!==this.state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?2!==this.state&&this.doShowNoRowsOverlay():0!==this.state&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){const s=e.newAgStackInstance();this.overlayWrapperComp?.showOverlay(s,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;2===this.state?e=this.ctrlsService.get("gridHeaderCtrl")?.getHeaderHeight()||0:0!==this.wrapperPadding&&(e=0),this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},XI=class extends ut{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return kt(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),vf(t,this.processClassesFromGridOptions(e.rowNode)),vf(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=a=>{"string"==typeof a?t.push(a):Array.isArray(a)&&a.forEach(g=>t.push(g))},s=this.gos.get("rowClass");if(s){if("function"==typeof s)return mt("rowClass should not be a function, please use getRowClass instead"),[];i(s)}const r=this.gos.getCallback("getRowClass");return r&&i(r({data:e.data,node:e,rowIndex:e.rowIndex})),t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},()=>{}),t}processRowClassRules(e,t,i){const s=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),s,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},YI=class extends ut{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function XA(){if(void 0!==Kc)return Kc;if(!document.body)return-1;let e=1e6;const t=Zc()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const s=2*e;if(i.style.height=s+"px",s>t||i.clientHeight!==s)break;e=s}return document.body.removeChild(i),Kc=e,e}(),this.gos.get("debug")&&cr("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&cr(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)}},$I=class extends ut{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=Ir(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Ir(this.gos))}doFullSort(e,t){const s=e.map((r,a)=>({currentPos:a,rowNode:r}));return s.sort(this.compareRowNodes.bind(this,t)),s.map(r=>r.rowNode)}compareRowNodes(e,t,i){const s=t.rowNode,r=i.rowNode;for(let a=0,g=e.length;a<g;a++){const k=e[a],V="desc"===k.sort,se=this.getValue(s,k.column),ne=this.getValue(r,k.column);let fe;const Ce=this.getComparator(k,s);if(fe=Ce?Ce(se,ne,s,r,V):_E(se,ne,this.isAccentedSort),!isNaN(fe)&&0!==fe)return"asc"===k.sort?fe:-1*fe}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,s=i.getColDef().comparator;if(null!=s)return s;if(!i.getColDef().showRowGroup)return;const r=!t.group&&i.getColDef().field;if(!r)return;const a=this.columnModel.getColDefCol(r);return a?a.getColDef().comparator:void 0}getValue(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(yl(this.gos,this.columnModel.isPivotActive())){const a=e.allLeafChildren?.[0];return a?this.valueService.getValue(t,a,!1,!1):void 0}const r=this.showRowGroupColsService?.getShowRowGroupCol(t.getId());return r?e.groupData?.[r.getId()]:void 0}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}},ql=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let s=0;s<e.childrenAfterGroup.length;s++){const r=e.childrenAfterGroup[s];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[s],t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},i++,t=t.parent;return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){const r=this.mapToItems[i.id],a=this.mapToItems[i.parent.id];a.children||(a.children=[]),a.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}},vm=class extends ut{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(0===this.cachedRange.length){const e=this.getRoot(),t=this.getEnd();if(null==e||null==t)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return null!==this.root&&this.getRange().some(t=>t.id===e.id)}getRoot(){return this.root&&null===this.root?.key&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&null===this.end?.key&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(0===t.length)return{keep:[],discard:[]};const i=t[0].id===this.root.id,s=t.findIndex(r=>r.id===e.id);if(s>-1){const r=t.slice(0,s),a=t.slice(s+1);return this.setEndRange(e),i?{keep:r,discard:a}:{keep:a,discard:r}}return{keep:t,discard:[]}}extend(e,t=!1){const i=this.getRoot();if(null==i){const r=this.getRange().slice();return t&&e.depthFirstSearch(a=>!a.group&&r.push(a)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find(r=>r.id===this.end?.id))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}},this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:i}=this;this.selectionCtx.init(t),this.rowSelectionMode=bl(e),this.groupSelectsChildren=Xo(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const s=Xo(e),r=bl(e);(s!==this.groupSelectsChildren||r!==this.rowSelectionMode)&&(this.groupSelectsChildren=s,this.rowSelectionMode=r,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:i.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return"multiRow"===this.rowSelectionMode}overrideSelectionValue(e,t){if(!(e=>"checkboxSelected"===e||"rowClicked"===e||"spaceKey"===e||"uiSelectAll"===e||"uiSelectAllCurrentPage"===e||"uiSelectAllFiltered"===e)(t))return e;const i=this.selectionCtx.getRoot();return!i||(i.isSelected()??!1)}setNodesSelected(e){const{newValue:t,clearSelection:i,suppressFinishActions:s,rangeSelect:r,nodes:a,event:g,source:k}=e;if(0===a.length)return 0;if(a.length>1&&!this.isMultiSelect())return mt("cannot multi select unless selection mode is 'multiRow'"),0;const V=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,se=a.map(fe=>fe.footer?fe.sibling:fe);if(r){if(se.length>1)return mt("cannot range select while selecting multiple rows"),0;const fe=se[0],Ce=this.overrideSelectionValue(t,k);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(fe)){const ke=this.selectionCtx.truncate(fe);return Ce&&this.selectRange(ke.discard,!1,k),this.selectRange(ke.keep,Ce,k)}if(this.selectionCtx.getRoot()!==fe){const Ee=this.selectionCtx.extend(fe,this.groupSelectsChildren);return Ce&&this.selectRange(Ee.discard,!1,k),this.selectRange(Ee.keep,Ce,k)}}}s||this.selectionCtx.setRoot(se[0]);let ne=0;for(let fe=0;fe<se.length;fe++){const Ce=se[fe];V&&Ce.group||Ce.selectThisNode(t,g,k)&&ne++,this.groupSelectsChildren&&Ce.childrenAfterGroup?.length&&(ne+=this.selectChildren(Ce,t,V,k))}return s||(t&&(i||!this.isMultiSelect())&&(ne+=this.clearOtherNodes(se[0],k)),ne>0&&(this.updateGroupsFromChildrenSelections(k),this.dispatchSelectionChanged(k))),ne}selectRange(e,t,i){let s=0;return e.forEach(r=>{r.group&&this.groupSelectsChildren||r.selectThisNode(t,void 0,i)&&s++}),s>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),s}selectChildren(e,t,i,s){const r=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return ai(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:s,nodes:r})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,s)=>{i&&e(i)&&t.set(s,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!Oi(this.gos))return!1;const s=this.rowModel.getRootNode();t||(t=new ql(!0,s)).setInactive();let r=!1;return t.forEachChangedNodeDepthFirst(a=>{if(a!==s){const g=a.calculateSelectedFromChildren();r=a.selectThisNode(null!==g&&g,void 0,e)||r}}),r}clearOtherNodes(e,t){const i=new Map;let s=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){const a=this.selectedNodes.get(r.id);s+=a.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&r.parent&&i.set(r.parent.id,r.parent)}}),i.forEach(r=>{const a=r.calculateSelectedFromChildren();r.selectThisNode(null!==a&&a,void 0,t)}),s}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){kt(t)&&e.id!==t.id&&t&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(!Oi(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(null===t)return;const i=[];return function s(r){for(let a=0,g=r.length;a<g;a++){const k=r[a];k.isSelected()?i.push(k):k.group&&k.children&&s(k.children)}}(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),0===e}deselectAllRowNodes(e){const t=g=>g.selectThisNode(!1,void 0,s),i=Oi(this.gos),{source:s,justFiltered:r,justCurrentPage:a}=e;if(a||r){if(!i)return void ni("selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,a).forEach(t)}else this.selectedNodes.forEach(g=>{g&&t(g)}),this.reset(s);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)}getSelectedCounts(e,t){let i=0,s=0;return this.getNodesToSelect(e,t).forEach(a=>{this.groupSelectsChildren&&a.group||(a.isSelected()?i++:a.selectable&&s++)}),{selectedCount:i,notSelectedCount:s}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:s}=this.getSelectedCounts(e,t);return(0!==i||0!==s)&&(i>0&&s>0?null:i>0)}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const i=[];if(t)return this.forEachNodeOnPage(r=>{if(r.group)if(r.expanded)this.groupSelectsChildren||i.push(r);else{const a=g=>{i.push(g),g.childrenAfterFilter?.length&&g.childrenAfterFilter.forEach(a)};a(r)}else i.push(r)}),i;const s=this.rowModel;return e?(s.forEachNodeAfterFilter(r=>{i.push(r)}),i):(s.forEachNode(r=>{i.push(r)}),i)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let s=t;s<=i;s++){const r=this.rowModel.getRow(s);r&&e(r)}}selectAllRowNodes(e){if(function VE(e){return"string"!=typeof e.get("rowSelection")}(this.gos)&&!Ec(this.gos))return mt("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:i,justCurrentPage:s}=e,r=this.getNodesToSelect(i,s);r.forEach(a=>a.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(r[0]??null),this.selectionCtx.setEndRange(li(r)??null),Oi(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t?.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return ni("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const i=new Set(e),s=[];this.rowModel.forEachNode(r=>{i.has(r.id)&&s.push(r)}),this.setNodesSelected({newValue:!0,nodes:s,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!Oi(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},KI=class extends ut{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,i=vl(t),s=Mc(t);if(!i||!s)return;const r=Xo(t),a=Oi(t)&&r,g=[],k=V=>{if(e&&!V.group)return;if(a&&V.group){const ne=V.childrenAfterGroup.some(fe=>!0===fe.selectable);return void V.setRowSelectable(ne,!0)}const se=s?.(V)??!0;V.setRowSelectable(se,!0),!se&&V.isSelected()&&g.push(V)};a?new ql(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(k,!0,!0):this.rowModel.forEachNode(k),g.length&&this.selectionService.setNodesSelected({nodes:g,newValue:!1,source:"selectableChanged"}),a&&this.selectionService instanceof vm&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},xm=["asc","desc",null],qI=class extends ut{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){const s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}setSortForColumn(e,t,i,s){"asc"!==t&&"desc"!==t&&(t=null);let a=[e];if(Ir(this.gos)&&e.getColDef().showRowGroup){const se=this.funcColsService.getSourceColumnsForGroupColumn(e)?.filter(ne=>ne.isSortable());se&&(a=[e,...se])}a.forEach(V=>V.setSort(t,s));const k=[];if(!i&&!this.gos.get("alwaysMultiSort")||this.gos.get("suppressMultiSort")){const V=this.clearSortBarTheseColumns(a,s);k.push(...V)}this.updateSortIndex(e),k.push(...a),this.dispatchSortChangedEvents(s,k)}updateSortIndex(e){const t=Ir(this.gos),i=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),s=t&&i||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(k=>k.setSortIndex(null));const a=r.filter(k=>!(t&&k.getColDef().showRowGroup||k===s));(s.getSort()?[...a,s]:a).forEach((k,V)=>{k.setSortIndex(V)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getAllCols().forEach(s=>{e.includes(s)||(s.getSort()&&i.push(s),s.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):xm,!Array.isArray(t)||t.length<=0)return mt(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort());let a;return a=i<0||i==t.length-1?t[0]:t[i+1],xm.indexOf(a)<0?(mt("invalid sort type ",a),null):a}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(a=>!!a.getSort());if(this.columnModel.isPivotMode()){const a=Ir(this.gos);e=e.filter(g=>{const k=!!g.getAggFunc(),V=!g.isPrimary(),se=a?this.showRowGroupColsService?.getShowRowGroupCol(g.getId()):g.getColDef().showRowGroup;return k||V||se})}const t=this.funcColsService.getRowGroupColumns().filter(a=>!!a.getSort()),i={};e.forEach((a,g)=>i[a.getId()]=g),e.sort((a,g)=>{const k=a.getSortIndex(),V=g.getSortIndex();return null!=k&&null!=V?k-V:null==k&&null==V?i[a.getId()]>i[g.getId()]?1:-1:null==V?-1:1});const s=Ir(this.gos)&&!!t.length;s&&(e=[...new Set(e.map(a=>this.showRowGroupColsService?.getShowRowGroupCol(a.getId())??a))]);const r=new Map;return e.forEach((a,g)=>r.set(a,g)),s&&t.forEach(a=>{const g=this.showRowGroupColsService.getShowRowGroupCol(a.getId());r.set(a,r.get(g))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,s])=>t-s).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Ir(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const s=null!=e.getColDef().field||e.getColDef().valueGetter?[e,...t]:t,r=s[0].getSort();return s.every(g=>g.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},ZI=class extends ut{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&cr(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(t);this.columnModel.setColumnDefs(t,$o(e.source))}}},JI=class extends ut{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){Oi(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const s=this.gos.get("aggregateOnlyChangedColumns"),r=new ql(s,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(a=>{i.push(a)})}this.rowRenderer.refreshCells({rowNodes:i})}},e6=class extends ut{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if("string"==typeof e)return this.evaluateExpression(e,t);ni("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return cr("Processing of the expression failed"),cr("Expression = ",e),cr("Params = ",t),cr("Exception = ",i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},t6=class extends ut{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}},i6=class extends ut{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=Zr(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=i=>this.callColumnCellValueChangedHandler(i),t=xl(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValueForDisplay(e,t){const i=t.leafGroup&&this.columnModel.isPivotMode(),s=t.group&&t.expanded&&!t.footer&&!i,r=this.gos.get("groupSuppressBlankHeader");if(!s||r)return this.getValue(e,t);let a=!1;const g=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");return a="function"!=typeof g?!!g:!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this}),this.getValue(e,t,!1,s&&a)}getValue(e,t,i=!1,s=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),a=r.field,g=e.getColId(),k=t.data;let V;const se=t.groupData&&void 0!==t.groupData[g],ne=!s&&t.aggData&&void 0!==t.aggData[g],fe=this.isSsrm&&s&&!!e.getColDef().aggFunc,Ce=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(i&&r.filterValueGetter?V=this.executeFilterValueGetter(r.filterValueGetter,k,e,t):this.isTreeData&&ne?V=t.aggData[g]:this.isTreeData&&r.valueGetter?V=this.executeValueGetter(r.valueGetter,k,e,t):this.isTreeData&&a&&k?V=va(k,a,e.isFieldContainsDots()):se?V=t.groupData[g]:ne?V=t.aggData[g]:r.valueGetter?V=this.executeValueGetter(r.valueGetter,k,e,t):Ce?V=va(k,t.field,e.isFieldContainsDots()):a&&k&&!fe&&(V=va(k,a,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof V&&0===V.indexOf("=")){const ke=V.substring(1);V=this.executeValueGetter(ke,k,e,t)}if(null==V){const ke=this.getOpenedGroup(t,e);if(null!=ke)return ke}return V}parseValue(e,t,i,s){const r=e.getColDef(),a=r.valueParser;if(kt(a)){const g=this.gos.addGridCommonParams({node:t,data:t?.data,oldValue:s,newValue:i,colDef:r,column:e});return"function"==typeof a?a(g):this.expressionService.evaluate(a,g)}return i}getDeleteValue(e,t){return kt(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,s,r=!0){let g,a=null;const k=e.getColDef();if(s?g=s:r&&(g=k.valueFormatter),g){const V=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:k,column:e});a="function"==typeof g?g(V):this.expressionService.evaluate(g,V)}else if(k.refData)return k.refData[i]||"";return null==a&&Array.isArray(i)&&(a=i.join(", ")),a}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const s=t.getColDef().showRowGroup;let r=e.parent;for(;null!=r;){if(r.rowGroupColumn&&(!0===s||s===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,i,s){const r=this.columnModel.getColDefCol(t);if(!e||!r)return!1;ai(e.data)&&(e.data={});const{field:a,valueSetter:g}=r.getColDef();if(ai(a)&&ai(g))return mt("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,i))return mt("Data type of the new value does not match the cell data type of the column"),!1;const k=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:i,colDef:r.getColDef(),column:r});let V;if(k.newValue=i,V=kt(g)?"function"==typeof g?g(k):this.expressionService.evaluate(g,k):this.setValueUsingField(e.data,a,i,r.isFieldContainsDots()),void 0===V&&(V=!0),!V)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const se=this.getValue(r,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:k.column,colDef:k.colDef,data:e.data,node:e,oldValue:k.oldValue,newValue:se,value:se,source:s}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"==typeof t&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,s){if(!t)return!1;let r=!1;if(s){const a=t.split(".");let g=e;for(;a.length>0&&g;){const k=a.shift();0===a.length?(r=g[k]===i,r||(g[k]=i)):g=g[k]}}else r=e[t]===i,r||(e[t]=i);return!r}executeFilterValueGetter(e,t,i,s){const r=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});return"function"==typeof e?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,t,i,s){const r=i.getColId(),a=this.valueCache.getValue(s,r);if(void 0!==a)return a;const g=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});let k;return k="function"==typeof e?e(g):this.expressionService.evaluate(e,g),this.valueCache.setValue(s,r,k),k}getValueCallback(e,t){const i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),s=e.getColDef().keyCreator;let r=i;return s&&(r=s(this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data}))),"string"==typeof r||null==r||(r=String(r),"[object Object]"===r&&mt("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}},Dd=class an{static applyGlobalGridOptions(t){if(!an.gridOptions)return t;let i={};return Os(i,an.gridOptions,!0,!0),"deep"===an.mergeStrategy?Os(i,t,!0,!0):i={...i,...t},an.gridOptions.context&&(i.context=an.gridOptions.context),t.context&&("deep"===an.mergeStrategy&&i.context&&Os(t.context,i.context,!0,!0),i.context=t.context),i}};Dd.gridOptions=void 0,Dd.mergeStrategy="shallow";var Zl=Dd,r6=1,ym=class extends ut{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}},d6={version:Yt,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:function o6(e){e.expansionService.expandAll(!0)},collapseAll:function n6(e){e.expansionService.expandAll(!1)},onRowHeightChanged:function a6(e){const t=e.rowModelHelperService?.getClientSideRowModel(),i=e.rowModelHelperService?.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}}},u6={version:Yt,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:function l6(e,t,i){const s=e.rowModelHelperService?.getServerSideRowModel();if(s)return e.funcColsService.isRowGroupEmpty()?void s.setRowCount(t,i):void ni("setRowCount cannot be used while using row grouping.");const r=e.rowModelHelperService?.getInfiniteRowModel();r&&r.setRowCount(t,i)},getCacheBlockState:function h6(e){return e.rowNodeBlockLoader?.getBlockState()??{}},isLastRowIndexKnown:function c6(e){return e.rowModel.isLastRowIndexKnown()}}},p6=class{wrap(e,t,i=[],s){const r=this.createWrapper(e,s);return t.forEach(a=>{this.createMethod(r,a,!0)}),i.forEach(a=>{this.createMethod(r,a,!1)}),r}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&mt("Framework component is missing the method "+t+"()"),null)}}},Fd=class{};Fd.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},Fd.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],Fd.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var Nn=typeof global>"u"?{}:global;Nn.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,Nn.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,Nn.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,Nn.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,Nn.Node=typeof Node>"u"?{}:Node,Nn.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Od="32.2.1",wm={version:Od,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[class extends ut{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Ds(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new so(this.beans),this.nodeManager=new class{constructor(e,t,i,s,r,a){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=s,this.beans=a,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id="ROOT_NODE_ID",this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return wf(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if("string"==typeof e)return void mt("rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((s,r)=>this.createNode(s,this.rootNode,0,r)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[];return this.executeRemove(e,t,i),this.executeUpdate(e,t,i),this.executeAdd(e,t),this.updateSelection(i,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,i=t?.length??0,s=new Map;let r=-1,a=-1;for(let g=0;g<i;++g){const k=t[g],V=k.data;V!==e[g]&&(a<0&&(r=g),a=g,s.set(V,k))}if(r<0)return!1;for(let g=r;g<=a;++g){const k=s.get(e[g]);void 0!==k&&(t[g]=k,k.sourceRowIndex=g)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,t){const i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const i=e.add;if(Ws(i))return;const s=this.rootNode.allLeafChildren;let r=s.length;if("number"==typeof e.addIndex&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")))for(let V=0;V<s.length;V++)if(s[V]?.rowIndex==r-1){r=V+1;break}const a=i.map((k,V)=>this.createNode(k,this.rootNode,0,r+V));if(r<s.length){const k=s.slice(0,r),V=s.slice(r,s.length),se=k.length+a.length;for(let ne=0,fe=V.length;ne<fe;++ne)V[ne].sourceRowIndex=se+ne;this.rootNode.allLeafChildren=[...k,...a,...V],t.rowsInserted=!0}else this.rootNode.allLeafChildren=s.concat(a);const g=this.rootNode.sibling;g&&(g.allLeafChildren=s),t.rowNodeTransaction.add=a}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},i){const{remove:s}=e;if(Ws(s))return;const r={};s.forEach(g=>{const k=this.lookupRowNode(g);k&&(k.isSelected()&&i.push(k),k.clearRowTopAndRowIndex(),r[k.id]=!0,delete this.allNodesMap[k.id],t.remove.push(k))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter(g=>!r[g.id])??null,this.rootNode.allLeafChildren?.forEach((g,k)=>{g.sourceRowIndex=k});const a=this.rootNode.sibling;a&&(a.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},i){const{update:s}=e;Ws(s)||s.forEach(r=>{const a=this.lookupRowNode(r);a&&(a.updateData(r),!a.selectable&&a.isSelected()&&i.push(a),this.setMasterForRow(a,r,0,!1),t.update.push(a))})}lookupRowNode(e){const t=kn(this.gos);let i;if(t){const s=t({data:e,level:0});if(i=this.allNodesMap[s],!i)return ni(`could not find row id=${s}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren?.find(s=>s.data===e),!i)return ni("could not find data item as object was not found",e),ni("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i,s){const r=new so(this.beans);return r.sourceRowIndex=s,r.group=!1,this.setMasterForRow(r,e,i,!0),t&&(r.parent=t),r.level=i,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&mt(`duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,t,i,s){if(this.gos.get("treeData"))e.setMaster(!1),s&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const g=this.gos.get("isRowMaster");e.setMaster(!g||g(t))}else e.setMaster(!1);if(s){const g=this.funcColsService.getRowGroupColumns();e.expanded=!!e.master&&this.isExpanded(i+(g?g.length:0))}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return-1===t||e<t}}(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),a=new Set(["postSortRows","groupDisplayType","accentedSort"]),g=new Set([]),k=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),V=[...e,...t,...i,...s,...s,...r,...a,...g,...k];this.addManagedPropertyListeners(V,se=>{const ne=se.changeSet?.properties;if(!ne)return;const fe=Ce=>ne.some(ke=>Ce.has(ke));fe(e)?this.setRowData(this.rootNode.allLeafChildren.map(Ce=>Ce.data)):fe(t)?this.refreshModel({step:"group"}):fe(i)?this.refreshModel({step:"filter"}):fe(s)?this.refreshModel({step:"pivot"}):fe(r)?this.refreshModel({step:"aggregate"}):fe(a)?this.refreshModel({step:"sort"}):fe(g)?this.refreshModel({step:"filter_aggregates"}):fe(k)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,s){let r,a=!1;do{r=!1;const g=this.getRowIndexAtPixel(e),k=this.getRowIndexAtPixel(t),V=Math.max(g,i),se=Math.min(k,s);for(let ne=V;ne<=se;ne++){const fe=this.getRow(ne);if(fe.rowHeightEstimated){const Ce=mo(this.gos,fe);fe.setRowHeight(Ce.height),r=!0,a=!0}}r&&this.setRowTopAndRowIndex()}while(r);return a}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,s=fs(this.gos,"normal");for(let r=0;r<this.rowsToDisplay.length;r++){const a=this.rowsToDisplay[r];if(null!=a.id&&i.add(a.id),null==a.rowHeight){const g=mo(this.gos,a,s,e);a.setRowHeight(g.height,g.estimated)}a.setRowTop(t),a.setRowIndex(r),t+=a.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),s=a=>{a&&null!=a.id&&!t.has(a.id)&&a.clearRowTopAndRowIndex()},r=a=>{s(a),s(a.detailNode),s(a.sibling),a.hasChildren()&&a.childrenAfterGroup&&(i&&-1!=a.level&&!a.expanded||a.childrenAfterGroup.forEach(r))};r(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const s=this.getRowIndexAtPixel(t),r=this.getRow(s),a=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;const g=this.rootNode.allLeafChildren;return e.forEach(k=>{Fs(g,k)}),e.forEach((k,V)=>{ma(g,k,Math.max(s+i,0)+V)}),e.forEach((k,V)=>{k.sourceRowIndex=V}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:a,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const i=null!=t?this.getRowIndexAtPixel(t):null,s=null!=i?this.getRow(i):null;if(!s||!e||s===e||null==t)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const r=this.getHighlightPosition(t,s);this.lastHighlightedRow&&this.lastHighlightedRow!==s&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),s.setHighlighted(r),this.lastHighlightedRow=s}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(!(t=this.getRow(r||0)))return 1}const{rowTop:i,rowHeight:s}=t;return e-i<s/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(0===this.rowsToDisplay.length)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return(t?t.length:0)+(this.rootNode.sibling?1:0)}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=e;if(this.rowsToDisplay[0].footer){if(0===e)return 0;i-=1}const s=this.rowsToDisplay[this.rowsToDisplay.length-1];if(s.footer&&i>=this.rootNode.childrenAfterSort.length)return s.rowIndex;let a=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;a.expanded&&a.childrenAfterSort&&a.childrenAfterSort.length>0;)a=a.childrenAfterSort[0];return a.rowIndex}getRowBounds(e){if(ai(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Sn(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Sn(this.gos),s=0===e.columns.length||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:s,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Sn(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=Ws(e),i=new ql(!1,this.rootNode);return t&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter(s=>null!=s.add&&s.add.length>0||null!=s.remove&&s.remove.length>0);return null==t||0==t.length}buildRefreshModelParams(e){let t="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(kt(e)&&(t=i[e]),!ai(t))return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")};ni(`invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`)}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,i,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,s),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=ai(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return ai(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return kt(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,s=!1;const r=[],a=Xo(this.gos);return this.forEachNodeAfterFilterAndSort(g=>{if(!s)if(i&&(g===t||g===e)&&(s=!0,g.group&&a))r.push(...g.allLeafChildren);else{if(!i){if(g!==t&&g!==e)return;i=!0}g.group&&a||r.push(g)}}),r}setDatasource(e){ni("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(li(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,a=-1;for(;;){const g=Math.floor((t+i)/2),k=this.rowsToDisplay[g];if(this.isRowInPixel(k,e)||(k.rowTop<e?t=g+1:k.rowTop>e&&(i=g-1),r===t&&a===i))return g;r=t,a=i}}isRowInPixel(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:s,includeFooterNodes:r}=e;let{index:a}=e;const g=k=>{const V=t[0]?.parent;if(!V)return;const se=r&&cf(this.gos),ne=df(this.gos),fe=r&&ne({node:V});V!==this.rootNode?fe===k&&(V.createFooter(),i(V.sibling,a++)):se===k&&(V.createFooter(),i(V.sibling,a++))};g("top");for(let k=0;k<t.length;k++){const V=t[k];if(i(V,a++),V.hasChildren()&&!V.footer){let se=null;switch(s){case 0:se=V.childrenAfterGroup;break;case 1:se=V.childrenAfterAggFilter;break;case 2:se=V.childrenAfterSort;break;case 3:se=V.leafGroup?null:V.childrenAfterSort}se&&(a=this.recursivelyWalkNodesAndCallback({nodes:[...se],callback:i,recursionType:s,index:a,includeFooterNodes:r}))}}return g("bottom"),a}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),s=r=>{r&&r.forEach(a=>{const g=()=>{a.expanded=e,s(a.childrenAfterGroup)};t?kt(a.childrenAfterGroup)&&g():i?!a.leafGroup&&g():a.group&&g()})};this.rootNode&&s(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,s){if(this.groupStage)this.groupStage.execute(e?{rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:i,changedPath:t}:{rowNode:this.rootNode,changedPath:t,afterColumnsChanged:s}),Xo(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const r=this.rootNode,a=r.sibling;r.childrenAfterGroup=r.allLeafChildren,a&&(a.childrenAfterGroup=r.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if("string"==typeof e&&0==e.indexOf(so.ID_PREFIX_ROW_GROUP)){let i;return this.forEachNode(s=>{s.id===e&&(i=s)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;this.rowDataTransactionBatch?.forEach(s=>{const{rowNodeTransaction:r,rowsInserted:a}=this.nodeManager.updateRowData(s.rowDataTransaction);a&&(i=!0),t.push(r),s.callback&&e.push(s.callback.bind(null,r))}),this.commonUpdateRowData(t,i),e.length>0&&window.setTimeout(()=>{e.forEach(s=>s())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:i}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],i),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}},class extends ut{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(s,r)=>{s.childrenAfterFilter=s.hasChildren()&&e&&!r?s.childrenAfterGroup.filter(a=>{const g=a.childrenAfterFilter&&a.childrenAfterFilter.length>0,k=a.data&&this.filterManager.doesRowPassFilter({rowNode:a});return g||k}):s.childrenAfterGroup,s.sibling&&(s.sibling.childrenAfterFilter=s.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const s=(a,g)=>{if(a.childrenAfterGroup)for(let k=0;k<a.childrenAfterGroup.length;k++){const V=a.childrenAfterGroup[k],se=g||this.filterManager.doesRowPassFilter({rowNode:V});V.childrenAfterGroup?s(a.childrenAfterGroup[k],se):i(V,se)}i(a,g)};t.executeFromRootNode(a=>s(a,!1))}else t.forEachChangedNodeDepthFirst(r=>i(r,!1),!0)}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},class extends ut{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),i=kt(t)&&t.length>0,s=i&&kt(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=t.some(a=>Ir(this.gos)?a.column.isPrimary()&&a.column.isRowGroupActive():!!a.column.getColDef().showRowGroup);this.sortService.sort(t,i,s,e.rowNodeTransactions,e.changedPath,r)}},class extends ut{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,i=[],s=this.columnModel.isPivotMode(),r=s&&t.leafGroup,a=r?[t]:t.childrenAfterSort,g=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(g,a,i,s,0),!r&&i.length>0&&g.grandTotalRow&&(t.createFooter(),this.addRowNodeToRowsToDisplay(g,t.sibling,i,0,"top"===g.grandTotalRow)),i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:uf(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:cf(this.gos),groupTotalRow:df(this.gos)}}recursivelyAddToRowsToDisplay(e,t,i,s,r){if(!Ws(t))for(let a=0;a<t.length;a++){const g=t[a],k=g.hasChildren(),se=e.groupRemoveSingleChildren&&k&&1===g.childrenAfterGroup.length,ne=e.groupRemoveLowestSingleChildren&&k&&g.leafGroup&&1===g.childrenAfterGroup.length;if(!(s&&!k)&&!(e.hideOpenParents&&g.expanded&&!g.master&&(!s||!g.leafGroup))&&!se&&!ne&&this.addRowNodeToRowsToDisplay(e,g,i,r),!s||!g.leafGroup)if(k){const Ae=se||ne;if(g.expanded||Ae){const Ee=e.groupTotalRow({node:g});Ee||g.destroyFooter();const Te=Ae?r:r+1;"top"===Ee&&(g.createFooter(),this.addRowNodeToRowsToDisplay(e,g.sibling,i,Te)),this.recursivelyAddToRowsToDisplay(e,g.childrenAfterSort,i,s,Te),"bottom"===Ee&&(g.createFooter(),this.addRowNodeToRowsToDisplay(e,g.sibling,i,Te))}}else if(g.master&&g.expanded){const Ae=this.createDetailNode(g);this.addRowNodeToRowsToDisplay(e,Ae,i,r)}}}addRowNodeToRowsToDisplay(e,t,i,s,r){r?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:s)}createDetailNode(e){if(kt(e.detailNode))return e.detailNode;const t=new so(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,kt(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},class extends ut{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,s,r,a){const g=this.gos.get("groupMaintainOrder"),k=this.columnModel.getCols().some(Ce=>Ce.isRowGroupActive());let V={};i&&s&&(V=this.calculateDirtyNodes(s));const se=this.columnModel.isPivotMode(),ne=this.gos.getCallback("postSortRows");r&&r.forEachChangedNodeDepthFirst(Ce=>{this.pullDownGroupDataForHideOpenParents(Ce.childrenAfterAggFilter,!0);const ke=se&&Ce.leafGroup;if(g&&k&&!Ce.leafGroup&&!a){const Te=null===this.funcColsService.getRowGroupColumns()?.[Ce.level+1]?.getSort(),Ie=Ce.childrenAfterAggFilter.slice(0);if(Ce.childrenAfterSort&&!Te){const Be={};Ce.childrenAfterSort.forEach((Le,Ye)=>{Be[Le.id]=Ye}),Ie.sort((Le,Ye)=>(Be[Le.id]??0)-(Be[Ye.id]??0))}Ce.childrenAfterSort=Ie}else Ce.childrenAfterSort=!t||ke?Ce.childrenAfterAggFilter.slice(0):i?this.doDeltaSort(Ce,V,r,e):this.rowNodeSorter.doFullSort(Ce.childrenAfterAggFilter,e);Ce.sibling&&(Ce.sibling.childrenAfterSort=Ce.childrenAfterSort),this.updateChildIndexes(Ce),ne&&ne({nodes:Ce.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){const t={},i=s=>{s&&s.forEach(r=>t[r.id]=!0)};return e&&e.forEach(s=>{i(s.add),i(s.update),i(s.remove)}),t}doDeltaSort(e,t,i,s){const r=e.childrenAfterAggFilter,a=e.childrenAfterSort;if(!a)return this.rowNodeSorter.doFullSort(r,s);const g={},k=[];r.forEach(fe=>{t[fe.id]||!i.canSkip(fe)?k.push(fe):g[fe.id]=!0});const V=a.filter(fe=>g[fe.id]),se=(fe,Ce)=>({currentPos:Ce,rowNode:fe}),ne=k.map(se).sort((fe,Ce)=>this.rowNodeSorter.compareRowNodes(s,fe,Ce));return this.mergeSortedArrays(s,ne,V.map(se)).map(({rowNode:fe})=>fe)}mergeSortedArrays(e,t,i){const s=[];let r=0,a=0;for(;r<t.length&&a<i.length;)this.rowNodeSorter.compareRowNodes(e,t[r],i[a])<0?s.push(t[r++]):s.push(i[a++]);for(;r<t.length;)s.push(t[r++]);for(;a<i.length;)s.push(i[a++]);return s}updateChildIndexes(e){if(ai(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const s=t[i],a=i===e.childrenAfterSort.length-1;s.setFirstChild(0===i),s.setLastChild(a),s.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return mt("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(s=>{s.hasChildren()&&t(s)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||ai(e)||e.forEach(i=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach(r=>{const a=r.getColDef().showRowGroup;if("string"!=typeof a)return void ni("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const k=this.columnModel.getColDefCol(a);if(k!==i.rowGroupColumn)if(t)i.setGroupValue(r.getId(),void 0);else{const se=this.getFirstChildOfFirstChild(i,k);se&&i.setGroupValue(r.getId(),se.key)}})})}getFirstChildOfFirstChild(e,t){let i=e;for(;i;){const s=i.parent;if(!s||!i.firstChild)return null;if(s.rowGroupColumn===t)return s;i=s}return null}},class extends ut{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){Oi(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const i=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:s,rowsInserted:r}=i.updateRowData(t);let a=!1;this.gos.get("suppressMaintainUnsortedOrder")||(a=i.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(s,a||r)}createTransactionForRowData(e){if(!Oi(this.gos))return ni("ImmutableService only works with ClientSideRowModel"),null;const t=kn(this.gos);if(null==t)return ni("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),s=[],r=[],a=[];return kt(e)&&e.forEach(g=>{const k=t({data:g,level:0}),V=i[k];V?(V.data!==g&&r.push(g),i[k]=void 0):a.push(g)}),dr(i,(g,k)=>{k&&s.push(k.data)}),{remove:s,update:r,add:a}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}}]},I6={version:Od,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[wm,{version:Od,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[ym],apiFunctions:{onGroupExpandedOrCollapsed:function x6(e){e.expansionService.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function C6(e,t){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(t)},isRowDataEmpty:function y6(e){return e.rowModelHelperService?.getClientSideRowModel()?.isEmpty()??!0},forEachLeafNode:function w6(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(t)},forEachNodeAfterFilter:function b6(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function S6(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(t)},resetRowHeights:function k6(e){e.columnModel.isAutoRowHeightActive()?mt("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height."):e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()},applyTransaction:function M6(e,t){return e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(t))},applyTransactionAsync:function E6(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(t,i))},flushAsyncTransactions:function A6(e){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions())},getBestCostNodeSelection:function T6(e){return e.selectionService.getBestCostNodeSelection()}},dependantModules:[wm,d6]}]},B6=class extends ut{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(null==e||!e.length)&&(e=this.getDefaultFileName()),-1===e.indexOf(".")?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},N6=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:i,columnNameService:s,valueService:r,gos:a,processCellCallback:g,processHeaderCallback:k,processGroupHeaderCallback:V,processRowGroupCallback:se}=e;this.columnModel=t,this.funcColsService=i,this.columnNameService=s,this.valueService=r,this.gos=a,this.processCellCallback=g,this.processHeaderCallback=k,this.processGroupHeaderCallback=V,this.processRowGroupCallback=se}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,s,r){const g=this.gos.get("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,e,t)?this.valueService.getValue(e,r):this.createValueForGroupNode(e,r);return this.processCell({accumulatedRowIndex:i,rowNode:r,column:e,value:g,processCellCallback:this.processCellCallback,type:s})}shouldRenderGroupSummaryCell(e,t,i){if(!e||!e.group)return!1;if(-1!==this.groupColumns.indexOf(t)){if(null!=e.groupData?.[t.getId()]||Zr(this.gos)&&e.group)return!0;if(e.footer&&-1===e.level){const g=t.getColDef();return null==g||!0===g.showRowGroup||g.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const a=yl(this.gos,this.columnModel.isPivotMode());return 0===i&&a}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const i=this.gos.get("treeData"),s=this.gos.get("suppressGroupMaintainValueType"),r=V=>{if(i||s)return V.key;const se=V.groupData?.[e.getId()];return se&&V.rowGroupColumn&&!1!==V.rowGroupColumn.getColDef().useValueFormatterForExport?this.valueService.formatValue(V.rowGroupColumn,V,se)??se:se},a=t.footer,g=[r(t)];if(!uf(this.gos))for(;t.parent;)g.push(r(t=t.parent));const k=g.reverse().join(" -> ");return a?`Total ${k}`:k}processCell(e){const{accumulatedRowIndex:t,rowNode:i,column:s,value:r,processCellCallback:a,type:g}=e;return a?{value:a(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:s,node:i,value:r,type:g,parseValue:k=>this.valueService.parseValue(s,i,k,this.valueService.getValue(s,i)),formatValue:k=>this.valueService.formatValue(s,i,k)??k}))??""}:!1!==s.getColDef().useValueFormatterForExport?{value:r??"",valueFormatted:this.valueService.formatValue(s,i,r)}:{value:r??""}}},G6=class{static download(e,t){const i=document.defaultView||window;if(!i)return void mt("There is no `window` associated with the current `document`");const s=document.createElement("a"),r=i.URL.createObjectURL(t);s.setAttribute("href",r),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(s),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}},z6=class extends N6{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,s)=>{0!==s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,s){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(s)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){0!=t&&(this.result+=this.columnSeparator);const s=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(s.valueFormatted??s.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null==e)return'""';let t;return"string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(mt("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}},Id="32.2.1",Sm={version:Id,moduleName:"@ag-grid-community/csv-export-core",beans:[class extends B6{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void mt("Export cancelled. Export is not allowed as per your configuration.");const t=this.getMergedParams(e),i=this.getData(t),s=new Blob(["\ufeff",i],{type:"text/plain"}),r="function"==typeof t.fileName?t.fileName(this.gos.getGridCommonParams()):t.fileName;G6.download(this.getFileName(r),s)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:i,funcColsService:s,valueService:r,gos:a}=this,{processCellCallback:g,processHeaderCallback:k,processGroupHeaderCallback:V,processRowGroupCallback:se,suppressQuotes:ne,columnSeparator:fe}=e;return new z6({columnModel:t,columnNameService:i,funcColsService:s,valueService:r,gos:a,processCellCallback:g||void 0,processHeaderCallback:k||void 0,processGroupHeaderCallback:V||void 0,processRowGroupCallback:se||void 0,suppressQuotes:ne||!1,columnSeparator:fe||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}},class extends ut{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:i,columnKeys:s,skipRowGroups:r}=t,a=this.getColumnsToExport(i,r,s);return function zE(...e){return t=>e.reduce((i,s)=>s(i),t)}(this.prepareSession(a),this.prependContent(t),this.exportColumnGroups(t,a),this.exportHeaders(t,a),this.processPinnedTopRows(t,a),this.processRows(t,a),this.processPinnedBottomRows(t,a),this.appendContent(t))(e).parse()}processRow(e,t,i,s){const r=t.shouldRowBeSkipped||(()=>!1),a=this.gos.get("groupRemoveSingleChildren"),g=this.gos.get("groupRemoveLowestSingleChildren"),V=null!=t.rowPositions||!!t.onlySelected,se=this.gos.get("groupHideOpenParents")&&!V,ne=this.columnModel.isPivotMode()?s.leafGroup:!s.group,fe=!!s.footer,Ce=g&&s.leafGroup;if(!ne&&!fe&&(t.skipRowGroups||1===s.allChildrenCount&&1===s.childrenAfterGroup?.length&&(a||Ce)||se)||t.onlySelected&&!s.isSelected()||t.skipPinnedTop&&"top"===s.rowPinned||t.skipPinnedBottom&&"bottom"===s.rowPinned||-1===s.level&&!ne&&!fe||r(this.gos.addGridCommonParams({node:s})))return;const Te=e.onNewBodyRow(s);if(i.forEach((Ie,Be)=>{Te.onColumn(Ie,Be,s)}),t.getCustomContentBelowRow){const Ie=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:s}));Ie&&e.addCustomContent(Ie)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const s=new Tf,r=this.visibleColsService.createGroups({columns:t,idCreator:s,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const s=i.onNewHeaderRow();t.forEach((r,a)=>{s.onColumn(r,a,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>"top"===r.rowPinned).sort((r,a)=>r.rowIndex-a.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(s):this.pinnedRowModel.forEachPinnedRow("top",s),i}}processRows(e,t){return i=>{const s=this.rowModel,r=Oi(this.gos),a=Zr(this.gos),g=!r&&e.onlySelected,k=this.processRow.bind(this,i,e,t),{exportedRows:V="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(se=>null==se.rowPinned).sort((se,ne)=>se.rowIndex-ne.rowIndex).map(se=>s.getRow(se.rowIndex)).forEach(k);else if(this.columnModel.isPivotMode())r?s.forEachPivotNode(k,!0):a?s.forEachNodeAfterFilterAndSort(k,!0):s.forEachNode(k);else if(e.onlySelectedAllPages||g){const se=this.selectionService.getSelectedNodes();this.replicateSortedOrder(se),se.forEach(k)}else"all"===V?s.forEachNode(k):r||a?s.forEachNodeAfterFilterAndSort(k,!0):s.forEachNode(k);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(s,r)=>null!=s.rowIndex&&null!=r.rowIndex?s.rowIndex-r.rowIndex:s.level===r.level?s.parent?.id===r.parent?.id?this.rowNodeSorter.compareRowNodes(t,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):i(s.parent,r.parent):s.level>r.level?i(s.parent,r):i(s,r.parent);e.sort(i)}processPinnedBottomRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>"bottom"===r.rowPinned).sort((r,a)=>r.rowIndex-a.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(s):this.pinnedRowModel.forEachPinnedRow("bottom",s),i}}getColumnsToExport(e=!1,t=!1,i){const s=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);const r=this.gos.get("treeData");let a=[];return a=e&&!s?this.columnModel.getCols():this.visibleColsService.getAllCols(),t&&!r&&(a=a.filter(g=>Fc(g)||An(g))),a}recursivelyAddHeaderGroups(e,t,i){const s=[];e.forEach(r=>{r.getChildren&&r.getChildren().forEach(g=>s.push(g))}),e.length>0&&$i(e[0])&&this.doAddHeaderHeader(t,e,i),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,t,i)}doAddHeaderHeader(e,t,i){const s=e.onNewHeaderGroupingRow();let r=0;t.forEach(a=>{const g=a;let k;k=i?i(this.gos.addGridCommonParams({columnGroup:g})):this.columnNameService.getDisplayNameForColumnGroup(g,"header");const V=g.getLeafColumns().reduce((se,ne,fe,Ce)=>{let ke=li(se);return"open"===ne.getColumnGroupShow()?(!ke||null!=ke[1])&&(ke=[fe],se.push(ke)):ke&&null==ke[1]&&(ke[1]=fe-1),fe===Ce.length-1&&ke&&null==ke[1]&&(ke[1]=fe),se},[]);s.onColumn(g,k||"",r++,g.getLeafColumns().length-1,V)})}}]},X6={version:Id,moduleName:"@ag-grid-community/csv-export",dependantModules:[Sm,{version:Id,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:function H6(e,t){return e.csvCreator?.getDataAsCsv(t)},exportDataAsCsv:function W6(e,t){e.csvCreator?.exportDataAsCsv(t)}},dependantModules:[Sm]}]},Y6=function(){var e=(0,Y.A)(function*(t){let i=0;const s=[],r=new WritableStream({write:k=>{s.push(k),i+=k.length}}),a=new ReadableStream({start:k=>{const V=new FileReader;V.onload=se=>{se.target?.result&&k.enqueue(se.target.result),k.close()},V.readAsArrayBuffer(t)}}),g=new window.CompressionStream("deflate-raw");return yield a.pipeThrough(g).pipeTo(r),{size:i,content:new Blob(s)}});return function(i){return e.apply(this,arguments)}}(),$6=function(){var e=(0,Y.A)(function*(t){const i=new Blob([t]),{size:s,content:r}=yield Y6(i);return{size:s,content:new Uint8Array(yield r.arrayBuffer())}});return function(i){return e.apply(this,arguments)}}();function Es(e,t){let i="";for(let s=0;s<t;s++)i+=String.fromCharCode(255&e),e>>>=8;return i}var Em=e=>e.length?(e=>{if(!e.length)return 0;let t=-1,i=0,s=0,r=0;for(let a=0;a<e.length;a++)i=e[a],s=255&(t^i),r=Z6[s],t=t>>>8^r;return-1^t})("string"==typeof e?(new TextEncoder).encode(e):e):0,Z6=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Am=(e,t,i,s,r,a)=>{const{content:g,path:k,created:V}=e,se=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(V),ne=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(V),fe=Em(r),Ce=void 0!==a?a:s,ke=function CA(e){const t=String.fromCharCode;function r(fe,Ce){return t(fe>>Ce&63|128)}function a(fe){if(!(4294967168&fe))return t(fe);let Ce="";return 4294965248&fe?4294901760&fe?4292870144&fe||(Ce=t(fe>>18&7|240),Ce+=r(fe,12),Ce+=r(fe,6)):(function s(fe){if(fe>=55296&&fe<=57343)throw Error("Lone surrogate U+"+fe.toString(16).toUpperCase()+" is not a scalar value")}(fe),Ce=t(fe>>12&15|224),Ce+=r(fe,6)):Ce=t(fe>>6&31|192),Ce+=t(63&fe|128),Ce}const g=function i(fe){const Ce=[];if(!fe)return[];const ke=fe.length;let Ee,Te,Ae=0;for(;Ae<ke;)Ee=fe.charCodeAt(Ae++),Ee>=55296&&Ee<=56319&&Ae<ke?(Te=fe.charCodeAt(Ae++),56320==(64512&Te)?Ce.push(((1023&Ee)<<10)+(1023&Te)+65536):(Ce.push(Ee),Ae--)):Ce.push(Ee);return Ce}(e),k=g.length;let se,V=-1,ne="";for(;++V<k;)se=g[V],ne+=a(se);return ne}(k),Ae=ke!==k;let Ee="";if(Ae){const Le=Es(1,1)+Es(Em(ke),4)+ke;Ee="up"+Es(Le.length,2)+Le}const Te="\x14\0"+(Ae?"\0\b":"\0\0")+Es(t?8:0,2)+Es(se,2)+Es(ne,2)+Es(Ce?fe:0,4)+Es(a??s,4)+Es(s,4)+Es(ke.length,2)+Es(Ee.length,2),Ie="PK\x03\x04"+Te+ke+Ee,Be="PK\x01\x02\x14\0"+Te+"\0\0\0\0\0\0"+(g?"\0\0\0\0":"\x10\0\0\0")+Es(i,4)+ke+Ee;return{localFileHeader:Uint8Array.from(Ie,Le=>Le.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(Be,Le=>Le.charCodeAt(0))}},Tm=e=>{let t;if("string"==typeof e){const i=atob(e.split(";base64,")[1]);t=Uint8Array.from(i,s=>s.charCodeAt(0))}else t=e;return{size:t.length,content:t}},Q6=function(){var e=(0,Y.A)(function*(t,i){const{content:s}=t,{size:r,content:a}=s?Tm(s):{size:0,content:Uint8Array.from([])};let g,k,V=!1;if("file"===t.type&&a&&r>0){const fe=yield $6(a);g=fe.content,k=fe.size,V=!0}return{...Am(t,V,i,r,a,k),content:g||a,isCompressed:V}});return function(i,s){return e.apply(this,arguments)}}(),J6=(e,t)=>{const{content:i}=e,{content:s}=i?Tm(i):{content:Uint8Array.from([])};return{...Am(e,!1,t,s.length,s,void 0),content:s,isCompressed:!1}},Pm=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t,i=!1){this.files.push({path:e,created:new Date,content:i?t:(new TextEncoder).encode(t),isBase64:i,type:"file"})}static getZipFile(e="application/zip"){var t=this;return(0,Y.A)(function*(){const i=yield t.buildCompressedFileStream();return t.clearStream(),new Blob([i],{type:e})})()}static getUncompressedZipFile(e="application/zip"){const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let t=0,i=0;for(const se of e){const{localFileHeader:ne,centralDirectoryHeader:fe,content:Ce}=se;t+=ne.length+Ce.length,i+=fe.length}const s=new Uint8Array(t),r=new Uint8Array(i);let a=0,g=0;for(const se of e){const{localFileHeader:ne,centralDirectoryHeader:fe,content:Ce}=se;s.set(ne,a),a+=ne.length,s.set(Ce,a),a+=Ce.length,r.set(fe,g),g+=fe.length}const k=((e,t,i)=>{const s="PK\x05\x06\0\0\0\0"+Es(e,2)+Es(e,2)+Es(t,4)+Es(i,4)+"\0\0";return Uint8Array.from(s,r=>r.charCodeAt(0))})(e.length,i,t),V=new Uint8Array(s.length+r.length+k.length);return V.set(s),V.set(r,s.length),V.set(k,s.length+r.length),V}static buildCompressedFileStream(){var e=this;return(0,Y.A)(function*(){const t=[...e.folders,...e.files],i=[];let s=0;for(const r of t){const a=yield Q6(r,s),{localFileHeader:g,content:k}=a;i.push(a),s+=g.length+k.length}return e.packageFiles(i)})()}static buildFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const s of e){const r=J6(s,i),{localFileHeader:a,content:g}=r;t.push(r),i+=a.length+g.length}return this.packageFiles(t)}};Pm.folders=[],Pm.files=[];var t4=class extends $D{wireBeans(e){this.beans=e}constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){kt(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();ai(this.params.datasource.getRows)?mt("datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach((s,r)=>{this.startRow+r<i&&e(s,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){return t||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new so(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,s)=>{const r=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&r&&(this.rowNodes[s]=new so(this.beans),this.rowNodes[s].setRowIndex(i.rowIndex),this.rowNodes[s].setRowTop(i.rowTop),this.rowNodes[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[s],r,this.startRow+s)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},s4=class extends ut{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const i=Math.floor(e/this.params.blockSize);let s=this.blocks[i];if(!s){if(t)return;s=this.createBlock(i)}return s.getRow(e)}createBlock(e){const t=this.createBean(new t4(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){0!=this.blockCount?(this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()):this.purgeCache()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&cr(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(g=>g!=e);t.sort((g,k)=>k.getLastAccessed()-g.getLastAccessed());const s=this.params.maxBlocksInCache>0,r=s?this.params.maxBlocksInCache-1:null;t.forEach((g,k)=>{if("needsLoading"===g.getState()&&k>=1||s&&k>=r){if(this.isBlockCurrentlyDisplayed(g)||this.isBlockFocused(g))return;this.removeBlockFromCache(g)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||null!=t.rowPinned)return!1;const i=e.getStartRow(),s=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<s}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if("number"==typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const s=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,kt(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new Rn;this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){return xo(this.blocks).sort((i,s)=>i.getId()-s.getId())}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let s=-1,r=!1;const a=new Rn;let g=!1;return this.getBlocksInOrder().forEach(V=>{if(!g){if(r&&s+1!==V.getId())return void(g=!0);s=V.getId(),V.forEachNode(se=>{const ne=se===e||se===t;(r||ne)&&i.push(se),ne&&(r=!r)},a,this.rowCount)}}),g||r?[]:i}},Bd="32.2.1",Rm={version:Bd,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[class extends ut{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){"infinite"===this.gos.get("rowModelType")&&(this.rowHeight=Vo(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&mt("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Vo(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!pa(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){this.datasource&&(null!=kn(this.gos)||this.selectionService.reset("rowDataChanged"),this.resetCache())}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:Vo(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new Rn},this.infiniteCache=this.createBean(new s4(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}}],dependantModules:[qD]};"object"!=typeof window||!window||"object"!=typeof document||(window,document),io.__registerModules([gm,I6,{version:Bd,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[Rm,{version:Bd,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[ym],apiFunctions:{refreshInfiniteCache:function o4(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()},purgeInfiniteCache:function n4(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()},getInfiniteRowCount:function a4(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}},dependantModules:[Rm,u6]}]},X6],!1,void 0);let Um=(()=>{class e extends p6{setViewContainerRef(i,s){this.viewContainerRef=i,this.angularFrameworkOverrides=s}createWrapper(i){const s=this.angularFrameworkOverrides,r=this,g=new class a extends $4{init(V){s.runInsideAngular(()=>{super.init(V),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return s.runInsideAngular(()=>r.createComponent(i))}hasMethod(V){return null!=g.getFrameworkComponentInstance()[V]}callMethod(V,se){const ne=this.getFrameworkComponentInstance();return s.runInsideAngular(()=>g.getFrameworkComponentInstance()[V].apply(ne,se))}addMethod(V,se){g[V]=se}};return g}createComponent(i){return this.viewContainerRef.createComponent(i)}static#e=this.\u0275fac=function(){let i;return function(r){return(i||(i=Z.xGo(e)))(r||e)}}();static#t=this.\u0275prov=Z.jDH({token:e,factory:e.\u0275fac})}return e})();class $4{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,Sr(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let Xm=(()=>{class e extends J0{constructor(i){super("angular"),this._ngZone=i,this.isRunningWithinTestZone=!1,this.wrapIncoming=(s,r)=>this.runOutside(s,r),this.wrapOutgoing=s=>this.runInsideAngular(s),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this.runOutside=this._ngZone?this.isRunningWithinTestZone?(s,r)=>"resize-observer"===r||"popupPositioning"===r?this._ngZone.runOutsideAngular(s):s():s=>this._ngZone.runOutsideAngular(s):s=>s()}get shouldWrapOutgoing(){return this._ngZone&&Z.SKi.isInAngularZone()}isFrameworkComponent(i){if(!i)return!1;const s=i.prototype;return s&&"agInit"in s}runInsideAngular(i){return this._ngZone?this._ngZone.run(i):i()}runOutsideAngular(i,s){return this.runOutside(i,s)}static#e=this.\u0275fac=function(s){return new(s||e)(Z.KVO(Z.SKi))};static#t=this.\u0275prov=Z.jDH({token:e,factory:e.\u0275fac})}return e})(),Ym=(()=>{class e{constructor(i,s,r,a){this.viewContainerRef=s,this.angularFrameworkOverrides=r,this.frameworkComponentWrapper=a,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(g=>{this._resolveFullyReady=g}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new Z.bkB,this.toolPanelSizeChanged=new Z.bkB,this.columnMenuVisibleChanged=new Z.bkB,this.contextMenuVisibleChanged=new Z.bkB,this.cutStart=new Z.bkB,this.cutEnd=new Z.bkB,this.pasteStart=new Z.bkB,this.pasteEnd=new Z.bkB,this.columnVisible=new Z.bkB,this.columnPinned=new Z.bkB,this.columnResized=new Z.bkB,this.columnMoved=new Z.bkB,this.columnValueChanged=new Z.bkB,this.columnPivotModeChanged=new Z.bkB,this.columnPivotChanged=new Z.bkB,this.columnGroupOpened=new Z.bkB,this.newColumnsLoaded=new Z.bkB,this.gridColumnsChanged=new Z.bkB,this.displayedColumnsChanged=new Z.bkB,this.virtualColumnsChanged=new Z.bkB,this.columnEverythingChanged=new Z.bkB,this.columnHeaderMouseOver=new Z.bkB,this.columnHeaderMouseLeave=new Z.bkB,this.columnHeaderClicked=new Z.bkB,this.columnHeaderContextMenu=new Z.bkB,this.componentStateChanged=new Z.bkB,this.cellValueChanged=new Z.bkB,this.cellEditRequest=new Z.bkB,this.rowValueChanged=new Z.bkB,this.cellEditingStarted=new Z.bkB,this.cellEditingStopped=new Z.bkB,this.rowEditingStarted=new Z.bkB,this.rowEditingStopped=new Z.bkB,this.undoStarted=new Z.bkB,this.undoEnded=new Z.bkB,this.redoStarted=new Z.bkB,this.redoEnded=new Z.bkB,this.cellSelectionDeleteStart=new Z.bkB,this.cellSelectionDeleteEnd=new Z.bkB,this.rangeDeleteStart=new Z.bkB,this.rangeDeleteEnd=new Z.bkB,this.fillStart=new Z.bkB,this.fillEnd=new Z.bkB,this.filterOpened=new Z.bkB,this.filterChanged=new Z.bkB,this.filterModified=new Z.bkB,this.advancedFilterBuilderVisibleChanged=new Z.bkB,this.chartCreated=new Z.bkB,this.chartRangeSelectionChanged=new Z.bkB,this.chartOptionsChanged=new Z.bkB,this.chartDestroyed=new Z.bkB,this.cellKeyDown=new Z.bkB,this.gridReady=new Z.bkB,this.firstDataRendered=new Z.bkB,this.gridSizeChanged=new Z.bkB,this.modelUpdated=new Z.bkB,this.virtualRowRemoved=new Z.bkB,this.viewportChanged=new Z.bkB,this.bodyScroll=new Z.bkB,this.bodyScrollEnd=new Z.bkB,this.dragStarted=new Z.bkB,this.dragStopped=new Z.bkB,this.dragCancelled=new Z.bkB,this.stateUpdated=new Z.bkB,this.paginationChanged=new Z.bkB,this.rowDragEnter=new Z.bkB,this.rowDragMove=new Z.bkB,this.rowDragLeave=new Z.bkB,this.rowDragEnd=new Z.bkB,this.rowDragCancel=new Z.bkB,this.columnRowGroupChanged=new Z.bkB,this.rowGroupOpened=new Z.bkB,this.expandOrCollapseAll=new Z.bkB,this.pivotMaxColumnsExceeded=new Z.bkB,this.pinnedRowDataChanged=new Z.bkB,this.rowDataUpdated=new Z.bkB,this.asyncTransactionsFlushed=new Z.bkB,this.storeRefreshed=new Z.bkB,this.headerFocused=new Z.bkB,this.cellClicked=new Z.bkB,this.cellDoubleClicked=new Z.bkB,this.cellFocused=new Z.bkB,this.cellMouseOver=new Z.bkB,this.cellMouseOut=new Z.bkB,this.cellMouseDown=new Z.bkB,this.rowClicked=new Z.bkB,this.rowDoubleClicked=new Z.bkB,this.rowSelected=new Z.bkB,this.selectionChanged=new Z.bkB,this.cellContextMenu=new Z.bkB,this.rangeSelectionChanged=new Z.bkB,this.cellSelectionChanged=new Z.bkB,this.tooltipShow=new Z.bkB,this.tooltipHide=new Z.bkB,this.sortChanged=new Z.bkB,this._nativeElement=i.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);const i=function PA(e,t){"object"!=typeof e&&(e={});const i={...e};return Ca.ALL_PROPERTIES_AND_CALLBACKS.forEach(r=>{const a=t[r];typeof a<"u"&&a!==Ca.VUE_OMITTED_PROPERTY&&(i[r]=a)}),i}(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};const s=function s6(e,t,i){if(!t)return ni("No gridOptions provided to createGrid"),{};const s=(new class{create(e,t,i,s,r){const g=function II(e){const t={};return Object.entries(e).forEach(([i,s])=>{const r=fm(i,s);t[i]=r}),t}(Zl.applyGlobalGridOptions(t)),k=g.gridId??String(r6++),V=this.getRegisteredModules(r,k),se=this.createBeansList(g.rowModelType,V,k),ne=this.createProvidedBeans(e,g,r);if(!se)return void ni("Failed to create grid.");const Ce=new YT({providedBeanInstances:ne,beanClasses:se,gridId:k,beanInitComparator:CF,beanDestroyComparator:yF,derivedBeans:[cF]});return this.registerModuleUserComponents(Ce,V),this.registerControllers(Ce,V),this.registerModuleApiFunctions(Ce,V),i(Ce),Ce.getBean("syncService").start(),s&&s(Ce),Ce.getBean("gridApi")}registerControllers(e,t){const i=e.getBean("ctrlsFactory");t.forEach(s=>{s.controllers&&s.controllers.forEach(r=>i.register(r))})}getRegisteredModules(e,t){const i=e?e.modules:null,s=io.__getRegisteredModules(t),r=[],a={},g=(k,V,se)=>{var fe;a[(fe=V).moduleName]||(a[fe.moduleName]=!0,r.push(fe),io.__register(fe,k,se)),V.dependantModules&&V.dependantModules.forEach(fe=>g(k,fe,se))};return g(!!i?.length||!io.__isPackageBased(),gm,void 0),i&&i.forEach(k=>g(!0,k,t)),s&&s.forEach(k=>g(!io.__isPackageBased(),k,void 0)),r}registerModuleUserComponents(e,t){const i=this.extractModuleEntity(t,r=>r.userComponents?r.userComponents:[]),s=e.getBean("userComponentRegistry");i.forEach(({name:r,classImp:a,params:g})=>{s.registerDefaultComponent(r,a,g)})}registerModuleApiFunctions(e,t){const i=e.getBean("apiFunctionService");t.forEach(s=>{const r=s.apiFunctions;r&&Object.keys(r).forEach(g=>{i?.addFunction(g,r[g])})})}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;ai(s)&&(s=new J0);const r={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createBeansList(e="clientSide",t,i){const s=t.filter(V=>!V.rowModel||V.rowModel===e),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[e])return void ni("Could not find row model for rowModelType = ",e);if(!io.__assertRegistered(r[e],`rowModelType = '${e}'`,i))return;const a=[MF,SF,NI,FI,hF,AT,mF,vF,eD,t0,YI,QR,GI,XD,t3,MA,TF,BI,oF,vm,dA,mP,HI,_I,VD,e6,cA,ZR,t6,i6,WD,JR,ZT,PF,qR,EF,aF,QD,KR,qI,VI,jI,KI,JI,tD,dF,XI,$I,bF,RF,kF,wF,ZI,UI,sD,zI,WI,rD,fA,uF,mA,pA,pF,gF,kA,gA,bA,fF,SA,oA],g=this.extractModuleEntity(s,V=>V.beans?V.beans:[]);a.push(...g);const k=[];return a.forEach(V=>{k.indexOf(V)<0&&k.push(V)}),k}extractModuleEntity(e,t){return[].concat(...e.map(t))}}).create(e,t,r=>{const a=new am(e);r.createBean(a)},void 0,i);if(!Object.isFrozen(t)&&!i?.frameworkOverrides){const r="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{ni(`gridOptions.api is no longer supported. See ${r}.`)},configurable:!0})}return s}(this._nativeElement,i,this.gridParams);s&&(this.api=s),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(i){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{const s={};Object.entries(i).forEach(([r,a])=>{s[r]=a.currentValue}),function RA(e,t){if(!e)return;const i={};let s=!1;if(Object.keys(e).filter(g=>Ca.ALL_PROPERTIES_AND_CALLBACKS_SET.has(g)).forEach(g=>{i[g]=e[g],s=!0}),!s)return;t.dispatchEvent({type:"gridOptionsChanged",options:i});const a={type:"componentStateChanged"};dr(i,(g,k)=>{a[g]=k}),t.dispatchEvent(a)}(s,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(i){const r=this[i],a=r?.observed??r?.observers?.length>0,g=`on${i.charAt(0).toUpperCase()}${i.substring(1)}`;return a||!!this.gridOptions&&!!this.gridOptions[g]}globalEventListener(i,s){if(this._destroyed)return;const r=this[i];if(r&&this.isEmitterUsed(i)){const a=()=>this.angularFrameworkOverrides.runInsideAngular(()=>r.emit(s));this._holdEvents?this._fullyReady.then(()=>a()):a()}}static#e=this.\u0275fac=function(s){return new(s||e)(Z.rXU(Z.aKT),Z.rXU(Z.c1b),Z.rXU(Xm),Z.rXU(Um))};static#t=this.\u0275cmp=Z.VBU({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",enableStrictPivotColumnOrder:"enableStrictPivotColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressMoveWhenColumnDragging:"suppressMoveWhenColumnDragging",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:"applyQuickFilterBeforePivotOrAgg",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:"suppressAdvancedFilterEval",suppressSetFilterByDefault:"suppressSetFilterByDefault",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",loading:"loading",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",suppressServerSideFullWidthLoadingRow:"suppressServerSideFullWidthLoadingRow",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",selectionColumnDef:"selectionColumnDef",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:"enableGroupEdit",initialState:"initialState",theme:"theme",loadThemeGoogleFonts:"loadThemeGoogleFonts",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},standalone:!0,features:[Z.Jv_([Xm,Um]),Z.OA$,Z.aNF],decls:0,vars:0,template:function(s,r){},encapsulation:2})}return e})(),K4=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Z.$C({type:e});static#i=this.\u0275inj=Z.G2t({})}return e})(),q4=(()=>{class e{constructor(i){this.spinner=i,this.dataarrayobj=[],this.rowData=[],this.columnDefs=[],this.usergroup=[],this.mailmsg="",this.admin="",this.isadmin=!1,this.xlsxdataarrayobj=[],this.rowGroupPanelShow="always",this.autoGroupColumnDef={minWidth:200},this.defaultColDef={flex:1,minWidth:300,sortable:!0,resizable:!0,maxWidth:500,editable:!1,enableRowGroup:!0,floatingFilter:!0},this.gridOptions={},this.gridOptions.rowClass="custom-row-class"}ngOnChanges(){this.rowData=this.spendlist,console.log(this.rowData)}ngOnInit(){this.columnDefs=[{headerName:"Id",field:"id",filter:"agTextColumnFilter",initialWidth:100,minWidth:160,maxWidth:300},{headerName:"Material",cellStyle:i=>"Credit"==i.value?{color:"white",backgroundColor:"green",fontWeight:"bold"}:null,field:"matname",filter:"agTextColumnFilter",initialWidth:100,minWidth:200,maxWidth:300},{headerName:"Materialgroup",field:"matgroup",cellStyle:i=>"Liability"===i.value?{color:"white",backgroundColor:"red",fontWeight:"bold"}:"Investment"===i.value?{color:"white",backgroundColor:"green",fontWeight:"bold"}:"Liability Give"==i.value?{color:"white",backgroundColor:"lightgreen",fontWeight:"bold"}:"Liability Get"==i.value?{color:"white",backgroundColor:"orange",fontWeight:"bold"}:null,filter:"agTextColumnFilter",initialWidth:100,minWidth:150,maxWidth:300},{headerName:"Price",field:"matprice",cellStyle:i=>i.value>999?{color:"white",backgroundColor:"red",fontWeight:"bold"}:null,filter:"agNumberColumnFilter",initialWidth:150,minWidth:50,maxWidth:300},{headerName:"Balance",field:"matbalance",cellStyle:i=>i.value<2499?{color:"white",backgroundColor:"orange",fontWeight:"bold"}:null,filter:"agNumberColumnFilter",initialWidth:150,minWidth:100,maxWidth:300},{headerName:"Date",field:"date",filter:"agDateColumnFilter",initialWidth:200,minWidth:50,maxWidth:300},{headerName:"Comment",field:"comments",filter:"agTextColumnFilter"}],this.startdate=new Date,this.startdate=new Date(this.startdate.getTime()-864e5),this.enddate=new Date}xlsxwriter(){this.xlsxdataarrayobj=[];let i=0,s=0;const r=new Date;let fe=`${String(r.getDate()).padStart(2,"0")}|${String(r.getMonth()+1).padStart(2,"0")}|${r.getFullYear()} ${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}:${String(r.getSeconds()).padStart(2,"0")}`;if(fe=fe.toString(),""!=this.mailmsg&&null!=this.mailmsg){console.log(this.mailmsg),this.dataarrayobj.filter(Ae=>{Ae.Name==this.mailmsg.Name&&new Date(Ae.Date)>=this.startdate&&new Date(Ae.Date)<=this.enddate&&(i=Ae.AccountBalance,s=Ae.InhandBalance,"Give"==Ae.Liabilitystatus?Ae.Materialgroup="Liability Give":"Get"==Ae.Liabilitystatus&&(Ae.Materialgroup="Liability Get"),this.xlsxdataarrayobj.push(Ae))}),console.log(this.xlsxdataarrayobj);const Ce=gc.json_to_sheet(this.xlsxdataarrayobj),ke=gc.book_new();gc.book_append_sheet(ke,Ce,"Sheet1"),function bE(e,t,i){var s=i||{};s.type="file",s.file=t,function cc(e){if(!e.bookType){var i=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();i.match(/^\.[a-z]+$/)&&(e.bookType=i.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}(s),hc(e,s)}(ke,"data"+fe+".xlsx")}}static#e=this.\u0275fac=function(s){return new(s||e)(Z.rXU(IE.ex))};static#t=this.\u0275cmp=Z.VBU({type:e,selectors:[["app-grid"]],inputs:{spendlist:["Spendlist","spendlist"]},features:[Z.OA$],decls:1,vars:7,consts:[[1,"ag-theme-alpine","m-2",2,"width","99%","height","80vh",3,"rowData","columnDefs","pagination","gridOptions","animateRows","defaultColDef","rowGroupPanelShow"]],template:function(s,r){1&s&&Z.nrm(0,"ag-grid-angular",0),2&s&&Z.Y8G("rowData",r.rowData)("columnDefs",r.columnDefs)("pagination",!0)("gridOptions",r.gridOptions)("animateRows",!0)("defaultColDef",r.defaultColDef)("rowGroupPanelShow",r.rowGroupPanelShow)},dependencies:[Ym]})}return e})();var th=mi(8585),zn=mi(9153),Z4=mi(3339),Q4=mi(7468);const J4=["chartdiv"];let eB=(()=>{class e{constructor(i){this.fb=i,this.data1=[],this.data2=[]}ngOnInit(){(0,Q4.p)({allocations:this.fb.getAllAllocation(),materials:this.fb.getmatgroupAllItems()}).subscribe(({allocations:i,materials:s})=>{this.data1=i,this.data2=s,this.mergeData(),this.createChart()})}ngAfterViewInit(){}mergeData(){this.data1=this.data1.map(i=>{const s=this.data2.find(r=>i.category===r.category);return s?{...i,...s}:i})}createChart(){th.DPo(Z4.A),this.chart=th.vtF(this.chartDiv.nativeElement,zn.C1),this.chart.colors.step=2,this.chart.legend=new zn.s$,this.chart.legend.position="top",this.chart.legend.paddingBottom=20,this.chart.legend.labels.template.maxWidth=95;const i=this.chart.xAxes.push(new zn.a);i.dataFields.category="category",i.renderer.cellStartLocation=.1,i.renderer.cellEndLocation=.9,i.renderer.grid.template.location=0,this.chart.yAxes.push(new zn.FL).min=0,this.chart.data=this.data1,this.createSeries("first","Allocated"),this.createSeries("second","Utilised")}createSeries(i,s){const r=this.chart.series.push(new zn.kW);r.dataFields.valueY=i,r.dataFields.categoryX="category",r.name=s,r.events.on("hidden",this.arrangeColumns.bind(this)),r.events.on("shown",this.arrangeColumns.bind(this));const a=r.bullets.push(new zn.rt);a.interactionsEnabled=!1,a.dy=30,a.label.text="{valueY}",a.label.fill=th.yWT("#ffffff")}arrangeColumns(){const i=this.chart.series.getIndex(0);if(!i||i.dataItems.length<=1)return;const s=this.chart.xAxes.getIndex(0);if(!s)return;const r=i.dataItems.getIndex(0),a=i.dataItems.getIndex(1);if(!r||!a)return;const g=1-s.renderer.cellStartLocation-(1-s.renderer.cellEndLocation),k=s.getX(r,"categoryX"),se=(s.getX(a,"categoryX")-k)/this.chart.series.length*g;if(th.EtT(se)){const ne=this.chart.series.length/2;let fe=0;this.chart.series.each(Ae=>{Ae.isHidden||Ae.isHiding?Ae.dummyData=this.chart.series.indexOf(Ae):(Ae.dummyData=fe,fe++)});const ke=fe/2;this.chart.series.each(Ae=>{const Ee=this.chart.series.indexOf(Ae),Ie=(Ae.dummyData-Ee+ne-ke)*se;Ae.animate({property:"dx",to:Ie},Ae.interpolationDuration,Ae.interpolationEasing),Ae.bulletsContainer.animate({property:"dx",to:Ie},Ae.interpolationDuration,Ae.interpolationEasing)})}}ngOnDestroy(){this.chart&&this.chart.dispose()}static#e=this.\u0275fac=function(s){return new(s||e)(Z.rXU(ce.f))};static#t=this.\u0275cmp=Z.VBU({type:e,selectors:[["app-allocate-chart"]],viewQuery:function(s,r){if(1&s&&Z.GBs(J4,7),2&s){let a;Z.mGM(a=Z.lsd())&&(r.chartDiv=a.first)}},decls:2,vars:0,consts:[[1,"shadow-lg","p-2","m-2",2,"width","99%","height","80vh"],["chartdiv",""]],template:function(s,r){1&s&&Z.nrm(0,"div",0,1)}})}return e})();function tB(e,t){if(1&e&&(Z.j41(0,"div"),Z.nrm(1,"app-summarycard",7),Z.k0s()),2&e){const i=t.$implicit;Z.R7$(1),Z.Y8G("carddetails",i)}}function iB(e,t){if(1&e&&(Z.j41(0,"div"),Z.nrm(1,"app-summarycard",7),Z.k0s()),2&e){const i=t.$implicit;Z.R7$(1),Z.Y8G("carddetails",i)}}function sB(e,t){if(1&e&&(Z.j41(0,"div"),Z.nrm(1,"app-summarycard",7),Z.k0s()),2&e){const i=t.$implicit;Z.R7$(1),Z.Y8G("carddetails",i)}}function rB(e,t){if(1&e&&(Z.j41(0,"div"),Z.nrm(1,"app-summarycard",7),Z.k0s()),2&e){const i=t.$implicit;Z.R7$(1),Z.Y8G("carddetails",i)}}function oB(e,t){if(1&e&&(Z.j41(0,"div"),Z.nrm(1,"app-summarycard",7),Z.k0s()),2&e){const i=t.$implicit;Z.R7$(1),Z.Y8G("carddetails",i)}}function nB(e,t){if(1&e&&(Z.j41(0,"div")(1,"h1",4),Z.EFF(2,"Spend Margin"),Z.k0s(),Z.j41(3,"div",5),Z.DNE(4,tB,2,1,"div",6),Z.k0s(),Z.j41(5,"h1",4),Z.EFF(6,"Invest Margin"),Z.k0s(),Z.j41(7,"div",5),Z.DNE(8,iB,2,1,"div",6),Z.k0s(),Z.j41(9,"h1",4),Z.EFF(10,"Total Spend Margin"),Z.k0s(),Z.j41(11,"div",5),Z.DNE(12,sB,2,1,"div",6),Z.k0s(),Z.j41(13,"h1",4),Z.EFF(14,"Total Invest Margin"),Z.k0s(),Z.j41(15,"div",5),Z.DNE(16,rB,2,1,"div",6),Z.k0s(),Z.j41(17,"h1",4),Z.EFF(18,"Full Margin"),Z.k0s(),Z.j41(19,"div",5),Z.DNE(20,oB,2,1,"div",6),Z.k0s()()),2&e){const i=Z.XpG();Z.R7$(4),Z.Y8G("ngForOf",i.Spendreport),Z.R7$(4),Z.Y8G("ngForOf",i.Investreport),Z.R7$(4),Z.Y8G("ngForOf",i.TotalSpendreport),Z.R7$(4),Z.Y8G("ngForOf",i.TotalInvestreport),Z.R7$(4),Z.Y8G("ngForOf",i.totalreport)}}function aB(e,t){if(1&e&&Z.nrm(0,"app-grid",8),2&e){const i=Z.XpG();Z.Y8G("Spendlist",i.griddata)}}function lB(e,t){1&e&&Z.nrm(0,"app-allocate-chart")}const hB=[{path:"main",component:(()=>{class e{constructor(i){this.fb=i,this.iscard="MARGIN",this.cardsdata=[],this.ischart=!1,this.last1DaysDatainv=[],this.last7DaysDatainv=[],this.last30DaysDatainv=[],this.Spendreport=[],this.Investreport=[],this.totalinvest=0,this.totalspend=0,this.totalreport=[],this.TotalSpendreport=[],this.TotalInvestreport=[]}ngOnInit(){this.fb.getAllspendItems().subscribe(i=>{this.data=i,this.summarizespend(this.data)}),this.fb.getAllinvestItems().subscribe(i=>{this.investdata=i,this.summarizeinvest(this.investdata)}),this.fb.getAllspendItemsgrid().subscribe(i=>{this.griddata=i})}summarizespend(i){let s=[],r=[],a=[];this.filterDataByDate(i,1,s),0==s.length&&(s=[{matprice:"Nil"}]),this.Spendreport.push({...Ne.maxBy(s,"matprice"),heading:"MaxofToday"}),this.TotalSpendreport.push({matprice:Ne.sumBy(s,"matprice"),heading:"Totalof1day"}),this.filterDataByDate(i,7,r),0==r.length&&(r=[{matprice:"Nil"}]),this.Spendreport.push({...Ne.maxBy(r,"matprice"),heading:"Maxof7days"}),this.TotalSpendreport.push({matprice:Ne.sumBy(r,"matprice"),heading:"Totalof7days"}),this.filterDataByDate(i,30,a),0==a.length&&(a=[{matprice:"Nil"}]),this.Spendreport.push({...Ne.maxBy(a,"matprice"),heading:"Maxof30days"}),this.TotalSpendreport.push({matprice:Ne.sumBy(a,"matprice"),heading:"Totalof30days"}),0==this.Spendreport.length&&(this.Spendreport=[{matprice:0}]),this.Spendreport.push({...Ne.maxBy(i,"matprice"),heading:"MaxofAlltime"}),this.totalreport.push({matprice:Ne.sumBy(i,"matprice"),heading:"Total Spend"}),console.log(this.Spendreport)}summarizeinvest(i){let s=[],r=[],a=[];this.filterDataByDate(i,1,s),0==s.length&&(s=[{matprice:"Nil"}]),this.Investreport.push({...Ne.maxBy(s,"matprice"),heading:"MaxofToday"}),this.TotalInvestreport.push({matprice:Ne.sumBy(s,"matprice"),heading:"Totalof1day"}),this.filterDataByDate(i,7,r),0==r.length&&(r=[{matprice:"Nil"}]),this.Investreport.push({...Ne.maxBy(r,"matprice"),heading:"Maxof7days"}),this.TotalInvestreport.push({matprice:Ne.sumBy(r,"matprice"),heading:"Totalof7days"}),this.filterDataByDate(i,30,a),0==a.length&&(a=[{matprice:"Nil"}]),this.Investreport.push({...Ne.maxBy(a,"matprice"),heading:"Maxof30days"}),this.TotalInvestreport.push({matprice:Ne.sumBy(a,"matprice"),heading:"Totalof30days"}),0==this.Investreport.length&&(this.Investreport=[{matprice:0}]),this.Investreport.push({...Ne.maxBy(i,"matprice"),heading:"MaxofAlltime"}),this.totalreport.push({matprice:Ne.sumBy(i,"matprice"),heading:"Total Invest"}),console.log(this.Investreport)}filterDataByDate(i,s,r){return(0,Y.A)(function*(){const a=new Date,g=new Date;g.setDate(a.getDate()-s),console.log(g),i.forEach(k=>{const V=new Date(k.date);V>=g&&V<=a&&r.push(k)})})()}static#e=this.\u0275fac=function(s){return new(s||e)(Z.rXU(ce.f))};static#t=this.\u0275cmp=Z.VBU({type:e,selectors:[["app-summary"]],decls:10,vars:3,consts:[[1,"d-flex","justify-content-center","my-2"],[1,"btn","btn-sm","btn-info","mx-1","text-white",3,"click"],[4,"ngIf"],[3,"Spendlist",4,"ngIf"],[1,"text-center","mt-4"],[1,"d-flex","flex-wrap","justify-content-center","card-container"],[4,"ngFor","ngForOf"],[3,"carddetails"],[3,"Spendlist"]],template:function(s,r){1&s&&(Z.j41(0,"div",0)(1,"button",1),Z.bIt("click",function(){return r.iscard="MARGIN"}),Z.EFF(2,"OVERVIEW"),Z.k0s(),Z.j41(3,"button",1),Z.bIt("click",function(){return r.iscard="GRID"}),Z.EFF(4,"GRID LIST"),Z.k0s(),Z.j41(5,"button",1),Z.bIt("click",function(){return r.iscard="ALLOCATION"}),Z.EFF(6,"ALLOCATION"),Z.k0s()(),Z.DNE(7,nB,21,5,"div",2),Z.DNE(8,aB,1,1,"app-grid",3),Z.DNE(9,lB,1,0,"app-allocate-chart",2)),2&s&&(Z.R7$(7),Z.Y8G("ngIf","MARGIN"==r.iscard),Z.R7$(1),Z.Y8G("ngIf","GRID"==r.iscard),Z.R7$(1),Z.Y8G("ngIf","ALLOCATION"==r.iscard))},dependencies:[ji.Sq,ji.bT,l,q4,eB],styles:[".card-conatiner[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:0px;justify-content:center;width:100%}"]})}return e})()},{path:"**",redirectTo:"main"}];let cB=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Z.$C({type:e});static#i=this.\u0275inj=Z.G2t({imports:[Qt.iI.forChild(hB),Qt.iI]})}return e})();var dB=mi(205),uB=mi(7644),pB=mi(5351),gB=mi(1264),fB=mi.t(gB,2),mB=mi(9765),vB=mi.t(mB,2),xB=mi(4191),CB=mi.t(xB,2),yB=mi(1923),wB=mi.t(yB,2);let $m=new Z.nKC("HighchartsModules"),Km=(()=>{class e{constructor(i){this.chartModules=i}initModules(){this.chartModules.forEach(i=>{[fB,CB,vB,wB].forEach(i)})}static#e=this.\u0275fac=function(s){return new(s||e)(Z.KVO($m))};static#t=this.\u0275prov=Z.jDH({token:e,factory:e.\u0275fac})}return e})(),bB=(()=>{class e{constructor(i){this.cs=i,this.cs.initModules()}static#e=this.\u0275fac=function(s){return new(s||e)(Z.KVO(Km))};static#t=this.\u0275mod=Z.$C({type:e});static#i=this.\u0275inj=Z.G2t({providers:[{provide:$m,useValue:[]},Km]})}return e})(),SB=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Z.$C({type:e});static#i=this.\u0275inj=Z.G2t({providers:[dB.i],imports:[ji.MD,cB,Ym,b,K4,uB.EntryModule,pB.hM,bB]})}return e})()},1923:function(Zi,Gs,mi){var ji,Qt,Y;Qt=typeof window<"u"?window:this,Y=function(Qt){"use strict";var Y={};function Ne(Z,ce,xe,ve){!Z.hasOwnProperty(ce)&&(Z[ce]=ve.apply(null,xe),Qt&&"function"==typeof CustomEvent&&Qt.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:ce,module:Z[ce]}})))}return Ne(Y,"Core/Globals.js",[],function(){var Z,ce;return(ce=Z||(Z={})).SVG_NS="http://www.w3.org/2000/svg",ce.product="Highcharts",ce.version="11.4.8",ce.win=void 0!==Qt?Qt:{},ce.doc=ce.win.document,ce.svg=ce.doc&&ce.doc.createElementNS&&!!ce.doc.createElementNS(ce.SVG_NS,"svg").createSVGRect,ce.userAgent=ce.win.navigator&&ce.win.navigator.userAgent||"",ce.isChrome=ce.win.chrome,ce.isFirefox=-1!==ce.userAgent.indexOf("Firefox"),ce.isMS=/(edge|msie|trident)/i.test(ce.userAgent)&&!ce.win.opera,ce.isSafari=!ce.isChrome&&-1!==ce.userAgent.indexOf("Safari"),ce.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(ce.userAgent),ce.isWebKit=-1!==ce.userAgent.indexOf("AppleWebKit"),ce.deg2rad=2*Math.PI/360,ce.hasBidiBug=ce.isFirefox&&4>parseInt(ce.userAgent.split("Firefox/")[1],10),ce.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],ce.noop=function(){},ce.supportsPassiveEvents=function(){let xe=!1;if(!ce.isMS){let ve=Object.defineProperty({},"passive",{get:function(){xe=!0}});ce.win.addEventListener&&ce.win.removeEventListener&&(ce.win.addEventListener("testPassive",ce.noop,ve),ce.win.removeEventListener("testPassive",ce.noop,ve))}return xe}(),ce.charts=[],ce.composed=[],ce.dateFormats={},ce.seriesTypes={},ce.symbolSizes={},ce.chartCount=0,Z}),Ne(Y,"Core/Utilities.js",[Y["Core/Globals.js"]],function(Z){let ce,{charts:xe,doc:ve,win:me}=Z;function de(n,o,h,d){let c=o?"Highcharts error":"Highcharts warning";32===n&&(n=`${c}: Deprecated member`);let f=N(n),u=f?`${c} #${n}: www.highcharts.com/errors/${n}/`:n.toString();if(void 0!==d){let M="";f&&(u+="?"),S(d,function(U,x){M+=`\n - ${x}: ${U}`,f&&(u+=encodeURI(x)+"="+encodeURI(U))}),u+=M}b(Z,"displayError",{chart:h,code:n,message:u,params:d},function(){if(o)throw Error(u);me.console&&-1===de.messages.indexOf(u)&&console.warn(u)}),de.messages.push(u)}function he(n,o){return parseInt(n,o||10)}function Q(n){return"string"==typeof n}function te(n){let o=Object.prototype.toString.call(n);return"[object Array]"===o||"[object Array Iterator]"===o}function ee(n,o){return!(!n||"object"!=typeof n||o&&te(n))}function L(n){return ee(n)&&"number"==typeof n.nodeType}function W(n){let o=n&&n.constructor;return!(!ee(n,!0)||L(n)||!o||!o.name||"Object"===o.name)}function N(n){return"number"==typeof n&&!isNaN(n)&&n<1/0&&n>-1/0}function I(n){return null!=n}function C(n,o,h){let d,c=Q(o)&&!I(h),f=(u,M)=>{I(u)?n.setAttribute(M,u):c?(d=n.getAttribute(M))||"class"!==M||(d=n.getAttribute(M+"Name")):n.removeAttribute(M)};return Q(o)?f(h,o):S(o,f),d}function A(n){return te(n)?n:[n]}function D(n,o){let h;for(h in n||(n={}),o)n[h]=o[h];return n}function P(){let n=arguments,o=n.length;for(let h=0;h<o;h++){let d=n[h];if(null!=d)return d}}function v(n,o){D(n.style,o)}function T(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))}function H(n,o){return n>1e14?n:parseFloat(n.toPrecision(o||14))}(de||(de={})).messages=[],Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};let B=Array.prototype.find?function(n,o){return n.find(o)}:function(n,o){let h,d=n.length;for(h=0;h<d;h++)if(o(n[h],h))return n[h]};function S(n,o,h){for(let d in n)Object.hasOwnProperty.call(n,d)&&o.call(h||n[d],n[d],d,n)}function p(n,o,h){function d(u,M){let U=n.removeEventListener;U&&U.call(n,u,M,!1)}function c(u){let M,U;n.nodeName&&(o?(M={})[o]=!0:M=u,S(M,function(x,O){if(u[O])for(U=u[O].length;U--;)d(O,u[O][U].fn)}))}let f="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(f,"hcEvents")){let u=f.hcEvents;o?h?(u[o]=(u[o]||[]).filter(function(U){return h!==U.fn}),d(o,h)):(c(u),u[o]=[]):(c(u),delete f.hcEvents)}}function b(n,o,h,d){if(h=h||{},ve.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==Z)){let c=ve.createEvent("Events");c.initEvent(o,!0,!0),h=D(c,h),n.dispatchEvent?n.dispatchEvent(h):n.fireEvent(o,h)}else if(n.hcEvents){h.target||D(h,{preventDefault:function(){h.defaultPrevented=!0},target:n,type:o});let c=[],f=n,u=!1;for(;f.hcEvents;)Object.hasOwnProperty.call(f,"hcEvents")&&f.hcEvents[o]&&(c.length&&(u=!0),c.unshift.apply(c,f.hcEvents[o])),f=Object.getPrototypeOf(f);u&&c.sort((M,U)=>M.order-U.order),c.forEach(M=>{!1===M.fn.call(n,h)&&h.preventDefault()})}d&&!h.defaultPrevented&&d.call(n,h)}S({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,o){Z[o]=function(h){return de(32,!1,void 0,{[`Highcharts.${o}`]:`use Array.${n}`}),Array.prototype[n].apply(h,[].slice.call(arguments,1))}});let l=function(){let n=Math.random().toString(36).substring(2,9)+"-",o=0;return function(){return"highcharts-"+(ce?"":n)+o++}}();return me.jQuery&&(me.jQuery.fn.highcharts=function(){let n=[].slice.call(arguments);if(this[0])return n[0]?(new(Z[Q(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):xe[C(this[0],"data-highcharts-chart")]}),{addEvent:function(n,o,h,d={}){let c="function"==typeof n&&n.prototype||n;Object.hasOwnProperty.call(c,"hcEvents")||(c.hcEvents={});let f=c.hcEvents;Z.Point&&n instanceof Z.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);let u=n.addEventListener;return u&&u.call(n,o,h,!!Z.supportsPassiveEvents&&{passive:void 0===d.passive?-1!==o.indexOf("touch"):d.passive,capture:!1}),f[o]||(f[o]=[]),f[o].push({fn:h,order:"number"==typeof d.order?d.order:1/0}),f[o].sort((U,x)=>U.order-x.order),function(){p(n,o,h)}},arrayMax:function(n){let o=n.length,h=n[0];for(;o--;)n[o]>h&&(h=n[o]);return h},arrayMin:function(n){let o=n.length,h=n[0];for(;o--;)n[o]<h&&(h=n[o]);return h},attr:C,clamp:function(n,o,h){return n>o?n<h?n:h:o},clearTimeout:function(n){I(n)&&clearTimeout(n)},correctFloat:H,createElement:function(n,o,h,d,c){let f=ve.createElement(n);return o&&D(f,o),c&&v(f,{padding:"0",border:"none",margin:"0"}),h&&v(f,h),d&&d.appendChild(f),f},crisp:(n,o=0,h)=>{let d=o%2/2,c=h?-1:1;return(Math.round(n*c-d)+d)*c},css:v,defined:I,destroyObjectProperties:function(n,o,h){S(n,function(d,c){d!==o&&d?.destroy&&d.destroy(),(d?.destroy||!h)&&delete n[c]})},diffObjects:function(n,o,h,d){let c={};return function f(u,M,U,x){let O=h?M:u;S(u,function(z,j){if(!x&&d&&d.indexOf(j)>-1&&M[j]){z=A(z),U[j]=[];for(let J=0;J<Math.max(z.length,M[j].length);J++)M[j][J]&&(void 0===z[J]?U[j][J]=M[j][J]:(U[j][J]={},f(z[J],M[j][J],U[j][J],x+1)))}else ee(z,!0)&&!z.nodeType?(U[j]=te(z)?[]:{},f(z,M[j]||{},U[j],x+1),0!==Object.keys(U[j]).length||"colorAxis"===j&&0===x||delete U[j]):(u[j]!==M[j]||j in u&&!(j in M))&&"__proto__"!==j&&"constructor"!==j&&(U[j]=O[j])})}(n,o,c,0),c},discardElement:function(n){n&&n.parentElement&&n.parentElement.removeChild(n)},erase:function(n,o){let h=n.length;for(;h--;)if(n[h]===o){n.splice(h,1);break}},error:de,extend:D,extendClass:function(n,o){let h=function(){};return D(h.prototype=new n,o),h},find:B,fireEvent:b,getClosestDistance:function(n,o){let h,d,c,f,u=!o;return n.forEach(M=>{if(M.length>1)for(f=d=M.length-1;f>0;f--)(c=M[f]-M[f-1])<0&&!u?(o?.(),o=void 0):c&&(void 0===h||c<h)&&(h=c)}),h},getMagnitude:T,getNestedProperty:function(n,o){let h=n.split(".");for(;h.length&&I(o);){let d=h.shift();if(void 0===d||"__proto__"===d)return;if("this"===d){let f;return ee(o)&&(f=o["@this"]),f??o}let c=o[d];if(!I(c)||"function"==typeof c||"number"==typeof c.nodeType||c===me)return;o=c}return o},getStyle:function n(o,h,d){let c;if("width"===h){let u=Math.min(o.offsetWidth,o.scrollWidth),M=o.getBoundingClientRect&&o.getBoundingClientRect().width;return M<u&&M>=u-1&&(u=Math.floor(M)),Math.max(0,u-(n(o,"padding-left",!0)||0)-(n(o,"padding-right",!0)||0))}if("height"===h)return Math.max(0,Math.min(o.offsetHeight,o.scrollHeight)-(n(o,"padding-top",!0)||0)-(n(o,"padding-bottom",!0)||0));let f=me.getComputedStyle(o,void 0);return f&&(c=f.getPropertyValue(h),P(d,"opacity"!==h)&&(c=he(c))),c},inArray:function(n,o,h){return de(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),o.indexOf(n,h)},insertItem:function(n,o){let h,d=n.options.index,c=o.length;for(h=n.options.isInternal?c:0;h<c+1;h++)if(!o[h]||N(d)&&d<P(o[h].options.index,o[h]._i)||o[h].options.isInternal){o.splice(h,0,n);break}return h},isArray:te,isClass:W,isDOMElement:L,isFunction:function(n){return"function"==typeof n},isNumber:N,isObject:ee,isString:Q,keys:function(n){return de(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)},merge:function(){let n,o=arguments,h={},d=function(f,u){return"object"!=typeof f&&(f={}),S(u,function(M,U){"__proto__"!==U&&"constructor"!==U&&(f[U]=!ee(M,!0)||W(M)||L(M)?u[U]:d(f[U]||{},M))}),f};!0===o[0]&&(h=o[1],o=Array.prototype.slice.call(o,2));let c=o.length;for(n=0;n<c;n++)h=d(h,o[n]);return h},normalizeTickInterval:function(n,o,h,d,c){let f,u=n,M=n/(h=P(h,T(n)));for(!o&&(o=c?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===d&&(1===h?o=o.filter(function(U){return U%1==0}):h<=.1&&(o=[1/h]))),f=0;f<o.length&&(u=o[f],(!c||!(u*h>=n))&&(c||!(M<=(o[f]+(o[f+1]||o[f]))/2)));f++);return H(u*h,-Math.round(Math.log(.001)/Math.LN10))},objectEach:S,offset:function(n){let o=ve.documentElement,h=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:h.top+(me.pageYOffset||o.scrollTop)-(o.clientTop||0),left:h.left+(me.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:h.width,height:h.height}},pad:function(n,o,h){return Array((o||2)+1-String(n).replace("-","").length).join(h||"0")+n},pick:P,pInt:he,pushUnique:function(n,o){return 0>n.indexOf(o)&&!!n.push(o)},relativeLength:function(n,o,h){return/%$/.test(n)?o*parseFloat(n)/100+(h||0):parseFloat(n)},removeEvent:p,replaceNested:function(n,...o){let h,d;do{for(d of(h=n,o))n=n.replace(d[0],d[1])}while(n!==h);return n},splat:A,stableSort:function(n,o){let h,d,c=n.length;for(d=0;d<c;d++)n[d].safeI=d;for(n.sort(function(f,u){return 0===(h=o(f,u))?f.safeI-u.safeI:h}),d=0;d<c;d++)delete n[d].safeI},syncTimeout:function(n,o,h){return o>0?setTimeout(n,o,h):(n.call(0,h),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:l,useSerialIds:function(n){return ce=P(n,ce)},wrap:function(n,o,h){let d=n[o];n[o]=function(){let c=arguments,f=this;return h.apply(this,[function(){return d.apply(f,arguments.length?arguments:c)}].concat([].slice.call(arguments)))}}}}),Ne(Y,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),Ne(Y,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),Ne(Y,"Core/Time.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{win:xe}=Z,{defined:ve,error:me,extend:de,isNumber:he,isObject:Q,merge:te,objectEach:ee,pad:L,pick:W,splat:N,timeUnits:I}=ce,C=Z.isSafari&&xe.Intl&&xe.Intl.DateTimeFormat.prototype.formatRange,A=Z.isSafari&&xe.Intl&&!xe.Intl.DateTimeFormat.prototype.formatRange;class D{constructor(v){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=xe.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(v)}get(v,T){if(this.variableTimezone||this.timezoneOffset){let H=T.getTime(),B=H-this.getTimezoneOffset(T);T.setTime(B);let S=T["getUTC"+v]();return T.setTime(H),S}return this.useUTC?T["getUTC"+v]():T["get"+v]()}set(v,T,H){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===v||"Seconds"===v||"Minutes"===v&&this.getTimezoneOffset(T)%36e5==0)return T["setUTC"+v](H);let B=this.getTimezoneOffset(T),S=T.getTime()-B;T.setTime(S),T["setUTC"+v](H);let p=this.getTimezoneOffset(T);return S=T.getTime()+p,T.setTime(S)}return this.useUTC||C&&"FullYear"===v?T["setUTC"+v](H):T["set"+v](H)}update(v={}){let T=W(v.useUTC,!0);this.options=v=te(!0,this.options,v),this.Date=v.Date||xe.Date||Date,this.useUTC=T,this.timezoneOffset=T&&v.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=T&&!(!v.getTimezoneOffset&&!v.timezone)}makeTime(v,T,H,B,S,p){let b,l,n;return this.useUTC?(b=this.Date.UTC.apply(0,arguments),l=this.getTimezoneOffset(b),b+=l,l!==(n=this.getTimezoneOffset(b))?b+=n-l:l-36e5!==this.getTimezoneOffset(b-36e5)||A||(b-=36e5)):b=new this.Date(v,T,W(H,1),W(B,0),W(S,0),W(p,0)).getTime(),b}timezoneOffsetFunction(){let v=this,T=this.options,H=T.getTimezoneOffset;return this.useUTC?T.timezone?B=>{try{let S=`shortOffset,${T.timezone||""}`,[p,b,l,n,o=0]=(D.formatCache[S]=D.formatCache[S]||Intl.DateTimeFormat("en",{timeZone:T.timezone,timeZoneName:"shortOffset"})).format(B).split(/(GMT|:)/).map(Number),h=-36e5*(l+o/60);if(he(h))return h}catch{me(34)}return 0}:this.useUTC&&H?B=>6e4*H(B.valueOf()):()=>6e4*(v.timezoneOffset||0):B=>6e4*new Date(B.toString()).getTimezoneOffset()}dateFormat(v,T,H){if(!ve(T)||isNaN(T))return Z.defaultOptions.lang&&Z.defaultOptions.lang.invalidDate||"";v=W(v,"%Y-%m-%d %H:%M:%S");let B=this,S=new this.Date(T),p=this.get("Hours",S),b=this.get("Day",S),l=this.get("Date",S),n=this.get("Month",S),o=this.get("FullYear",S),h=Z.defaultOptions.lang,d=h&&h.weekdays,c=h&&h.shortWeekdays;return ee(de({a:c?c[b]:d[b].substr(0,3),A:d[b],d:L(l),e:L(l,2," "),w:b,b:h.shortMonths[n],B:h.months[n],m:L(n+1),o:n+1,y:o.toString().substr(2,2),Y:o,H:L(p),k:p,I:L(p%12||12),l:p%12||12,M:L(this.get("Minutes",S)),p:p<12?"AM":"PM",P:p<12?"am":"pm",S:L(this.get("Seconds",S)),L:L(Math.floor(T%1e3),3)},Z.dateFormats),function(f,u){for(;-1!==v.indexOf("%"+u);)v=v.replace("%"+u,"function"==typeof f?f.call(B,T):f)}),H?v.substr(0,1).toUpperCase()+v.substr(1):v}resolveDTLFormat(v){return Q(v,!0)?v:{main:(v=N(v))[0],from:v[1],to:v[2]}}getTimeTicks(v,T,H,B){let S,p,b,l,n=this,h=[],d={},c=new(0,n.Date)(T),f=v.unitRange,u=v.count||1;if(B=W(B,1),ve(T)){n.set("Milliseconds",c,f>=I.second?0:u*Math.floor(n.get("Milliseconds",c)/u)),f>=I.second&&n.set("Seconds",c,f>=I.minute?0:u*Math.floor(n.get("Seconds",c)/u)),f>=I.minute&&n.set("Minutes",c,f>=I.hour?0:u*Math.floor(n.get("Minutes",c)/u)),f>=I.hour&&n.set("Hours",c,f>=I.day?0:u*Math.floor(n.get("Hours",c)/u)),f>=I.day&&n.set("Date",c,f>=I.month?1:Math.max(1,u*Math.floor(n.get("Date",c)/u))),f>=I.month&&(n.set("Month",c,f>=I.year?0:u*Math.floor(n.get("Month",c)/u)),p=n.get("FullYear",c)),f>=I.year&&(p-=p%u,n.set("FullYear",c,p)),f===I.week&&(l=n.get("Day",c),n.set("Date",c,n.get("Date",c)-l+B+(l<B?-7:0))),p=n.get("FullYear",c);let M=n.get("Month",c),U=n.get("Date",c),x=n.get("Hours",c);T=c.getTime(),(n.variableTimezone||!n.useUTC)&&ve(H)&&(b=H-T>4*I.month||n.getTimezoneOffset(T)!==n.getTimezoneOffset(H));let O=c.getTime();for(S=1;O<H;)h.push(O),f===I.year?O=n.makeTime(p+S*u,0):f===I.month?O=n.makeTime(p,M+S*u):!b||f!==I.day&&f!==I.week?b&&f===I.hour&&u>1?O=n.makeTime(p,M,U,x+S*u):O+=f*u:O=n.makeTime(p,M,U+S*u*(f===I.day?1:7)),S++;h.push(O),f<=I.hour&&h.length<1e4&&h.forEach(function(z){z%18e5==0&&"000000000"===n.dateFormat("%H%M%S%L",z)&&(d[z]="day")})}return h.info=de(v,{higherRanks:d,totalRange:f*u}),h}getDateFormat(v,T,H,B){let S=this.dateFormat("%m-%d %H:%M:%S.%L",T),p="01-01 00:00:00.000",b={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond",n=l;for(l in I){if(v===I.week&&+this.dateFormat("%w",T)===H&&S.substr(6)===p.substr(6)){l="week";break}if(I[l]>v){l=n;break}if(b[l]&&S.substr(b[l])!==p.substr(b[l]))break;"week"!==l&&(n=l)}return this.resolveDTLFormat(B[l]).main}}return D.formatCache={},D}),Ne(Y,"Core/Defaults.js",[Y["Core/Chart/ChartDefaults.js"],Y["Core/Globals.js"],Y["Core/Color/Palettes.js"],Y["Core/Time.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{isTouchDevice:de}=ce,{fireEvent:he,merge:Q}=me,te={colors:xe.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:Z,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:L=>Math.sqrt(1-Math.pow(L-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:de?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};te.chart.styledMode=!1;let ee=new ve(te.time);return{defaultOptions:te,defaultTime:ee,getOptions:function(){return te},setOptions:function(L){return he(ce,"setOptions",{options:L}),Q(!0,te,L),(L.time||L.global)&&(ce.time?ce.time.update(Q(te.global,te.time,L.global,L.time)):ce.time=ee),te}}}),Ne(Y,"Core/Color/Color.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{isNumber:xe,merge:ve,pInt:me}=ce;class de{static parse(Q){return Q?new de(Q):de.None}constructor(Q){let te,ee,L,W;this.rgba=[NaN,NaN,NaN,NaN],this.input=Q;let N=Z.Color;if(N&&N!==de)return new N(Q);if("object"==typeof Q&&void 0!==Q.stops)this.stops=Q.stops.map(I=>new de(I[1]));else if("string"==typeof Q){if(this.input=Q=de.names[Q.toLowerCase()]||Q,"#"===Q.charAt(0)){let I=Q.length,C=parseInt(Q.substr(1),16);7===I?ee=[(16711680&C)>>16,(65280&C)>>8,255&C,1]:4===I&&(ee=[(3840&C)>>4|(3840&C)>>8,(240&C)>>4|240&C,(15&C)<<4|15&C,1])}if(!ee)for(L=de.parsers.length;L--&&!ee;)(te=(W=de.parsers[L]).regex.exec(Q))&&(ee=W.parse(te))}ee&&(this.rgba=ee)}get(Q){let te=this.input,ee=this.rgba;if("object"==typeof te&&void 0!==this.stops){let L=ve(te);return L.stops=[].slice.call(L.stops),this.stops.forEach((W,N)=>{L.stops[N]=[L.stops[N][0],W.get(Q)]}),L}return ee&&xe(ee[0])?"rgb"===Q||!Q&&1===ee[3]?"rgb("+ee[0]+","+ee[1]+","+ee[2]+")":"a"===Q?`${ee[3]}`:"rgba("+ee.join(",")+")":te}brighten(Q){let te=this.rgba;if(this.stops)this.stops.forEach(function(ee){ee.brighten(Q)});else if(xe(Q)&&0!==Q)for(let ee=0;ee<3;ee++)te[ee]+=me(255*Q),te[ee]<0&&(te[ee]=0),te[ee]>255&&(te[ee]=255);return this}setOpacity(Q){return this.rgba[3]=Q,this}tweenTo(Q,te){let ee=this.rgba,L=Q.rgba;if(!xe(ee[0])||!xe(L[0]))return Q.input||"none";let W=1!==L[3]||1!==ee[3];return(W?"rgba(":"rgb(")+Math.round(L[0]+(ee[0]-L[0])*(1-te))+","+Math.round(L[1]+(ee[1]-L[1])*(1-te))+","+Math.round(L[2]+(ee[2]-L[2])*(1-te))+(W?","+(L[3]+(ee[3]-L[3])*(1-te)):"")+")"}}return de.names={white:"#ffffff",black:"#000000"},de.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(he){return[me(he[1]),me(he[2]),me(he[3]),parseFloat(he[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(he){return[me(he[1]),me(he[2]),me(he[3]),1]}}],de.None=new de(""),de}),Ne(Y,"Core/Animation/Fx.js",[Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{parse:ve}=Z,{win:me}=ce,{isNumber:de,objectEach:he}=xe;class Q{constructor(ee,L,W){this.pos=NaN,this.options=L,this.elem=ee,this.prop=W}dSetter(){let ee=this.paths,L=ee&&ee[0],W=ee&&ee[1],N=this.now||0,I=[];if(1!==N&&L&&W)if(L.length===W.length&&N<1)for(let C=0;C<W.length;C++){let A=L[C],D=W[C],P=[];for(let v=0;v<D.length;v++){let T=A[v],H=D[v];P[v]=de(T)&&de(H)&&("A"!==D[0]||4!==v&&5!==v)?T+N*(H-T):H}I.push(P)}else I=W;else I=this.toD||[];this.elem.attr("d",I,void 0,!0)}update(){let ee=this.elem,L=this.prop,W=this.now,N=this.options.step;this[L+"Setter"]?this[L+"Setter"]():ee.attr?ee.element&&ee.attr(L,W,null,!0):ee.style[L]=W+this.unit,N&&N.call(ee,W,this)}run(ee,L,W){let N=this,I=N.options,C=function(P){return!C.stopped&&N.step(P)},A=me.requestAnimationFrame||function(P){setTimeout(P,13)},D=function(){for(let P=0;P<Q.timers.length;P++)Q.timers[P]()||Q.timers.splice(P--,1);Q.timers.length&&A(D)};ee!==L||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=ee,this.end=L,this.unit=W,this.now=this.start,this.pos=0,C.elem=this.elem,C.prop=this.prop,C()&&1===Q.timers.push(C)&&A(D)):(delete I.curAnim[this.prop],I.complete&&0===Object.keys(I.curAnim).length&&I.complete.call(this.elem))}step(ee){let L,W,N=+new Date,I=this.options,C=this.elem,A=I.complete,D=I.duration,P=I.curAnim;return C.attr&&!C.element?L=!1:ee||N>=D+this.startTime?(this.now=this.end,this.pos=1,this.update(),P[this.prop]=!0,W=!0,he(P,function(v){!0!==v&&(W=!1)}),W&&A&&A.call(C),L=!1):(this.pos=I.easing((N-this.startTime)/D),this.now=this.start+(this.end-this.start)*this.pos,this.update(),L=!0),L}initPath(ee,L,W){let v,T,H,B,N=ee.startX,I=ee.endX,C=W.slice(),A=ee.isArea,D=A?2:1,P=L&&W.length>L.length&&W.hasStackedCliffs,S=L&&L.slice();if(!S||P)return[C,C];function p(l,n){for(;l.length<T;){let o=l[0],h=n[T-l.length];if(h&&"M"===o[0]&&(l[0]="C"===h[0]?["C",o[1],o[2],o[1],o[2],o[1],o[2]]:["L",o[1],o[2]]),l.unshift(o),A){let d=l.pop();l.push(l[l.length-1],d)}}}function b(l){for(;l.length<T;){let n=l[Math.floor(l.length/D)-1].slice();if("C"===n[0]&&(n[1]=n[5],n[2]=n[6]),A){let o=l[Math.floor(l.length/D)].slice();l.splice(l.length/2,0,n,o)}else l.push(n)}}if(N&&I&&I.length){for(H=0;H<N.length;H++){if(N[H]===I[0]){v=H;break}if(N[0]===I[I.length-N.length+H]){v=H,B=!0;break}if(N[N.length-1]===I[I.length-N.length+H]){v=N.length-H;break}}void 0===v&&(S=[])}return S.length&&de(v)&&(T=C.length+v*D,B?(p(S,C),b(C)):(p(C,S),b(S))),[S,C]}fillSetter(){Q.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,ve(this.start).tweenTo(ve(this.end),this.pos),void 0,!0)}}return Q.timers=[],Q}),Ne(Y,"Core/Animation/AnimationUtilities.js",[Y["Core/Animation/Fx.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defined:xe,getStyle:ve,isArray:me,isNumber:de,isObject:he,merge:Q,objectEach:te,pick:ee}=ce;function L(N){return he(N)?Q({duration:500,defer:0},N):{duration:N?500:0,defer:0}}function W(N,I){let C=Z.timers.length;for(;C--;)Z.timers[C].elem!==N||I&&I!==Z.timers[C].prop||(Z.timers[C].stopped=!0)}return{animate:function(N,I,C){let A,P,v,T,D="";he(C)||(T=arguments,C={duration:T[2],easing:T[3],complete:T[4]}),de(C.duration)||(C.duration=400),C.easing="function"==typeof C.easing?C.easing:Math[C.easing]||Math.easeInOutSine,C.curAnim=Q(I),te(I,function(H,B){W(N,B),v=new Z(N,C,B),P=void 0,"d"===B&&me(I.d)?(v.paths=v.initPath(N,N.pathArray,I.d),v.toD=I.d,A=0,P=1):N.attr?A=N.attr(B):(A=parseFloat(ve(N,B))||0,"opacity"!==B&&(D="px")),P||(P=H),"string"==typeof P&&P.match("px")&&(P=P.replace(/px/g,"")),v.run(A,P,D)})},animObject:L,getDeferredAnimation:function(N,I,C){let A=L(I),P=0,v=0;return(C?[C]:N.series).forEach(T=>{let H=L(T.options.animation);P=he(I)&&xe(I.defer)?A.defer:Math.max(P,H.duration+H.defer),v=Math.min(A.duration,H.duration)}),N.renderer.forExport&&(P=0),{defer:Math.max(0,P-v),duration:Math.min(P,v)}},setAnimation:function(N,I){I.renderer.globalAnimation=ee(N,I.options.chart.animation,!0)},stop:W}}),Ne(Y,"Core/Renderer/HTML/AST.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{SVG_NS:xe,win:ve}=Z,{attr:me,createElement:de,css:he,error:Q,isFunction:te,isString:ee,objectEach:L,splat:W}=ce,{trustedTypes:N}=ve,I=N&&te(N.createPolicy)&&N.createPolicy("highcharts",{createHTML:P=>P}),C=I?I.createHTML(""):"",A=function(){try{return!!(new DOMParser).parseFromString(C,"text/html")}catch{return!1}}();class D{static filterUserAttributes(v){return L(v,(T,H)=>{let B=!0;-1===D.allowedAttributes.indexOf(H)&&(B=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(H)&&(B=ee(T)&&D.allowedReferences.some(S=>0===T.indexOf(S))),B||(Q(33,!1,void 0,{"Invalid attribute in config":`${H}`}),delete v[H]),ee(T)&&v[H]&&(v[H]=T.replace(/</g,"&lt;"))}),v}static parseStyle(v){return v.split(";").reduce((T,H)=>{let B=H.split(":").map(p=>p.trim()),S=B.shift();return S&&B.length&&(T[S.replace(/-([a-z])/g,p=>p[1].toUpperCase())]=B.join(":")),T},{})}static setElementHTML(v,T){v.innerHTML=D.emptyHTML,T&&new D(T).addToDOM(v)}constructor(v){this.nodes="string"==typeof v?this.parseMarkup(v):v}addToDOM(v){return function T(H,B){let S;return W(H).forEach(function(p){let b,l=p.tagName,n=p.textContent?Z.doc.createTextNode(p.textContent):void 0,o=D.bypassHTMLFiltering;if(l)if("#text"===l)b=n;else if(-1!==D.allowedTags.indexOf(l)||o){let d=Z.doc.createElementNS("svg"===l?xe:B.namespaceURI||xe,l),c=p.attributes||{};L(p,function(f,u){"tagName"!==u&&"attributes"!==u&&"children"!==u&&"style"!==u&&"textContent"!==u&&(c[u]=f)}),me(d,o?c:D.filterUserAttributes(c)),p.style&&he(d,p.style),n&&d.appendChild(n),T(p.children||[],d),b=d}else Q(33,!1,void 0,{"Invalid tagName in config":l});b&&B.appendChild(b),S=b}),S}(this.nodes,v)}parseMarkup(v){let T,H=[];if(v=v.trim().replace(/ style=(["'])/g," data-style=$1"),A)T=(new DOMParser).parseFromString(I?I.createHTML(v):v,"text/html");else{let S=de("div");S.innerHTML=v,T={body:S}}let B=(S,p)=>{let b=S.nodeName.toLowerCase(),l={tagName:b};"#text"===b&&(l.textContent=S.textContent||"");let n=S.attributes;if(n){let o={};[].forEach.call(n,h=>{"data-style"===h.name?l.style=D.parseStyle(h.value):o[h.name]=h.value}),l.attributes=o}if(S.childNodes.length){let o=[];[].forEach.call(S.childNodes,h=>{B(h,o)}),o.length&&(l.children=o)}p.push(l)};return[].forEach.call(T.body.childNodes,S=>B(S,H)),H}}return D.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],D.allowedReferences=["https://","http://","mailto:","/","../","./","#"],D.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],D.emptyHTML=C,D.bypassHTMLFiltering=!1,D}),Ne(Y,"Core/Templating.js",[Y["Core/Defaults.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defaultOptions:xe,defaultTime:ve}=Z,{extend:me,getNestedProperty:de,isArray:he,isNumber:Q,isObject:te,pick:ee,pInt:L}=ce,W={add:(C,A)=>C+A,divide:(C,A)=>0!==A?C/A:"",eq:(C,A)=>C==A,each:function(C){let A=arguments[arguments.length-1];return!!he(C)&&C.map((D,P)=>N(A.body,me(te(D)?D:{"@this":D},{"@index":P,"@first":0===P,"@last":P===C.length-1}))).join("")},ge:(C,A)=>C>=A,gt:(C,A)=>C>A,if:C=>!!C,le:(C,A)=>C<=A,lt:(C,A)=>C<A,multiply:(C,A)=>C*A,ne:(C,A)=>C!=A,subtract:(C,A)=>C-A,unless:C=>!C};function N(C="",A,D){let n,o,d,P=/\{([\w\:\.\,;\-\/<>%@"'\u2019= #\(\)]+)\}/g,v=/\(([\w\:\.\,;\-\/<>%@"'= ]+)\)/g,T=[],H=/f$/,B=/\.(\d)/,S=xe.lang,p=D&&D.time||ve,b=D&&D.numberFormatter||I,l=(c="")=>{let f;return"true"===c||"false"!==c&&((f=Number(c)).toString()===c?f:de(c,A))},h=0;for(;null!==(n=P.exec(C));){let c=v.exec(n[1]);c&&(n=c,d=!0),o&&o.isBlock||(o={ctx:A,expression:n[1],find:n[0],isBlock:"#"===n[1].charAt(0),start:n.index,startInner:n.index+n[0].length,length:n[0].length});let f=n[1].split(" ")[0].replace("#","");W[f]&&(o.isBlock&&f===o.fn&&h++,o.fn||(o.fn=f));let u="else"===n[1];if(o.isBlock&&o.fn&&(n[1]===`/${o.fn}`||u))if(h)!u&&h--;else{let M=o.startInner,U=C.substr(M,n.index-M);void 0===o.body?(o.body=U,o.startInner=n.index+n[0].length):o.elseBody=U,o.find+=U+n[0],u||(T.push(o),o=void 0)}else o.isBlock||T.push(o);if(c&&!o?.isBlock)break}return T.forEach(c=>{let f,u,{body:M,elseBody:U,expression:x,fn:O}=c;if(O){let z=[c],j=x.split(" ");for(u=W[O].length;u--;)z.unshift(l(j[u+1]));f=W[O].apply(A,z),c.isBlock&&"boolean"==typeof f&&(f=N(f?M:U,A,D))}else{let z=x.split(":");if(f=l(z.shift()||""),z.length&&"number"==typeof f){let j=z.join(":");if(H.test(j)){let J=parseInt((j.match(B)||["","-1"])[1],10);null!==f&&(f=b(f,J,S.decimalPoint,j.indexOf(",")>-1?S.thousandsSep:""))}else f=p.dateFormat(j,f)}}C=C.replace(c.find,ee(f,""))}),d?N(C,A,D):C}function I(C,A,D,P){let v,T;A=+A;let H=xe.lang,B=((C=+C||0).toString().split(".")[1]||"").split("e")[0].length,S=C.toString().split("e"),p=A;-1===A?A=Math.min(B,20):Q(A)?A&&S[1]&&S[1]<0&&((T=A+ +S[1])>=0?(S[0]=(+S[0]).toExponential(T).split("e")[0],A=T):(S[0]=S[0].split(".")[0]||0,C=A<20?(S[0]*Math.pow(10,S[1])).toFixed(A):0,S[1]=0)):A=2;let b=(Math.abs(S[1]?S[0]:C)+Math.pow(10,-Math.max(A,B)-1)).toFixed(A),l=String(L(b)),n=l.length>3?l.length%3:0;return D=ee(D,H.decimalPoint),P=ee(P,H.thousandsSep),v=(C<0?"-":"")+(n?l.substr(0,n)+P:""),0>+S[1]&&!p?v="0":v+=l.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+P),A?v+=D+b.slice(-A):0==+v&&(v="0"),S[1]&&0!=+v&&(v+="e"+S[1]),v}return{dateFormat:function(C,A,D){return ve.dateFormat(C,A,D)},format:N,helpers:W,numberFormat:I}}),Ne(Y,"Core/Renderer/RendererRegistry.js",[Y["Core/Globals.js"]],function(Z){var ce,xe;let ve;return(xe=ce||(ce={})).rendererTypes={},xe.getRendererType=function(me=ve){return xe.rendererTypes[me]||xe.rendererTypes[ve]},xe.registerRendererType=function(me,de,he){xe.rendererTypes[me]=de,(!ve||he)&&(ve=me,Z.Renderer=de)},ce}),Ne(Y,"Core/Renderer/RendererUtilities.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{clamp:xe,pick:ve,pushUnique:me,stableSort:de}=Z;return(ce||(ce={})).distribute=function he(Q,te,ee){let P,v,T,B,S,b,L=Q,W=L.reducedLen||te,N=(l,n)=>l.target-n.target,I=[],C=Q.length,A=[],D=I.push,H=!0,p=0;for(P=C;P--;)p+=Q[P].size;if(p>W){for(de(Q,(l,n)=>(n.rank||0)-(l.rank||0)),T=(b=Q[0].rank===Q[Q.length-1].rank)?C/2:-1,v=b?T:C-1;T&&p>W;)B=Q[P=Math.floor(v)],me(A,P)&&(p-=B.size),v+=T,b&&v>=Q.length&&(T/=2,v=T);A.sort((l,n)=>n-l).forEach(l=>D.apply(I,Q.splice(l,1)))}for(de(Q,N),Q=Q.map(l=>({size:l.size,targets:[l.target],align:ve(l.align,.5)}));H;){for(P=Q.length;P--;)B=Q[P],S=(Math.min.apply(0,B.targets)+Math.max.apply(0,B.targets))/2,B.pos=xe(S-B.size*B.align,0,te-B.size);for(P=Q.length,H=!1;P--;)P>0&&Q[P-1].pos+Q[P-1].size>Q[P].pos&&(Q[P-1].size+=Q[P].size,Q[P-1].targets=Q[P-1].targets.concat(Q[P].targets),Q[P-1].align=.5,Q[P-1].pos+Q[P-1].size>te&&(Q[P-1].pos=te-Q[P-1].size),Q.splice(P,1),H=!0)}return D.apply(L,I),P=0,Q.some(l=>{let n=0;return(l.targets||[]).some(()=>(L[P].pos=l.pos+n,void 0!==ee&&Math.abs(L[P].pos-L[P].target)>ee?(L.slice(0,P+1).forEach(o=>delete o.pos),L.reducedLen=(L.reducedLen||te)-.1*te,L.reducedLen>.1*te&&he(L,te,ee),!0):(n+=L[P].size,P++,!1)))}),de(L,N),L},ce}),Ne(Y,"Core/Renderer/SVG/SVGElement.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{animate:me,animObject:de,stop:he}=Z,{deg2rad:Q,doc:te,svg:ee,SVG_NS:L,win:W}=xe,{addEvent:N,attr:I,createElement:C,crisp:A,css:D,defined:P,erase:v,extend:T,fireEvent:H,isArray:B,isFunction:S,isObject:p,isString:b,merge:l,objectEach:n,pick:o,pInt:h,pushUnique:d,replaceNested:c,syncTimeout:f,uniqueKey:u}=ve;class M{_defaultGetter(x){let O=o(this[x+"Value"],this[x],this.element?this.element.getAttribute(x):null,0);return/^-?[\d\.]+$/.test(O)&&(O=parseFloat(O)),O}_defaultSetter(x,O,z){z.setAttribute(O,x)}add(x){let O,z=this.renderer,j=this.element;return x&&(this.parentGroup=x),void 0!==this.textStr&&"text"===this.element.nodeName&&z.buildText(this),this.added=!0,(!x||x.handleZ||this.zIndex)&&(O=this.zIndexSetter()),O||(x?x.element:z.box).appendChild(j),this.onAdd&&this.onAdd(),this}addClass(x,O){let z=O?"":this.attr("class")||"";return(x=(x||"").split(/ /g).reduce(function(j,J){return-1===z.indexOf(J)&&j.push(J),j},z?[z]:[]).join(" "))!==z&&this.attr("class",x),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(x,O,z,j=!0){let J,y,w,E,X={},m=this.renderer,F=m.alignedObjects,R=!!x;x?(this.alignOptions=x,this.alignByTranslate=O,this.alignTo=z):(x=this.alignOptions||{},O=this.alignByTranslate,z=this.alignTo);let _=!z||b(z)?z||"renderer":void 0;_&&(R&&d(F,this),z=void 0);let G=o(z,m[_],m),K=x.align,oe=x.verticalAlign;return J=(G.x||0)+(x.x||0),y=(G.y||0)+(x.y||0),"right"===K?w=1:"center"===K&&(w=2),w&&(J+=((G.width||0)-(x.width||0))/w),X[O?"translateX":"x"]=Math.round(J),"bottom"===oe?E=1:"middle"===oe&&(E=2),E&&(y+=((G.height||0)-(x.height||0))/E),X[O?"translateY":"y"]=Math.round(y),j&&(this[this.placed?"animate":"attr"](X),this.placed=!0),this.alignAttr=X,this}alignSetter(x){let O={left:"start",center:"middle",right:"end"};O[x]&&(this.alignValue=x,this.element.setAttribute("text-anchor",O[x]))}animate(x,O,z){let j=de(o(O,this.renderer.globalAnimation,!0)),J=j.defer;return te.hidden&&(j.duration=0),0!==j.duration?(z&&(j.complete=z),f(()=>{this.element&&me(this,x,j)},J)):(this.attr(x,void 0,z||j.complete),n(x,function(y,w){j.step&&j.step.call(this,y,{prop:w,pos:1,elem:this})},this)),this}applyTextOutline(x){let O=this.element;-1!==x.indexOf("contrast")&&(x=x.replace(/contrast/g,this.renderer.getContrast(O.style.fill)));let z=x.split(" "),j=z[z.length-1],J=z[0];if(J&&"none"!==J&&xe.svg){this.fakeTS=!0,J=J.replace(/(^[\d\.]+)(.*?)$/g,function(m,F,R){return 2*Number(F)+R}),this.removeTextOutline();let y=te.createElementNS(L,"tspan");I(y,{class:"highcharts-text-outline",fill:j,stroke:j,"stroke-width":J,"stroke-linejoin":"round"});let w=O.querySelector("textPath")||O;[].forEach.call(w.childNodes,m=>{let F=m.cloneNode(!0);F.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(R=>F.removeAttribute(R)),y.appendChild(F)});let E=0;[].forEach.call(w.querySelectorAll("text tspan"),m=>{E+=Number(m.getAttribute("dy"))});let X=te.createElementNS(L,"tspan");X.textContent="\u200b",I(X,{x:Number(O.getAttribute("x")),dy:-E}),y.appendChild(X),w.insertBefore(y,w.firstChild)}}attr(x,O,z,j){let w,E,m,{element:J}=this,y=M.symbolCustomAttribs,X=this;return"string"==typeof x&&void 0!==O&&(w=x,(x={})[w]=O),"string"==typeof x?X=(this[x+"Getter"]||this._defaultGetter).call(this,x,J):(n(x,function(F,R){m=!1,j||he(this,R),this.symbolName&&-1!==y.indexOf(R)&&(E||(this.symbolAttr(x),E=!0),m=!0),this.rotation&&("x"===R||"y"===R)&&(this.doTransform=!0),m||(this[R+"Setter"]||this._defaultSetter).call(this,F,R,J)},this),this.afterSetters()),z&&z.call(this),X}clip(x){if(x&&!x.clipPath){let O=u()+"-",z=this.renderer.createElement("clipPath").attr({id:O}).add(this.renderer.defs);T(x,{clipPath:z,id:O,count:0}),x.add(z)}return this.attr("clip-path",x?`url(${this.renderer.url}#${x.id})`:"none")}crisp(x,O){O=Math.round(O||x.strokeWidth||0);let z=x.x||this.x||0,j=x.y||this.y||0,J=(x.width||this.width||0)+z,y=(x.height||this.height||0)+j,w=A(z,O),E=A(j,O);return T(x,{x:w,y:E,width:A(J,O)-w,height:A(y,O)-E}),P(x.strokeWidth)&&(x.strokeWidth=O),x}complexColor(x,O,z){let J,y,w,E,X,m,F,R,_,G,oe,j=this.renderer,K=[];H(this.renderer,"complexColor",{args:arguments},function(){if(x.radialGradient?y="radialGradient":x.linearGradient&&(y="linearGradient"),y){if(w=x[y],X=j.gradients,m=x.stops,_=z.radialReference,B(w)&&(x[y]=w={x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===y&&_&&!P(w.gradientUnits)&&(E=w,w=l(w,j.getRadialAttr(_,E),{gradientUnits:"userSpaceOnUse"})),n(w,function(ae,ue){"id"!==ue&&K.push(ue,ae)}),n(m,function(ae){K.push(ae)}),X[K=K.join(",")])G=X[K].attr("id");else{w.id=G=u();let ae=X[K]=j.createElement(y).attr(w).add(j.defs);ae.radAttr=E,ae.stops=[],m.forEach(function(ue){0===ue[1].indexOf("rgba")?(F=(J=ce.parse(ue[1])).get("rgb"),R=J.get("a")):(F=ue[1],R=1);let be=j.createElement("stop").attr({offset:ue[0],"stop-color":F,"stop-opacity":R}).add(ae);ae.stops.push(be)})}oe="url("+j.url+"#"+G+")",z.setAttribute(O,oe),z.gradient=K,x.toString=function(){return oe}}})}css(x){let J,O=this.styles,z={},j=this.element,y=!O;if(O&&n(x,function(w,E){O&&O[E]!==w&&(z[E]=w,y=!0)}),y){O&&(x=T(O,z)),null===x.width||"auto"===x.width?delete this.textWidth:"text"===j.nodeName.toLowerCase()&&x.width&&(J=this.textWidth=h(x.width)),T(this.styles,x),J&&!ee&&this.renderer.forExport&&delete x.width;let w=l(x);j.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(E=>w&&delete w[E]),w.color&&(w.fill=w.color)),D(j,w)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),x.textOutline&&this.applyTextOutline(x.textOutline)),this}dashstyleSetter(x){let O,z=this["stroke-width"];if("inherit"===z&&(z=1),x=x&&x.toLowerCase()){let j=x.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(O=j.length;O--;)j[O]=""+h(j[O])*o(z,NaN);x=j.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",x)}}destroy(){let y,w,x=this,O=x.element||{},z=x.renderer,j=O.ownerSVGElement,J="SPAN"===O.nodeName&&x.parentGroup||void 0;if(O.onclick=O.onmouseout=O.onmouseover=O.onmousemove=O.point=null,he(x),x.clipPath&&j){let E=x.clipPath;[].forEach.call(j.querySelectorAll("[clip-path],[CLIP-PATH]"),function(X){X.getAttribute("clip-path").indexOf(E.element.id)>-1&&X.removeAttribute("clip-path")}),x.clipPath=E.destroy()}if(x.connector=x.connector?.destroy(),x.stops){for(w=0;w<x.stops.length;w++)x.stops[w].destroy();x.stops.length=0,x.stops=void 0}for(x.safeRemoveChild(O);J&&J.div&&0===J.div.childNodes.length;)y=J.parentGroup,x.safeRemoveChild(J.div),delete J.div,J=y;x.alignOptions&&v(z.alignedObjects,x),n(x,function(E,X){x[X]&&x[X].parentGroup===x&&x[X].destroy&&x[X].destroy(),delete x[X]})}dSetter(x,O,z){B(x)&&("string"==typeof x[0]&&(x=this.renderer.pathToSegments(x)),this.pathArray=x,x=x.reduce((j,J,y)=>J&&J.join?(y?j+" ":"")+J.join(" "):(J||"").toString(),"")),/(NaN| {2}|^$)/.test(x)&&(x="M 0 0"),this[O]!==x&&(z.setAttribute(O,x),this[O]=x)}fillSetter(x,O,z){"string"==typeof x?z.setAttribute(O,x):x&&this.complexColor(x,O,z)}hrefSetter(x,O,z){z.setAttributeNS("http://www.w3.org/1999/xlink",O,x)}getBBox(x,O){let z,j,J,y,{alignValue:w,element:E,renderer:X,styles:m,textStr:F}=this,{cache:R,cacheKeys:_}=X,G=E.namespaceURI===this.SVG_NS,K=o(O,this.rotation,0),oe=X.styledMode?E&&M.prototype.getStyle.call(E,"font-size"):m.fontSize;if(P(F)&&(-1===(y=F.toString()).indexOf("<")&&(y=y.replace(/\d/g,"0")),y+=["",X.rootFontSize,oe,K,this.textWidth,w,m.textOverflow,m.fontWeight].join(",")),y&&!x&&(z=R[y]),!z||z.polygon){if(G||X.forExport){try{J=this.fakeTS&&function(ue){let be=E.querySelector(".highcharts-text-outline");be&&D(be,{display:ue})},S(J)&&J("none"),z=E.getBBox?T({},E.getBBox()):{width:E.offsetWidth,height:E.offsetHeight,x:0,y:0},S(J)&&J("")}catch{}(!z||z.width<0)&&(z={x:0,y:0,width:0,height:0})}else z=this.htmlGetBBox();j=z.height,G&&(z.height=j={"11px,17":14,"13px,20":16}[`${oe||""},${Math.round(j)}`]||j),K&&(z=this.getRotatedBox(z,K));let ae={bBox:z};H(this,"afterGetBBox",ae),z=ae.bBox}if(y&&(""===F||z.height>0)){for(;_.length>250;)delete R[_.shift()];R[y]||_.push(y),R[y]=z}return z}getRotatedBox(x,O){let{x:z,y:j,width:J,height:y}=x,{alignValue:w,translateY:E,rotationOriginX:X=0,rotationOriginY:m=0}=this,F={right:1,center:.5}[w||0]||0,R=Number(this.element.getAttribute("y")||0)-(E?0:j),_=O*Q,G=(O-90)*Q,K=Math.cos(_),oe=Math.sin(_),ae=J*K,ue=J*oe,be=Math.cos(G),Se=Math.sin(G),[[ie,q],[re,le]]=[X,m].map(it=>[it-it*K,it*oe]),pe=z+F*(J-ae)+ie+le+R*be,ge=pe+ae,we=ge-y*be,ye=we-ae,Me=j+R-F*ue-q+re+R*Se,Pe=Me+ue,Re=Pe-y*Se,Fe=Re-ue,De=Math.min(pe,ge,we,ye),He=Math.min(Me,Pe,Re,Fe);return{x:De,y:He,width:Math.max(pe,ge,we,ye)-De,height:Math.max(Me,Pe,Re,Fe)-He,polygon:[[pe,Me],[ge,Pe],[we,Re],[ye,Fe]]}}getStyle(x){return W.getComputedStyle(this.element||this,"").getPropertyValue(x)}hasClass(x){return-1!==(""+this.attr("class")).split(" ").indexOf(x)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(x,O){this.onEvents={},this.opacity=1,this.SVG_NS=L,this.element="span"===O||"body"===O?C(O):te.createElementNS(this.SVG_NS,O),this.renderer=x,this.styles={},H(this,"afterInit")}on(x,O){let{onEvents:z}=this;return z[x]&&z[x](),z[x]=N(this.element,x,O),this}opacitySetter(x,O,z){let j=Number(Number(x).toFixed(3));this.opacity=j,z.setAttribute(O,j)}reAlign(){this.alignOptions?.width&&"left"!==this.alignOptions.align&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(x){return this.attr("class",(""+this.attr("class")).replace(b(x)?RegExp(`(^| )${x}( |$)`):x," ").replace(/ +/g," ").trim())}removeTextOutline(){let x=this.element.querySelector("tspan.highcharts-text-outline");x&&this.safeRemoveChild(x)}safeRemoveChild(x){let O=x.parentNode;O&&O.removeChild(x)}setRadialReference(x){let O=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=x,O&&O.radAttr&&O.animate(this.renderer.getRadialAttr(x,O.radAttr)),this}shadow(x){let{renderer:O}=this,z=l(90===this.parentGroup?.rotation?{offsetX:-1,offsetY:-1}:{},p(x)?x:{}),j=O.shadowDefinition(z);return this.attr({filter:x?`url(${O.url}#${j})`:"none"})}show(x=!0){return this.attr({visibility:x?"inherit":"visible"})}"stroke-widthSetter"(x,O,z){this[O]=x,z.setAttribute(O,x)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let z,x=this.getStyle("stroke-width"),O=0;return/px$/.test(x)?O=h(x):""!==x&&(I(z=te.createElementNS(L,"rect"),{width:x,"stroke-width":0}),this.element.parentNode.appendChild(z),O=z.getBBox().width,z.parentNode.removeChild(z)),O}symbolAttr(x){let O=this;M.symbolCustomAttribs.forEach(function(z){O[z]=o(x[z],O[z])}),O.attr({d:O.renderer.symbols[O.symbolName](O.x,O.y,O.width,O.height,O)})}textSetter(x){x!==this.textStr&&(delete this.textPxLength,this.textStr=x,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(x){let O=this.element,z=O.getElementsByTagName("title")[0]||te.createElementNS(this.SVG_NS,"title");O.insertBefore?O.insertBefore(z,O.firstChild):O.appendChild(z),z.textContent=c(o(x,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let x=this.element;return x.parentNode.appendChild(x),this}translate(x,O){return this.attr({translateX:x,translateY:O})}updateTransform(x="transform"){let{element:O,matrix:z,rotation:j=0,rotationOriginX:J,rotationOriginY:y,scaleX:w,scaleY:E,translateX:X=0,translateY:m=0}=this,F=["translate("+X+","+m+")"];P(z)&&F.push("matrix("+z.join(",")+")"),j&&(F.push("rotate("+j+" "+o(J,O.getAttribute("x"),0)+" "+o(y,O.getAttribute("y")||0)+")"),"SPAN"===this.text?.element.tagName&&this.text.attr({rotation:j,rotationOriginX:(J||0)-this.padding,rotationOriginY:(y||0)-this.padding})),(P(w)||P(E))&&F.push("scale("+o(w,1)+" "+o(E,1)+")"),F.length&&!(this.text||this).textPath&&O.setAttribute(x,F.join(" "))}visibilitySetter(x,O,z){"inherit"===x?z.removeAttribute(O):this[O]!==x&&z.setAttribute(O,x),this[O]=x}xGetter(x){return"circle"===this.element.nodeName&&("x"===x?x="cx":"y"===x&&(x="cy")),this._defaultGetter(x)}zIndexSetter(x,O){let E,X,m,R,G,z=this.renderer,j=this.parentGroup,J=(j||z).element||z.box,y=this.element,w=J===z.box,F=!1,_=this.added;if(P(x)?(y.setAttribute("data-z-index",x),this[O]===(x=+x)&&(_=!1)):P(this[O])&&y.removeAttribute("data-z-index"),this[O]=x,_){for((x=this.zIndex)&&j&&(j.handleZ=!0),G=(E=J.childNodes).length-1;G>=0&&!F;G--)R=!P(m=(X=E[G]).getAttribute("data-z-index")),X!==y&&(x<0&&R&&!w&&!G?(J.insertBefore(y,E[G]),F=!0):(h(m)<=x||R&&(!P(x)||x>=0))&&(J.insertBefore(y,E[G+1]),F=!0));F||(J.insertBefore(y,E[w?3:0]),F=!0)}return F}}return M.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],M.prototype.strokeSetter=M.prototype.fillSetter,M.prototype.yGetter=M.prototype.xGetter,M.prototype.matrixSetter=M.prototype.rotationOriginXSetter=M.prototype.rotationOriginYSetter=M.prototype.rotationSetter=M.prototype.scaleXSetter=M.prototype.scaleYSetter=M.prototype.translateXSetter=M.prototype.translateYSetter=M.prototype.verticalAlignSetter=function(U,x){this[x]=U,this.doTransform=!0},M}),Ne(Y,"Core/Renderer/SVG/SVGLabel.js",[Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defined:xe,extend:ve,isNumber:me,merge:de,pick:he,removeEvent:Q}=ce;class te extends Z{constructor(L,W,N,I,C,A,D,P,v,T){let H;super(L,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=W,this.x=N,this.y=I,this.anchorX=A,this.anchorY=D,this.baseline=v,this.className=T,this.addClass("button"===T?"highcharts-no-tooltip":"highcharts-label"),T&&this.addClass("highcharts-"+T),this.text=L.text(void 0,0,0,P).attr({zIndex:1}),"string"==typeof C&&((H=/^url\((.*?)\)$/.test(C))||this.renderer.symbols[C])&&(this.symbolKey=C),this.bBox=te.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=L.styledMode||H,this.deferredAttr={},this.alignFactor=0}alignSetter(L){let W={left:0,center:.5,right:1}[L];W!==this.alignFactor&&(this.alignFactor=W,this.bBox&&me(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(L,W){this.anchorX=L,this.boxAttr(W,Math.round(L)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(L,W){this.anchorY=L,this.boxAttr(W,L-this.ySetting)}boxAttr(L,W){this.box?this.box.attr(L,W):this.deferredAttr[L]=W}css(L){if(L){let W={};L=de(L),te.textProps.forEach(N=>{void 0!==L[N]&&(W[N]=L[N],delete L[N])}),this.text.css(W),"fontSize"in W||"fontWeight"in W?this.updateTextPadding():("width"in W||"textOverflow"in W)&&this.updateBoxSize()}return Z.prototype.css.call(this,L)}destroy(){Q(this.element,"mouseenter"),Q(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Z.prototype.destroy.call(this)}fillSetter(L,W){L&&(this.needsBox=!0),this.fill=L,this.boxAttr(W,L)}getBBox(L,W){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();let{padding:N,height:I=0,translateX:C=0,translateY:A=0,width:D=0}=this,P=he(this.paddingLeft,N),v=W??(this.rotation||0),T={width:D,height:I,x:C+this.bBox.x-P,y:A+this.bBox.y-N+this.baselineOffset};return v&&(T=this.getRotatedBox(T,v)),T}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(L){this.heightSetting=L,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:he(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&xe(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(L,W){me(L)?L!==this[W]&&(this[W]=L,this.updateTextPadding()):this[W]=void 0}rSetter(L,W){this.boxAttr(W,L)}strokeSetter(L,W){this.stroke=L,this.boxAttr(W,L)}"stroke-widthSetter"(L,W){L&&(this.needsBox=!0),this["stroke-width"]=L,this.boxAttr(W,L)}"text-alignSetter"(L){this.textAlign=L}textSetter(L){void 0!==L&&this.text.attr({text:L}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let L,W=this.text,N={},I=this.padding,C=this.bBox=me(this.widthSetting)&&me(this.heightSetting)&&!this.textAlign||!xe(W.textStr)?te.emptyBBox:W.getBBox(void 0,0);this.width=this.getPaddedWidth(),this.height=(this.heightSetting||C.height||0)+2*I;let A=this.renderer.fontMetrics(W);if(this.baselineOffset=I+Math.min((this.text.firstLineMetrics||A).b,C.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-A.h)/2),this.needsBox&&!W.textPath){if(!this.box){let D=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();D.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),D.add(this)}L=this.getCrispAdjust(),N.x=L,N.y=(this.baseline?-this.baselineOffset:0)+L,N.width=Math.round(this.width),N.height=Math.round(this.height),this.box.attr(ve(N,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let L=this.text;if(!L.textPath){this.updateBoxSize();let W=this.baseline?0:this.baselineOffset,N=he(this.paddingLeft,this.padding);xe(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(N+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(N!==L.x||W!==L.y)&&(L.attr("x",N),L.hasBoxWidthChanged&&(this.bBox=L.getBBox(!0)),void 0!==W&&L.attr("y",W)),L.x=N,L.y=W}}widthSetter(L){this.widthSetting=me(L)?L:void 0,this.doUpdate=!0}getPaddedWidth(){let L=this.padding,W=he(this.paddingLeft,L),N=he(this.paddingRight,L);return(this.widthSetting||this.bBox.width||0)+W+N}xSetter(L){this.x=L,this.alignFactor&&(L-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(L),this.attr("translateX",this.xSetting)}ySetter(L){this.ySetting=this.y=Math.round(L),this.attr("translateY",this.ySetting)}}return te.emptyBBox={width:0,height:0,x:0,y:0},te.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],te}),Ne(Y,"Core/Renderer/SVG/Symbols.js",[Y["Core/Utilities.js"]],function(Z){let{defined:ce,isNumber:xe,pick:ve}=Z;function me(Q,te,ee,L,W){let N=[];if(W){let I=W.start||0,C=ve(W.r,ee),A=ve(W.r,L||ee),D=2e-4/(W.borderRadius?1:Math.max(C,1)),P=Math.abs((W.end||0)-I-2*Math.PI)<D,v=(W.end||0)-(P?D:0),T=W.innerR,H=ve(W.open,P),B=Math.cos(I),S=Math.sin(I),p=Math.cos(v),b=Math.sin(v),l=ve(W.longArc,v-I-Math.PI<D?0:1),n=["A",C,A,0,l,ve(W.clockwise,1),Q+C*p,te+A*b];n.params={start:I,end:v,cx:Q,cy:te},N.push(["M",Q+C*B,te+A*S],n),ce(T)&&((n=["A",T,T,0,l,ce(W.clockwise)?1-W.clockwise:0,Q+T*B,te+T*S]).params={start:v,end:I,cx:Q,cy:te},N.push(H?["M",Q+T*p,te+T*b]:["L",Q+T*p,te+T*b],n)),H||N.push(["Z"])}return N}function de(Q,te,ee,L,W){return W&&W.r?he(Q,te,ee,L,W):[["M",Q,te],["L",Q+ee,te],["L",Q+ee,te+L],["L",Q,te+L],["Z"]]}function he(Q,te,ee,L,W){let N=W?.r||0;return[["M",Q+N,te],["L",Q+ee-N,te],["A",N,N,0,0,1,Q+ee,te+N],["L",Q+ee,te+L-N],["A",N,N,0,0,1,Q+ee-N,te+L],["L",Q+N,te+L],["A",N,N,0,0,1,Q,te+L-N],["L",Q,te+N],["A",N,N,0,0,1,Q+N,te],["Z"]]}return{arc:me,callout:function(Q,te,ee,L,W){let N=Math.min(W&&W.r||0,ee,L),I=N+6,C=W&&W.anchorX,A=W&&W.anchorY||0,D=he(Q,te,ee,L,{r:N});if(!xe(C)||C<ee&&C>0&&A<L&&A>0)return D;if(Q+C>ee-I)if(A>te+I&&A<te+L-I)D.splice(3,1,["L",Q+ee,A-6],["L",Q+ee+6,A],["L",Q+ee,A+6],["L",Q+ee,te+L-N]);else if(C<ee){let P=A<te+I;D.splice(P?2:5,0,["L",C,A],["L",Q+ee-N,P?te:te+L])}else D.splice(3,1,["L",Q+ee,L/2],["L",C,A],["L",Q+ee,L/2],["L",Q+ee,te+L-N]);else if(Q+C<I)if(A>te+I&&A<te+L-I)D.splice(7,1,["L",Q,A+6],["L",Q-6,A],["L",Q,A-6],["L",Q,te+N]);else if(C>0){let P=A<te+I;D.splice(P?1:6,0,["L",C,A],["L",Q+N,P?te:te+L])}else D.splice(7,1,["L",Q,L/2],["L",C,A],["L",Q,L/2],["L",Q,te+N]);else A>L&&C<ee-I?D.splice(5,1,["L",C+6,te+L],["L",C,te+L+6],["L",C-6,te+L],["L",Q+N,te+L]):A<0&&C>I&&D.splice(1,1,["L",C-6,te],["L",C,te-6],["L",C+6,te],["L",ee-N,te]);return D},circle:function(Q,te,ee,L){return me(Q+ee/2,te+L/2,ee/2,L/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(Q,te,ee,L){return[["M",Q+ee/2,te],["L",Q+ee,te+L/2],["L",Q+ee/2,te+L],["L",Q,te+L/2],["Z"]]},rect:de,roundedRect:he,square:de,triangle:function(Q,te,ee,L){return[["M",Q+ee/2,te],["L",Q+ee,te+L],["L",Q,te+L],["Z"]]},"triangle-down":function(Q,te,ee,L){return[["M",Q,te],["L",Q+ee,te],["L",Q+ee/2,te+L],["Z"]]}}}),Ne(Y,"Core/Renderer/SVG/TextBuilder.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{doc:ve,SVG_NS:me,win:de}=ce,{attr:he,extend:Q,fireEvent:te,isString:ee,objectEach:L,pick:W}=xe;return class{constructor(N){let I=N.styles;this.renderer=N.renderer,this.svgElement=N,this.width=N.textWidth,this.textLineHeight=I&&I.lineHeight,this.textOutline=I&&I.textOutline,this.ellipsis=!(!I||"ellipsis"!==I.textOverflow),this.noWrap=!(!I||"nowrap"!==I.whiteSpace)}buildSVG(){let N=this.svgElement,I=N.element,C=N.renderer,A=W(N.textStr,"").toString(),D=-1!==A.indexOf("<"),P=I.childNodes,v=!N.added&&C.box,T=[A,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,N.getStyle("font-size"),this.width].join(",");if(T!==N.textCache){N.textCache=T,delete N.actualWidth;for(let H=P.length;H--;)I.removeChild(P[H]);if(D||this.ellipsis||this.width||N.textPath||-1!==A.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(A))){if(""!==A){v&&v.appendChild(I);let H=new Z(A);this.modifyTree(H.nodes),H.addToDOM(I),this.modifyDOM(),this.ellipsis&&-1!==(I.textContent||"").indexOf("\u2026")&&N.attr("title",this.unescapeEntities(N.textStr||"",["&lt;","&gt;"])),v&&v.removeChild(I)}}else I.appendChild(ve.createTextNode(this.unescapeEntities(A)));ee(this.textOutline)&&N.applyTextOutline&&N.applyTextOutline(this.textOutline)}}modifyDOM(){let N,I=this.svgElement,C=he(I.element,"x");for(I.firstLineMetrics=void 0;(N=I.element.firstChild)&&/^[\s\u200B]*$/.test(N.textContent||" ");)I.element.removeChild(N);[].forEach.call(I.element.querySelectorAll("tspan.highcharts-br"),(v,T)=>{v.nextSibling&&v.previousSibling&&(0===T&&1===v.previousSibling.nodeType&&(I.firstLineMetrics=I.renderer.fontMetrics(v.previousSibling)),he(v,{dy:this.getLineHeight(v.nextSibling),x:C}))});let A=this.width||0;if(!A)return;let D=(v,T)=>{let H=v.textContent||"",B=H.replace(/([^\^])-/g,"$1- ").split(" "),S=!this.noWrap&&(B.length>1||I.element.childNodes.length>1),p=this.getLineHeight(T),b=0,l=I.actualWidth;if(this.ellipsis)H&&this.truncate(v,H,void 0,0,Math.max(0,A-.8*p),(n,o)=>n.substring(0,o)+"\u2026");else if(S){let n=[],o=[];for(;T.firstChild&&T.firstChild!==v;)o.push(T.firstChild),T.removeChild(T.firstChild);for(;B.length;)B.length&&!this.noWrap&&b>0&&(n.push(v.textContent||""),v.textContent=B.join(" ").replace(/- /g,"-")),this.truncate(v,void 0,B,0===b&&l||0,A,(h,d)=>B.slice(0,d).join(" ").replace(/- /g,"-")),l=I.actualWidth,b++;o.forEach(h=>{T.insertBefore(h,v)}),n.forEach(h=>{T.insertBefore(ve.createTextNode(h),v);let d=ve.createElementNS(me,"tspan");d.textContent="\u200b",he(d,{dy:p,x:C}),T.insertBefore(d,v)})}},P=v=>{[].slice.call(v.childNodes).forEach(T=>{T.nodeType===de.Node.TEXT_NODE?D(T,v):(-1!==T.className.baseVal.indexOf("highcharts-br")&&(I.actualWidth=0),P(T))})};P(I.element)}getLineHeight(N){let I=N.nodeType===de.Node.TEXT_NODE?N.parentElement:N;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(I||this.svgElement.element).h}modifyTree(N){let I=(C,A)=>{let{attributes:D={},children:P,style:v={},tagName:T}=C,H=this.renderer.styledMode;if("b"===T||"strong"===T?H?D.class="highcharts-strong":v.fontWeight="bold":("i"===T||"em"===T)&&(H?D.class="highcharts-emphasized":v.fontStyle="italic"),v&&v.color&&(v.fill=v.color),"br"===T){D.class="highcharts-br",C.textContent="\u200b";let B=N[A+1];B&&B.textContent&&(B.textContent=B.textContent.replace(/^ +/gm,""))}else"a"===T&&P&&P.some(B=>"#text"===B.tagName)&&(C.children=[{children:P,tagName:"tspan"}]);"#text"!==T&&"a"!==T&&(C.tagName="tspan"),Q(C,{attributes:D,style:v}),P&&P.filter(B=>"#text"!==B.tagName).forEach(I)};N.forEach(I),te(this.svgElement,"afterModifyTree",{nodes:N})}truncate(N,I,C,A,D,P){let v,T,H=this.svgElement,{rotation:B}=H,S=[],p=C?1:0,b=(I||C||"").length,l=b,n=function(o,h){let d=h||o,c=N.parentNode;if(c&&void 0===S[d]&&c.getSubStringLength)try{S[d]=A+c.getSubStringLength(0,C?d+1:d)}catch{}return S[d]};if(H.rotation=0,A+(T=n(N.textContent.length))>D){for(;p<=b;)l=Math.ceil((p+b)/2),C&&(v=P(C,l)),T=n(l,v&&v.length-1),p===b?p=b+1:T>D?b=l-1:p=l;0===b?N.textContent="":I&&b===I.length-1||(N.textContent=v||P(I||C,l))}C&&C.splice(0,l),H.actualWidth=T,H.rotation=B}unescapeEntities(N,I){return L(this.renderer.escapes,function(C,A){I&&-1!==I.indexOf(C)||(N=N.toString().replace(RegExp(C,"g"),A))}),N}}}),Ne(Y,"Core/Renderer/SVG/SVGRenderer.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Defaults.js"],Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Renderer/SVG/SVGLabel.js"],Y["Core/Renderer/SVG/Symbols.js"],Y["Core/Renderer/SVG/TextBuilder.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee){let L,{defaultOptions:W}=ce,{charts:N,deg2rad:I,doc:C,isFirefox:A,isMS:D,isWebKit:P,noop:v,SVG_NS:T,symbolSizes:H,win:B}=ve,{addEvent:S,attr:p,createElement:b,crisp:l,css:n,defined:o,destroyObjectProperties:h,extend:d,isArray:c,isNumber:f,isObject:u,isString:M,merge:U,pick:x,pInt:O,replaceNested:z,uniqueKey:j}=ee;class J{constructor(w,E,X,m,F,R,_){let G,K,oe=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ae=oe.element;_||oe.css(this.getStyle(m||{})),w.appendChild(ae),p(w,"dir","ltr"),-1===w.innerHTML.indexOf("xmlns")&&p(ae,"xmlns",this.SVG_NS),this.box=ae,this.boxWrapper=oe,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(C.createTextNode("Created with Highcharts 11.4.8")),this.defs=this.createElement("defs").add(),this.allowHTML=R,this.forExport=F,this.styledMode=_,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=oe.getStyle("font-size"),this.setSize(E,X,!1),A&&w.getBoundingClientRect&&((G=function(){n(w,{left:0,top:0}),K=w.getBoundingClientRect(),n(w,{left:Math.ceil(K.left)-K.left+"px",top:Math.ceil(K.top)-K.top+"px"})})(),this.unSubPixelFix=S(B,"resize",G))}definition(w){return new Z([w]).addToDOM(this.defs.element)}getReferenceURL(){if((A||P)&&C.getElementsByTagName("base").length){if(!o(L)){let w=j(),E=new Z([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:w},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${w})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(C.body);n(E,{position:"fixed",top:0,left:0,zIndex:9e5});let X=C.elementFromPoint(6,6);L="hitme"===(X&&X.id),C.body.removeChild(E)}if(L)return z(B.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(w){return this.style=d({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},w),this.style}setStyle(w){this.boxWrapper.css(this.getStyle(w))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let w=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,this.defs=w.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(w){return new this.Element(this,w)}getRadialAttr(w,E){return{cx:w[0]-w[2]/2+(E.cx||0)*w[2],cy:w[1]-w[2]/2+(E.cy||0)*w[2],r:(E.r||0)*w[2]}}shadowDefinition(w){let E=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(w).map(m=>`${m}-${w[m]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),X=U({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},w);return this.defs.element.querySelector(`#${E}`)||this.definition({tagName:"filter",attributes:{id:E,filterUnits:X.filterUnits},children:this.getShadowFilterContent(X)}),E}getShadowFilterContent(w){return[{tagName:"feDropShadow",attributes:{dx:w.offsetX,dy:w.offsetY,"flood-color":w.color,"flood-opacity":Math.min(5*w.opacity,1),stdDeviation:w.width/2}}]}buildText(w){new te(w).buildSVG()}getContrast(w){let E=xe.parse(w).rgba.map(m=>{let F=m/255;return F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4)}),X=.2126*E[0]+.7152*E[1]+.0722*E[2];return 1.05/(X+.05)>(X+.05)/.05?"#FFFFFF":"#000000"}button(w,E,X,m,F={},R,_,G,K,oe){let ae=this.label(w,E,X,K,void 0,void 0,oe,void 0,"button"),ue=this.styledMode,be=arguments,Se=0;F=U(W.global.buttonTheme,F),ue&&(delete F.fill,delete F.stroke,delete F["stroke-width"]);let ie=F.states||{},q=F.style||{};delete F.states,delete F.style;let re=[Z.filterUserAttributes(F)],le=[q];return ue||["hover","select","disabled"].forEach((pe,ge)=>{re.push(U(re[0],Z.filterUserAttributes(be[ge+5]||ie[pe]||{}))),le.push(re[ge+1].style),delete re[ge+1].style}),S(ae.element,D?"mouseover":"mouseenter",function(){3!==Se&&ae.setState(1)}),S(ae.element,D?"mouseout":"mouseleave",function(){3!==Se&&ae.setState(Se)}),ae.setState=(pe=0)=>{if(1!==pe&&(ae.state=Se=pe),ae.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][pe]),!ue){ae.attr(re[pe]);let ge=le[pe];u(ge)&&ae.css(ge)}},ae.attr(re[0]),!ue&&(ae.css(d({cursor:"default"},q)),oe&&ae.text.css({pointerEvents:"none"})),ae.on("touchstart",pe=>pe.stopPropagation()).on("click",function(pe){3!==Se&&m.call(ae,pe)})}crispLine(w,E){let[X,m]=w;return o(X[1])&&X[1]===m[1]&&(X[1]=m[1]=l(X[1],E)),o(X[2])&&X[2]===m[2]&&(X[2]=m[2]=l(X[2],E)),w}path(w){let E=this.styledMode?{}:{fill:"none"};return c(w)?E.d=w:u(w)&&d(E,w),this.createElement("path").attr(E)}circle(w,E,X){let m=u(w)?w:void 0===w?{}:{x:w,y:E,r:X},F=this.createElement("circle");return F.xSetter=F.ySetter=function(R,_,G){G.setAttribute("c"+_,R)},F.attr(m)}arc(w,E,X,m,F,R){let _;u(w)?(E=(_=w).y,X=_.r,m=_.innerR,F=_.start,R=_.end,w=_.x):_={innerR:m,start:F,end:R};let G=this.symbol("arc",w,E,X,X,_);return G.r=X,G}rect(w,E,X,m,F,R){let _=u(w)?w:void 0===w?{}:{x:w,y:E,r:F,width:Math.max(X||0,0),height:Math.max(m||0,0)},G=this.createElement("rect");return this.styledMode||(void 0!==R&&(_["stroke-width"]=R,d(_,G.crisp(_))),_.fill="none"),G.rSetter=function(K,oe,ae){G.r=K,p(ae,{rx:K,ry:K})},G.rGetter=function(){return G.r||0},G.attr(_)}roundedRect(w){return this.symbol("roundedRect").attr(w)}setSize(w,E,X){this.width=w,this.height=E,this.boxWrapper.animate({width:w,height:E},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:x(X,!0)?void 0:0}),this.alignElements()}g(w){let E=this.createElement("g");return w?E.attr({class:"highcharts-"+w}):E}image(w,E,X,m,F,R){let _={preserveAspectRatio:"none"};f(E)&&(_.x=E),f(X)&&(_.y=X),f(m)&&(_.width=m),f(F)&&(_.height=F);let G=this.createElement("image").attr(_),K=function(oe){G.attr({href:w}),R.call(G,oe)};if(R){G.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let oe=new B.Image;S(oe,"load",K),oe.src=w,oe.complete&&K({})}else G.attr({href:w});return G}symbol(w,E,X,m,F,R){let _,G,K,oe,ae=this,ue=/^url\((.*?)\)$/,be=ue.test(w),Se=!be&&(this.symbols[w]?w:"circle"),ie=Se&&this.symbols[Se];if(ie)"number"==typeof E&&(G=ie.call(this.symbols,E||0,X||0,m||0,F||0,R)),_=this.path(G),ae.styledMode||_.attr("fill","none"),d(_,{symbolName:Se||void 0,x:E,y:X,width:m,height:F}),R&&d(_,R);else if(be){K=w.match(ue)[1];let q=_=this.image(K);q.imgwidth=x(R&&R.width,H[K]&&H[K].width),q.imgheight=x(R&&R.height,H[K]&&H[K].height),oe=re=>re.attr({width:re.width,height:re.height}),["width","height"].forEach(re=>{q[`${re}Setter`]=function(le,pe){this[pe]=le;let{alignByTranslate:ge,element:we,width:ye,height:Me,imgwidth:Pe,imgheight:Re}=this,Fe="width"===pe?Pe:Re,De=1;R&&"within"===R.backgroundSize&&ye&&Me&&Pe&&Re?(De=Math.min(ye/Pe,Me/Re),p(we,{width:Math.round(Pe*De),height:Math.round(Re*De)})):we&&Fe&&we.setAttribute(pe,Fe),!ge&&Pe&&Re&&this.translate(((ye||0)-Pe*De)/2,((Me||0)-Re*De)/2)}}),o(E)&&q.attr({x:E,y:X}),q.isImg=!0,q.symbolUrl=w,o(q.imgwidth)&&o(q.imgheight)?oe(q):(q.attr({width:0,height:0}),b("img",{onload:function(){let re=N[ae.chartIndex];0===this.width&&(n(this,{position:"absolute",top:"-999em"}),C.body.appendChild(this)),H[K]={width:this.width,height:this.height},q.imgwidth=this.width,q.imgheight=this.height,q.element&&oe(q),this.parentNode&&this.parentNode.removeChild(this),ae.imgCount--,ae.imgCount||!re||re.hasLoaded||re.onload()},src:K}),this.imgCount++)}return _}clipRect(w,E,X,m){return this.rect(w,E,X,m,0)}text(w,E,X,m){let F={};if(m&&(this.allowHTML||!this.forExport))return this.html(w,E,X);F.x=Math.round(E||0),X&&(F.y=Math.round(X)),o(w)&&(F.text=w);let R=this.createElement("text").attr(F);return m&&(!this.forExport||this.allowHTML)||(R.xSetter=function(_,G,K){let oe=K.getElementsByTagName("tspan"),ae=K.getAttribute(G);for(let be,ue=0;ue<oe.length;ue++)(be=oe[ue]).getAttribute(G)===ae&&be.setAttribute(G,_);K.setAttribute(G,_)}),R}fontMetrics(w){let E=O(de.prototype.getStyle.call(w,"font-size")||0),X=E<24?E+3:Math.round(1.2*E);return{h:X,b:Math.round(.8*X),f:E}}rotCorr(w,E,X){let m=w;return E&&X&&(m=Math.max(m*Math.cos(E*I),4)),{x:-w/3*Math.sin(E*I),y:m}}pathToSegments(w){let E=[],X=[],m={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let F=0;F<w.length;F++)M(X[0])&&f(w[F])&&X.length===m[X[0].toUpperCase()]&&w.splice(F,0,X[0].replace("M","L").replace("m","l")),"string"==typeof w[F]&&(X.length&&E.push(X.slice(0)),X.length=0),X.push(w[F]);return E.push(X.slice(0)),E}label(w,E,X,m,F,R,_,G,K){return new he(this,w,E,X,m,F,R,_,G,K)}alignElements(){this.alignedObjects.forEach(w=>w.align())}}return d(J.prototype,{Element:de,SVG_NS:T,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Q,draw:v}),me.registerRendererType("svg",J,!0),J}),Ne(Y,"Core/Renderer/HTML/HTMLElement.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Globals.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{composed:me}=ce,{attr:de,css:he,createElement:Q,defined:te,extend:ee,pInt:L,pushUnique:W}=ve;function N(D,P,v){let T=this.div?.style||v.style;xe.prototype[`${P}Setter`].call(this,D,P,v),T&&(T[P]=D)}let I=(D,P)=>{if(!D.div){let v=de(D.element,"class"),T=D.css,H=Q("div",v?{className:v}:void 0,{position:"absolute",left:`${D.translateX||0}px`,top:`${D.translateY||0}px`,...D.styles,display:D.display,opacity:D.opacity,visibility:D.visibility},D.parentGroup?.div||P);D.classSetter=(B,S,p)=>{p.setAttribute("class",B),H.className=B},D.translateXSetter=D.translateYSetter=(B,S)=>{D[S]=B,H.style["translateX"===S?"left":"top"]=`${B}px`,D.doTransform=!0},D.opacitySetter=D.visibilitySetter=N,D.css=B=>(T.call(D,B),B.cursor&&(H.style.cursor=B.cursor),B.pointerEvents&&(H.style.pointerEvents=B.pointerEvents),D),D.on=function(){return xe.prototype.on.apply({element:H,onEvents:D.onEvents},arguments),D},D.div=H}return D.div};class C extends xe{static compose(P){W(me,this.compose)&&(P.prototype.html=function(v,T,H){return new C(this,"span").attr({text:v,x:Math.round(T),y:Math.round(H)})})}constructor(P,v){super(P,v),this.css({position:"absolute",...P.styledMode?{}:{fontFamily:P.style.fontFamily,fontSize:P.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(P,v,T){this.xCorr=-P*T,this.yCorr=-v}css(P){let v,{element:T}=this,H="SPAN"===T.tagName&&P&&"width"in P,B=H&&P.width;return H&&(delete P.width,this.textWidth=L(B)||void 0,v=!0),"ellipsis"===P?.textOverflow&&(P.whiteSpace="nowrap",P.overflow="hidden"),ee(this.styles,P),he(T,P),v&&this.updateTransform(),this}htmlGetBBox(){let{element:P}=this;return{x:P.offsetLeft,y:P.offsetTop,width:P.offsetWidth,height:P.offsetHeight}}updateTransform(){if(!this.added)return void(this.alignOnAdd=!0);let{element:P,renderer:v,rotation:T,rotationOriginX:H,rotationOriginY:B,styles:S,textAlign:p="left",textWidth:b,translateX:l=0,translateY:n=0,x:o=0,y:h=0}=this,d={left:0,center:.5,right:1}[p],c=S.whiteSpace;if(he(P,{marginLeft:`${l}px`,marginTop:`${n}px`}),"SPAN"===P.tagName){let M,f=[T,p,P.innerHTML,b,this.textAlign].join(","),u=-1*this.parentGroup?.padding||0,U=!1;if(b!==this.oldTextWidth){let J=this.textPxLength?this.textPxLength:(he(P,{width:"",whiteSpace:c||"nowrap"}),P.offsetWidth),y=b||0;(y>this.oldTextWidth||J>y)&&(/[ \-]/.test(P.textContent||P.innerText)||"ellipsis"===P.style.textOverflow)&&(he(P,{width:J>y||T?b+"px":"auto",display:"block",whiteSpace:c||"normal"}),this.oldTextWidth=b,U=!0)}this.hasBoxWidthChanged=U,f!==this.cTT&&(M=v.fontMetrics(P).b,te(T)&&(T!==(this.oldRotation||0)||p!==this.oldAlign)&&this.setSpanRotation(T,u,u),this.getSpanCorrection(!te(T)&&this.textPxLength||P.offsetWidth,M,d));let{xCorr:x=0,yCorr:O=0}=this;he(P,{left:`${o+x}px`,top:`${h+O}px`,transformOrigin:`${(H??o)-x-o-u}px ${(B??h)-O-h-u}px`}),this.cTT=f,this.oldRotation=T,this.oldAlign=p}}setSpanRotation(P,v,T){he(this.element,{transform:`rotate(${P}deg)`,transformOrigin:`${v}% ${T}px`})}add(P){let v,T=this.renderer.box.parentNode,H=[];if(this.parentGroup=P,P&&!(v=P.div)){let B=P;for(;B;)H.push(B),B=B.parentGroup;for(let S of H.reverse())v=I(S,T)}return(v||T).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(P){P!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Z.setElementHTML(this.element,P??""),this.textStr=P,this.doTransform=!0)}alignSetter(P){this.alignValue=this.textAlign=P,this.doTransform=!0}xSetter(P,v){this[v]=P,this.doTransform=!0}}let A=C.prototype;return A.visibilitySetter=A.opacitySetter=N,A.ySetter=A.rotationSetter=A.rotationOriginXSetter=A.rotationOriginYSetter=A.xSetter,C}),Ne(Y,"Core/Axis/AxisDefaults.js",[],function(){var Z,ce;return(ce=Z||(Z={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},ce.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:xe}=this.axis.chart;return xe(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},Z}),Ne(Y,"Core/Foundation.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,isFunction:ve,objectEach:me,removeEvent:de}=Z;return(ce||(ce={})).registerEventOptions=function(he,Q){he.eventOptions=he.eventOptions||{},me(Q.events,function(te,ee){he.eventOptions[ee]!==te&&(he.eventOptions[ee]&&(de(he,ee,he.eventOptions[ee]),delete he.eventOptions[ee]),ve(te)&&(he.eventOptions[ee]=te,xe(he,ee,te,{order:0})))})},ce}),Ne(Y,"Core/Axis/Tick.js",[Y["Core/Templating.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{deg2rad:ve}=ce,{clamp:me,correctFloat:de,defined:he,destroyObjectProperties:Q,extend:te,fireEvent:ee,isNumber:L,merge:W,objectEach:N,pick:I}=xe;return class{constructor(C,A,D,P,v){this.isNew=!0,this.isNewLabel=!0,this.axis=C,this.pos=A,this.type=D||"",this.parameters=v||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,ee(this,"init"),D||P||this.addLabel()}addLabel(){let d,c,f,C=this,A=C.axis,D=A.options,P=A.chart,v=A.categories,T=A.logarithmic,H=A.names,B=C.pos,S=I(C.options&&C.options.labels,D.labels),p=A.tickPositions,b=B===p[0],l=B===p[p.length-1],n=(!S.step||1===S.step)&&1===A.tickInterval,o=p.info,h=C.label,u=this.parameters.category||(v?I(v[B],H[B],B):B);T&&L(u)&&(u=de(T.lin2log(u))),A.dateTime&&(o?d=(c=P.time.resolveDTLFormat(D.dateTimeLabelFormats[!D.grid&&o.higherRanks[B]||o.unitName])).main:L(u)&&(d=A.dateTime.getXDateFormat(u,D.dateTimeLabelFormats||{}))),C.isFirst=b,C.isLast=l;let M={axis:A,chart:P,dateTimeLabelFormat:d,isFirst:b,isLast:l,pos:B,tick:C,tickPositionInfo:o,value:u};ee(this,"labelFormat",M);let U=z=>S.formatter?S.formatter.call(z,z):S.format?(z.text=A.defaultLabelFormatter.call(z),Z.format(S.format,z,P)):A.defaultLabelFormatter.call(z),x=U.call(M,M),O=c&&c.list;C.shortenLabel=O?function(){for(f=0;f<O.length;f++)if(te(M,{dateTimeLabelFormat:O[f]}),h.attr({text:U.call(M,M)}),h.getBBox().width<A.getSlotWidth(C)-2*(S.padding||0))return;h.attr({text:""})}:void 0,n&&A._addedPlotLB&&C.moveLabel(x,S),he(h)||C.movedLabel?h&&h.textStr!==x&&!n&&(!h.textWidth||S.style.width||h.styles.width||h.css({width:null}),h.attr({text:x}),h.textPxLength=h.getBBox().width):(C.label=h=C.createLabel(x,S),C.rotation=0)}createLabel(C,A,D){let P=this.axis,v=P.chart,T=he(C)&&A.enabled?v.renderer.text(C,D?.x,D?.y,A.useHTML).add(P.labelGroup):void 0;return T&&(v.styledMode||T.css(W(A.style)),T.textPxLength=T.getBBox().width),T}destroy(){Q(this,this.axis)}getPosition(C,A,D,P){let v=this.axis,T=v.chart,H=P&&T.oldChartHeight||T.chartHeight,B={x:C?de(v.translate(A+D,void 0,void 0,P)+v.transB):v.left+v.offset+(v.opposite?(P&&T.oldChartWidth||T.chartWidth)-v.right-v.left:0),y:C?H-v.bottom+v.offset-(v.opposite?v.height:0):de(H-v.translate(A+D,void 0,void 0,P)-v.transB)};return B.y=me(B.y,-1e9,1e9),ee(this,"afterGetPosition",{pos:B}),B}getLabelPosition(C,A,D,P,v,T,H,B){let S,p,b=this.axis,l=b.transA,n=b.isLinked&&b.linkedParent?b.linkedParent.reversed:b.reversed,o=b.staggerLines,h=b.tickRotCorr||{x:0,y:0},d=P||b.reserveSpaceDefault?0:-b.labelOffset*("center"===b.labelAlign?.5:1),c=v.distance,f={};return S=0===b.side?D.rotation?-c:-D.getBBox().height:2===b.side?h.y+c:Math.cos(D.rotation*ve)*(h.y-D.getBBox(!1,0).height/2),he(v.y)&&(S=0===b.side&&b.horiz?v.y+S:v.y),C=C+I(v.x,[0,1,0,-1][b.side]*c)+d+h.x-(T&&P?T*l*(n?-1:1):0),A=A+S-(T&&!P?T*l*(n?1:-1):0),o&&(p=H/(B||1)%o,b.opposite&&(p=o-p-1),A+=p*(b.labelOffset/o)),f.x=C,f.y=Math.round(A),ee(this,"afterGetLabelPosition",{pos:f,tickmarkOffset:T,index:H}),f}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(C,A,D,P,v=!1,T){return T.crispLine([["M",C,A],["L",C+(v?0:-D),A+(v?D:0)]],P)}handleOverflow(C){let c,f,u,A=this.axis,D=A.options.labels,P=C.x,v=A.chart.chartWidth,T=A.chart.spacing,H=I(A.labelLeft,Math.min(A.pos,T[3])),B=I(A.labelRight,Math.max(A.isRadial?0:A.pos+A.len,v-T[1])),S=this.label,p=this.rotation,b={left:0,center:.5,right:1}[A.labelAlign||S.attr("align")],l=S.getBBox().width,n=A.getSlotWidth(this),o={},h=n,d=1;p||"justify"!==D.overflow?p<0&&P-b*l<H?u=Math.round(P/Math.cos(p*ve)-H):p>0&&P+b*l>B&&(u=Math.round((v-P)/Math.cos(p*ve))):(c=P-b*l,f=P+(1-b)*l,c<H?h=C.x+h*(1-b)-H:f>B&&(h=B-C.x+h*b,d=-1),(h=Math.min(n,h))<n&&"center"===A.labelAlign&&(C.x+=d*(n-h-b*(n-Math.min(l,h)))),(l>h||A.autoRotation&&(S.styles||{}).width)&&(u=h)),u&&(this.shortenLabel?this.shortenLabel():(o.width=Math.floor(u)+"px",(D.style||{}).textOverflow||(o.textOverflow="ellipsis"),S.css(o)))}moveLabel(C,A){let H,D=this,P=D.label,v=D.axis,T=!1;P&&P.textStr===C?(D.movedLabel=P,T=!0,delete D.label):N(v.ticks,function(B){T||B.isNew||B===D||!B.label||B.label.textStr!==C||(D.movedLabel=B.label,T=!0,B.labelPos=D.movedLabel.xy,delete B.label)}),!T&&(D.labelPos||P)&&(H=D.labelPos||P.xy,D.movedLabel=D.createLabel(C,A,H),D.movedLabel&&D.movedLabel.attr({opacity:0}))}render(C,A,D){let P=this.axis,v=P.horiz,T=this.pos,H=I(this.tickmarkOffset,P.tickmarkOffset),B=this.getPosition(v,T,H,A),b=P.pos,l=b+P.len,n=v?B.x:B.y;!P.chart.polar&&this.isNew&&(de(n)<b||n>l)&&(D=0);let o=I(D,this.label&&this.label.newOpacity,1);D=I(D,1),this.isActive=!0,this.renderGridLine(A,D),this.renderMark(B,D),this.renderLabel(B,A,o,C),this.isNew=!1,ee(this,"afterRender")}renderGridLine(C,A){let b,D=this.axis,P=D.options,v={},T=this.pos,H=this.type,B=I(this.tickmarkOffset,D.tickmarkOffset),S=D.chart.renderer,p=this.gridLine,l=P.gridLineWidth,n=P.gridLineColor,o=P.gridLineDashStyle;"minor"===this.type&&(l=P.minorGridLineWidth,n=P.minorGridLineColor,o=P.minorGridLineDashStyle),p||(D.chart.styledMode||(v.stroke=n,v["stroke-width"]=l||0,v.dashstyle=o),H||(v.zIndex=1),C&&(A=0),this.gridLine=p=S.path().attr(v).addClass("highcharts-"+(H?H+"-":"")+"grid-line").add(D.gridGroup)),p&&(b=D.getPlotLinePath({value:T+B,lineWidth:p.strokeWidth(),force:"pass",old:C,acrossPanes:!1}))&&p[C||this.isNew?"attr":"animate"]({d:b,opacity:A})}renderMark(C,A){let D=this.axis,P=D.options,v=D.chart.renderer,T=this.type,H=D.tickSize(T?T+"Tick":"tick"),B=C.x,S=C.y,p=I(P["minor"!==T?"tickWidth":"minorTickWidth"],!T&&D.isXAxis?1:0),b=P["minor"!==T?"tickColor":"minorTickColor"],l=this.mark,n=!l;H&&(D.opposite&&(H[0]=-H[0]),l||(this.mark=l=v.path().addClass("highcharts-"+(T?T+"-":"")+"tick").add(D.axisGroup),D.chart.styledMode||l.attr({stroke:b,"stroke-width":p})),l[n?"attr":"animate"]({d:this.getMarkPath(B,S,H[0],l.strokeWidth(),D.horiz,v),opacity:A}))}renderLabel(C,A,D,P){let v=this.axis,T=v.horiz,H=v.options,B=this.label,S=H.labels,p=S.step,b=I(this.tickmarkOffset,v.tickmarkOffset),l=C.x,n=C.y,o=!0;B&&L(l)&&(B.xy=C=this.getLabelPosition(l,n,B,T,S,b,P,p),this.isFirst&&!this.isLast&&!H.showFirstLabel||this.isLast&&!this.isFirst&&!H.showLastLabel?o=!1:!T||S.step||S.rotation||A||0===D||this.handleOverflow(C),p&&P%p&&(o=!1),o&&L(C.y)?(C.opacity=D,B[this.isNewLabel?"attr":"animate"](C).show(!0),this.isNewLabel=!1):(B.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let C=this.label,A=this.axis;C&&!this.isNew&&(C.animate({opacity:0},void 0,C.destroy),delete this.label),A.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),Ne(Y,"Core/Axis/Axis.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/AxisDefaults.js"],Y["Core/Color/Color.js"],Y["Core/Defaults.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Axis/Tick.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){let{animObject:te}=Z,{xAxis:ee,yAxis:L}=ce,{defaultOptions:W}=ve,{registerEventOptions:N}=me,{deg2rad:I}=de,{arrayMax:C,arrayMin:A,clamp:D,correctFloat:P,defined:v,destroyObjectProperties:T,erase:H,error:B,extend:S,fireEvent:p,getClosestDistance:b,insertItem:l,isArray:n,isNumber:o,isString:h,merge:d,normalizeTickInterval:c,objectEach:f,pick:u,relativeLength:M,removeEvent:U,splat:x,syncTimeout:O}=Q,z=(J,y)=>c(y,void 0,void 0,u(J.options.allowDecimals,y<.5||void 0!==J.tickAmount),!!J.tickAmount);S(W,{xAxis:ee,yAxis:d(ee,L)});class j{constructor(y,w,E){this.init(y,w,E)}init(y,w,E=this.coll){let X="xAxis"===E,m=this.isZAxis||(y.inverted?!X:X);this.chart=y,this.horiz=m,this.isXAxis=X,this.coll=E,p(this,"init",{userOptions:w}),this.opposite=u(w.opposite,this.opposite),this.side=u(w.side,this.side,m?this.opposite?0:2:this.opposite?1:3),this.setOptions(w);let F=this.options,R=F.labels;this.type??(this.type=F.type||"linear"),this.uniqueNames??(this.uniqueNames=F.uniqueNames??!0),p(this,"afterSetType"),this.userOptions=w,this.minPixelPadding=0,this.reversed=u(F.reversed,this.reversed),this.visible=F.visible,this.zoomEnabled=F.zoomEnabled,this.hasNames="category"===this.type||!0===F.categories,this.categories=n(F.categories)&&F.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=v(F.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=F.minRange||F.maxZoom,this.range=F.range,this.offset=F.offset||0,this.max=void 0,this.min=void 0;let _=u(F.crosshair,x(y.options.tooltip.crosshairs)[X?0:1]);this.crosshair=!0===_?{}:_,-1===y.axes.indexOf(this)&&(X?y.axes.splice(y.xAxis.length,0,this):y.axes.push(this),l(this,y[this.coll])),y.orderItems(this.coll),this.series=this.series||[],y.inverted&&!this.isZAxis&&X&&!v(this.reversed)&&(this.reversed=!0),this.labelRotation=o(R.rotation)?R.rotation:void 0,N(this,F),p(this,"afterInit")}setOptions(y){this.options=d(this.horiz?{labels:{autoRotation:[-45],padding:4},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}},W[this.coll],y),p(this,"afterSetOptions",{userOptions:y})}defaultLabelFormatter(){let ae,ue,y=this.axis,{numberFormatter:w}=this.chart,E=o(this.value)?this.value:NaN,X=y.chart.time,m=y.categories,F=this.dateTimeLabelFormat,R=W.lang,_=R.numericSymbols,G=R.numericSymbolMagnitude||1e3,K=y.logarithmic?Math.abs(E):y.tickInterval,oe=_&&_.length;if(m)ue=`${this.value}`;else if(F)ue=X.dateFormat(F,E);else if(oe&&_&&K>=1e3)for(;oe--&&void 0===ue;)K>=(ae=Math.pow(G,oe+1))&&10*E%ae==0&&null!==_[oe]&&0!==E&&(ue=w(E/ae,-1)+_[oe]);return void 0===ue&&(ue=Math.abs(E)>=1e4?w(E,-1):w(E,-1,void 0,"")),ue}getSeriesExtremes(){let y,w=this;p(this,"getSeriesExtremes",null,function(){w.hasVisibleSeries=!1,w.dataMin=w.dataMax=w.threshold=void 0,w.softThreshold=!w.isXAxis,w.series.forEach(E=>{if(E.reserveSpace()){let m,R,_,X=E.options,F=X.threshold;if(w.hasVisibleSeries=!0,w.positiveValuesOnly&&0>=(F||0)&&(F=void 0),w.isXAxis)(m=E.xData)&&m.length&&(m=w.logarithmic?m.filter(G=>G>0):m,R=(y=E.getXExtremes(m)).min,_=y.max,o(R)||R instanceof Date||(m=m.filter(o),R=(y=E.getXExtremes(m)).min,_=y.max),m.length&&(w.dataMin=Math.min(u(w.dataMin,R),R),w.dataMax=Math.max(u(w.dataMax,_),_)));else{let G=E.applyExtremes();o(G.dataMin)&&(R=G.dataMin,w.dataMin=Math.min(u(w.dataMin,R),R)),o(G.dataMax)&&(_=G.dataMax,w.dataMax=Math.max(u(w.dataMax,_),_)),v(F)&&(w.threshold=F),(!X.softThreshold||w.positiveValuesOnly)&&(w.softThreshold=!1)}}})}),p(this,"afterGetSeriesExtremes")}translate(y,w,E,X,m,F){let R=this.linkedParent||this,_=X&&R.old?R.old.min:R.min;if(!o(_))return NaN;let G=R.minPixelPadding,K=(R.isOrdinal||R.brokenAxis?.hasBreaks||R.logarithmic&&m)&&R.lin2val,oe=1,ae=0,ue=X&&R.old?R.old.transA:R.transA,be=0;return ue||(ue=R.transA),E&&(oe*=-1,ae=R.len),R.reversed&&(oe*=-1,ae-=oe*(R.sector||R.len)),w?(be=(y=y*oe+ae-G)/ue+_,K&&(be=R.lin2val(be))):(K&&(y=R.val2lin(y)),be=oe*(y-_)*ue+ae+oe*G+(o(F)?ue*F:0),R.isRadial||(be=P(be))),be}toPixels(y,w){return this.translate(y,!1,!this.horiz,void 0,!0)+(w?0:this.pos)}toValue(y,w){return this.translate(y-(w?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(y){let be,Se,ie,q,re,w=this,E=w.chart,X=w.left,m=w.top,F=y.old,R=y.value,_=y.lineWidth,G=F&&E.oldChartHeight||E.chartHeight,K=F&&E.oldChartWidth||E.chartWidth,oe=w.transB,ae=y.translatedValue,ue=y.force;function le(ge,we,ye){return"pass"!==ue&&(ge<we||ge>ye)&&(ue?ge=D(ge,we,ye):re=!0),ge}let pe={value:R,lineWidth:_,old:F,force:ue,acrossPanes:y.acrossPanes,translatedValue:ae};return p(this,"getPlotLinePath",pe,function(ge){be=ie=(ae=D(ae=u(ae,w.translate(R,void 0,void 0,F)),-1e9,1e9))+oe,Se=q=G-ae-oe,o(ae)?w.horiz?(Se=m,q=G-w.bottom+(w.options.isInternal?0:E.scrollablePixelsY||0),be=ie=le(be,X,X+w.width)):(be=X,ie=K-w.right+(E.scrollablePixelsX||0),Se=q=le(Se,m,m+w.height)):(re=!0,ue=!1),ge.path=re&&!ue?void 0:E.renderer.crispLine([["M",be,Se],["L",ie,q]],_||1)}),pe.path}getLinearTickPositions(y,w,E){let X,m,F,R=P(Math.floor(w/y)*y),_=P(Math.ceil(E/y)*y),G=[];if(P(R+y)===R&&(F=20),this.single)return[w];for(X=R;X<=_&&(G.push(X),(X=P(X+y,F))!==m);)m=X;return G}getMinorTickInterval(){let{minorTicks:y,minorTickInterval:w}=this.options;return!0===y?u(w,"auto"):!1!==y?w:void 0}getMinorTickPositions(){let G,y=this.options,w=this.tickPositions,E=this.minorTickInterval,X=this.pointRangePadding||0,m=(this.min||0)-X,F=(this.max||0)+X,R=F-m,_=[];if(R&&R/E<this.len/3){let K=this.logarithmic;if(K)this.paddedTicks.forEach(function(oe,ae,ue){ae&&_.push.apply(_,K.getLogTickPositions(E,ue[ae-1],ue[ae],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())_=_.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(E),m,F,y.startOfWeek));else for(G=m+(w[0]-m)%E;G<=F&&G!==_[0];G+=E)_.push(G)}return 0!==_.length&&this.trimTicks(_),_}adjustForMinRange(){let F,R,_,G,y=this.options,w=this.logarithmic,{max:E,min:X,minRange:m}=this;this.isXAxis&&void 0===m&&!w&&(m=v(y.min)||v(y.max)||v(y.floor)||v(y.ceiling)?null:Math.min(5*(b(this.series.map(K=>(K.xIncrement?K.xData?.slice(0,2):K.xData)||[]))||0),this.dataMax-this.dataMin)),o(E)&&o(X)&&o(m)&&E-X<m&&(R=this.dataMax-this.dataMin>=m,F=(m-E+X)/2,_=[X-F,u(y.min,X-F)],R&&(_[2]=w?w.log2lin(this.dataMin):this.dataMin),G=[(X=C(_))+m,u(y.max,X+m)],R&&(G[2]=w?w.log2lin(this.dataMax):this.dataMax),(E=A(G))-X<m&&(_[0]=E-m,_[1]=u(y.min,E-m),X=C(_))),this.minRange=m,this.min=X,this.max=E}getClosest(){let y,w;if(this.categories)w=1;else{let E=[];this.series.forEach(function(X){let m=X.closestPointRange;1===X.xData?.length?E.push(X.xData[0]):!X.noSharedTooltip&&v(m)&&X.reserveSpace()&&(w=v(w)?Math.min(w,m):m)}),E.length&&(E.sort((X,m)=>X-m),y=b([E]))}return y&&w?Math.min(y,w):y||w}nameToX(y){let m,w=n(this.options.categories),E=w?this.categories:this.names,X=y.options.x;return y.series.requireSorting=!1,v(X)||(X=this.uniqueNames&&E?w?E.indexOf(y.name):u(E.keys[y.name],-1):y.series.autoIncrement()),-1===X?!w&&E&&(m=E.length):m=X,void 0!==m?(this.names[m]=y.name,this.names.keys[y.name]=m):y.x&&(m=y.x),m}updateNames(){let y=this,w=this.names;w.length>0&&(Object.keys(w.keys).forEach(function(E){delete w.keys[E]}),w.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(E=>{E.xIncrement=null,(!E.points||E.isDirtyData)&&(y.max=Math.max(y.max,E.xData.length-1),E.processData(),E.generatePoints()),E.data.forEach(function(X,m){let F;X?.options&&void 0!==X.name&&void 0!==(F=y.nameToX(X))&&F!==X.x&&(X.x=F,E.xData[m]=F)})}))}setAxisTranslation(){let R,K,y=this,w=y.max-y.min,E=y.linkedParent,X=!!y.categories,m=y.isXAxis,F=y.axisPointRange||0,_=0,G=0,oe=y.transA;(m||X||F)&&(R=y.getClosest(),E?(_=E.minPointOffset,G=E.pointRangePadding):y.series.forEach(function(ae){let ue=X?1:m?u(ae.options.pointRange,R,0):y.axisPointRange||0,be=ae.options.pointPlacement;if(F=Math.max(F,ue),!y.single||X){let Se=ae.is("xrange")?!m:m;_=Math.max(_,Se&&h(be)?0:ue/2),G=Math.max(G,Se&&"on"===be?0:ue)}}),K=y.ordinal&&y.ordinal.slope&&R?y.ordinal.slope/R:1,y.minPointOffset=_*=K,y.pointRangePadding=G*=K,y.pointRange=Math.min(F,y.single&&X?1:w),m&&R&&(y.closestPointRange=R)),y.translationSlope=y.transA=oe=y.staticScale||y.len/(w+G||1),y.transB=y.horiz?y.left:y.bottom,y.minPixelPadding=oe*_,p(this,"afterSetAxisTranslation")}minFromRange(){let{max:y,min:w}=this;return o(y)&&o(w)&&y-w||void 0}setTickInterval(y){let ye,Pe,Re,Fe,De,{categories:w,chart:E,dataMax:X,dataMin:m,dateTime:F,isXAxis:R,logarithmic:_,options:G,softThreshold:K}=this,oe=o(this.threshold)?this.threshold:void 0,ae=this.minRange||0,{ceiling:ue,floor:be,linkedTo:Se,softMax:ie,softMin:q}=G,re=o(Se)&&E[this.coll]?.[Se],le=G.tickPixelInterval,pe=G.maxPadding,ge=G.minPadding,we=0,Me=o(G.tickInterval)&&G.tickInterval>=0?G.tickInterval:void 0;if(F||w||re||this.getTickAmount(),Fe=u(this.userMin,G.min),De=u(this.userMax,G.max),re?(this.linkedParent=re,ye=re.getExtremes(),this.min=u(ye.min,ye.dataMin),this.max=u(ye.max,ye.dataMax),this.type!==re.type&&B(11,!0,E)):(K&&v(oe)&&o(X)&&o(m)&&(m>=oe?(Pe=oe,ge=0):X<=oe&&(Re=oe,pe=0)),this.min=u(Fe,Pe,m),this.max=u(De,Re,X)),o(this.max)&&o(this.min)&&(_&&(this.positiveValuesOnly&&!y&&0>=Math.min(this.min,u(m,this.min))&&B(10,!0,E),this.min=P(_.log2lin(this.min),16),this.max=P(_.log2lin(this.max),16)),this.range&&o(m)&&(this.userMin=this.min=Fe=Math.max(m,this.minFromRange()||0),this.userMax=De=this.max,this.range=void 0)),p(this,"foundExtremes"),this.adjustForMinRange(),o(this.min)&&o(this.max)){if(!o(this.userMin)&&o(q)&&q<this.min&&(this.min=Fe=q),!o(this.userMax)&&o(ie)&&ie>this.max&&(this.max=De=ie),w||this.axisPointRange||this.stacking?.usePercentage||re||!(we=this.max-this.min)||(!v(Fe)&&ge&&(this.min-=we*ge),v(De)||!pe||(this.max+=we*pe)),!o(this.userMin)&&o(be)&&(this.min=Math.max(this.min,be)),!o(this.userMax)&&o(ue)&&(this.max=Math.min(this.max,ue)),K&&o(m)&&o(X)){let ze=oe||0;!v(Fe)&&this.min<ze&&m>=ze?this.min=G.minRange?Math.min(ze,this.max-ae):ze:!v(De)&&this.max>ze&&X<=ze&&(this.max=G.minRange?Math.max(ze,this.min+ae):ze)}!E.polar&&this.min>this.max&&(v(G.min)?this.max=this.min:v(G.max)&&(this.min=this.max)),we=this.max-this.min}if(this.tickInterval=this.min!==this.max&&o(this.min)&&o(this.max)?re&&!Me&&le===re.options.tickPixelInterval?Me=re.tickInterval:u(Me,this.tickAmount?we/Math.max(this.tickAmount-1,1):void 0,w?1:we*le/Math.max(this.len,le)):1,R&&!y){let ze=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Oe){Oe.forceCrop=Oe.forceCropping?.(),Oe.processData(ze)}),p(this,"postProcessData",{hasExtremesChanged:ze})}this.setAxisTranslation(),p(this,"initialAxisTranslation"),this.pointRange&&!Me&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let He=u(G.minTickInterval,F&&!this.series.some(ze=>ze.noSharedTooltip)?this.closestPointRange:0);!Me&&this.tickInterval<He&&(this.tickInterval=He),F||_||Me||(this.tickInterval=z(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let G,y=this.options,w=y.tickPositions,E=y.tickPositioner,X=this.getMinorTickInterval(),m=!this.isPanning,F=m&&y.startOnTick,R=m&&y.endOnTick,_=[];if(this.tickmarkOffset=this.categories&&"between"===y.tickmarkPlacement&&1===this.tickInterval?.5:0,this.single=this.min===this.max&&v(this.min)&&!this.tickAmount&&(this.min%1==0||!1!==y.allowDecimals),w)_=w.slice();else if(o(this.min)&&o(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))_=[this.min,this.max],B(19,!1,this.chart);else if(this.dateTime)_=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,y.units),this.min,this.max,y.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)_=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let K=this.tickInterval,oe=K;for(;oe<=2*K&&(_=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&_.length>this.tickAmount);)this.tickInterval=z(this,oe*=1.1)}_.length>this.len&&(_=[_[0],_[_.length-1]])[0]===_[1]&&(_.length=1),E&&(this.tickPositions=_,(G=E.apply(this,[this.min,this.max]))&&(_=G))}this.tickPositions=_,this.minorTickInterval="auto"===X&&this.tickInterval?this.tickInterval/y.minorTicksPerMajor:X,this.paddedTicks=_.slice(0),this.trimTicks(_,F,R),!this.isLinked&&o(this.min)&&o(this.max)&&(this.single&&_.length<2&&!this.categories&&!this.series.some(K=>K.is("heatmap")&&"between"===K.options.pointPlacement)&&(this.min-=.5,this.max+=.5),w||G||this.adjustTickAmount()),p(this,"afterSetTickPositions")}trimTicks(y,w,E){let X=y[0],m=y[y.length-1],F=!this.isOrdinal&&this.minPointOffset||0;if(p(this,"trimTicks"),!this.isLinked){if(w&&X!==-1/0)this.min=X;else for(;this.min-F>y[0];)y.shift();if(E)this.max=m;else for(;this.max+F<y[y.length-1];)y.pop();0===y.length&&v(X)&&!this.options.tickPositions&&y.push((m+X)/2)}}alignToOthers(){let y,w=this,E=w.chart,X=[this],m=w.options,F=E.options.chart,R="yAxis"===this.coll&&F.alignThresholds,_=[];if(w.thresholdAlignment=void 0,(!1!==F.alignTicks&&m.alignTicks||R)&&!1!==m.startOnTick&&!1!==m.endOnTick&&!w.logarithmic){let G=oe=>{let{horiz:ae,options:ue}=oe;return[ae?ue.left:ue.top,ue.width,ue.height,ue.pane].join(",")},K=G(this);E[this.coll].forEach(function(oe){let{series:ae}=oe;ae.length&&ae.some(ue=>ue.visible)&&oe!==w&&G(oe)===K&&(y=!0,X.push(oe))})}if(y&&R){X.forEach(K=>{let oe=K.getThresholdAlignment(w);o(oe)&&_.push(oe)});let G=_.length>1?_.reduce((K,oe)=>K+oe,0)/_.length:void 0;X.forEach(K=>{K.thresholdAlignment=G})}return y}getThresholdAlignment(y){if((!o(this.dataMin)||this!==y&&this.series.some(w=>w.isDirty||w.isDirtyData))&&this.getSeriesExtremes(),o(this.threshold)){let w=D((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(w=1-w),w}}getTickAmount(){let y=this.options,w=y.tickPixelInterval,E=y.tickAmount;v(y.tickInterval)||E||!(this.len<w)||this.isRadial||this.logarithmic||!y.startOnTick||!y.endOnTick||(E=2),!E&&this.alignToOthers()&&(E=Math.ceil(this.len/w)+1),E<4&&(this.finalTickAmt=E,E=5),this.tickAmount=E}adjustTickAmount(){let oe,ae,be,y=this,{finalTickAmt:w,max:E,min:X,options:m,tickPositions:F,tickAmount:R,thresholdAlignment:_}=y,G=F?.length,K=u(y.threshold,y.softThreshold?0:null),ue=y.tickInterval,Se=()=>F.push(P(F[F.length-1]+ue)),ie=()=>F.unshift(P(F[0]-ue));if(o(_)&&(be=_<.5?Math.ceil(_*(R-1)):Math.floor(_*(R-1)),m.reversed&&(be=R-1-be)),y.hasData()&&o(X)&&o(E)){let q=()=>{y.transA*=(G-1)/(R-1),y.min=m.startOnTick?F[0]:Math.min(X,F[0]),y.max=m.endOnTick?F[F.length-1]:Math.max(E,F[F.length-1])};if(o(be)&&o(y.threshold)){for(;F[be]!==K||F.length!==R||F[0]>X||F[F.length-1]<E;){for(F.length=0,F.push(y.threshold);F.length<R;)void 0===F[be]||F[be]>y.threshold?ie():Se();if(ue>8*y.tickInterval)break;ue*=2}q()}else if(G<R){for(;F.length<R;)F.length%2||X===K?Se():ie();q()}if(v(w)){for(ae=oe=F.length;ae--;)(3===w&&ae%2==1||w<=2&&ae>0&&ae<oe-1)&&F.splice(ae,1);y.finalTickAmt=void 0}}}setScale(){let{coll:y,stacking:w}=this,E=!1,X=!1;this.series.forEach(F=>{E=E||F.isDirtyData||F.isDirty,X=X||F.xAxis&&F.xAxis.isDirty||!1}),this.setAxisSize();let m=this.len!==(this.old&&this.old.len);m||E||X||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(w&&"yAxis"===y&&w.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),w&&"xAxis"===y&&w.buildStacks(),this.isDirty||(this.isDirty=m||this.min!==this.old?.min||this.max!==this.old?.max)):w&&w.cleanStacks(),E&&delete this.allExtremes,p(this,"afterSetScale")}setExtremes(y,w,E=!0,X,m){this.series.forEach(F=>{delete F.kdTree}),p(this,"setExtremes",m=S(m,{min:y,max:w}),F=>{this.userMin=F.min,this.userMax=F.max,this.eventArgs=F,E&&this.chart.redraw(X)})}setAxisSize(){let y=this.chart,w=this.options,E=w.offsets||[0,0,0,0],X=this.horiz,m=this.width=Math.round(M(u(w.width,y.plotWidth-E[3]+E[1]),y.plotWidth)),F=this.height=Math.round(M(u(w.height,y.plotHeight-E[0]+E[2]),y.plotHeight)),R=this.top=Math.round(M(u(w.top,y.plotTop+E[0]),y.plotHeight,y.plotTop)),_=this.left=Math.round(M(u(w.left,y.plotLeft+E[3]),y.plotWidth,y.plotLeft));this.bottom=y.chartHeight-F-R,this.right=y.chartWidth-m-_,this.len=Math.max(X?m:F,0),this.pos=X?_:R}getExtremes(){let y=this.logarithmic;return{min:y?P(y.lin2log(this.min)):this.min,max:y?P(y.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(y){let w=this.logarithmic,E=w?w.lin2log(this.min):this.min,X=w?w.lin2log(this.max):this.max;return null===y||y===-1/0?y=E:y===1/0?y=X:E>y?y=E:X<y&&(y=X),this.translate(y,0,1,0,1)}autoLabelAlign(y){let w=(u(y,0)-90*this.side+720)%360,E={align:"center"};return p(this,"autoLabelAlign",E,function(X){w>15&&w<165?X.align="right":w>195&&w<345&&(X.align="left")}),E.align}tickSize(y){let m,w=this.options,E=u(w["tick"===y?"tickWidth":"minorTickWidth"],"tick"===y&&this.isXAxis&&!this.categories?1:0),X=w["tick"===y?"tickLength":"minorTickLength"];E&&X&&("inside"===w[y+"Position"]&&(X=-X),m=[X,E]);let F={tickSize:m};return p(this,"afterTickSize",F),F.tickSize}labelMetrics(){let y=this.chart.renderer,w=this.ticks,E=w[Object.keys(w)[0]]||{};return this.chart.renderer.fontMetrics(E.label||E.movedLabel||y.box)}unsquish(){let oe,ue,y=this.options.labels,w=y.padding||0,E=this.horiz,X=this.tickInterval,m=this.len/(((this.categories?1:0)+this.max-this.min)/X),F=y.rotation,R=P(.8*this.labelMetrics().h),_=Math.max(this.max-this.min,0),G=function(be){let Se=(be+2*w)/(m||1);return(Se=Se>1?Math.ceil(Se):1)*X>_&&be!==1/0&&m!==1/0&&_&&(Se=Math.ceil(_/X)),P(Se*X)},K=X,ae=Number.MAX_VALUE;if(E){if(!y.staggerLines&&(o(F)?ue=[F]:m<y.autoRotationLimit&&(ue=y.autoRotation)),ue){let be,Se;for(let ie of ue)(ie===F||ie&&ie>=-90&&ie<=90)&&(Se=(be=G(Math.abs(R/Math.sin(I*ie))))+Math.abs(ie/360))<ae&&(ae=Se,oe=ie,K=be)}}else K=G(.75*R);return this.autoRotation=ue,this.labelRotation=u(oe,o(F)?F:0),y.step?X:K}getSlotWidth(y){let w=this.chart,E=this.horiz,X=this.options.labels,m=Math.max(this.tickPositions.length-(this.categories?0:1),1),F=w.margin[3];if(y&&o(y.slotWidth))return y.slotWidth;if(E&&X.step<2)return X.rotation?0:(this.staggerLines||1)*this.len/m;if(!E){let R=X.style.width;if(void 0!==R)return parseInt(String(R),10);if(F)return F-w.spacing[3]}return.33*w.chartWidth}renderUnsquish(){let ue,be,ie,q,y=this.chart,w=y.renderer,E=this.tickPositions,X=this.ticks,m=this.options.labels,F=m.style,R=this.horiz,_=this.getSlotWidth(),G=Math.max(1,Math.round(_-(R?2*(m.padding||0):m.distance||0))),K={},oe=this.labelMetrics(),ae=F.textOverflow,Se=0;if(h(m.rotation)||(K.rotation=m.rotation||0),E.forEach(function(re){let le=X[re];le.movedLabel&&le.replaceMovedLabel(),le&&le.label&&le.label.textPxLength>Se&&(Se=le.label.textPxLength)}),this.maxLabelLength=Se,this.autoRotation)Se>G&&Se>oe.h?K.rotation=this.labelRotation:this.labelRotation=0;else if(_&&(ue=G,!ae))for(be="clip",q=E.length;!R&&q--;)(ie=X[E[q]].label)&&("ellipsis"===ie.styles.textOverflow?ie.css({textOverflow:"clip"}):ie.textPxLength>_&&ie.css({width:_+"px"}),ie.getBBox().height>this.len/E.length-(oe.h-oe.f)&&(ie.specificTextOverflow="ellipsis"));K.rotation&&(ue=Se>.5*y.chartHeight?.33*y.chartHeight:Se,ae||(be="ellipsis")),this.labelAlign=m.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(K.align=this.labelAlign),E.forEach(function(re){let le=X[re],pe=le&&le.label,ge=F.width,we={};pe&&(pe.attr(K),le.shortenLabel?le.shortenLabel():ue&&!ge&&"nowrap"!==F.whiteSpace&&(ue<pe.textPxLength||"SPAN"===pe.element.tagName)?(we.width=ue+"px",ae||(we.textOverflow=pe.specificTextOverflow||be),pe.css(we)):!pe.styles.width||we.width||ge||pe.css({width:null}),delete pe.specificTextOverflow,le.rotation=K.rotation)},this),this.tickRotCorr=w.rotCorr(oe.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some(function(y){return y.hasData()})||this.options.showEmpty&&v(this.min)&&v(this.max)}addTitle(y){let w,m=this.opposite,F=this.options.title,R=this.chart.styledMode;this.axisTitle||((w=F.textAlign)||(w=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:m?"right":"left",middle:"center",high:m?"left":"right"})[F.align]),this.axisTitle=this.chart.renderer.text(F.text||"",0,0,F.useHTML).attr({zIndex:7,rotation:F.rotation||0,align:w}).addClass("highcharts-axis-title"),R||this.axisTitle.css(d(F.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),R||F.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[y?"show":"hide"](y)}generateTick(y){let w=this.ticks;w[y]?w[y].addLabel():w[y]=new he(this,y)}createGroups(){let{axisParent:y,chart:w,coll:E,options:X}=this,m=w.renderer,F=(R,_,G)=>m.g(R).attr({zIndex:G}).addClass(`highcharts-${E.toLowerCase()}${_} `+(this.isRadial?`highcharts-radial-axis${_} `:"")+(X.className||"")).add(y);this.axisGroup||(this.gridGroup=F("grid","-grid",X.gridZIndex),this.axisGroup=F("axis","",X.zIndex),this.labelGroup=F("axis-labels","-labels",X.labels.zIndex))}getOffset(){let q,le,we,ye,y=this,{chart:w,horiz:E,options:X,side:m,ticks:F,tickPositions:R,coll:_}=y,G=w.inverted&&!y.isZAxis?[1,0,3,2][m]:m,K=y.hasData(),oe=X.title,ae=X.labels,ue=o(X.crossing),be=w.axisOffset,Se=w.clipOffset,ie=[-1,1,1,-1][m],re=0,pe=0,ge=0;if(y.showAxis=q=K||X.showEmpty,y.staggerLines=y.horiz&&ae.staggerLines||void 0,y.createGroups(),K||y.isLinked?(R.forEach(function(Me){y.generateTick(Me)}),y.renderUnsquish(),y.reserveSpaceDefault=0===m||2===m||{1:"left",3:"right"}[m]===y.labelAlign,u(ae.reserveSpace,!ue&&null,"center"===y.labelAlign||null,y.reserveSpaceDefault)&&R.forEach(function(Me){ge=Math.max(F[Me].getLabelSize(),ge)}),y.staggerLines&&(ge*=y.staggerLines),y.labelOffset=ge*(y.opposite?-1:1)):f(F,function(Me,Pe){Me.destroy(),delete F[Pe]}),oe?.text&&!1!==oe.enabled&&(y.addTitle(q),q&&!ue&&!1!==oe.reserveSpace&&(y.titleOffset=re=y.axisTitle.getBBox()[E?"height":"width"],pe=v(le=oe.offset)?0:u(oe.margin,E?5:10))),y.renderLine(),y.offset=ie*u(X.offset,be[m]?be[m]+(X.margin||0):0),y.tickRotCorr=y.tickRotCorr||{x:0,y:0},ye=0===m?-y.labelMetrics().h:2===m?y.tickRotCorr.y:0,we=Math.abs(ge)+pe,ge&&(we-=ye,we+=ie*(E?u(ae.y,y.tickRotCorr.y+ie*ae.distance):u(ae.x,ie*ae.distance))),y.axisTitleMargin=u(le,we),y.getMaxLabelDimensions&&(y.maxLabelDimensions=y.getMaxLabelDimensions(F,R)),"colorAxis"!==_&&Se){let Me=this.tickSize("tick");be[m]=Math.max(be[m],(y.axisTitleMargin||0)+re+ie*y.offset,we,R&&R.length&&Me?Me[0]+ie*y.offset:0);let Pe=!y.axisLine||X.offset?0:y.axisLine.strokeWidth()/2;Se[G]=Math.max(Se[G],Pe)}p(this,"afterGetOffset")}getLinePath(y){let w=this.chart,E=this.opposite,X=this.offset,m=this.horiz,F=this.left+(E?this.width:0)+X,R=w.chartHeight-this.bottom-(E?this.height:0)+X;return E&&(y*=-1),w.renderer.crispLine([["M",m?this.left:F,m?R:this.top],["L",m?w.chartWidth-this.right:F,m?R:w.chartHeight-this.bottom]],y)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(y){let w=this.horiz,E=this.left,X=this.top,m=this.len,F=this.options.title,R=w?E:X,_=this.opposite,G=this.offset,K=F.x,oe=F.y,ae=this.chart.renderer.fontMetrics(y),ue=y?Math.max(y.getBBox(!1,0).height-ae.h-1,0):0,be={low:R+(w?0:m),middle:R+m/2,high:R+(w?m:0)}[F.align],Se=(w?X+this.height:E)+(w?1:-1)*(_?-1:1)*(this.axisTitleMargin||0)+[-ue,ue,ae.f,-ue][this.side],ie={x:w?be+K:Se+(_?this.width:0)+G+K,y:w?Se+oe-(_?this.height:0)+G:be+oe};return p(this,"afterGetTitlePosition",{titlePosition:ie}),ie}renderMinorTick(y,w){let E=this.minorTicks;E[y]||(E[y]=new he(this,y,"minor")),w&&E[y].isNew&&E[y].render(null,!0),E[y].render(null,!1,1)}renderTick(y,w,E){let m=this.ticks;(!this.isLinked||y>=this.min&&y<=this.max||this.grid&&this.grid.isColumn)&&(m[y]||(m[y]=new he(this,y)),E&&m[y].isNew&&m[y].render(w,!0,-1),m[y].render(w))}render(){let y,w,E=this,X=E.chart,m=E.logarithmic,R=E.options,_=E.isLinked,G=E.tickPositions,K=E.axisTitle,oe=E.ticks,ae=E.minorTicks,ue=E.alternateBands,be=R.stackLabels,Se=R.alternateGridColor,ie=R.crossing,q=E.tickmarkOffset,re=E.axisLine,le=E.showAxis,pe=te(X.renderer.globalAnimation);if(E.labelEdge.length=0,E.overlap=!1,[oe,ae,ue].forEach(function(ge){f(ge,function(we){we.isActive=!1})}),o(ie)){let ge=this.isXAxis?X.yAxis[0]:X.xAxis[0],we=[1,-1,-1,1][this.side];if(ge){let ye=ge.toPixels(ie,!0);E.horiz&&(ye=ge.len-ye),E.offset=we*ye}}if(E.hasData()||_){let ge=E.chart.hasRendered&&E.old&&o(E.old.min);E.minorTickInterval&&!E.categories&&E.getMinorTickPositions().forEach(function(we){E.renderMinorTick(we,ge)}),G.length&&(G.forEach(function(we,ye){E.renderTick(we,ye,ge)}),q&&(0===E.min||E.single)&&(oe[-1]||(oe[-1]=new he(E,-1,null,!0)),oe[-1].render(-1))),Se&&G.forEach(function(we,ye){w=void 0!==G[ye+1]?G[ye+1]+q:E.max-q,ye%2==0&&we<E.max&&w<=E.max+(X.polar?-q:q)&&(ue[we]||(ue[we]=new de.PlotLineOrBand(E,{})),y=we+q,ue[we].options={from:m?m.lin2log(y):y,to:m?m.lin2log(w):w,color:Se,className:"highcharts-alternate-grid"},ue[we].render(),ue[we].isActive=!0)}),E._addedPlotLB||(E._addedPlotLB=!0,(R.plotLines||[]).concat(R.plotBands||[]).forEach(function(we){E.addPlotBandOrLine(we)}))}[oe,ae,ue].forEach(function(ge){let we=[],ye=pe.duration;f(ge,function(Me,Pe){Me.isActive||(Me.render(Pe,!1,0),Me.isActive=!1,we.push(Pe))}),O(function(){let Me=we.length;for(;Me--;)ge[we[Me]]&&!ge[we[Me]].isActive&&(ge[we[Me]].destroy(),delete ge[we[Me]])},ge!==ue&&X.hasRendered&&ye?ye:0)}),re&&(re[re.isPlaced?"animate":"attr"]({d:this.getLinePath(re.strokeWidth())}),re.isPlaced=!0,re[le?"show":"hide"](le)),K&&le&&(K[K.isNew?"attr":"animate"](E.getTitlePosition(K)),K.isNew=!1),be&&be.enabled&&E.stacking&&E.stacking.renderStackTotals(),E.old={len:E.len,max:E.max,min:E.min,transA:E.transA,userMax:E.userMax,userMin:E.userMin},E.isDirty=!1,p(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(y){y.render()})),this.series.forEach(function(y){y.isDirty=!0})}getKeepProps(){return this.keepProps||j.keepProps}destroy(y){let w=this,E=w.plotLinesAndBands,X=this.eventOptions;if(p(this,"destroy",{keepEvents:y}),y||U(w),[w.ticks,w.minorTicks,w.alternateBands].forEach(function(m){T(m)}),E){let m=E.length;for(;m--;)E[m].destroy()}for(let m in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(F){w[F]&&(w[F]=w[F].destroy())}),w.plotLinesAndBandsGroups)w.plotLinesAndBandsGroups[m]=w.plotLinesAndBandsGroups[m].destroy();f(w,function(m,F){-1===w.getKeepProps().indexOf(F)&&delete w[F]}),this.eventOptions=X}drawCrosshair(y,w){let F,R,_,K,E=this.crosshair,X=u(E&&E.snap,!0),m=this.chart,G=this.cross;if(p(this,"drawCrosshair",{e:y,point:w}),y||(y=this.cross&&this.cross.e),E&&!1!==(v(w)||!X)){if(X?v(w)&&(R=u("colorAxis"!==this.coll?w.crosshairPos:null,this.isXAxis?w.plotX:this.len-w.plotY)):R=y&&(this.horiz?y.chartX-this.pos:this.len-y.chartY+this.pos),v(R)&&(K={value:w&&(this.isXAxis?w.x:u(w.stackY,w.y)),translatedValue:R},m.polar&&S(K,{isCrosshair:!0,chartX:y&&y.chartX,chartY:y&&y.chartY,point:w}),F=this.getPlotLinePath(K)||null),!v(F))return void this.hideCrosshair();_=this.categories&&!this.isRadial,G||(this.cross=G=m.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(_?"category ":"thin ")+(E.className||"")).attr({zIndex:u(E.zIndex,2)}).add(),!m.styledMode&&(G.attr({stroke:E.color||(_?xe.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":u(E.width,1)}).css({"pointer-events":"none"}),E.dashStyle&&G.attr({dashstyle:E.dashStyle}))),G.show().attr({d:F}),_&&!E.width&&G.attr({"stroke-width":this.transA}),this.cross.e=y}else this.hideCrosshair();p(this,"afterDrawCrosshair",{e:y,point:w})}hideCrosshair(){this.cross&&this.cross.hide(),p(this,"afterHideCrosshair")}update(y,w){let E=this.chart;y=d(this.userOptions,y),this.destroy(!0),this.init(E,y),E.isDirtyBox=!0,u(w,!0)&&E.redraw()}remove(y){let w=this.chart,E=this.coll,X=this.series,m=X.length;for(;m--;)X[m]&&X[m].remove(!1);H(w.axes,this),H(w[E]||[],this),w.orderItems(E),this.destroy(),w.isDirtyBox=!0,u(y,!0)&&w.redraw()}setTitle(y,w){this.update({title:y},w)}setCategories(y,w){this.update({categories:y},w)}}return j.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],j}),Ne(Y,"Core/Axis/DateTimeAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,getMagnitude:ve,normalizeTickInterval:me,timeUnits:de}=Z;return function(he){function Q(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function te(){"datetime"===this.type?this.dateTime||(this.dateTime=new ee(this)):this.dateTime=void 0}he.compose=function(L){return L.keepProps.includes("dateTime")||(L.keepProps.push("dateTime"),L.prototype.getTimeTicks=Q,xe(L,"afterSetType",te)),L};class ee{constructor(W){this.axis=W}normalizeTimeTickInterval(W,N){let P,I=N||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],C=I[I.length-1],A=de[C[0]],D=C[1];for(P=0;P<I.length&&(A=de[(C=I[P])[0]],D=C[1],!(I[P+1]&&W<=(A*D[D.length-1]+de[I[P+1][0]])/2));P++);return A===de.year&&W<5*A&&(D=[1,2,5]),{unitRange:A,count:me(W/A,D,"year"===C[0]?Math.max(ve(W/A),1):1),unitName:C[0]}}getXDateFormat(W,N){let{axis:I}=this,C=I.chart.time;return I.closestPointRange?C.getDateFormat(I.closestPointRange,W,I.options.startOfWeek,N)||C.resolveDTLFormat(N.year).main:C.resolveDTLFormat(N.day).main}}he.Additions=ee}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/LogarithmicAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,normalizeTickInterval:ve,pick:me}=Z;return function(de){function he(){"logarithmic"!==this.type?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new te(this))}function Q(){let ee=this.logarithmic;ee&&(this.lin2val=function(L){return ee.lin2log(L)},this.val2lin=function(L){return ee.log2lin(L)})}de.compose=function(ee){return ee.keepProps.includes("logarithmic")||(ee.keepProps.push("logarithmic"),xe(ee,"afterSetType",he),xe(ee,"afterInit",Q)),ee};class te{constructor(L){this.axis=L}getLogTickPositions(L,W,N,I){let C=this.axis,A=C.len,D=C.options,P=[];if(I||(this.minorAutoInterval=void 0),L>=.5)L=Math.round(L),P=C.getLinearTickPositions(L,W,N);else if(L>=.08){let v,T,H,B,S,p,b;for(v=L>.3?[1,2,4]:L>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],T=Math.floor(W);T<N+1&&!b;T++)for(H=0,B=v.length;H<B&&!b;H++)(S=this.log2lin(this.lin2log(T)*v[H]))>W&&(!I||p<=N)&&void 0!==p&&P.push(p),p>N&&(b=!0),p=S}else{let v=this.lin2log(W),T=this.lin2log(N),H=I?C.getMinorTickInterval():D.tickInterval;L=ve(L=me("auto"===H?null:H,this.minorAutoInterval,D.tickPixelInterval/(I?5:1)*(T-v)/((I?A/C.tickPositions.length:A)||1))),P=C.getLinearTickPositions(L,v,T).map(this.log2lin),I||(this.minorAutoInterval=L/5)}return I||(C.tickInterval=L),P}lin2log(L){return Math.pow(10,L)}log2lin(L){return Math.log(L)/Math.LN10}}de.Additions=te}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{erase:xe,extend:ve,isNumber:me}=Z;return function(de){let he;function Q(C){return this.addPlotBandOrLine(C,"plotBands")}function te(C,A){let D=this.userOptions,P=new he(this,C);if(this.visible&&(P=P.render()),P){if(this._addedPlotLB||(this._addedPlotLB=!0,(D.plotLines||[]).concat(D.plotBands||[]).forEach(v=>{this.addPlotBandOrLine(v)})),A){let v=D[A]||[];v.push(C),D[A]=v}this.plotLinesAndBands.push(P)}return P}function ee(C){return this.addPlotBandOrLine(C,"plotLines")}function L(C,A,D){let S,b,P=this.getPlotLinePath({value:A,force:!0,acrossPanes:(D=D||this.options).acrossPanes}),v=[],T=this.horiz,H=!me(this.min)||!me(this.max)||C<this.min&&A<this.min||C>this.max&&A>this.max,B=this.getPlotLinePath({value:C,force:!0,acrossPanes:D.acrossPanes}),p=1;if(B&&P)for(H&&(b=B.toString()===P.toString(),p=0),S=0;S<B.length;S+=2){let l=B[S],n=B[S+1],o=P[S],h=P[S+1];("M"===l[0]||"L"===l[0])&&("M"===n[0]||"L"===n[0])&&("M"===o[0]||"L"===o[0])&&("M"===h[0]||"L"===h[0])&&(T&&o[1]===l[1]?(o[1]+=p,h[1]+=p):T||o[2]!==l[2]||(o[2]+=p,h[2]+=p),v.push(["M",l[1],l[2]],["L",n[1],n[2]],["L",h[1],h[2]],["L",o[1],o[2]],["Z"])),v.isFlat=b}return v}function W(C){this.removePlotBandOrLine(C)}function N(C){let A=this.plotLinesAndBands,D=this.options,P=this.userOptions;if(A){let v=A.length;for(;v--;)A[v].id===C&&A[v].destroy();[D.plotLines||[],P.plotLines||[],D.plotBands||[],P.plotBands||[]].forEach(function(T){for(v=T.length;v--;)(T[v]||{}).id===C&&xe(T,T[v])})}}function I(C){this.removePlotBandOrLine(C)}de.compose=function(C,A){let D=A.prototype;return D.addPlotBand||(he=C,ve(D,{addPlotBand:Q,addPlotLine:ee,addPlotBandOrLine:te,getPlotBandPath:L,removePlotBand:W,removePlotLine:I,removePlotBandOrLine:N})),A}}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[Y["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],Y["Core/Utilities.js"]],function(Z,ce){let{addEvent:xe,arrayMax:ve,arrayMin:me,defined:de,destroyObjectProperties:he,erase:Q,fireEvent:te,merge:ee,objectEach:L,pick:W}=ce;class N{static compose(C,A){return xe(C,"afterInit",function(){this.labelCollectors.push(()=>{let D=[];for(let P of this.axes)for(let{label:v,options:T}of P.plotLinesAndBands)v&&!T?.label?.allowOverlap&&D.push(v);return D})}),Z.compose(N,A)}constructor(C,A){this.axis=C,this.options=A,this.id=A.id}render(){te(this,"render");let f,{axis:C,options:A}=this,{horiz:D,logarithmic:P}=C,{color:v,events:T,zIndex:H=0}=A,B={},S=C.chart.renderer,p=A.to,b=A.from,l=A.value,n=A.borderWidth,o=A.label,{label:h,svgElem:d}=this,c=[],u=de(b)&&de(p),M=de(l),U=!d,x={class:"highcharts-plot-"+(u?"band ":"line ")+(A.className||"")},O=u?"bands":"lines";if(!C.chart.styledMode&&(M?(x.stroke=v||"#999999",x["stroke-width"]=W(A.width,1),A.dashStyle&&(x.dashstyle=A.dashStyle)):u&&(x.fill=v||"#e6e9ff",n&&(x.stroke=A.borderColor,x["stroke-width"]=n))),B.zIndex=H,O+="-"+H,(f=C.plotLinesAndBandsGroups[O])||(C.plotLinesAndBandsGroups[O]=f=S.g("plot-"+O).attr(B).add()),d||(this.svgElem=d=S.path().attr(x).add(f)),de(l))c=C.getPlotLinePath({value:P?.log2lin(l)??l,lineWidth:d.strokeWidth(),acrossPanes:A.acrossPanes});else{if(!de(b)||!de(p))return;c=C.getPlotBandPath(P?.log2lin(b)??b,P?.log2lin(p)??p,A)}return!this.eventsAdded&&T&&(L(T,(z,j)=>{d?.on(j,J=>{T[j].apply(this,[J])})}),this.eventsAdded=!0),!U&&d.d||!c?.length?d&&(c?(d.show(),d.animate({d:c})):d.d&&(d.hide(),h&&(this.label=h=h.destroy()))):d.attr({d:c}),o&&(de(o.text)||de(o.formatter))&&c?.length&&C.width>0&&C.height>0&&!c.isFlat?(o=ee({align:D&&u?"center":void 0,x:D?!u&&4:10,verticalAlign:!D&&u?"middle":void 0,y:D?u?16:10:u?6:-4,rotation:D&&!u?90:0,...u?{inside:!0}:{}},o),this.renderLabel(o,c,u,H)):h&&h.hide(),this}renderLabel(C,A,D,P){let v=this.axis,H=C.inside,B=this.label;B||(this.label=B=v.chart.renderer.text(this.getLabelText(C),0,0,C.useHTML).attr({align:C.textAlign||C.align,rotation:C.rotation,class:"highcharts-plot-"+(D?"band":"line")+"-label "+(C.className||""),zIndex:P}),v.chart.styledMode||B.css(ee({fontSize:"0.8em",textOverflow:D&&!H?"":"ellipsis"},C.style)),B.add());let S=A.xBounds||[A[0][1],A[1][1],D?A[2][1]:A[0][1]],p=A.yBounds||[A[0][2],A[1][2],D?A[2][2]:A[0][2]],b=me(S),l=me(p),n=ve(S)-b;B.align(C,!1,{x:b,y:l,width:n,height:ve(p)-l}),(!B.alignValue||"left"===B.alignValue||de(H))&&B.css({width:(C.style?.width||(D&&H?n:90===B.rotation?v.height-(B.alignAttr.y-v.top):(C.clip?v.width:v.chart.chartWidth)-(B.alignAttr.x-v.left)))+"px"}),B.show(!0)}getLabelText(C){return de(C.formatter)?C.formatter.call(this):C.text}destroy(){Q(this.axis.plotLinesAndBands,this),delete this.axis,he(this)}}return N}),Ne(Y,"Core/Tooltip.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Templating.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de){var he;let{animObject:Q}=Z,{format:te}=ce,{composed:ee,doc:L,isSafari:W}=xe,{distribute:N}=ve,{addEvent:I,clamp:C,css:A,discardElement:D,extend:P,fireEvent:v,isArray:T,isNumber:H,isString:B,merge:S,pick:p,pushUnique:b,splat:l,syncTimeout:n}=de;class o{constructor(d,c,f){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=d,this.init(d,c),this.pointer=f}bodyFormatter(d){return d.map(function(c){let f=c.series.tooltipOptions;return(f[(c.point.formatPrefix||"point")+"Formatter"]||c.point.tooltipFormatter).call(c.point,f[(c.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(d){this.chart.series.forEach(function(c){let f=c&&c.tt;f&&(!f.isActive||d?c.tt=f.destroy():f.isActive=!1)})}defaultFormatter(d){let c,f=this.points||l(this);return(c=(c=[d.tooltipFooterHeaderFormatter(f[0])]).concat(d.bodyFormatter(f))).push(d.tooltipFooterHeaderFormatter(f[0],!0)),c}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),D(this.container)),de.clearTimeout(this.hideTimer)}getAnchor(d,c){let f,{chart:u,pointer:M}=this,U=u.inverted,x=u.plotTop,O=u.plotLeft;if((d=l(d))[0].series&&d[0].series.yAxis&&!d[0].series.yAxis.options.reversedStacks&&(d=d.slice().reverse()),this.followPointer&&c)void 0===c.chartX&&(c=M.normalize(c)),f=[c.chartX-O,c.chartY-x];else if(d[0].tooltipPos)f=d[0].tooltipPos;else{let z=0,j=0;d.forEach(function(J){let y=J.pos(!0);y&&(z+=y[0],j+=y[1])}),z/=d.length,j/=d.length,this.shared&&d.length>1&&c&&(U?z=c.chartX:j=c.chartY),f=[z-O,j-x]}return f.map(Math.round)}getClassName(d,c,f){let M=d.series,U=M.options;return[this.options.className,"highcharts-label",f&&"highcharts-tooltip-header",c?"highcharts-tooltip-box":"highcharts-tooltip",!f&&"highcharts-color-"+p(d.colorIndex,M.colorIndex),U&&U.className].filter(B).join(" ")}getLabel({anchorX:d,anchorY:c}={anchorX:0,anchorY:0}){let f=this,u=this.chart.styledMode,M=this.options,U=this.split&&this.allowShared,x=this.container,O=this.chart.renderer;if(this.label){let z=!this.label.hasClass("highcharts-label");(!U&&z||U&&!z)&&this.destroy()}if(!this.label){if(this.outside){let z=this.chart.options.chart.style,j=me.getRendererType();this.container=x=xe.doc.createElement("div"),x.className="highcharts-tooltip-container",A(x,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(z&&z.zIndex||0)+3)}),this.renderer=O=new j(x,0,0,z,void 0,void 0,O.styledMode)}if(U?this.label=O.g("tooltip"):(this.label=O.label("",d,c,M.shape,void 0,void 0,M.useHTML,void 0,"tooltip").attr({padding:M.padding,r:M.borderRadius}),u||this.label.attr({fill:M.backgroundColor,"stroke-width":M.borderWidth||0}).css(M.style).css({pointerEvents:M.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),f.outside){let z=this.label;[z.xSetter,z.ySetter].forEach((j,J)=>{z[J?"ySetter":"xSetter"]=y=>{j.call(z,f.distance),z[J?"y":"x"]=y,x&&(x.style[J?"top":"left"]=`${y}px`)}})}this.label.attr({zIndex:8}).shadow(M.shadow).add()}return x&&!x.parentElement&&xe.doc.body.appendChild(x),this.label}getPlayingField(){let{body:d,documentElement:c}=L,{chart:f,distance:u,outside:M}=this;return{width:M?Math.max(d.scrollWidth,c.scrollWidth,d.offsetWidth,c.offsetWidth,c.clientWidth)-2*u:f.chartWidth,height:M?Math.max(d.scrollHeight,c.scrollHeight,d.offsetHeight,c.offsetHeight,c.clientHeight):f.chartHeight}}getPosition(d,c,f){let ue,{distance:u,chart:M,outside:U,pointer:x}=this,{inverted:O,plotLeft:z,plotTop:j,polar:J}=M,{plotX:y=0,plotY:w=0}=f,E={},X=O&&f.h||0,{height:m,width:F}=this.getPlayingField(),R=x.getChartPosition(),_=pe=>pe*R.scaleX,G=pe=>pe*R.scaleY,K=pe=>{let ge="x"===pe;return[pe,ge?F:m,ge?d:c].concat(U?[ge?_(d):G(c),ge?R.left-u+_(y+z):R.top-u+G(w+j),0,ge?F:m]:[ge?d:c,ge?y+z:w+j,ge?z:j,ge?z+M.plotWidth:j+M.plotHeight])},oe=K("y"),ae=K("x"),be=!!f.negative;!J&&M.hoverSeries?.yAxis?.reversed&&(be=!be);let Se=!this.followPointer&&p(f.ttBelow,!J&&!O===be),ie=function(pe,ge,we,ye,Me,Pe,Re){let Fe=U?"y"===pe?G(u):_(u):u,De=(we-ye)/2,He=ye<Me-u,ze=Me+u+ye<ge,Oe=Me-Fe-we+De,it=Me+Fe-De;if(Se&&ze)E[pe]=it;else if(!Se&&He)E[pe]=Oe;else if(He)E[pe]=Math.min(Re-ye,Oe-X<0?Oe:Oe-X);else{if(!ze)return!1;E[pe]=Math.max(Pe,it+X+we>ge?it:it+X)}},q=function(pe,ge,we,ye,Me){if(Me<u||Me>ge-u)return!1;E[pe]=Me<we/2?1:Me>ge-ye/2?ge-ye-2:Me-we/2},re=function(pe){[oe,ae]=[ae,oe],ue=pe},le=()=>{!1!==ie.apply(0,oe)?!1!==q.apply(0,ae)||ue||(re(!0),le()):ue?E.x=E.y=0:(re(!0),le())};return(O&&!J||this.len>1)&&re(),le(),E}hide(d){let c=this;de.clearTimeout(this.hideTimer),d=p(d,this.options.hideDelay),this.isHidden||(this.hideTimer=n(function(){let f=c.getLabel();c.getLabel().animate({opacity:0},{duration:d&&150,complete:()=>{f.hide(),c.container&&c.container.remove()}}),c.isHidden=!0},d))}init(d,c){this.chart=d,this.options=c,this.crosshairs=[],this.isHidden=!0,this.split=c.split&&!d.inverted&&!d.polar,this.shared=c.shared||this.split,this.outside=p(c.outside,!(!d.scrollablePixelsX&&!d.scrollablePixelsY))}shouldStickOnContact(d){return!(this.followPointer||!this.options.stickOnContact||d&&!this.pointer.inClass(d.target,"highcharts-tooltip"))}move(d,c,f,u){let M=this,U=Q(!M.isHidden&&M.options.animation),O={x:d,y:c};M.followPointer||(M.len||0)>1||(O.anchorX=f,O.anchorY=u),U.step=()=>M.drawTracker(),M.getLabel().animate(O,U)}refresh(d,c){let{chart:f,options:u,pointer:M,shared:U}=this,x=l(d),O=x[0],z=[],j=u.format,J=u.formatter||this.defaultFormatter,y=f.styledMode,w={},E=this.allowShared;if(!u.enabled||!O.series)return;de.clearTimeout(this.hideTimer),this.allowShared=!(!T(d)&&d.series&&d.series.noSharedTooltip),E=E&&!this.allowShared,this.followPointer=!this.split&&O.series.tooltipOptions.followPointer;let X=this.getAnchor(d,c),m=X[0],F=X[1];U&&this.allowShared?(M.applyInactiveState(x),x.forEach(function(G){G.setState("hover"),z.push(G.getLabelConfig())}),(w=O.getLabelConfig()).points=z):w=O.getLabelConfig(),this.len=z.length;let R=B(j)?te(j,w,f):J.call(w,this),_=O.series;if(this.distance=p(_.tooltipOptions.distance,16),!1===R)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(R,x);else{let G=m,K=F;if(c&&M.isDirectTouch&&(G=c.chartX-f.plotLeft,K=c.chartY-f.plotTop),!f.polar&&!1!==_.options.clip&&!x.some(oe=>M.isDirectTouch||oe.series.shouldShowTooltip(G,K)))return void this.hide();{let oe=this.getLabel(E&&this.tt||{});(!u.style.width||y)&&oe.css({width:(this.outside?this.getPlayingField():f.spacingBox).width+"px"}),oe.attr({class:this.getClassName(O),text:R&&R.join?R.join(""):R}),this.outside&&oe.attr({x:C(oe.x||0,0,this.getPlayingField().width-(oe.width||0))}),y||oe.attr({stroke:u.borderColor||O.color||_.color||"#666666"}),this.updatePosition({plotX:m,plotY:F,negative:O.negative,ttBelow:O.ttBelow,h:X[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}v(this,"refresh")}renderSplit(d,c){let f=this,{chart:u,chart:{chartWidth:M,chartHeight:U,plotHeight:x,plotLeft:O,plotTop:z,scrollablePixelsY:j=0,scrollablePixelsX:J,styledMode:y},distance:w,options:E,options:{positioner:X},pointer:m}=f,{scrollLeft:F=0,scrollTop:R=0}=u.scrollablePlotArea?.scrollingContainer||{},_=f.outside&&"number"!=typeof J?L.documentElement.getBoundingClientRect():{left:F,right:F+M,top:R,bottom:R+U},G=f.getLabel(),K=this.renderer||u.renderer,oe=!(!u.xAxis[0]||!u.xAxis[0].opposite),{left:ae,top:ue}=m.getChartPosition(),be=z+R,Se=0,ie=x-j;function q(ye,Me,Pe,Re,Fe=!0){let De,He;return Pe?(De=oe?0:ie,He=C(ye-Re/2,_.left,_.right-Re-(f.outside?ae:0))):(De=Me-be,He=C(He=Fe?ye-Re-w:ye+w,Fe?He:_.left,_.right)),{x:He,y:De}}B(d)&&(d=[!1,d]);let re=d.slice(0,c.length+1).reduce(function(ye,Me,Pe){if(!1!==Me&&""!==Me){let Re=c[Pe-1]||{isHeader:!0,plotX:c[0].plotX,plotY:x,series:{}},Fe=Re.isHeader,De=Fe?f:Re.series,He=De.tt=function(rt,bt,Ht){let zt=rt,{isHeader:yt,series:hi}=bt;if(!zt){let Zt={padding:E.padding,r:E.borderRadius};y||(Zt.fill=E.backgroundColor,Zt["stroke-width"]=E.borderWidth??1),zt=K.label("",0,0,E[yt?"headerShape":"shape"],void 0,void 0,E.useHTML).addClass(f.getClassName(bt,!0,yt)).attr(Zt).add(G)}return zt.isActive=!0,zt.attr({text:Ht}),y||zt.css(E.style).attr({stroke:E.borderColor||bt.color||hi.color||"#333333"}),zt}(De.tt,Re,Me.toString()),ze=He.getBBox(),Oe=ze.width+He.strokeWidth();Fe&&(Se=ze.height,ie+=Se,oe&&(be-=Se));let{anchorX:it,anchorY:ot}=function(rt){let bt,Ht,{isHeader:zt,plotX:yt=0,plotY:hi=0,series:Zt}=rt;if(zt)bt=Math.max(O+yt,O),Ht=z+x/2;else{let{xAxis:Ei,yAxis:_t}=Zt;bt=Ei.pos+C(yt,-w,Ei.len+w),Zt.shouldShowTooltip(0,_t.pos-z+hi,{ignoreX:!0})&&(Ht=_t.pos+hi)}return{anchorX:bt=C(bt,_.left-w,_.right+w),anchorY:Ht}}(Re);if("number"==typeof ot){let rt=ze.height+1,bt=X?X.call(f,Oe,rt,Re):q(it,ot,Fe,Oe);ye.push({align:X?0:void 0,anchorX:it,anchorY:ot,boxWidth:Oe,point:Re,rank:p(bt.rank,Fe?1:0),size:rt,target:bt.y,tt:He,x:bt.x})}else He.isActive=!1}return ye},[]);!X&&re.some(ye=>{let{outside:Me}=f,Pe=(Me?ae:0)+ye.anchorX;return Pe<_.left&&Pe+ye.boxWidth<_.right||Pe<ae-_.left+ye.boxWidth&&_.right-Pe>Pe})&&(re=re.map(ye=>{let{x:Me,y:Pe}=q(ye.anchorX,ye.anchorY,ye.point.isHeader,ye.boxWidth,!1);return P(ye,{target:Pe,x:Me})})),f.cleanSplit(),N(re,ie);let le={left:ae,right:ae};re.forEach(function(ye){let{x:Me,boxWidth:Pe,isHeader:Re}=ye;!Re&&(f.outside&&ae+Me<le.left&&(le.left=ae+Me),!Re&&f.outside&&le.left+Pe>le.right&&(le.right=ae+Me))}),re.forEach(function(ye){let{x:Me,anchorX:Pe,anchorY:Re,pos:Fe,point:{isHeader:De}}=ye,He={visibility:void 0===Fe?"hidden":"inherit",x:Me,y:(Fe||0)+be,anchorX:Pe,anchorY:Re};if(f.outside&&Me<Pe){let ze=ae-le.left;ze>0&&(De||(He.x=Me+ze,He.anchorX=Pe+ze),De&&(He.x=(le.right-le.left)/2,He.anchorX=Pe+ze))}ye.tt.attr(He)});let{container:pe,outside:ge,renderer:we}=f;if(ge&&pe&&we){let{width:ye,height:Me,x:Pe,y:Re}=G.getBBox();we.setSize(ye+Pe,Me+Re,!1),pe.style.left=le.left+"px",pe.style.top=ue+"px"}W&&G.attr({opacity:1===G.opacity?.999:1})}drawTracker(){if(!this.shouldStickOnContact())return void(this.tracker&&(this.tracker=this.tracker.destroy()));let d=this.chart,c=this.label,f=this.shared?d.hoverPoints:d.hoverPoint;if(!c||!f)return;let u={x:0,y:0,width:0,height:0},M=this.getAnchor(f),U=c.getBBox();M[0]+=d.plotLeft-(c.translateX||0),M[1]+=d.plotTop-(c.translateY||0),u.x=Math.min(0,M[0]),u.y=Math.min(0,M[1]),u.width=M[0]<0?Math.max(Math.abs(M[0]),U.width-M[0]):Math.max(Math.abs(M[0]),U.width),u.height=M[1]<0?Math.max(Math.abs(M[1]),U.height-Math.abs(M[1])):Math.max(Math.abs(M[1]),U.height),this.tracker?this.tracker.attr(u):(this.tracker=c.renderer.rect(u).addClass("highcharts-tracker").add(c),d.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(d){return d.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(d,c){let f=d.series,u=f.tooltipOptions,M=f.xAxis,U=M&&M.dateTime,x={isFooter:c,labelConfig:d},O=u.xDateFormat,z=u[c?"footerFormat":"headerFormat"];return v(this,"headerFormatter",x,function(j){U&&!O&&H(d.key)&&(O=U.getXDateFormat(d.key,u.dateTimeLabelFormats)),U&&O&&(d.point&&d.point.tooltipDateKeys||["key"]).forEach(function(J){z=z.replace("{point."+J+"}","{point."+J+":"+O+"}")}),f.chart.styledMode&&(z=this.styledModeFormat(z)),j.text=te(z,{point:d,series:f},this.chart)}),x.text}update(d){this.destroy(),this.init(this.chart,S(!0,this.options,d))}updatePosition(d){let F,{chart:c,container:f,distance:u,options:M,pointer:U,renderer:x}=this,{height:O=0,width:z=0}=this.getLabel(),{left:j,top:J,scaleX:y,scaleY:w}=U.getChartPosition(),E=(M.positioner||this.getPosition).call(this,z,O,d),X=(d.plotX||0)+c.plotLeft,m=(d.plotY||0)+c.plotTop;x&&f&&(M.positioner&&(E.x+=j-u,E.y+=J-u),F=(M.borderWidth||0)+2*u+2,x.setSize(z+F,O+F,!1),(1!==y||1!==w)&&(A(f,{transform:`scale(${y}, ${w})`}),X*=y,m*=w),X+=j-E.x,m+=J-E.y),this.move(Math.round(E.x),Math.round(E.y||0),X,m)}}return(he=o||(o={})).compose=function(h){b(ee,"Core.Tooltip")&&I(h,"afterInit",function(){let d=this.chart;d.options.tooltip&&(d.tooltip=new he(d,d.options.tooltip,this))})},o}),Ne(Y,"Core/Series/Point.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Animation/AnimationUtilities.js"],Y["Core/Defaults.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{animObject:de}=ce,{defaultOptions:he}=xe,{format:Q}=ve,{addEvent:te,crisp:ee,erase:L,extend:W,fireEvent:N,getNestedProperty:I,isArray:C,isFunction:A,isNumber:D,isObject:P,merge:v,pick:T,syncTimeout:H,removeEvent:B,uniqueKey:S}=me;class p{animateBeforeDestroy(){let l=this,n={x:l.startXPos,opacity:0},o=l.getGraphicalProps();o.singular.forEach(function(h){l[h]=l[h].animate("dataLabel"===h?{x:l[h].startXPos,y:l[h].startYPos,opacity:0}:n)}),o.plural.forEach(function(h){l[h].forEach(function(d){d.element&&d.animate(W({x:l.startXPos},d.startYPos?{x:d.startXPos,y:d.startYPos}:{}))})})}applyOptions(l,n){let o=this.series,h=o.options.pointValKey||o.pointValKey;return W(this,l=p.prototype.optionsToObject.call(this,l)),this.options=this.options?W(this.options,l):l,l.group&&delete this.group,l.dataLabels&&delete this.dataLabels,h&&(this.y=p.prototype.getNestedProperty.call(this,h)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&o.xAxis&&o.xAxis.hasNames&&(this.x=o.xAxis.nameToX(this)),void 0===this.x&&o?this.x=n??o.autoIncrement():D(l.x)&&o.options.relativeXValue&&(this.x=o.autoIncrement(l.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let l=this,n=l.series,o=n.chart,h=n.options.dataSorting,d=o.hoverPoints,c=de(l.series.chart.renderer.globalAnimation),f=()=>{for(let u in(l.graphic||l.graphics||l.dataLabel||l.dataLabels)&&(B(l),l.destroyElements()),l)delete l[u]};l.legendItem&&o.legend.destroyItem(l),d&&(l.setState(),L(d,l),d.length||(o.hoverPoints=null)),l===o.hoverPoint&&l.onMouseOut(),h&&h.enabled?(this.animateBeforeDestroy(),H(f,c.duration)):f(),o.pointCount--}this.destroyed=!0}destroyElements(l){let n=this,o=n.getGraphicalProps(l);o.singular.forEach(function(h){n[h]=n[h].destroy()}),o.plural.forEach(function(h){n[h].forEach(function(d){d&&d.element&&d.destroy()}),delete n[h]})}firePointEvent(l,n,o){let h=this,d=this.series.options;h.manageEvent(l),"click"===l&&d.allowPointSelect&&(o=function(c){!h.destroyed&&h.select&&h.select(null,c.ctrlKey||c.metaKey||c.shiftKey)}),N(h,l,n,o)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(l){let n,o,h=this,d=[],c={singular:[],plural:[]};for((l=l||{graphic:1,dataLabel:1}).graphic&&d.push("graphic","connector"),l.dataLabel&&d.push("dataLabel","dataLabelPath","dataLabelUpper"),o=d.length;o--;)h[n=d[o]]&&c.singular.push(n);return["graphic","dataLabel"].forEach(function(f){let u=f+"s";l[f]&&h[u]&&c.plural.push(u)}),c}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(l){return l?0===l.indexOf("custom.")?I(l,this.options):this[l]:void 0}getZone(){let h,l=this.series,n=l.zones,o=l.zoneAxis||"y",d=0;for(h=n[0];this[o]>=h.value;)h=n[++d];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=h&&h.color&&!this.options.color?h.color:this.nonZonedColor,h}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(l,n,o){this.formatPrefix="point",this.visible=!0,this.series=l,this.applyOptions(n,o),this.id??(this.id=S()),this.resolveColor(),l.chart.pointCount++,N(this,"afterInit")}isValid(){return(D(this.x)||this.x instanceof Date)&&D(this.y)}optionsToObject(l){let f,n=this.series,o=n.options.keys,h=o||n.pointArrayMap||["y"],d=h.length,c={},u=0,M=0;if(D(l)||null===l)c[h[0]]=l;else if(C(l))for(!o&&l.length>d&&("string"==(f=typeof l[0])?c.name=l[0]:"number"===f&&(c.x=l[0]),u++);M<d;)o&&void 0===l[u]||(h[M].indexOf(".")>0?p.prototype.setNestedProperty(c,l[u],h[M]):c[h[M]]=l[u]),u++,M++;else"object"==typeof l&&(c=l,l.dataLabels&&(n.hasDataLabels=()=>!0),l.marker&&(n._hasPointMarkers=!0));return c}pos(l,n=this.plotY){if(!this.destroyed){let{plotX:o,series:h}=this,{chart:d,xAxis:c,yAxis:f}=h,u=0,M=0;if(D(o)&&D(n))return l&&(u=c?c.pos:d.plotLeft,M=f?f.pos:d.plotTop),d.inverted&&c&&f?[f.len-n+M,c.len-o+u]:[o+u,n+M]}}resolveColor(){let h,d,f,l=this.series,o=l.chart.styledMode,c=l.chart.options.chart.colorCount;delete this.nonZonedColor,l.options.colorByPoint?(o||(h=(d=l.options.colors||l.chart.options.colors)[l.colorCounter],c=d.length),f=l.colorCounter,l.colorCounter++,l.colorCounter===c&&(l.colorCounter=0)):(o||(h=l.color),f=l.colorIndex),this.colorIndex=T(this.options.colorIndex,f),this.color=T(this.options.color,h)}setNestedProperty(l,n,o){return o.split(".").reduce(function(h,d,c,f){return h[d]=f.length-1===c?n:P(h[d],!0)?h[d]:{},h[d]},l),l}shouldDraw(){return!this.isNull}tooltipFormatter(l){let n=this.series,o=n.tooltipOptions,h=T(o.valueDecimals,""),d=o.valuePrefix||"",c=o.valueSuffix||"";return n.chart.styledMode&&(l=n.chart.tooltip.styledModeFormat(l)),(n.pointArrayMap||["y"]).forEach(function(f){f="{point."+f,(d||c)&&(l=l.replace(RegExp(f+"}","g"),d+f+"}"+c)),l=l.replace(RegExp(f+"}","g"),f+":,."+h+"f}")}),Q(l,{point:this,series:this.series},n.chart)}update(l,n,o,h){let d,c=this,f=c.series,u=c.graphic,M=f.chart,U=f.options;function x(){c.applyOptions(l);let O=u&&c.hasMockGraphic;u&&(null===c.y?!O:O)&&(c.graphic=u.destroy(),delete c.hasMockGraphic),P(l,!0)&&(u&&u.element&&l&&l.marker&&void 0!==l.marker.symbol&&(c.graphic=u.destroy()),l?.dataLabels&&c.dataLabel&&(c.dataLabel=c.dataLabel.destroy())),d=c.index,f.updateParallelArrays(c,d),U.data[d]=P(U.data[d],!0)||P(l,!0)?c.options:T(l,U.data[d]),f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(M.isDirtyBox=!0),"point"===U.legendType&&(M.isDirtyLegend=!0),n&&M.redraw(o)}n=T(n,!0),!1===h?x():c.firePointEvent("update",{options:l},x)}remove(l,n){this.series.removePoint(this.series.data.indexOf(this),l,n)}select(l,n){let o=this,h=o.series,d=h.chart;l=T(l,!o.selected),this.selectedStaging=l,o.firePointEvent(l?"select":"unselect",{accumulate:n},function(){o.selected=o.options.selected=l,h.options.data[h.data.indexOf(o)]=o.options,o.setState(l&&"select"),n||d.getSelectedPoints().forEach(function(c){let f=c.series;c.selected&&c!==o&&(c.selected=c.options.selected=!1,f.options.data[f.data.indexOf(c)]=c.options,c.setState(d.hoverPoints&&f.options.inactiveOtherPoints?"inactive":""),c.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(l){let{inverted:n,pointer:o}=this.series.chart;o&&(l=l?o.normalize(l):o.getChartCoordinatesFromPoint(this,n),o.runPointActions(l,this))}onMouseOut(){let l=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(l.hoverPoints||[]).forEach(function(n){n.setState()}),l.hoverPoints=l.hoverPoint=null}manageEvent(l){let n=v(this.series.options.point,this.options),o=n.events?.[l];!A(o)||this.hcEvents?.[l]&&-1!==this.hcEvents?.[l]?.map(h=>h.fn).indexOf(o)?this.importedUserEvent&&!o&&this.hcEvents?.[l]&&(B(this,l),delete this.hcEvents[l],Object.keys(this.hcEvents)||delete this.importedUserEvent):(this.importedUserEvent?.(),this.importedUserEvent=te(this,l,o))}setState(l,n){let j,J,y,E,o=this.series,h=this.state,d=o.options.states[l||"normal"]||{},c=he.plotOptions[o.type].marker&&o.options.marker,u=c&&c.states&&c.states[l||"normal"]||{},U=this.marker||{},x=o.chart,O=c&&o.markerAttribs,z=o.halo,w=o.stateMarkerGraphic;if((l=l||"")===this.state&&!n||this.selected&&"select"!==l||!1===d.enabled||l&&(!1===u.enabled||c&&!1===c.enabled&&!1===u.enabled)||l&&U.states&&U.states[l]&&!1===U.states[l].enabled)return;if(this.state=l,O&&(j=o.markerAttribs(this,l)),this.graphic&&!this.hasMockGraphic){if(h&&this.graphic.removeClass("highcharts-point-"+h),l&&this.graphic.addClass("highcharts-point-"+l),!x.styledMode){J=o.pointAttribs(this,l),y=T(x.options.chart.animation,d.animation);let R=J.opacity;o.options.inactiveOtherPoints&&D(R)&&(this.dataLabels||[]).forEach(function(_){_&&!_.hasClass("highcharts-data-label-hidden")&&(_.animate({opacity:R},y),_.connector&&_.connector.animate({opacity:R},y))}),this.graphic.animate(J,y)}j&&this.graphic.animate(j,T(x.options.chart.animation,u.animation,c.animation)),w&&w.hide()}else l&&u&&(E=U.symbol||o.symbol,w&&w.currentSymbol!==E&&(w=w.destroy()),j&&(w?w[n?"animate":"attr"]({x:j.x,y:j.y}):E&&(o.stateMarkerGraphic=w=x.renderer.symbol(E,j.x,j.y,j.width,j.height).add(o.markerGroup),w.currentSymbol=E)),!x.styledMode&&w&&"inactive"!==this.state&&w.attr(o.pointAttribs(this,l))),w&&(w[l&&this.isInside?"show":"hide"](),w.element.point=this,w.addClass(this.getClassName(),!0));let X=d.halo,m=this.graphic||w,F=m&&m.visibility||"inherit";X&&X.size&&m&&"hidden"!==F&&!this.isCluster?(z||(o.halo=z=x.renderer.path().add(m.parentGroup)),z.show()[n?"animate":"attr"]({d:this.haloPath(X.size)}),z.attr({class:"highcharts-halo highcharts-color-"+T(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),visibility:F,zIndex:-1}),z.point=this,x.styledMode||z.attr(W({fill:this.color||o.color,"fill-opacity":X.opacity},Z.filterUserAttributes(X.attributes||{})))):z?.point?.haloPath&&!z.point.destroyed&&z.animate({d:z.point.haloPath(0)},null,z.hide),N(this,"afterSetState",{state:l})}haloPath(l){let n=this.pos();return n?this.series.chart.renderer.symbols.circle(ee(n[0],1)-l,n[1]-l,2*l,2*l):[]}}return p}),Ne(Y,"Core/Pointer.js",[Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{parse:me}=Z,{charts:de,composed:he,isTouchDevice:Q}=ce,{addEvent:te,attr:ee,css:L,extend:W,find:N,fireEvent:I,isNumber:C,isObject:A,objectEach:D,offset:P,pick:v,pushUnique:T,splat:H}=xe;class B{applyInactiveState(p){let l,b=[];(p||[]).forEach(function(n){l=n.series,b.push(l),l.linkedParent&&b.push(l.linkedParent),l.linkedSeries&&(b=b.concat(l.linkedSeries)),l.navigatorSeries&&b.push(l.navigatorSeries)}),this.chart.series.forEach(function(n){-1===b.indexOf(n)?n.setState("inactive",!0):n.options.inactiveOtherPoints&&n.setAllPointsToState("inactive")})}destroy(){let p=this;this.eventsToUnbind.forEach(b=>b()),this.eventsToUnbind=[],!ce.chartCount&&(B.unbindDocumentMouseUp&&B.unbindDocumentMouseUp.forEach(b=>b()),B.unbindDocumentTouchEnd&&(B.unbindDocumentTouchEnd=B.unbindDocumentTouchEnd())),clearInterval(p.tooltipTimeout),D(p,function(b,l){p[l]=void 0})}getSelectionMarkerAttrs(p,b){let l={args:{chartX:p,chartY:b},attrs:{},shapeType:"rect"};return I(this,"getSelectionMarkerAttrs",l,n=>{let o,{chart:h,zoomHor:d,zoomVert:c}=this,{mouseDownX:f=0,mouseDownY:u=0}=h,M=n.attrs;M.x=h.plotLeft,M.y=h.plotTop,M.width=d?1:h.plotWidth,M.height=c?1:h.plotHeight,d&&(o=p-f,M.width=Math.max(1,Math.abs(o)),M.x=(o>0?0:o)+f),c&&(o=b-u,M.height=Math.max(1,Math.abs(o)),M.y=(o>0?0:o)+u)}),l}drag(p){let j,{chart:b}=this,{mouseDownX:l=0,mouseDownY:n=0}=b,{panning:o,panKey:h,selectionMarkerFill:d}=b.options.chart,c=b.plotLeft,f=b.plotTop,u=b.plotWidth,M=b.plotHeight,U=A(o)?o.enabled:o,x=h&&p[`${h}Key`],O=p.chartX,z=p.chartY,J=this.selectionMarker;if((!J||!J.touch)&&(O<c?O=c:O>c+u&&(O=c+u),z<f?z=f:z>f+M&&(z=f+M),this.hasDragged=Math.sqrt(Math.pow(l-O,2)+Math.pow(n-z,2)),this.hasDragged>10)){j=b.isInsidePlot(l-c,n-f,{visiblePlotOnly:!0});let{shapeType:y,attrs:w}=this.getSelectionMarkerAttrs(O,z);(b.hasCartesianSeries||b.mapView)&&this.hasZoom&&j&&!x&&!J&&(this.selectionMarker=J=b.renderer[y](),J.attr({class:"highcharts-selection-marker",zIndex:7}).add(),b.styledMode||J.attr({fill:d||me("#334eff").setOpacity(.25).get()})),J&&J.attr(w),j&&!J&&U&&b.pan(p,o)}}dragStart(p){let b=this.chart;b.mouseIsDown=p.type,b.cancelClick=!1,b.mouseDownX=p.chartX,b.mouseDownY=p.chartY}getSelectionBox(p){let b={args:{marker:p},result:p.getBBox()};return I(this,"getSelectionBox",b),b.result}drop(p){let b,{chart:l,selectionMarker:n}=this;for(let o of l.axes)o.isPanning&&(o.isPanning=!1,(o.options.startOnTick||o.options.endOnTick||o.series.some(h=>h.boosted))&&(o.forceRedraw=!0,o.setExtremes(o.userMin,o.userMax,!1),b=!0));if(b&&l.redraw(),n&&p){if(this.hasDragged){let o=this.getSelectionBox(n);l.transform({axes:l.axes.filter(h=>h.zoomEnabled&&("xAxis"===h.coll&&this.zoomX||"yAxis"===h.coll&&this.zoomY)),selection:{originalEvent:p,xAxis:[],yAxis:[],...o},from:o})}C(l.index)&&(this.selectionMarker=n.destroy())}l&&C(l.index)&&(L(l.container,{cursor:l._cursor}),l.cancelClick=this.hasDragged>10,l.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(p,b,l){let n;return p.forEach(function(o){let h=!(o.noSharedTooltip&&b)&&0>o.options.findNearestPointBy.indexOf("y"),d=o.searchPoint(l,h);A(d,!0)&&d.series&&(!A(n,!0)||function(c,f){let u=c.distX-f.distX,M=c.dist-f.dist,U=f.series.group?.zIndex-c.series.group?.zIndex;return 0!==u&&b?u:0!==M?M:0!==U?U:c.series.index>f.series.index?-1:1}(n,d)>0)&&(n=d)}),n}getChartCoordinatesFromPoint(p,b){let{xAxis:l,yAxis:n}=p.series,o=p.shapeArgs;if(l&&n){let h=p.clientX??p.plotX??0,d=p.plotY||0;return p.isNode&&o&&C(o.x)&&C(o.y)&&(h=o.x,d=o.y),b?{chartX:n.len+n.pos-d,chartY:l.len+l.pos-h}:{chartX:h+l.pos,chartY:d+n.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:p}=this.chart,b=P(p);this.chartPosition={left:b.left,top:b.top,scaleX:1,scaleY:1};let{offsetHeight:l,offsetWidth:n}=p;return n>2&&l>2&&(this.chartPosition.scaleX=b.width/n,this.chartPosition.scaleY=b.height/l),this.chartPosition}getCoordinates(p){let b={xAxis:[],yAxis:[]};for(let l of this.chart.axes)b[l.isXAxis?"xAxis":"yAxis"].push({axis:l,value:l.toValue(p[l.horiz?"chartX":"chartY"])});return b}getHoverData(p,b,l,n,o,h){let u,d=[],c=function(x){return x.visible&&!(!o&&x.directTouch)&&v(x.options.enableMouseTracking,!0)},f=b,M={chartX:h?h.chartX:void 0,chartY:h?h.chartY:void 0,shared:o};I(this,"beforeGetHoverData",M),u=f&&!f.stickyTracking?[f]:l.filter(x=>x.stickyTracking&&(M.filter||c)(x));let U=n&&p||!h?p:this.findNearestKDPoint(u,o,h);return f=U&&U.series,U&&(o&&!f.noSharedTooltip?(u=l.filter(function(x){return M.filter?M.filter(x):c(x)&&!x.noSharedTooltip})).forEach(function(x){let O=N(x.points,function(z){return z.x===U.x&&!z.isNull});A(O)&&(x.boosted&&x.boost&&(O=x.boost.getPoint(O)),d.push(O))}):d.push(U)),I(this,"afterGetHoverData",M={hoverPoint:U}),{hoverPoint:M.hoverPoint,hoverSeries:f,hoverPoints:d}}getPointFromEvent(p){let l,b=p.target;for(;b&&!l;)l=b.point,b=b.parentNode;return l}onTrackerMouseOut(p){let l=p.relatedTarget,n=this.chart.hoverSeries;this.isDirectTouch=!1,!n||!l||n.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+n.index)&&this.inClass(l,"highcharts-tracker")||n.onMouseOut()}inClass(p,b){let n,l=p;for(;l;){if(n=ee(l,"class")){if(-1!==n.indexOf(b))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}l=l.parentElement}}constructor(p,b){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=b,this.chart=p,this.runChartClick=!!b.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),I(this,"afterInit")}normalize(p,b){let l=p.touches,n=l?l.length?l.item(0):v(l.changedTouches,p.changedTouches)[0]:p;b||(b=this.getChartPosition());let o=n.pageX-b.left,h=n.pageY-b.top;return W(p,{chartX:Math.round(o/=b.scaleX),chartY:Math.round(h/=b.scaleY)})}onContainerClick(p){let b=this.chart,l=b.hoverPoint,n=this.normalize(p),o=b.plotLeft,h=b.plotTop;!b.cancelClick&&(l&&this.inClass(n.target,"highcharts-tracker")?(I(l.series,"click",W(n,{point:l})),b.hoverPoint&&l.firePointEvent("click",n)):(W(n,this.getCoordinates(n)),b.isInsidePlot(n.chartX-o,n.chartY-h,{visiblePlotOnly:!0})&&I(b,"click",n)))}onContainerMouseDown(p){let b=1==(1&(p.buttons||p.button));p=this.normalize(p),ce.isFirefox&&0!==p.button&&this.onContainerMouseMove(p),(void 0===p.button||b)&&(this.zoomOption(p),b&&p.preventDefault?.(),this.dragStart(p))}onContainerMouseLeave(p){let{pointer:b}=de[v(B.hoverChartIndex,-1)]||{};p=this.normalize(p),this.onContainerMouseMove(p),b&&!this.inClass(p.relatedTarget,"highcharts-tooltip")&&(b.reset(),b.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(p){let b=this.chart,l=b.tooltip,n=this.normalize(p);this.setHoverChartIndex(p),("mousedown"===b.mouseIsDown||this.touchSelect(n))&&this.drag(n),!b.openMenu&&(this.inClass(n.target,"highcharts-tracker")||b.isInsidePlot(n.chartX-b.plotLeft,n.chartY-b.plotTop,{visiblePlotOnly:!0}))&&(!l||!l.shouldStickOnContact(n))&&(this.inClass(n.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(n))}onDocumentTouchEnd(p){this.onDocumentMouseUp(p)}onContainerTouchMove(p){this.touchSelect(p)?this.onContainerMouseMove(p):this.touch(p)}onContainerTouchStart(p){this.touchSelect(p)?this.onContainerMouseDown(p):(this.zoomOption(p),this.touch(p,!0))}onDocumentMouseMove(p){let b=this.chart,l=b.tooltip,n=this.chartPosition,o=this.normalize(p,n);!n||b.isInsidePlot(o.chartX-b.plotLeft,o.chartY-b.plotTop,{visiblePlotOnly:!0})||l&&l.shouldStickOnContact(o)||o.target!==b.container.ownerDocument&&this.inClass(o.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(p){de[v(B.hoverChartIndex,-1)]?.pointer?.drop(p)}pinch(p){let b=this,{chart:l,hasZoom:n,lastTouches:o}=b,h=[].map.call(p.touches||[],M=>b.normalize(M)),d=h.length,c=1===d&&(b.inClass(p.target,"highcharts-tracker")&&l.runTrackerClick||b.runChartClick),f=l.tooltip,u=1===d&&v(f?.options.followTouchMove,!0);d>1?b.initiated=!0:u&&(b.initiated=!1),n&&b.initiated&&!c&&!1!==p.cancelable&&p.preventDefault(),"touchstart"===p.type?(b.pinchDown=h,b.res=!0,l.mouseDownX=p.chartX):u?this.runPointActions(b.normalize(p)):o&&(I(l,"touchpan",{originalEvent:p,touches:h},()=>{let M=U=>{let x=U[0],O=U[1]||x;return{x:x.chartX,y:x.chartY,width:O.chartX-x.chartX,height:O.chartY-x.chartY}};l.transform({axes:l.axes.filter(U=>U.zoomEnabled&&(this.zoomHor&&U.horiz||this.zoomVert&&!U.horiz)),to:M(h),from:M(o),trigger:p.type})}),b.res&&(b.res=!1,this.reset(!1,0))),b.lastTouches=h}reset(p,b){let l=this.chart,n=l.hoverSeries,o=l.hoverPoint,h=l.hoverPoints,d=l.tooltip,c=d&&d.shared?h:o;p&&c&&H(c).forEach(function(f){f.series.isCartesian&&void 0===f.plotX&&(p=!1)}),p?d&&c&&H(c).length&&(d.refresh(c),d.shared&&h?h.forEach(function(f){f.setState(f.state,!0),f.series.isCartesian&&(f.series.xAxis.crosshair&&f.series.xAxis.drawCrosshair(null,f),f.series.yAxis.crosshair&&f.series.yAxis.drawCrosshair(null,f))}):o&&(o.setState(o.state,!0),l.axes.forEach(function(f){f.crosshair&&o.series[f.coll]===f&&f.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),h&&h.forEach(function(f){f.setState()}),n&&n.onMouseOut(),d&&d.hide(b),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l.axes.forEach(function(f){f.hideCrosshair()}),l.hoverPoints=l.hoverPoint=void 0)}runPointActions(p,b,l){let n=this.chart,h=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,d=!!h&&h.shared,c=b||n.hoverPoint,f=c&&c.series||n.hoverSeries,M=this.getHoverData(c,f,n.series,(!p||"touchmove"!==p.type)&&(!!b||f&&f.directTouch&&this.isDirectTouch),d,p);c=M.hoverPoint,f=M.hoverSeries;let U=M.hoverPoints,x=f&&f.tooltipOptions.followPointer&&!f.tooltipOptions.split,O=d&&f&&!f.noSharedTooltip;if(c&&(l||c!==n.hoverPoint||h&&h.isHidden)){if((n.hoverPoints||[]).forEach(function(z){-1===U.indexOf(z)&&z.setState()}),n.hoverSeries!==f&&f.onMouseOver(),this.applyInactiveState(U),(U||[]).forEach(function(z){z.setState("hover")}),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!c.series)return;n.hoverPoints=U,n.hoverPoint=c,c.firePointEvent("mouseOver",void 0,()=>{h&&c&&h.refresh(O?U:c,p)})}else if(x&&h&&!h.isHidden){let z=h.getAnchor([{}],p);n.isInsidePlot(z[0],z[1],{visiblePlotOnly:!0})&&h.updatePosition({plotX:z[0],plotY:z[1]})}this.unDocMouseMove||(this.unDocMouseMove=te(n.container.ownerDocument,"mousemove",z=>de[B.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(z)),this.eventsToUnbind.push(this.unDocMouseMove)),n.axes.forEach(function(z){let j,J=v((z.crosshair||{}).snap,!0);!J||(j=n.hoverPoint)&&j.series[z.coll]===z||(j=N(U,y=>y.series&&y.series[z.coll]===z)),j||!J?z.drawCrosshair(p,j):z.hideCrosshair()})}setDOMEvents(){let p=this.chart.container,b=p.ownerDocument;p.onmousedown=this.onContainerMouseDown.bind(this),p.onmousemove=this.onContainerMouseMove.bind(this),p.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(te(p,"mouseenter",this.onContainerMouseEnter.bind(this)),te(p,"mouseleave",this.onContainerMouseLeave.bind(this))),B.unbindDocumentMouseUp||(B.unbindDocumentMouseUp=[]),B.unbindDocumentMouseUp.push(te(b,"mouseup",this.onDocumentMouseUp.bind(this)));let l=this.chart.renderTo.parentElement;for(;l&&"BODY"!==l.tagName;)this.eventsToUnbind.push(te(l,"scroll",()=>{delete this.chartPosition})),l=l.parentElement;this.eventsToUnbind.push(te(p,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),te(p,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),B.unbindDocumentTouchEnd||(B.unbindDocumentTouchEnd=te(b,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),te(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Q)return;let p=this.pointerCaptureEventsToUnbind,b=this.chart,l=b.container,n=v(b.options.tooltip?.followTouchMove,!0)&&b.series.some(o=>o.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&n?(p.push(te(l,"pointerdown",o=>{o.target?.hasPointerCapture(o.pointerId)&&o.target?.releasePointerCapture(o.pointerId)}),te(l,"pointermove",o=>{b.pointer?.getPointFromEvent(o)?.onMouseOver(o)})),b.styledMode||L(l,{"touch-action":"none"}),l.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!n&&(p.forEach(o=>o()),p.length=0,b.styledMode||L(l,{"touch-action":v(b.options.chart.style?.["touch-action"],"manipulation")}),l.className=l.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(p){let b=this.chart,l=ce.charts[v(B.hoverChartIndex,-1)];if(l&&l!==b){let n={relatedTarget:b.container};p&&!p?.relatedTarget&&(p={...n,...p}),l.pointer?.onContainerMouseLeave(p||n)}l&&l.mouseIsDown||(B.hoverChartIndex=b.index)}touch(p,b){let l,{chart:n,pinchDown:o=[]}=this;this.setHoverChartIndex(),1===(p=this.normalize(p)).touches.length?n.isInsidePlot(p.chartX-n.plotLeft,p.chartY-n.plotTop,{visiblePlotOnly:!0})&&!n.openMenu?(b&&this.runPointActions(p),"touchmove"===p.type&&(l=!!o[0]&&Math.pow(o[0].chartX-p.chartX,2)+Math.pow(o[0].chartY-p.chartY,2)>=16),v(l,!0)&&this.pinch(p)):b&&this.reset():2===p.touches.length&&this.pinch(p)}touchSelect(p){return!(!this.chart.zooming.singleTouch||!p.touches||1!==p.touches.length)}zoomOption(p){let o,h,b=this.chart,l=b.inverted,n=b.zooming.type||"";/touch/.test(p.type)&&(n=v(b.zooming.pinchType,n)),this.zoomX=o=/x/.test(n),this.zoomY=h=/y/.test(n),this.zoomHor=o&&!l||h&&l,this.zoomVert=h&&!l||o&&l,this.hasZoom=o||h}}return(ve=B||(B={})).compose=function(S){T(he,"Core.Pointer")&&te(S,"beforeRender",function(){this.pointer=new ve(this,this.options)})},B}),Ne(Y,"Core/Legend/LegendSymbol.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{extend:xe,merge:ve,pick:me}=Z;return function(de){function he(Q,te,ee){let S,L=this.legendItem=this.legendItem||{},{chart:W,options:N}=this,{baseline:I=0,symbolWidth:C,symbolHeight:A}=Q,D=this.symbol||"circle",P=A/2,v=W.renderer,T=L.group,H=I-Math.round((Q.fontMetrics?.b||A)*(ee?.4:.3)),B={},p=N.marker,b=0;if(W.styledMode||(B["stroke-width"]=Math.min(N.lineWidth||0,24),N.dashStyle?B.dashstyle=N.dashStyle:"square"===N.linecap||(B["stroke-linecap"]="round")),L.line=v.path().addClass("highcharts-graph").attr(B).add(T),ee&&(L.area=v.path().addClass("highcharts-area").add(T)),B["stroke-linecap"]&&(b=Math.min(L.line.strokeWidth(),C)/2),C){let l=[["M",b,H],["L",C-b,H]];L.line.attr({d:l}),L.area?.attr({d:[...l,["L",C-b,I],["L",b,I]]})}if(p&&!1!==p.enabled&&C){let l=Math.min(me(p.radius,P),P);0===D.indexOf("url")&&(p=ve(p,{width:A,height:A}),l=0),L.symbol=S=v.symbol(D,C/2-l,H-l,2*l,2*l,xe({context:"legend"},p)).addClass("highcharts-point").add(T),S.isMarker=!0}}de.areaMarker=function(Q,te){he.call(this,Q,te,!0)},de.lineMarker=he,de.rectangle=function(Q,te){let ee=te.legendItem||{},W=Q.symbolHeight,N=Q.options.squareSymbol;ee.symbol=this.chart.renderer.rect(N?(Q.symbolWidth-W)/2:0,Q.baseline-W+1,N?W:Q.symbolWidth,W,me(Q.options.symbolRadius,W/2)).addClass("highcharts-point").attr({zIndex:3}).add(ee.group)}}(ce||(ce={})),ce}),Ne(Y,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:Z}=this.series.chart;return"number"!=typeof this.y?"":Z(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),Ne(Y,"Core/Series/SeriesRegistry.js",[Y["Core/Globals.js"],Y["Core/Defaults.js"],Y["Core/Series/Point.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{defaultOptions:de}=ce,{extend:he,extendClass:Q,merge:te}=ve;return function(ee){function L(W,N){let I=de.plotOptions||{},C=N.defaultOptions,A=N.prototype;return A.type=W,A.pointClass||(A.pointClass=xe),!ee.seriesTypes[W]&&(C&&(I[W]=C),ee.seriesTypes[W]=N,!0)}ee.seriesTypes=Z.seriesTypes,ee.registerSeriesType=L,ee.seriesType=function(W,N,I,C,A){let D=de.plotOptions||{};if(D[W]=te(D[N=N||""],I),delete ee.seriesTypes[W],L(W,Q(ee.seriesTypes[N]||function(){},C)),ee.seriesTypes[W].prototype.type=W,A){class P extends xe{}he(P.prototype,A),ee.seriesTypes[W].prototype.pointClass=P}return ee.seriesTypes[W]}}(me||(me={})),me}),Ne(Y,"Core/Series/Series.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Defaults.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Legend/LegendSymbol.js"],Y["Core/Series/Point.js"],Y["Core/Series/SeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee){let{animObject:L,setAnimation:W}=Z,{defaultOptions:N}=ce,{registerEventOptions:I}=xe,{svg:C,win:A}=ve,{seriesTypes:D}=Q,{arrayMax:P,arrayMin:v,clamp:T,correctFloat:H,crisp:B,defined:S,destroyObjectProperties:p,diffObjects:b,erase:l,error:n,extend:o,find:h,fireEvent:d,getClosestDistance:c,getNestedProperty:f,insertItem:u,isArray:M,isNumber:U,isString:x,merge:O,objectEach:z,pick:j,removeEvent:J,splat:y,syncTimeout:w}=ee;class E{constructor(){this.zoneAxis="y"}init(m,F){let R;d(this,"init",{options:F});let _=this,G=m.series;this.eventsToUnbind=[],_.chart=m,_.options=_.setOptions(F);let K=_.options,oe=!1!==K.visible;_.linkedSeries=[],_.bindAxes(),o(_,{name:K.name,state:"",visible:oe,selected:!0===K.selected}),I(this,K);let ae=K.events;(ae&&ae.click||K.point&&K.point.events&&K.point.events.click||K.allowPointSelect)&&(m.runTrackerClick=!0),_.getColor(),_.getSymbol(),_.parallelArrays.forEach(function(ue){_[ue+"Data"]||(_[ue+"Data"]=[])}),_.isCartesian&&(m.hasCartesianSeries=!0),G.length&&(R=G[G.length-1]),_._i=j(R&&R._i,-1)+1,_.opacity=_.options.opacity,m.orderItems("series",u(this,G)),K.dataSorting&&K.dataSorting.enabled?_.setDataSortingOptions():_.points||_.data||_.setData(K.data,!1),d(this,"afterInit")}is(m){return D[m]&&this instanceof D[m]}bindAxes(){let m,F=this,R=F.options,_=F.chart;d(this,"bindAxes",null,function(){(F.axisTypes||[]).forEach(function(G){(_[G]||[]).forEach(function(K){m=K.options,(j(R[G],0)===K.index||void 0!==R[G]&&R[G]===m.id)&&(u(F,K.series),F[G]=K,K.isDirty=!0)}),F[G]||F.optionalAxis===G||n(18,!0,_)})}),d(this,"afterBindAxes")}updateParallelArrays(m,F,R){let _=m.series,G=U(F)?function(K){let oe="y"===K&&_.toYData?_.toYData(m):m[K];_[K+"Data"][F]=oe}:function(K){Array.prototype[F].apply(_[K+"Data"],R)};_.parallelArrays.forEach(G)}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(m,F){let R=m.marker,_=F.marker||{};return R&&(_.enabled&&!R.enabled||_.symbol!==R.symbol||_.height!==R.height||_.width!==R.width)}autoIncrement(m){let oe,ae,F=this.options,R=F.pointIntervalUnit,_=F.relativeXValue,G=this.chart.time,K=this.xIncrement;return K=j(K,F.pointStart,0),this.pointInterval=ae=j(this.pointInterval,F.pointInterval,1),_&&U(m)&&(ae*=m),R&&(oe=new G.Date(K),"day"===R?G.set("Date",oe,G.get("Date",oe)+ae):"month"===R?G.set("Month",oe,G.get("Month",oe)+ae):"year"===R&&G.set("FullYear",oe,G.get("FullYear",oe)+ae),ae=oe.getTime()-K),_&&U(m)?K+ae:(this.xIncrement=K+ae,K)}setDataSortingOptions(){let m=this.options;o(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),S(m.pointRange)||(m.pointRange=1)}setOptions(m){let F,R=this.chart,_=R.options.plotOptions,G=R.userOptions||{},K=O(m),oe=R.styledMode,ae={plotOptions:_,userOptions:K};d(this,"setOptions",ae);let ue=ae.plotOptions[this.type],be=G.plotOptions||{},Se=be.series||{},ie=N.plotOptions[this.type]||{},q=be[this.type]||{};this.userOptions=ae.userOptions;let re=O(ue,_.series,q,K);this.tooltipOptions=O(N.tooltip,N.plotOptions.series?.tooltip,ie?.tooltip,R.userOptions.tooltip,be.series?.tooltip,q.tooltip,K.tooltip),this.stickyTracking=j(K.stickyTracking,q.stickyTracking,Se.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||re.stickyTracking),null===ue.marker&&delete re.marker,this.zoneAxis=re.zoneAxis||"y";let le=this.zones=(re.zones||[]).map(pe=>({...pe}));return(re.negativeColor||re.negativeFillColor)&&!re.zones&&(F={value:re[this.zoneAxis+"Threshold"]||re.threshold||0,className:"highcharts-negative"},oe||(F.color=re.negativeColor,F.fillColor=re.negativeFillColor),le.push(F)),le.length&&S(le[le.length-1].value)&&le.push(oe?{}:{color:this.color,fillColor:this.fillColor}),d(this,"afterSetOptions",{options:re}),re}getName(){return j(this.options.name,"Series "+(this.index+1))}getCyclic(m,F,R){let _,G,K=this.chart,oe=`${m}Index`,ae=`${m}Counter`,ue=R?.length||K.options.chart.colorCount;!F&&(S(G=j("color"===m?this.options.colorIndex:void 0,this[oe]))?_=G:(K.series.length||(K[ae]=0),_=K[ae]%ue,K[ae]+=1),R&&(F=R[_])),void 0!==_&&(this[oe]=_),this[m]=F}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||N.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(m,F){let R,_,G,K=m.id,oe=m.x,ae=this.points,ue=this.options.dataSorting;if(K){let be=this.chart.get(K);be instanceof de&&(R=be)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let be=Se=>!Se.touched&&Se.index===m.index;if(ue&&ue.matchByName?be=Se=>!Se.touched&&Se.name===m.name:this.options.relativeXValue&&(be=Se=>!Se.touched&&Se.options.x===m.x),!(R=h(ae,be)))return}return R&&void 0!==(G=R&&R.index)&&(_=!0),void 0===G&&U(oe)&&(G=this.xData.indexOf(oe,F)),-1!==G&&void 0!==G&&this.cropped&&(G=G>=this.cropStart?G-this.cropStart:G),!_&&U(G)&&ae[G]&&ae[G].touched&&(G=void 0),G}updateData(m,F){let ue,be,Se,ie,R=this.options,_=R.dataSorting,G=this.points,K=[],oe=this.requireSorting,ae=m.length===G.length,q=!0;if(this.xIncrement=null,m.forEach(function(re,le){let pe,ge=S(re)&&this.pointClass.prototype.optionsToObject.call({series:this},re)||{};ge.id||U(ge.x)?(-1===(pe=this.findPointIndex(ge,ie))||void 0===pe?K.push(re):G[pe]&&re!==R.data[pe]?(G[pe].update(re,!1,null,!1),G[pe].touched=!0,oe&&(ie=pe+1)):G[pe]&&(G[pe].touched=!0),(!ae||le!==pe||_&&_.enabled||this.hasDerivedData)&&(ue=!0)):K.push(re)},this),ue)for(be=G.length;be--;)(Se=G[be])&&!Se.touched&&Se.remove&&Se.remove(!1,F);else!ae||_&&_.enabled?q=!1:(m.forEach(function(re,le){re===G[le].y||G[le].destroyed||G[le].update(re,!1,null,!1)}),K.length=0);return G.forEach(function(re){re&&(re.touched=!1)}),!!q&&(K.forEach(function(re){this.addPoint(re,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=P(this.xData),this.autoIncrement()),!0)}setData(m,F=!0,R,_){let we,ye,Me,Fe,G=this,K=G.points,oe=K&&K.length||0,ae=G.options,ue=G.chart,be=ae.dataSorting,Se=G.xAxis,ie=ae.turboThreshold,q=this.xData,re=this.yData,le=G.pointArrayMap,pe=le&&le.length,ge=ae.keys,Pe=0,Re=1;ue.options.chart.allowMutatingData||(ae.data&&delete G.options.data,G.userOptions.data&&delete G.userOptions.data,Fe=O(!0,m));let De=(m=Fe||m||[]).length;if(be&&be.enabled&&(m=this.sortData(m)),ue.options.chart.allowMutatingData&&!1!==_&&De&&oe&&!G.cropped&&!G.hasGroupedData&&G.visible&&!G.boosted&&(Me=this.updateData(m,R)),!Me){G.xIncrement=null,G.colorCounter=0,this.parallelArrays.forEach(function(ze){G[ze+"Data"].length=0});let He=ie&&De>ie;if(He){let ze=G.getFirstValidPoint(m),Oe=G.getFirstValidPoint(m,De-1,-1),it=ot=>!(!M(ot)||!ge&&!U(ot[0]));if(U(ze)&&U(Oe))for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we];else if(it(ze)&&it(Oe))if(pe)if(ze.length===pe)for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we];else for(we=0;we<De;we++)ye=m[we],q[we]=ye[0],re[we]=ye.slice(1,pe+1);else if(ge&&(Pe=ge.indexOf("x"),Re=ge.indexOf("y"),Pe=Pe>=0?Pe:0,Re=Re>=0?Re:1),1===ze.length&&(Re=0),Pe===Re)for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we][Re];else for(we=0;we<De;we++)ye=m[we],q[we]=ye[Pe],re[we]=ye[Re];else He=!1}if(!He)for(we=0;we<De;we++)ye={series:G},G.pointClass.prototype.applyOptions.apply(ye,[m[we]]),G.updateParallelArrays(ye,we);for(re&&x(re[0])&&n(14,!0,ue),G.data=[],G.options.data=G.userOptions.data=m,we=oe;we--;)K[we]?.destroy();Se&&(Se.minRange=Se.userMinRange),G.isDirty=ue.isDirtyBox=!0,G.isDirtyData=!!K,R=!1}"point"===ae.legendType&&(this.processData(),this.generatePoints()),F&&ue.redraw(R)}sortData(m){let F=this,R=F.options.dataSorting.sortKey||"y",_=function(G,K){return S(K)&&G.pointClass.prototype.optionsToObject.call({series:G},K)||{}};return m.forEach(function(G,K){m[K]=_(F,G),m[K].index=K},this),m.concat().sort((G,K)=>{let oe=f(R,G),ae=f(R,K);return ae<oe?-1:ae>oe?1:0}).forEach(function(G,K){G.x=K},this),F.linkedSeries&&F.linkedSeries.forEach(function(G){let K=G.options,oe=K.data;K.dataSorting&&K.dataSorting.enabled||!oe||(oe.forEach(function(ae,ue){oe[ue]=_(G,ae),m[ue]&&(oe[ue].x=m[ue].x,oe[ue].index=ue)}),G.setData(oe,!1))}),m}getProcessedData(m){let oe,ae,be,Se,ie,F=this,R=F.xAxis,_=F.options.cropThreshold,G=R?.logarithmic,K=F.isCartesian,ue=0,q=F.xData,re=F.yData,le=!1,pe=q.length;R&&(Se=(be=R.getExtremes()).min,ie=be.max,le=!(!R.categories||R.names.length)),K&&F.sorted&&!m&&(!_||pe>_||F.forceCrop)&&(q[pe-1]<Se||q[0]>ie?(q=[],re=[]):F.yData&&(q[0]<Se||q[pe-1]>ie)&&(q=(oe=this.cropData(F.xData,F.yData,Se,ie)).xData,re=oe.yData,ue=oe.start,ae=!0));let ge=c([G?q.map(G.log2lin):q],()=>F.requireSorting&&!le&&n(15,!1,F.chart));return{xData:q,yData:re,cropped:ae,cropStart:ue,closestPointRange:ge}}processData(m){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!m)return!1;let R=this.getProcessedData();this.cropped=R.cropped,this.cropStart=R.cropStart,this.processedXData=R.xData,this.processedYData=R.yData,this.closestPointRange=this.basePointRange=R.closestPointRange,d(this,"afterProcessData")}cropData(m,F,R,_){let K,oe,G=m.length,ae=0,ue=G;for(K=0;K<G;K++)if(m[K]>=R){ae=Math.max(0,K-1);break}for(oe=K;oe<G;oe++)if(m[oe]>_){ue=oe+1;break}return{xData:m.slice(ae,ue),yData:F.slice(ae,ue),start:ae,end:ue}}generatePoints(){let ie,q,re,le,m=this.options,F=this.processedData||m.data,R=this.processedXData,_=this.processedYData,G=this.pointClass,K=R.length,oe=this.cropStart||0,ae=this.hasGroupedData,ue=m.keys,be=[],Se=m.dataGrouping&&m.dataGrouping.groupAll?oe:0,pe=this.data;if(!pe&&!ae){let ge=[];ge.length=F.length,pe=this.data=ge}for(ue&&ae&&(this.options.keys=!1),le=0;le<K;le++)q=oe+le,ae?((re=new G(this,[R[le]].concat(y(_[le])))).dataGroup=this.groupMap[Se+le],re.dataGroup.options&&(re.options=re.dataGroup.options,o(re,re.dataGroup.options),delete re.dataLabels)):(re=pe[q])||void 0===F[q]||(pe[q]=re=new G(this,F[q],R[le])),re&&(re.index=ae?Se+le:q,be[le]=re);if(this.options.keys=ue,pe&&(K!==(ie=pe.length)||ae))for(le=0;le<ie;le++)le!==oe||ae||(le+=K),pe[le]&&(pe[le].destroyElements(),pe[le].plotX=void 0);this.data=pe,this.points=be,d(this,"afterGeneratePoints")}getXExtremes(m){return{min:v(m),max:P(m)}}getExtremes(m,F){let Se,ie,q,re,le,pe,ge,R=this.xAxis,_=this.yAxis,G=[],K=this.requireSorting&&!this.is("column")?1:0,oe=!!_&&_.positiveValuesOnly,ae=F||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:ue,processedYData:be}=this,we=0,ye=0,Me=0;if(this.cropped&&ae){let De=this.getProcessedData(!0);ue=De.xData,be=De.yData}let Pe=(m=m||this.stackedYData||be||[]).length,Re=ue||this.xData;for(R&&(we=(Se=R.getExtremes()).min,ye=Se.max),pe=0;pe<Pe;pe++)if(re=Re[pe],ie=(U(le=m[pe])||M(le))&&((U(le)?le>0:le.length)||!oe),q=F||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!R||(Re[pe+K]||re)>=we&&(Re[pe-K]||re)<=ye,ie&&q)if(ge=le.length)for(;ge--;)U(le[ge])&&(G[Me++]=le[ge]);else G[Me++]=le;let Fe={activeYData:G,dataMin:v(G),dataMax:P(G)};return d(this,"afterGetExtremes",{dataExtremes:Fe}),Fe}applyExtremes(){let m=this.getExtremes();return this.dataMin=m.dataMin,this.dataMax=m.dataMax,m}getFirstValidPoint(m,F=0,R=1){let _=m.length,G=F;for(;G>=0&&G<_;){if(S(m[G]))return m[G];G+=R}}translate(){this.processedXData||this.processData(),this.generatePoints();let q,re,le,pe,m=this.options,F=m.stacking,R=this.xAxis,_=R.categories,G=this.enabledDataSorting,K=this.yAxis,oe=this.points,ae=oe.length,ue=this.pointPlacementToXValue(),be=!!ue,Se=m.threshold,ie=m.startFromThreshold?Se:0,ge=Number.MAX_VALUE;function we(ye){return T(ye,-1e9,1e9)}for(q=0;q<ae;q++){let ye,Re,Fe,Me=oe[q],Pe=Me.x,De=Me.y,He=Me.low,ze=F&&K.stacking?.stacks[(this.negStacks&&De<(ie?0:Se)?"-":"")+this.stackKey];re=R.translate(Pe,!1,!1,!1,!0,ue),Me.plotX=U(re)?H(we(re)):void 0,F&&this.visible&&ze&&ze[Pe]&&(pe=this.getStackIndicator(pe,Pe,this.index),!Me.isNull&&pe.key&&(Fe=(Re=ze[Pe]).points[pe.key]),Re&&M(Fe)&&(He=Fe[0],De=Fe[1],He===ie&&pe.key===ze[Pe].base&&(He=j(U(Se)?Se:K.min)),K.positiveValuesOnly&&S(He)&&He<=0&&(He=void 0),Me.total=Me.stackTotal=j(Re.total),Me.percentage=S(Me.y)&&Re.total?Me.y/Re.total*100:void 0,Me.stackY=De,this.irregularWidths||Re.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Me.yBottom=S(He)?we(K.translate(He,!1,!0,!1,!0)):void 0,this.dataModify&&(De=this.dataModify.modifyValue(De,q)),U(De)&&void 0!==Me.plotX&&(ye=U(ye=K.translate(De,!1,!0,!1,!0))?we(ye):void 0),Me.plotY=ye,Me.isInside=this.isPointInside(Me),Me.clientX=be?H(R.translate(Pe,!1,!1,!1,!0,ue)):re,Me.negative=(Me.y||0)<(Se||0),Me.category=j(_&&_[Me.x],Me.x),Me.isNull||!1===Me.visible||(void 0!==le&&(ge=Math.min(ge,Math.abs(re-le))),le=re),Me.zone=this.zones.length?Me.getZone():void 0,!Me.graphic&&this.group&&G&&(Me.isNew=!0)}this.closestPointRangePx=ge,d(this,"afterTranslate")}getValidPoints(m,F,R){let _=this.chart;return(m||this.points||[]).filter(function(G){let{plotX:K,plotY:oe}=G;return!(!(R||!G.isNull&&U(oe))||F&&!_.isInsidePlot(K,oe,{inverted:_.inverted}))&&!1!==G.visible})}getClipBox(){let{chart:m,xAxis:F,yAxis:R}=this,{x:_,y:G,width:K,height:oe}=O(m.clipBox);return F&&F.len!==m.plotSizeX&&(K=F.len),R&&R.len!==m.plotSizeY&&(oe=R.len),m.inverted&&!this.invertible&&([K,oe]=[oe,K]),{x:_,y:G,width:K,height:oe}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:m,group:F,markerGroup:R}=this,_=m.sharedClips,G=m.renderer,K=this.getClipBox(),oe=this.getSharedClipKey(),ae=_[oe];ae?ae.animate(K):_[oe]=ae=G.clipRect(K),F&&F.clip(!1===this.options.clip?void 0:ae),R&&R.clip()}animate(m){let{chart:F,group:R,markerGroup:_}=this,G=F.inverted,K=L(this.options.animation),oe=[this.getSharedClipKey(),K.duration,K.easing,K.defer].join(","),ae=F.sharedClips[oe],ue=F.sharedClips[oe+"m"];if(m&&R){let be=this.getClipBox();ae?ae.attr("height",be.height):(be.width=0,G&&(be.x=F.plotHeight),ae=F.renderer.clipRect(be),F.sharedClips[oe]=ae,ue=F.renderer.clipRect({x:-99,y:-99,width:G?F.plotWidth+199:99,height:G?99:F.plotHeight+199}),F.sharedClips[oe+"m"]=ue),R.clip(ae),_?.clip(ue)}else if(ae&&!ae.hasClass("highcharts-animating")){let be=this.getClipBox(),Se=K.step;(_?.element.childNodes.length||F.series.length>1)&&(K.step=function(ie,q){Se&&Se.apply(q,arguments),"width"===q.prop&&ue?.element&&ue.attr(G?"height":"width",ie+99)}),ae.addClass("highcharts-animating").animate(be,K)}}afterAnimate(){this.setClip(),z(this.chart.sharedClips,(m,F,R)=>{m&&!this.chart.container.querySelector(`[clip-path="url(#${m.id})"]`)&&(m.destroy(),delete R[F])}),this.finishedAnimating=!0,d(this,"afterAnimate")}drawPoints(m=this.points){let F,R,_,G,K,oe,ae,ue=this.chart,be=ue.styledMode,{colorAxis:Se,options:ie}=this,q=ie.marker,re=this[this.specialGroup||"markerGroup"],le=this.xAxis,pe=j(q.enabled,!le||!!le.isRadial||null,this.closestPointRangePx>=q.enabledThreshold*q.radius);if(!1!==q.enabled||this._hasPointMarkers)for(F=0;F<m.length;F++)if(G=(_=(R=m[F]).graphic)?"animate":"attr",K=R.marker||{},oe=!!R.marker,(pe&&void 0===K.enabled||K.enabled)&&!R.isNull&&!1!==R.visible){let ge=j(K.symbol,this.symbol,"rect");ae=this.markerAttribs(R,R.selected&&"select"),this.enabledDataSorting&&(R.startXPos=le.reversed?-(ae.width||0):le.width);let we=!1!==R.isInside;if(!_&&we&&((ae.width||0)>0||R.hasImage)&&(R.graphic=_=ue.renderer.symbol(ge,ae.x,ae.y,ae.width,ae.height,oe?K:q).add(re),this.enabledDataSorting&&ue.hasRendered&&(_.attr({x:R.startXPos}),G="animate")),_&&"animate"===G&&_[we?"show":"hide"](we).animate(ae),_){let ye=this.pointAttribs(R,be||!R.selected?void 0:"select");be?Se&&_.css({fill:ye.fill}):_[G](ye)}_&&_.addClass(R.getClassName(),!0)}else _&&(R.graphic=_.destroy())}markerAttribs(m,F){let ae,ue,R=this.options,_=R.marker,G=m.marker||{},K=G.symbol||_.symbol,oe={},be=j(G.radius,_&&_.radius);F&&(ae=_.states[F],be=j((ue=G.states&&G.states[F])&&ue.radius,ae&&ae.radius,be&&be+(ae&&ae.radiusPlus||0))),m.hasImage=K&&0===K.indexOf("url"),m.hasImage&&(be=0);let Se=m.pos();return U(be)&&Se&&(R.crisp&&(Se[0]=B(Se[0],m.hasImage?0:"rect"===K?_?.lineWidth||0:1)),oe.x=Se[0]-be,oe.y=Se[1]-be),be&&(oe.width=oe.height=2*be),oe}pointAttribs(m,F){let ue,be,ie,q,R=this.options.marker,_=m&&m.options,G=_&&_.marker||{},K=_&&_.color,oe=m&&m.color,ae=m&&m.zone&&m.zone.color,Se=this.color,re=j(G.lineWidth,R.lineWidth),le=1;return Se=K||ae||oe||Se,ie=G.fillColor||R.fillColor||Se,q=G.lineColor||R.lineColor||Se,ue=R.states[F=F||"normal"]||{},re=j((be=G.states&&G.states[F]||{}).lineWidth,ue.lineWidth,re+j(be.lineWidthPlus,ue.lineWidthPlus,0)),ie=be.fillColor||ue.fillColor||ie,{stroke:q=be.lineColor||ue.lineColor||q,"stroke-width":re,fill:ie,opacity:le=j(be.opacity,ue.opacity,le)}}destroy(m){let F,R,_,G=this,K=G.chart,oe=/AppleWebKit\/533/.test(A.navigator.userAgent),ae=G.data||[];for(d(G,"destroy",{keepEventsForUpdate:m}),this.removeEvents(m),(G.axisTypes||[]).forEach(function(ue){(_=G[ue])&&_.series&&(l(_.series,G),_.isDirty=_.forceRedraw=!0)}),G.legendItem&&G.chart.legend.destroyItem(G),F=ae.length;F--;)(R=ae[F])&&R.destroy&&R.destroy();for(let ue of G.zones)p(ue,void 0,!0);ee.clearTimeout(G.animationTimeout),z(G,function(ue,be){ue instanceof te&&!ue.survive&&ue[oe&&"group"===be?"hide":"destroy"]()}),K.hoverSeries===G&&(K.hoverSeries=void 0),l(K.series,G),K.orderItems("series"),z(G,function(ue,be){m&&"hcEvents"===be||delete G[be]})}applyZones(){let{area:m,chart:F,graph:R,zones:_,points:G,xAxis:K,yAxis:oe,zoneAxis:ae}=this,{inverted:ue,renderer:be}=F,Se=this[`${ae}Axis`],{isXAxis:ie,len:q=0}=Se||{},re=(R?.strokeWidth()||0)/2+1,le=(pe,ge=0,we=0)=>{ue&&(we=q-we);let{translated:ye=0,lineClip:Me}=pe,Pe=we-ye;Me?.push(["L",ge,Math.abs(Pe)<re?we-re*(Pe<=0?-1:1):ye])};if(_.length&&(R||m)&&Se&&U(Se.min)){let pe=Se.getExtremes().max,ge=Me=>{Me.forEach((Pe,Re)=>{("M"===Pe[0]||"L"===Pe[0])&&(Me[Re]=[Pe[0],ie?q-Pe[1]:Pe[1],ie?Pe[2]:q-Pe[2]])})};if(_.forEach(Me=>{Me.lineClip=[],Me.translated=T(Se.toPixels(j(Me.value,pe),!0)||0,0,q)}),R&&!this.showLine&&R.hide(),m&&m.hide(),"y"===ae&&G.length<K.len)for(let Me of G){let{plotX:Pe,plotY:Re,zone:Fe}=Me,De=Fe&&_[_.indexOf(Fe)-1];Fe&&le(Fe,Pe,Re),De&&le(De,Pe,Re)}let we=[],ye=Se.toPixels(Se.getExtremes().min,!0);_.forEach(Me=>{let Pe=Me.lineClip||[],Re=Math.round(Me.translated||0);K.reversed&&Pe.reverse();let{clip:Fe,simpleClip:De}=Me,He=0,ze=0,Oe=K.len,it=oe.len;ie?(He=Re,Oe=ye):(ze=Re,it=ye);let ot=[["M",He,ze],["L",Oe,ze],["L",Oe,it],["L",He,it],["Z"]],rt=[ot[0],...Pe,ot[1],ot[2],...we,ot[3],ot[4]];we=Pe.reverse(),ye=Re,ue&&(ge(rt),m&&ge(ot)),Fe?(Fe.animate({d:rt}),De?.animate({d:ot})):(Fe=Me.clip=be.path(rt),m&&(De=Me.simpleClip=be.path(ot))),R&&Me.graph?.clip(Fe),m&&Me.area?.clip(De)})}else this.visible&&(R&&R.show(),m&&m.show())}plotGroup(m,F,R,_,G){let K=this[m],oe=!K,ae={visibility:R,zIndex:_||.1};return S(this.opacity)&&!this.chart.styledMode&&"inactive"!==this.state&&(ae.opacity=this.opacity),K||(this[m]=K=this.chart.renderer.g().add(G)),K.addClass("highcharts-"+F+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(S(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(K.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),K.attr(ae)[oe?"attr":"animate"](this.getPlotBox(F)),K}getPlotBox(m){let F=this.xAxis,R=this.yAxis,_=this.chart,G=_.inverted&&!_.polar&&F&&this.invertible&&"series"===m;return _.inverted&&(F=R,R=this.xAxis),{translateX:F?F.left:_.plotLeft,translateY:R?R.top:_.plotTop,rotation:G?90:0,rotationOriginX:G?(F.len-R.len)/2:0,rotationOriginY:G?(F.len+R.len)/2:0,scaleX:G?-1:1,scaleY:1}}removeEvents(m){let{eventsToUnbind:F}=this;m||J(this),F.length&&(F.forEach(R=>{R()}),F.length=0)}render(){let m=this,{chart:F,options:R,hasRendered:_}=m,G=L(R.animation),K=m.visible?"inherit":"hidden",oe=R.zIndex,ae=F.seriesGroup,ue=m.finishedAnimating?0:G.duration;d(this,"render"),m.plotGroup("group","series",K,oe,ae),m.markerGroup=m.plotGroup("markerGroup","markers",K,oe,ae),!1!==R.clip&&m.setClip(),ue&&m.animate?.(!0),m.drawGraph&&(m.drawGraph(),m.applyZones()),m.visible&&m.drawPoints(),m.drawDataLabels?.(),m.redrawPoints?.(),R.enableMouseTracking&&m.drawTracker?.(),ue&&m.animate?.(),_||(ue&&G.defer&&(ue+=G.defer),m.animationTimeout=w(()=>{m.afterAnimate()},ue||0)),m.isDirty=!1,m.hasRendered=!0,d(m,"afterRender")}redraw(){let m=this.isDirty||this.isDirtyData;this.translate(),this.render(),m&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(m,F){let{xAxis:R,yAxis:_}=this,G=this.chart.inverted;return this.searchKDTree({clientX:G?R.len-m.chartY+R.pos:m.chartX-R.pos,plotY:G?_.len-m.chartX+_.pos:m.chartY-_.pos},F,m)}buildKDTree(m){this.buildingKdTree=!0;let F=this,R=F.options.findNearestPointBy.indexOf("y")>-1?2:1;delete F.kdTree,w(function(){F.kdTree=function _(G,K,oe){let ae,ue,be=G?.length;if(be)return ae=F.kdAxisArray[K%oe],G.sort((Se,ie)=>(Se[ae]||0)-(ie[ae]||0)),{point:G[ue=Math.floor(be/2)],left:_(G.slice(0,ue),K+1,oe),right:_(G.slice(ue+1),K+1,oe)}}(F.getValidPoints(void 0,!F.directTouch),R,R),F.buildingKdTree=!1},F.options.kdNow||"touchstart"===m?.type?0:1)}searchKDTree(m,F,R){let _=this,[G,K]=this.kdAxisArray,oe=F?"distX":"dist",ae=(_.options.findNearestPointBy||"").indexOf("y")>-1?2:1,ue=!!_.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(R),this.kdTree)return function be(Se,ie,q,re){let ge,we,le=ie.point,pe=_.kdAxisArray[q%re],ye=le;!function(Fe,De){let He=Fe[G],ze=De[G],Oe=S(He)&&S(ze)?He-ze:null,it=Fe[K],ot=De[K],rt=S(it)&&S(ot)?it-ot:0,bt=ue&&De.marker?.radius||0;De.dist=Math.sqrt((Oe&&Oe*Oe||0)+rt*rt)-bt,De.distX=S(Oe)?Math.abs(Oe)-bt:Number.MAX_VALUE}(Se,le);let Me=(Se[pe]||0)-(le[pe]||0)+(ue&&le.marker?.radius||0),Pe=Me<0?"left":"right",Re=Me<0?"right":"left";return ie[Pe]&&(ye=(ge=be(Se,ie[Pe],q+1,re))[oe]<ye[oe]?ge:le),ie[Re]&&Math.sqrt(Me*Me)<ye[oe]&&(ye=(we=be(Se,ie[Re],q+1,re))[oe]<ye[oe]?we:ye),ye}(m,this.kdTree,ae,ae)}pointPlacementToXValue(){let{options:m,xAxis:F}=this,R=m.pointPlacement;return"between"===R&&(R=F.reversed?-.5:.5),U(R)?R*(m.pointRange||F.pointRange):0}isPointInside(m){let{chart:F,xAxis:R,yAxis:_}=this,{plotX:G=-1,plotY:K=-1}=m;return K>=0&&K<=(_?_.len:F.plotHeight)&&G>=0&&G<=(R?R.len:F.plotWidth)}drawTracker(){let m=this,F=m.options,R=F.trackByArea,_=[].concat((R?m.areaPath:m.graphPath)||[]),G=m.chart,K=G.pointer,oe=G.renderer,ae=G.options.tooltip?.snap||0,ue=()=>{F.enableMouseTracking&&G.hoverSeries!==m&&m.onMouseOver()},be="rgba(192,192,192,"+(C?1e-4:.002)+")",Se=m.tracker;Se?Se.attr({d:_}):m.graph&&(m.tracker=Se=oe.path(_).attr({visibility:m.visible?"inherit":"hidden",zIndex:2}).addClass(R?"highcharts-tracker-area":"highcharts-tracker-line").add(m.group),G.styledMode||Se.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:be,fill:R?be:"none","stroke-width":m.graph.strokeWidth()+(R?0:2*ae)}),[m.tracker,m.markerGroup,m.dataLabelsGroup].forEach(ie=>{ie&&(ie.addClass("highcharts-tracker").on("mouseover",ue).on("mouseout",q=>{K?.onTrackerMouseOut(q)}),F.cursor&&!G.styledMode&&ie.css({cursor:F.cursor}),ie.on("touchstart",ue))})),d(this,"afterDrawTracker")}addPoint(m,F,R,_,G){let K,oe,ae=this.options,ue=this.data,be=this.chart,Se=this.xAxis,ie=Se&&Se.hasNames&&Se.names,q=ae.data,re=this.xData;F=j(F,!0);let le={series:this};this.pointClass.prototype.applyOptions.apply(le,[m]);let pe=le.x;if(oe=re.length,this.requireSorting&&pe<re[oe-1])for(K=!0;oe&&re[oe-1]>pe;)oe--;this.updateParallelArrays(le,"splice",[oe,0,0]),this.updateParallelArrays(le,oe),ie&&le.name&&(ie[pe]=le.name),q.splice(oe,0,m),(K||this.processedData)&&(this.data.splice(oe,0,null),this.processData()),"point"===ae.legendType&&this.generatePoints(),R&&(ue[0]&&ue[0].remove?ue[0].remove(!1):(ue.shift(),this.updateParallelArrays(le,"shift"),q.shift())),!1!==G&&d(this,"addPoint",{point:le}),this.isDirty=!0,this.isDirtyData=!0,F&&be.redraw(_)}removePoint(m,F,R){let _=this,G=_.data,K=G[m],oe=_.points,ae=_.chart,ue=function(){oe&&oe.length===G.length&&oe.splice(m,1),G.splice(m,1),_.options.data.splice(m,1),_.updateParallelArrays(K||{series:_},"splice",[m,1]),K&&K.destroy(),_.isDirty=!0,_.isDirtyData=!0,F&&ae.redraw()};W(R,ae),F=j(F,!0),K?K.firePointEvent("remove",null,ue):ue()}remove(m,F,R,_){let G=this,K=G.chart;function oe(){G.destroy(_),K.isDirtyLegend=K.isDirtyBox=!0,K.linkSeries(_),j(m,!0)&&K.redraw(F)}!1!==R?d(G,"remove",null,oe):oe()}update(m,F){d(this,"update",{options:m=b(m,this.userOptions)});let Se,ie,R=this,_=R.chart,G=R.userOptions,K=R.initialType||R.type,oe=_.options.plotOptions,ae=D[K].prototype,ue=R.finishedAnimating&&{animation:!1},be={},q=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],re=m.type||G.type||_.options.chart.type,le=!(this.hasDerivedData||re&&re!==this.type||void 0!==m.pointStart||void 0!==m.pointInterval||void 0!==m.relativeXValue||m.joinBy||m.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(ge=>R.hasOptionChanged(ge)));re=re||K,le&&(q.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),!1!==m.visible&&q.push("area","graph"),R.parallelArrays.forEach(function(ge){q.push(ge+"Data")}),m.data&&(m.dataSorting&&o(R.options.dataSorting,m.dataSorting),this.setData(m.data,!1))),m=O(G,{index:void 0===G.index?R.index:G.index,pointStart:oe?.series?.pointStart??G.pointStart??R.xData?.[0]},!le&&{data:R.options.data},m,ue),le&&m.data&&(m.data=R.options.data),(q=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(q)).forEach(function(ge){q[ge]=R[ge],delete R[ge]});let pe=!1;if(D[re]){if(pe=re!==R.type,R.remove(!1,!1,!1,!0),pe)if(_.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(R,D[re].prototype);else{let ge=Object.hasOwnProperty.call(R,"hcEvents")&&R.hcEvents;for(ie in ae)R[ie]=void 0;o(R,D[re].prototype),ge?R.hcEvents=ge:delete R.hcEvents}}else n(17,!0,_,{missingModuleFor:re});if(q.forEach(function(ge){R[ge]=q[ge]}),R.init(_,m),le&&this.points)for(let ge of(!1===(Se=R.options).visible?(be.graphic=1,be.dataLabel=1):(this.hasMarkerChanged(Se,G)&&(be.graphic=1),R.hasDataLabels?.()||(be.dataLabel=1)),this.points))ge&&ge.series&&(ge.resolveColor(),Object.keys(be).length&&ge.destroyElements(be),!1===Se.showInLegend&&ge.legendItem&&_.legend.destroyItem(ge));R.initialType=K,_.linkSeries(),_.setSortedData(),pe&&R.linkedSeries.length&&(R.isDirtyData=!0),d(this,"afterUpdate"),j(F,!0)&&_.redraw(!!le&&void 0)}setName(m){this.name=this.options.name=this.userOptions.name=m,this.chart.isDirtyLegend=!0}hasOptionChanged(m){let R=this.options[m],_=this.chart.options.plotOptions,G=this.userOptions[m],K=j(_?.[this.type]?.[m],_?.series?.[m]);return G&&!S(K)?R!==G:R!==j(K,R)}onMouseOver(){let m=this.chart,F=m.hoverSeries;m.pointer?.setHoverChartIndex(),F&&F!==this&&F.onMouseOut(),this.options.events.mouseOver&&d(this,"mouseOver"),this.setState("hover"),m.hoverSeries=this}onMouseOut(){let m=this.options,F=this.chart,R=F.tooltip,_=F.hoverPoint;F.hoverSeries=null,_&&_.onMouseOut(),this&&m.events.mouseOut&&d(this,"mouseOut"),R&&!this.stickyTracking&&(!R.shared||this.noSharedTooltip)&&R.hide(),F.series.forEach(function(G){G.setState("",!0)})}setState(m,F){let R=this,_=R.options,G=R.graph,K=_.inactiveOtherPoints,oe=_.states,ae=j(oe[m||"normal"]&&oe[m||"normal"].animation,R.chart.options.chart.animation),ue=_.lineWidth,be=_.opacity;if(R.state!==(m=m||"")&&([R.group,R.markerGroup,R.dataLabelsGroup].forEach(function(Se){Se&&(R.state&&Se.removeClass("highcharts-series-"+R.state),m&&Se.addClass("highcharts-series-"+m))}),R.state=m,!R.chart.styledMode)){if(oe[m]&&!1===oe[m].enabled)return;if(m&&(ue=oe[m].lineWidth||ue+(oe[m].lineWidthPlus||0),be=j(oe[m].opacity,be)),G&&!G.dashstyle&&U(ue))for(let Se of[G,...this.zones.map(ie=>ie.graph)])Se?.animate({"stroke-width":ue},ae);K||[R.group,R.markerGroup,R.dataLabelsGroup,R.labelBySeries].forEach(function(Se){Se&&Se.animate({opacity:be},ae)})}F&&K&&R.points&&R.setAllPointsToState(m||void 0)}setAllPointsToState(m){this.points.forEach(function(F){F.setState&&F.setState(m)})}setVisible(m,F){let R=this,_=R.chart,G=_.options.chart.ignoreHiddenSeries;R.visible=m=R.options.visible=R.userOptions.visible=void 0===m?!R.visible:m;let oe=m?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(ae=>{R[ae]?.[oe]()}),(_.hoverSeries===R||_.hoverPoint?.series===R)&&R.onMouseOut(),R.legendItem&&_.legend.colorizeItem(R,m),R.isDirty=!0,R.options.stacking&&_.series.forEach(ae=>{ae.options.stacking&&ae.visible&&(ae.isDirty=!0)}),R.linkedSeries.forEach(ae=>{ae.setVisible(m,!1)}),G&&(_.isDirtyBox=!0),d(R,oe),!1!==F&&_.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(m){this.selected=m=this.options.selected=void 0===m?!this.selected:m,this.checkbox&&(this.checkbox.checked=m),d(this,m?"select":"unselect")}shouldShowTooltip(m,F,R={}){return R.series=this,R.visiblePlotOnly=!0,this.chart.isInsidePlot(m,F,R)}drawLegendSymbol(m,F){me[this.options.legendSymbol||"rectangle"]?.call(this,m,F)}}return E.defaultOptions=he,E.types=Q.seriesTypes,E.registerType=Q.registerSeriesType,o(E.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:de,requireSorting:!0,sorted:!0}),Q.series=E,E}),Ne(Y,"Core/Legend/Legend.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Series/Point.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){var te;let{animObject:ee,setAnimation:L}=Z,{registerEventOptions:W}=ce,{composed:N,marginNames:I}=xe,{distribute:C}=de,{format:A}=he,{addEvent:D,createElement:P,css:v,defined:T,discardElement:H,find:B,fireEvent:S,isNumber:p,merge:b,pick:l,pushUnique:n,relativeLength:o,stableSort:h,syncTimeout:d}=Q;class c{constructor(u,M){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=u,this.setOptions(M),M.enabled&&(this.render(),W(this,M),D(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),D(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(u){let M=l(u.padding,8);this.options=u,this.chart.styledMode||(this.itemStyle=u.itemStyle,this.itemHiddenStyle=b(this.itemStyle,u.itemHiddenStyle)),this.itemMarginTop=u.itemMarginTop,this.itemMarginBottom=u.itemMarginBottom,this.padding=M,this.initialItemY=M-5,this.symbolWidth=l(u.symbolWidth,16),this.pages=[],this.proximate="proximate"===u.layout&&!this.chart.inverted,this.baseline=void 0}update(u,M){let U=this.chart;this.setOptions(b(!0,this.options,u)),"events"in this.options&&W(this,this.options),this.destroy(),U.isDirtyLegend=U.isDirtyBox=!0,l(M,!0)&&U.redraw(),S(this,"afterUpdate",{redraw:M})}colorizeItem(u,M){let{area:U,group:x,label:O,line:z,symbol:j}=u.legendItem||{};if(x?.[M?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:J={}}=this,y=J.color,{fillColor:w,fillOpacity:E,lineColor:X,marker:m}=u.options,F=R=>(!M&&(R.fill&&(R.fill=y),R.stroke&&(R.stroke=y)),R);O?.css(b(M?this.itemStyle:J)),z?.attr(F({stroke:X||u.color})),j&&j.attr(F(m&&j.isMarker?u.pointAttribs():{fill:u.color})),U?.attr(F({fill:w||u.color,"fill-opacity":w?1:E??.75}))}S(this,"afterColorizeItem",{item:u,visible:M})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(u){let{group:M,x:U=0,y:x=0}=u.legendItem||{},O=this.options,J=u.checkbox;if(M&&M.element){let y={translateX:O.rtl?this.legendWidth-U-2*O.symbolPadding-4:U,translateY:x};M[T(M.translateY)?"animate":"attr"](y,void 0,()=>{S(this,"afterPositionItem",{item:u})})}J&&(J.x=U,J.y=x)}destroyItem(u){let M=u.checkbox,U=u.legendItem||{};for(let x of["group","label","line","symbol"])U[x]&&(U[x]=U[x].destroy());M&&H(M),u.legendItem=void 0}destroy(){for(let u of this.getAllItems())this.destroyItem(u);for(let u of["clipRect","up","down","pager","nav","box","title","group"])this[u]&&(this[u]=this[u].destroy());this.display=null}positionCheckboxes(){let u,M=this.group&&this.group.alignAttr,U=this.clipHeight||this.legendHeight,x=this.titleHeight;M&&(u=M.translateY,this.allItems.forEach(function(O){let z,j=O.checkbox;j&&(z=u+x+j.y+(this.scrollOffset||0)+3,v(j,{left:M.translateX+O.checkboxOffset+j.x-20+"px",top:z+"px",display:this.proximate||z>u-6&&z<u+U-6?"":"none"}))},this))}renderTitle(){let x,u=this.options,M=this.padding,U=u.title,O=0;U.text&&(this.title||(this.title=this.chart.renderer.label(U.text,M-3,M-4,void 0,void 0,void 0,u.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(U.style),this.title.add(this.group)),U.width||this.title.css({width:this.maxLegendWidth+"px"}),O=(x=this.title.getBBox()).height,this.offsetWidth=x.width,this.contentGroup.attr({translateY:O})),this.titleHeight=O}setText(u){let M=this.options;u.legendItem.label.attr({text:M.labelFormat?A(M.labelFormat,u,this.chart):M.labelFormatter.call(u)})}renderItem(u){let M=u.legendItem=u.legendItem||{},U=this.chart,x=U.renderer,O=this.options,j=this.symbolWidth,J=O.symbolPadding||0,y=this.itemStyle,w=this.itemHiddenStyle,E="horizontal"===O.layout?l(O.itemDistance,20):0,X=!O.rtl,m=!u.series,F=!m&&u.series.drawLegendSymbol?u.series:u,R=F.options,_=!!this.createCheckboxForItem&&R&&R.showCheckbox,G=O.useHTML,K=u.options.className,oe=M.label,ae=j+J+E+(_?20:0);!oe&&(M.group=x.g("legend-item").addClass("highcharts-"+F.type+"-series highcharts-color-"+u.colorIndex+(K?" "+K:"")+(m?" highcharts-series-"+u.index:"")).attr({zIndex:1}).add(this.scrollGroup),M.label=oe=x.text("",X?j+J:-J,this.baseline||0,G),U.styledMode||oe.css(b(u.visible?y:w)),oe.attr({align:X?"left":"right",zIndex:2}).add(M.group),!this.baseline&&(this.fontMetrics=x.fontMetrics(oe),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,oe.attr("y",this.baseline),this.symbolHeight=l(O.symbolHeight,this.fontMetrics.f),O.squareSymbol&&(this.symbolWidth=l(O.symbolWidth,Math.max(this.symbolHeight,16)),ae=this.symbolWidth+J+E+(_?20:0),X&&oe.attr("x",this.symbolWidth+J))),F.drawLegendSymbol(this,u),this.setItemEvents&&this.setItemEvents(u,oe,G)),_&&!u.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(u),this.colorizeItem(u,u.visible),(U.styledMode||!y.width)&&oe.css({width:(O.itemWidth||this.widthOption||U.spacingBox.width)-ae+"px"}),this.setText(u);let ue=oe.getBBox(),be=this.fontMetrics&&this.fontMetrics.h||0;u.itemWidth=u.checkboxOffset=O.itemWidth||M.labelWidth||ue.width+ae,this.maxItemWidth=Math.max(this.maxItemWidth,u.itemWidth),this.totalItemWidth+=u.itemWidth,this.itemHeight=u.itemHeight=Math.round(M.labelHeight||(ue.height>1.5*be?ue.height:be))}layoutItem(u){let M=this.options,U=this.padding,x="horizontal"===M.layout,O=u.itemHeight,z=this.itemMarginBottom,j=this.itemMarginTop,J=x?l(M.itemDistance,20):0,y=this.maxLegendWidth,w=M.alignColumns&&this.totalItemWidth>y?this.maxItemWidth:u.itemWidth,E=u.legendItem||{};x&&this.itemX-U+w>y&&(this.itemX=U,this.lastLineHeight&&(this.itemY+=j+this.lastLineHeight+z),this.lastLineHeight=0),this.lastItemY=j+this.itemY+z,this.lastLineHeight=Math.max(O,this.lastLineHeight),E.x=this.itemX,E.y=this.itemY,x?this.itemX+=w:(this.itemY+=j+O+z,this.lastLineHeight=O),this.offsetWidth=this.widthOption||Math.max((x?this.itemX-U-(u.checkbox?0:J):w)+U,this.offsetWidth)}getAllItems(){let u=[];return this.chart.series.forEach(function(M){let U=M&&M.options;M&&l(U.showInLegend,!T(U.linkedTo)&&void 0,!0)&&(u=u.concat((M.legendItem||{}).labels||("point"===U.legendType?M.data:M)))}),S(this,"afterGetAllItems",{allItems:u}),u}getAlignment(){let u=this.options;return this.proximate?u.align.charAt(0)+"tv":u.floating?"":u.align.charAt(0)+u.verticalAlign.charAt(0)+u.layout.charAt(0)}adjustMargins(u,M){let U=this.chart,x=this.options,O=this.getAlignment();O&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(z,j){z.test(O)&&!T(u[j])&&(U[I[j]]=Math.max(U[I[j]],U.legend[(j+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][j]*x[j%2?"x":"y"]+l(x.margin,12)+M[j]+(U.titleOffset[j]||0)))})}proximatePositions(){let u,M=this.chart,U=[],x="left"===this.options.align;for(let O of(this.allItems.forEach(function(z){let j,J,w,E,y=x;z.yAxis&&(z.xAxis.options.reversed&&(y=!y),z.points&&(j=B(y?z.points:z.points.slice(0).reverse(),function(X){return p(X.plotY)})),J=this.itemMarginTop+z.legendItem.label.getBBox().height+this.itemMarginBottom,E=z.yAxis.top-M.plotTop,w=z.visible?(j?j.plotY:z.yAxis.height)+(E-.3*J):E+z.yAxis.height,U.push({target:w,size:J,item:z}))},this),C(U,M.plotHeight)))u=O.item.legendItem||{},p(O.pos)&&(u.y=M.plotTop-M.spacing[0]+O.pos)}render(){let z,j,J,w,u=this.chart,M=u.renderer,U=this.options,x=this.padding,O=this.getAllItems(),y=this.group,E=this.box;this.itemX=x,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=o(U.width,u.spacingBox.width-x),w=u.spacingBox.width-2*x-U.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(w/=2),this.maxLegendWidth=this.widthOption||w,y||(this.group=y=M.g("legend").addClass(U.className||"").attr({zIndex:7}).add(),this.contentGroup=M.g().attr({zIndex:1}).add(y),this.scrollGroup=M.g().add(this.contentGroup)),this.renderTitle(),h(O,(X,m)=>(X.options&&X.options.legendIndex||0)-(m.options&&m.options.legendIndex||0)),U.reversed&&O.reverse(),this.allItems=O,this.display=z=!!O.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,O.forEach(this.renderItem,this),O.forEach(this.layoutItem,this),j=(this.widthOption||this.offsetWidth)+x,J=this.lastItemY+this.lastLineHeight+this.titleHeight,J=this.handleOverflow(J)+x,E||(this.box=E=M.rect().addClass("highcharts-legend-box").attr({r:U.borderRadius}).add(y)),u.styledMode||E.attr({stroke:U.borderColor,"stroke-width":U.borderWidth||0,fill:U.backgroundColor||"none"}).shadow(U.shadow),j>0&&J>0&&E[E.placed?"animate":"attr"](E.crisp.call({},{x:0,y:0,width:j,height:J},E.strokeWidth())),y[z?"show":"hide"](),u.styledMode&&"none"===y.getStyle("display")&&(j=J=0),this.legendWidth=j,this.legendHeight=J,z&&this.align(),this.proximate||this.positionItems(),S(this,"afterRender")}align(u=this.chart.spacingBox){let M=this.chart,U=this.options,x=u.y;/(lth|ct|rth)/.test(this.getAlignment())&&M.titleOffset[0]>0?x+=M.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&M.titleOffset[2]>0&&(x-=M.titleOffset[2]),x!==u.y&&(u=b(u,{y:x})),M.hasRendered||(this.group.placed=!1),this.group.align(b(U,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":U.verticalAlign}),!0,u)}handleOverflow(u){let G,K,oe,M=this,U=this.chart,x=U.renderer,O=this.options,z=O.y,j="top"===O.verticalAlign,J=this.padding,y=O.maxHeight,w=O.navigation,E=l(w.animation,!0),X=w.arrowSize||12,m=this.pages,F=this.allItems,R=function(Se){"number"==typeof Se?be.attr({height:Se}):be&&(M.clipRect=be.destroy(),M.contentGroup.clip()),M.contentGroup.div&&(M.contentGroup.div.style.clip=Se?"rect("+J+"px,9999px,"+(J+Se)+"px,0)":"auto")},_=function(Se){return M[Se]=x.circle(0,0,1.3*X).translate(X/2,X/2).add(ue),U.styledMode||M[Se].attr("fill","rgba(0,0,0,0.0001)"),M[Se]},ae=U.spacingBox.height+(j?-z:z)-J,ue=this.nav,be=this.clipRect;return"horizontal"!==O.layout||"middle"===O.verticalAlign||O.floating||(ae/=2),y&&(ae=Math.min(ae,y)),m.length=0,u&&ae>0&&u>ae&&!1!==w.enabled?(this.clipHeight=G=Math.max(ae-20-this.titleHeight-J,0),this.currentPage=l(this.currentPage,1),this.fullHeight=u,F.forEach((Se,ie)=>{let q=(oe=Se.legendItem||{}).y||0,re=Math.round(oe.label.getBBox().height),le=m.length;(!le||q-m[le-1]>G&&(K||q)!==m[le-1])&&(m.push(K||q),le++),oe.pageIx=le-1,K&&((F[ie-1].legendItem||{}).pageIx=le-1),ie===F.length-1&&q+re-m[le-1]>G&&q>m[le-1]&&(m.push(q),oe.pageIx=le),q!==K&&(K=q)}),be||(be=M.clipRect=x.clipRect(0,J-2,9999,0),M.contentGroup.clip(be)),R(G),ue||(this.nav=ue=x.g().attr({zIndex:1}).add(this.group),this.up=x.symbol("triangle",0,0,X,X).add(ue),_("upTracker").on("click",function(){M.scroll(-1,E)}),this.pager=x.text("",15,10).addClass("highcharts-legend-navigation"),!U.styledMode&&w.style&&this.pager.css(w.style),this.pager.add(ue),this.down=x.symbol("triangle-down",0,0,X,X).add(ue),_("downTracker").on("click",function(){M.scroll(1,E)})),M.scroll(0),u=ae):ue&&(R(),this.nav=ue.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),u}scroll(u,M){let U=this.chart,x=this.pages,O=x.length,z=this.clipHeight,j=this.options.navigation,J=this.pager,y=this.padding,w=this.currentPage+u;w>O&&(w=O),w>0&&(void 0!==M&&L(M,U),this.nav.attr({translateX:y,translateY:z+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(E){E.attr({class:1===w?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),J.attr({text:w+"/"+O}),[this.down,this.downTracker].forEach(function(E){E.attr({x:18+this.pager.getBBox().width,class:w===O?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),U.styledMode||(this.up.attr({fill:1===w?j.inactiveColor:j.activeColor}),this.upTracker.css({cursor:1===w?"default":"pointer"}),this.down.attr({fill:w===O?j.inactiveColor:j.activeColor}),this.downTracker.css({cursor:w===O?"default":"pointer"})),this.scrollOffset=-x[w-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=w,this.positionCheckboxes(),d(()=>{S(this,"afterScroll",{currentPage:w})},ee(l(M,U.renderer.globalAnimation,!0)).duration))}setItemEvents(u,M,U){let x=this,O=u.legendItem||{},z=x.chart.renderer.boxWrapper,j=u instanceof me,J=u instanceof ve,y="highcharts-legend-"+(j?"point":"series")+"-active",w=x.chart.styledMode,E=U?[M,O.symbol]:[O.group],X=m=>{x.allItems.forEach(F=>{u!==F&&[F].concat(F.linkedSeries||[]).forEach(R=>{R.setState(m,!j)})})};for(let m of E)m&&m.on("mouseover",function(){u.visible&&X("inactive"),u.setState("hover"),u.visible&&z.addClass(y),w||M.css(x.options.itemHoverStyle)}).on("mouseout",function(){x.chart.styledMode||M.css(b(u.visible?x.itemStyle:x.itemHiddenStyle)),X(""),z.removeClass(y),u.setState()}).on("click",function(F){z.removeClass(y),S(x,"itemClick",{browserEvent:F,legendItem:u},function(){u.setVisible&&u.setVisible(),X(u.visible?"inactive":"")}),j?u.firePointEvent("legendItemClick",{browserEvent:F}):J&&S(u,"legendItemClick",{browserEvent:F})})}createCheckboxForItem(u){u.checkbox=P("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:u.selected,defaultChecked:u.selected},this.options.itemCheckboxStyle,this.chart.container),D(u.checkbox,"click",function(M){S(u.series||u,"checkboxClick",{checked:M.target.checked,item:u},function(){u.select()})})}}return(te=c||(c={})).compose=function(f){n(N,"Core.Legend")&&D(f,"beforeMargins",function(){this.legend=new te(this,this.options.legend)})},c}),Ne(Y,"Core/Chart/Chart.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/Axis.js"],Y["Core/Defaults.js"],Y["Core/Templating.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Time.js"],Y["Core/Utilities.js"],Y["Core/Renderer/HTML/AST.js"],Y["Core/Axis/Tick.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee,L,W,N,I){let{animate:C,animObject:A,setAnimation:D}=Z,{defaultOptions:P,defaultTime:v}=xe,{numberFormat:T}=ve,{registerEventOptions:H}=me,{charts:B,doc:S,marginNames:p,svg:b,win:l}=de,{seriesTypes:n}=te,{addEvent:o,attr:h,createElement:d,css:c,defined:f,diffObjects:u,discardElement:M,erase:U,error:x,extend:O,find:z,fireEvent:j,getStyle:J,isArray:y,isNumber:w,isObject:E,isString:X,merge:m,objectEach:F,pick:R,pInt:_,relativeLength:G,removeEvent:K,splat:oe,syncTimeout:ae,uniqueKey:ue}=W;class be{static chart(ie,q,re){return new be(ie,q,re)}constructor(ie,q,re){this.sharedClips={};let le=[...arguments];(X(ie)||ie.nodeName)&&(this.renderTo=le.shift()),this.init(le[0],le[1])}setZoomOptions(){let ie=this.options.chart,q=ie.zooming;this.zooming={...q,type:R(ie.zoomType,q.type),key:R(ie.zoomKey,q.key),pinchType:R(ie.pinchType,q.pinchType),singleTouch:R(ie.zoomBySingleTouch,q.singleTouch,!1),resetButton:m(q.resetButton,ie.resetZoomButton)}}init(ie,q){j(this,"init",{args:arguments},function(){let re=m(P,ie),le=re.chart;this.userOptions=O({},ie),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=q,this.isResizing=0,this.options=re,this.axes=[],this.series=[],this.time=ie.time&&Object.keys(ie.time).length?new L(ie.time):de.time,this.numberFormatter=le.numberFormatter||T,this.styledMode=le.styledMode,this.hasCartesianSeries=le.showAxes,this.index=B.length,B.push(this),de.chartCount++,H(this,le),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),j(this,"afterInit"),this.firstRender()})}initSeries(ie){let re=ie.type||this.options.chart.type,le=n[re];le||x(17,!0,this,{missingModuleFor:re});let pe=new le;return"function"==typeof pe.init&&pe.init(this,ie),pe}setSortedData(){this.getSeriesOrderByLinks().forEach(function(ie){ie.points||ie.data||!ie.enabledDataSorting||ie.setData(ie.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(ie,q){return ie.linkedSeries.length||q.linkedSeries.length?q.linkedSeries.length-ie.linkedSeries.length:0})}orderItems(ie,q=0){let re=this[ie],le=this.options[ie]=oe(this.options[ie]).slice(),pe=this.userOptions[ie]=this.userOptions[ie]?oe(this.userOptions[ie]).slice():[];if(this.hasRendered&&(le.splice(q),pe.splice(q)),re)for(let ge=q,we=re.length;ge<we;++ge){let ye=re[ge];ye&&(ye.index=ge,ye instanceof Q&&(ye.name=ye.getName()),ye.options.isInternal||(le[ge]=ye.options,pe[ge]=ye.userOptions))}}isInsidePlot(ie,q,re={}){let{inverted:le,plotBox:pe,plotLeft:ge,plotTop:we,scrollablePlotBox:ye}=this,{scrollLeft:Me=0,scrollTop:Pe=0}=re.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},Re=re.series,Fe=re.visiblePlotOnly&&ye||pe,De=re.inverted?q:ie,He=re.inverted?ie:q,ze={x:De,y:He,isInsidePlot:!0,options:re};if(!re.ignoreX){let Oe=Re&&(le&&!this.polar?Re.yAxis:Re.xAxis)||{pos:ge,len:1/0},it=re.paneCoordinates?Oe.pos+De:ge+De;it>=Math.max(Me+ge,Oe.pos)&&it<=Math.min(Me+ge+Fe.width,Oe.pos+Oe.len)||(ze.isInsidePlot=!1)}if(!re.ignoreY&&ze.isInsidePlot){let Oe=!le&&re.axis&&!re.axis.isXAxis&&re.axis||Re&&(le?Re.xAxis:Re.yAxis)||{pos:we,len:1/0},it=re.paneCoordinates?Oe.pos+He:we+He;it>=Math.max(Pe+we,Oe.pos)&&it<=Math.min(Pe+we+Fe.height,Oe.pos+Oe.len)||(ze.isInsidePlot=!1)}return j(this,"afterIsInsidePlot",ze),ze.isInsidePlot}redraw(ie){j(this,"beforeRedraw");let Pe,Re,Fe,ze,q=this.hasCartesianSeries?this.axes:this.colorAxis||[],re=this.series,le=this.pointer,pe=this.legend,ge=this.userOptions.legend,we=this.renderer,ye=we.isHidden(),Me=[],De=this.isDirtyBox,He=this.isDirtyLegend;for(we.rootFontSize=we.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),D(!!this.hasRendered&&ie,this),ye&&this.temporaryDisplay(),this.layOutTitles(!1),Fe=re.length;Fe--;)if(((ze=re[Fe]).options.stacking||ze.options.centerInCategory)&&(Re=!0,ze.isDirty)){Pe=!0;break}if(Pe)for(Fe=re.length;Fe--;)(ze=re[Fe]).options.stacking&&(ze.isDirty=!0);re.forEach(function(Oe){Oe.isDirty&&("point"===Oe.options.legendType?("function"==typeof Oe.updateTotals&&Oe.updateTotals(),He=!0):ge&&(ge.labelFormatter||ge.labelFormat)&&(He=!0)),Oe.isDirtyData&&j(Oe,"updatedData")}),He&&pe&&pe.options.enabled&&(pe.render(),this.isDirtyLegend=!1),Re&&this.getStacks(),q.forEach(function(Oe){Oe.updateNames(),Oe.setScale()}),this.getMargins(),q.forEach(function(Oe){Oe.isDirty&&(De=!0)}),q.forEach(function(Oe){let it=Oe.min+","+Oe.max;Oe.extKey!==it&&(Oe.extKey=it,Me.push(function(){j(Oe,"afterSetExtremes",O(Oe.eventArgs,Oe.getExtremes())),delete Oe.eventArgs})),(De||Re)&&Oe.redraw()}),De&&this.drawChartBox(),j(this,"predraw"),re.forEach(function(Oe){(De||Oe.isDirty)&&Oe.visible&&Oe.redraw(),Oe.isDirtyData=!1}),le&&le.reset(!0),we.draw(),j(this,"redraw"),j(this,"render"),ye&&this.temporaryDisplay(!0),Me.forEach(function(Oe){Oe.call()})}get(ie){let q=this.series;function re(pe){return pe.id===ie||pe.options&&pe.options.id===ie}let le=z(this.axes,re)||z(this.series,re);for(let pe=0;!le&&pe<q.length;pe++)le=z(q[pe].points||[],re);return le}getAxes(){let ie=this.userOptions;for(let q of(j(this,"getAxes"),["xAxis","yAxis"]))for(let re of ie[q]=oe(ie[q]||{}))new ce(this,re,q);j(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((ie,q)=>(q.getPointsCollection().forEach(re=>{R(re.selectedStaging,re.selected)&&ie.push(re)}),ie),[])}getSelectedSeries(){return this.series.filter(function(ie){return ie.selected})}setTitle(ie,q,re){this.applyDescription("title",ie),this.applyDescription("subtitle",q),this.applyDescription("caption",void 0),this.layOutTitles(re)}applyDescription(ie,q){let re=this,le=this.options[ie]=m(this.options[ie],q),pe=this[ie];pe&&q&&(this[ie]=pe=pe.destroy()),le&&!pe&&((pe=this.renderer.text(le.text,0,0,le.useHTML).attr({align:le.align,class:"highcharts-"+ie,zIndex:le.zIndex||4}).add()).update=function(ge,we){re.applyDescription(ie,ge),re.layOutTitles(we)},this.styledMode||pe.css(O("title"===ie?{fontSize:this.options.isStock?"1em":"1.2em"}:{},le.style)),this[ie]=pe)}layOutTitles(ie=!0){let q=[0,0,0],re=this.renderer,le=this.spacingBox;["title","subtitle","caption"].forEach(function(ge){let we=this[ge],ye=this.options[ge],Me=ye.verticalAlign||"top",Pe="title"===ge?"top"===Me?-3:0:"top"===Me?q[0]+2:0;if(we){we.css({width:(ye.width||le.width+(ye.widthAdjust||0))+"px"});let Re=re.fontMetrics(we).b,Fe=Math.round(we.getBBox(ye.useHTML).height);we.align(O({y:"bottom"===Me?Re:Pe+Re,height:Fe},ye),!1,"spacingBox"),ye.floating||("top"===Me?q[0]=Math.ceil(q[0]+Fe):"bottom"===Me&&(q[2]=Math.ceil(q[2]+Fe)))}},this),q[0]&&"top"===(this.options.title.verticalAlign||"top")&&(q[0]+=this.options.title.margin),q[2]&&"bottom"===this.options.caption.verticalAlign&&(q[2]+=this.options.caption.margin);let pe=!this.titleOffset||this.titleOffset.join(",")!==q.join(",");this.titleOffset=q,j(this,"afterLayOutTitles"),!this.isDirtyBox&&pe&&(this.isDirtyBox=this.isDirtyLegend=pe,this.hasRendered&&ie&&this.isDirtyBox&&this.redraw())}getContainerBox(){let ie=[].map.call(this.renderTo.children,re=>{if(re!==this.container){let le=re.style.display;return re.style.display="none",[re,le]}}),q={width:J(this.renderTo,"width",!0)||0,height:J(this.renderTo,"height",!0)||0};return ie.filter(Boolean).forEach(([re,le])=>{re.style.display=le}),q}getChartSize(){let ie=this.options.chart,q=ie.width,re=ie.height,le=this.getContainerBox(),pe=le.height>1&&!(!this.renderTo.parentElement?.style.height&&"100%"===this.renderTo.style.height);this.chartWidth=Math.max(0,q||le.width||600),this.chartHeight=Math.max(0,G(re,this.chartWidth)||(pe?le.height:400)),this.containerBox=le}temporaryDisplay(ie){let re,q=this.renderTo;if(ie)for(;q&&q.style;)q.hcOrigStyle&&(c(q,q.hcOrigStyle),delete q.hcOrigStyle),q.hcOrigDetached&&(S.body.removeChild(q),q.hcOrigDetached=!1),q=q.parentNode;else for(;q&&q.style&&(S.body.contains(q)||q.parentNode||(q.hcOrigDetached=!0,S.body.appendChild(q)),("none"===J(q,"display",!1)||q.hcOricDetached)&&(q.hcOrigStyle={display:q.style.display,height:q.style.height,overflow:q.style.overflow},re={display:"block",overflow:"hidden"},q!==this.renderTo&&(re.height=0),c(q,re),q.offsetWidth||q.style.setProperty("display","block","important")),(q=q.parentNode)!==S.body););}setClassName(ie){this.container.className="highcharts-container "+(ie||"")}getContainer(){let pe,ie=this.options,q=ie.chart,re="data-highcharts-chart",le=ue(),ge=this.renderTo;ge||(this.renderTo=ge=q.renderTo),X(ge)&&(this.renderTo=ge=S.getElementById(ge)),ge||x(13,!0,this);let we=_(h(ge,re));w(we)&&B[we]&&B[we].hasRendered&&B[we].destroy(),h(ge,re,this.index),ge.innerHTML=N.emptyHTML,q.skipClone||ge.offsetWidth||this.temporaryDisplay(),this.getChartSize();let ye=this.chartHeight,Me=this.chartWidth;c(ge,{overflow:"hidden"}),this.styledMode||(pe=O({position:"relative",overflow:"hidden",width:Me+"px",height:ye+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},q.style||{}));let Pe=d("div",{id:le},pe,ge);this.container=Pe,this.getChartSize(),Me===this.chartWidth||(Me=this.chartWidth,this.styledMode||c(Pe,{width:R(q.style?.width,Me+"px")})),this.containerBox=this.getContainerBox(),this._cursor=Pe.style.cursor;let Re=q.renderer||!b?he.getRendererType(q.renderer):ee;if(this.renderer=new Re(Pe,Me,ye,void 0,q.forExport,ie.exporting&&ie.exporting.allowHTML,this.styledMode),D(void 0,this),this.setClassName(q.className),this.styledMode)for(let Fe in ie.defs)this.renderer.definition(ie.defs[Fe]);else this.renderer.setStyle(q.style);this.renderer.chartIndex=this.index,j(this,"afterGetContainer")}getMargins(ie){let{spacing:q,margin:re,titleOffset:le}=this;this.resetMargins(),le[0]&&!f(re[0])&&(this.plotTop=Math.max(this.plotTop,le[0]+q[0])),le[2]&&!f(re[2])&&(this.marginBottom=Math.max(this.marginBottom,le[2]+q[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(re,q),j(this,"getMargins"),ie||this.getAxisMargins()}getAxisMargins(){let ie=this,q=ie.axisOffset=[0,0,0,0],re=ie.colorAxis,le=ie.margin,pe=function(ge){ge.forEach(function(we){we.visible&&we.getOffset()})};ie.hasCartesianSeries?pe(ie.axes):re&&re.length&&pe(re),p.forEach(function(ge,we){f(le[we])||(ie[ge]+=q[we])}),ie.setChartSize()}getOptions(){return u(this.userOptions,P)}reflow(ie){let q=this,re=q.containerBox,le=q.getContainerBox();delete q.pointer?.chartPosition,!q.isPrinting&&!q.isResizing&&re&&le.width&&((le.width!==re.width||le.height!==re.height)&&(W.clearTimeout(q.reflowTimeout),q.reflowTimeout=ae(function(){q.container&&q.setSize(void 0,void 0,!1)},ie?100:0)),q.containerBox=le)}setReflow(){let ie=this,q=re=>{ie.options?.chart.reflow&&ie.hasLoaded&&ie.reflow(re)};if("function"==typeof ResizeObserver)new ResizeObserver(q).observe(ie.renderTo);else{let re=o(l,"resize",q);o(this,"destroy",re)}}setSize(ie,q,re){let le=this,pe=le.renderer;le.isResizing+=1,D(re,le);let ge=pe.globalAnimation;le.oldChartHeight=le.chartHeight,le.oldChartWidth=le.chartWidth,void 0!==ie&&(le.options.chart.width=ie),void 0!==q&&(le.options.chart.height=q),le.getChartSize();let{chartWidth:we,chartHeight:ye,scrollablePixelsX:Me=0,scrollablePixelsY:Pe=0}=le;(le.isDirtyBox||we!==le.oldChartWidth||ye!==le.oldChartHeight)&&(le.styledMode||(ge?C:c)(le.container,{width:`${we+Me}px`,height:`${ye+Pe}px`},ge),le.setChartSize(!0),pe.setSize(we,ye,ge),le.axes.forEach(function(Re){Re.isDirty=!0,Re.setScale()}),le.isDirtyLegend=!0,le.isDirtyBox=!0,le.layOutTitles(),le.getMargins(),le.redraw(ge),le.oldChartHeight=void 0,j(le,"resize"),setTimeout(()=>{le&&j(le,"endResize")},A(ge).duration)),le.isResizing-=1}setChartSize(ie){let q,re,le,pe,{chartHeight:ge,chartWidth:we,inverted:ye,spacing:Me,renderer:Pe}=this,Re=this.clipOffset,Fe=Math[ye?"floor":"round"];this.plotLeft=q=Math.round(this.plotLeft),this.plotTop=re=Math.round(this.plotTop),this.plotWidth=le=Math.max(0,Math.round(we-q-this.marginRight)),this.plotHeight=pe=Math.max(0,Math.round(ge-re-this.marginBottom)),this.plotSizeX=ye?pe:le,this.plotSizeY=ye?le:pe,this.spacingBox=Pe.spacingBox={x:Me[3],y:Me[0],width:we-Me[3]-Me[1],height:ge-Me[0]-Me[2]},this.plotBox=Pe.plotBox={x:q,y:re,width:le,height:pe},Re&&(this.clipBox={x:Fe(Re[3]),y:Fe(Re[0]),width:Fe(this.plotSizeX-Re[1]-Re[3]),height:Fe(this.plotSizeY-Re[0]-Re[2])}),ie||(this.axes.forEach(function(De){De.setAxisSize(),De.setAxisTranslation()}),Pe.alignElements()),j(this,"afterSetChartSize",{skipAxes:ie})}resetMargins(){j(this,"resetMargins");let ie=this,q=ie.options.chart,re=q.plotBorderWidth||0,le=re/2;["margin","spacing"].forEach(function(pe){let ge=q[pe],we=E(ge)?ge:[ge,ge,ge,ge];["Top","Right","Bottom","Left"].forEach(function(ye,Me){ie[pe][Me]=R(q[pe+ye],we[Me])})}),p.forEach(function(pe,ge){ie[pe]=R(ie.margin[ge],ie.spacing[ge])}),ie.axisOffset=[0,0,0,0],ie.clipOffset=[le,le,le,le],ie.plotBorderWidth=re}drawChartBox(){let bt,Ht,zt,ie=this.options.chart,q=this.renderer,re=this.chartWidth,le=this.chartHeight,pe=this.styledMode,ge=this.plotBGImage,we=ie.backgroundColor,ye=ie.plotBackgroundColor,Me=ie.plotBackgroundImage,Pe=this.plotLeft,Re=this.plotTop,Fe=this.plotWidth,De=this.plotHeight,He=this.plotBox,ze=this.clipRect,Oe=this.clipBox,it=this.chartBackground,ot=this.plotBackground,rt=this.plotBorder,yt="animate";it||(this.chartBackground=it=q.rect().addClass("highcharts-background").add(),yt="attr"),pe?bt=Ht=it.strokeWidth():(Ht=(bt=ie.borderWidth||0)+(ie.shadow?8:0),zt={fill:we||"none"},(bt||it["stroke-width"])&&(zt.stroke=ie.borderColor,zt["stroke-width"]=bt),it.attr(zt).shadow(ie.shadow)),it[yt]({x:Ht/2,y:Ht/2,width:re-Ht-bt%2,height:le-Ht-bt%2,r:ie.borderRadius}),yt="animate",ot||(yt="attr",this.plotBackground=ot=q.rect().addClass("highcharts-plot-background").add()),ot[yt](He),!pe&&(ot.attr({fill:ye||"none"}).shadow(ie.plotShadow),Me&&(ge?(Me!==ge.attr("href")&&ge.attr("href",Me),ge.animate(He)):this.plotBGImage=q.image(Me,Pe,Re,Fe,De).add())),ze?ze.animate({width:Oe.width,height:Oe.height}):this.clipRect=q.clipRect(Oe),yt="animate",rt||(yt="attr",this.plotBorder=rt=q.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),pe||rt.attr({stroke:ie.plotBorderColor,"stroke-width":ie.plotBorderWidth||0,fill:"none"}),rt[yt](rt.crisp({x:Pe,y:Re,width:Fe,height:De},-rt.strokeWidth())),this.isDirtyBox=!1,j(this,"afterDrawChartBox")}propFromSeries(){let ie,q,re,le=this,pe=le.options.chart,ge=le.options.series;["inverted","angular","polar"].forEach(function(we){for(q=n[pe.type],re=pe[we]||q&&q.prototype[we],ie=ge&&ge.length;!re&&ie--;)(q=n[ge[ie].type])&&q.prototype[we]&&(re=!0);le[we]=re})}linkSeries(ie){let q=this,re=q.series;re.forEach(function(le){le.linkedSeries.length=0}),re.forEach(function(le){let{linkedTo:pe}=le.options;if(X(pe)){let ge;(ge=":previous"===pe?q.series[le.index-1]:q.get(pe))&&ge.linkedParent!==le&&(ge.linkedSeries.push(le),le.linkedParent=ge,ge.enabledDataSorting&&le.setDataSortingOptions(),le.visible=R(le.options.visible,ge.options.visible,le.visible))}}),j(this,"afterLinkSeries",{isUpdating:ie})}renderSeries(){this.series.forEach(function(ie){ie.translate(),ie.render()})}render(){let ye,ie=this.axes,q=this.colorAxis,re=this.renderer,le=this.options.chart.axisLayoutRuns||2,pe=Pe=>{Pe.forEach(Re=>{Re.visible&&Re.render()})},ge=0,we=!0,Me=0;for(let Pe of(this.setTitle(),j(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),ie)){let{options:Re}=Pe,{labels:Fe}=Re;if(this.hasCartesianSeries&&Pe.horiz&&Pe.visible&&Fe.enabled&&Pe.series.length&&"colorAxis"!==Pe.coll&&!this.polar){ge=Re.tickLength,Pe.createGroups();let De=new I(Pe,0,"",!0),He=De.createLabel("x",Fe);if(De.destroy(),He&&R(Fe.reserveSpace,!w(Re.crossing))&&(ge=He.getBBox().height+Fe.distance+Math.max(Re.offset||0,0)),ge){He?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-ge,0);(we||ye||le>1)&&Me<le;){let Pe=this.plotWidth,Re=this.plotHeight;for(let Fe of ie)0===Me?Fe.setScale():(Fe.horiz&&we||!Fe.horiz&&ye)&&Fe.setTickInterval(!0);0===Me?this.getAxisMargins():this.getMargins(),we=Pe/this.plotWidth>(Me?1:1.1),ye=Re/this.plotHeight>(Me?1:1.05),Me++}this.drawChartBox(),this.hasCartesianSeries?pe(ie):q&&q.length&&pe(q),this.seriesGroup||(this.seriesGroup=re.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(ie){let q=this,re=m(!0,this.options.credits,ie);re.enabled&&!this.credits&&(this.credits=this.renderer.text(re.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){re.href&&(l.location.href=re.href)}).attr({align:re.position.align,zIndex:8}),q.styledMode||this.credits.css(re.style),this.credits.add().align(re.position),this.credits.update=function(le){q.credits=q.credits.destroy(),q.addCredits(le)})}destroy(){let ie,q=this,re=q.axes,le=q.series,pe=q.container,ge=pe&&pe.parentNode;for(j(q,"destroy"),q.renderer.forExport?U(B,q):B[q.index]=void 0,de.chartCount--,q.renderTo.removeAttribute("data-highcharts-chart"),K(q),ie=re.length;ie--;)re[ie]=re[ie].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ie=le.length;ie--;)le[ie]=le[ie].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(we){let ye=q[we];ye&&ye.destroy&&(q[we]=ye.destroy())}),pe&&(pe.innerHTML=N.emptyHTML,K(pe),ge&&M(pe)),F(q,function(we,ye){delete q[ye]})}firstRender(){let ie=this,q=ie.options;ie.getContainer(),ie.resetMargins(),ie.setChartSize(),ie.propFromSeries(),ie.getAxes();let re=y(q.series)?q.series:[];q.series=[],re.forEach(function(le){ie.initSeries(le)}),ie.linkSeries(),ie.setSortedData(),j(ie,"beforeRender"),ie.render(),ie.pointer?.getChartPosition(),ie.renderer.imgCount||ie.hasLoaded||ie.onload(),ie.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(ie){ie&&void 0!==this.index&&ie.apply(this,[this])},this),j(this,"load"),j(this,"render"),f(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:ie,title:q}=this;!ie||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(q&&q.element.textContent||"").replace(/</g,"&lt;")}),ie.accessibility&&!1===ie.accessibility.enabled||x('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(ie,q,re){let le,pe=this;return ie&&(q=R(q,!0),j(pe,"addSeries",{options:ie},function(){le=pe.initSeries(ie),pe.isDirtyLegend=!0,pe.linkSeries(),le.enabledDataSorting&&le.setData(ie.data,!1),j(pe,"afterAddSeries",{series:le}),q&&pe.redraw(re)})),le}addAxis(ie,q,re,le){return this.createAxis(q?"xAxis":"yAxis",{axis:ie,redraw:re,animation:le})}addColorAxis(ie,q,re){return this.createAxis("colorAxis",{axis:ie,redraw:q,animation:re})}createAxis(ie,q){let re=new ce(this,q.axis,ie);return R(q.redraw,!0)&&this.redraw(q.animation),re}showLoading(ie){let q=this,re=q.options,le=re.loading,pe=function(){ge&&c(ge,{left:q.plotLeft+"px",top:q.plotTop+"px",width:q.plotWidth+"px",height:q.plotHeight+"px"})},ge=q.loadingDiv,we=q.loadingSpan;ge||(q.loadingDiv=ge=d("div",{className:"highcharts-loading highcharts-loading-hidden"},null,q.container)),we||(q.loadingSpan=we=d("span",{className:"highcharts-loading-inner"},null,ge),o(q,"redraw",pe)),ge.className="highcharts-loading",N.setElementHTML(we,R(ie,re.lang.loading,"")),q.styledMode||(c(ge,O(le.style,{zIndex:10})),c(we,le.labelStyle),q.loadingShown||(c(ge,{opacity:0,display:""}),C(ge,{opacity:le.style.opacity||.5},{duration:le.showDuration||0}))),q.loadingShown=!0,pe()}hideLoading(){let ie=this.options,q=this.loadingDiv;q&&(q.className="highcharts-loading highcharts-loading-hidden",this.styledMode||C(q,{opacity:0},{duration:ie.loading.hideDuration||100,complete:function(){c(q,{display:"none"})}})),this.loadingShown=!1}update(ie,q,re,le){let pe,ge,we,ye=this,Me={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Pe=ie.isResponsiveOptions,Re=[];j(ye,"update",{options:ie}),Pe||ye.setResponsive(!1,!0),ie=u(ie,ye.options),ye.userOptions=m(ye.userOptions,ie);let Fe=ie.chart;Fe&&(m(!0,ye.options.chart,Fe),this.setZoomOptions(),"className"in Fe&&ye.setClassName(Fe.className),("inverted"in Fe||"polar"in Fe||"type"in Fe)&&(ye.propFromSeries(),pe=!0),"alignTicks"in Fe&&(pe=!0),"events"in Fe&&H(this,Fe),F(Fe,function(ze,Oe){-1!==ye.propsRequireUpdateSeries.indexOf("chart."+Oe)&&(ge=!0),-1!==ye.propsRequireDirtyBox.indexOf(Oe)&&(ye.isDirtyBox=!0),-1===ye.propsRequireReflow.indexOf(Oe)||(ye.isDirtyBox=!0,Pe||(we=!0))}),!ye.styledMode&&Fe.style&&ye.renderer.setStyle(ye.options.chart.style||{})),!ye.styledMode&&ie.colors&&(this.options.colors=ie.colors),ie.time&&(this.time===v&&(this.time=new L(ie.time)),m(!0,ye.options.time,ie.time)),F(ie,function(ze,Oe){ye[Oe]&&"function"==typeof ye[Oe].update?ye[Oe].update(ze,!1):"function"==typeof ye[Me[Oe]]?ye[Me[Oe]](ze):"colors"!==Oe&&-1===ye.collectionsWithUpdate.indexOf(Oe)&&m(!0,ye.options[Oe],ie[Oe]),"chart"!==Oe&&-1!==ye.propsRequireUpdateSeries.indexOf(Oe)&&(ge=!0)}),this.collectionsWithUpdate.forEach(function(ze){ie[ze]&&(oe(ie[ze]).forEach(function(Oe,it){let ot,rt=f(Oe.id);rt&&(ot=ye.get(Oe.id)),!ot&&ye[ze]&&(ot=ye[ze][R(Oe.index,it)])&&(rt&&f(ot.options.id)||ot.options.isInternal)&&(ot=void 0),ot&&ot.coll===ze&&(ot.update(Oe,!1),re&&(ot.touched=!0)),!ot&&re&&ye.collectionsWithInit[ze]&&(ye.collectionsWithInit[ze][0].apply(ye,[Oe].concat(ye.collectionsWithInit[ze][1]||[]).concat([!1])).touched=!0)}),re&&ye[ze].forEach(function(Oe){Oe.touched||Oe.options.isInternal?delete Oe.touched:Re.push(Oe)}))}),Re.forEach(function(ze){ze.chart&&ze.remove&&ze.remove(!1)}),pe&&ye.axes.forEach(function(ze){ze.update({},!1)}),ge&&ye.getSeriesOrderByLinks().forEach(function(ze){ze.chart&&ze.update({},!1)},this);let De=Fe&&Fe.width,He=Fe&&(X(Fe.height)?G(Fe.height,De||ye.chartWidth):Fe.height);we||w(De)&&De!==ye.chartWidth||w(He)&&He!==ye.chartHeight?ye.setSize(De,He,le):R(q,!0)&&ye.redraw(le),j(ye,"afterUpdate",{options:ie,redraw:q,animation:le})}setSubtitle(ie,q){this.applyDescription("subtitle",ie),this.layOutTitles(q)}setCaption(ie,q){this.applyDescription("caption",ie),this.layOutTitles(q)}showResetZoom(){let ie=this,q=P.lang,re=ie.zooming.resetButton,le=re.theme,pe="chart"===re.relativeTo||"spacingBox"===re.relativeTo?null:"plotBox";function ge(){ie.zoomOut()}j(this,"beforeShowResetZoom",null,function(){ie.resetZoomButton=ie.renderer.button(q.resetZoom,null,null,ge,le).attr({align:re.position.align,title:q.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(re.position,!1,pe)}),j(this,"afterShowResetZoom")}zoomOut(){j(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(ie,q){let re=this,le="object"==typeof q?q:{enabled:q,type:"x"},pe=le.type,ge=pe&&re[{x:"xAxis",xy:"axes",y:"yAxis"}[pe]].filter(ye=>ye.options.panningEnabled&&!ye.options.isInternal),we=re.options.chart;we?.panning&&(we.panning=le),j(this,"pan",{originalEvent:ie},()=>{re.transform({axes:ge,event:ie,to:{x:ie.chartX-(re.mouseDownX||0),y:ie.chartY-(re.mouseDownY||0)},trigger:"pan"}),c(re.container,{cursor:"move"})})}transform(ie){let Re,Fe,{axes:q=this.axes,event:re,from:le={},reset:pe,selection:ge,to:we={},trigger:ye}=ie,{inverted:Me}=this,Pe=!1;for(let De of(this.hoverPoints?.forEach(He=>He.setState()),q)){let{horiz:He,len:ze,minPointOffset:Oe=0,options:it,reversed:ot}=De,rt=He?"width":"height",bt=He?"x":"y",Ht=R(we[rt],De.len),zt=R(le[rt],De.len),yt=10>Math.abs(Ht)?1:Ht/zt,hi=(le[bt]||0)+zt/2-De.pos,Zt=hi-((we[bt]??De.pos)+Ht/2-De.pos)/yt,Ei=ot&&!Me||!ot&&Me?-1:1;if(!pe&&(hi<0||hi>De.len))continue;let _t=De.toValue(Zt,!0)+(ge||De.isOrdinal?0:Oe*Ei),Ut=De.toValue(Zt+ze/yt,!0)-(ge||De.isOrdinal?0:Oe*Ei||0),si=De.allExtremes;if(_t>Ut&&([_t,Ut]=[Ut,_t]),1===yt&&!pe&&"yAxis"===De.coll&&!si){for(let Ks of De.series){let Ni=Ks.getExtremes(Ks.getProcessedData(!0).yData,!0);si??(si={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),w(Ni.dataMin)&&w(Ni.dataMax)&&(si.dataMin=Math.min(Ni.dataMin,si.dataMin),si.dataMax=Math.max(Ni.dataMax,si.dataMax))}De.allExtremes=si}let{dataMin:Wr,dataMax:jr,min:cs,max:ss}=O(De.getExtremes(),si||{}),Ys=Wr??it.min,$s=jr??it.max,Fi=Ut-_t,zs=De.categories?0:Math.min(Fi,$s-Ys),ds=Ys-zs*(f(it.min)?0:it.minPadding),us=$s+zs*(f(it.max)?0:it.maxPadding),_s=De.allowZoomOutside||1===yt||"zoom"!==ye&&yt>1,Bi=Math.min(it.min??ds,ds,_s?cs:ds),Vi=Math.max(it.max??us,us,_s?ss:us);(!De.isOrdinal||De.options.overscroll||1!==yt||pe)&&(_t<Bi&&(_t=Bi,yt>=1&&(Ut=_t+Fi)),Ut>Vi&&(Ut=Vi,yt>=1&&(_t=Ut-Fi)),(pe||De.series.length&&(_t!==cs||Ut!==ss)&&_t>=Bi&&Ut<=Vi)&&(ge?ge[De.coll].push({axis:De,min:_t,max:Ut}):(De.isPanning="zoom"!==ye,De.isPanning&&(Fe=!0),De.setExtremes(pe?void 0:_t,pe?void 0:Ut,!1,!1,{move:Zt,trigger:ye,scale:yt}),!pe&&(_t>Bi||Ut<Vi)&&"mousewheel"!==ye&&(Re=!0)),Pe=!0),re&&(this[He?"mouseDownX":"mouseDownY"]=re[He?"chartX":"chartY"]))}return Pe&&(ge?j(this,"selection",ge,()=>{delete ie.selection,ie.trigger="zoom",this.transform(ie)}):(!Re||Fe||this.resetZoomButton?!Re&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw("zoom"===ye&&(this.options.chart.animation??this.pointCount<100)))),Pe}}return O(be.prototype,{callbacks:[],collectionsWithInit:{xAxis:[be.prototype.addAxis,[!0]],yAxis:[be.prototype.addAxis,[!1]],series:[be.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),be}),Ne(Y,"Extensions/ScrollablePlotArea.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{stop:me}=Z,{composed:de}=ce,{addEvent:he,createElement:Q,css:te,defined:ee,merge:L,pushUnique:W}=ve;function N(){let A=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!A&&(this.scrollablePlotArea=A=new C(this)),A?.applyFixed()}function I(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class C{static compose(D,P,v){W(de,this.compose)&&(he(D,"afterInit",I),he(P,"afterSetChartSize",T=>this.afterSetSize(T.target,T)),he(P,"render",N),he(v,"show",I))}static afterSetSize(D,P){let v,T,H,{minWidth:B,minHeight:S}=D.options.chart.scrollablePlotArea||{},{clipBox:p,plotBox:b,inverted:l,renderer:n}=D;if(!n.forExport&&(B?(D.scrollablePixelsX=v=Math.max(0,B-D.chartWidth),v&&(D.scrollablePlotBox=L(D.plotBox),b.width=D.plotWidth+=v,p[l?"height":"width"]+=v,H=!0)):S&&(D.scrollablePixelsY=T=Math.max(0,S-D.chartHeight),ee(T)&&(D.scrollablePlotBox=L(D.plotBox),b.height=D.plotHeight+=T,p[l?"width":"height"]+=T,H=!1)),ee(H)&&!P.skipAxes))for(let o of D.axes)o.horiz===H&&(o.setAxisSize(),o.setAxisTranslation())}constructor(D){let P,v=D.options.chart,T=xe.getRendererType(),H=v.scrollablePlotArea||{},B=this.moveFixedElements.bind(this),S={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};D.scrollablePixelsX&&(S.overflowX="auto"),D.scrollablePixelsY&&(S.overflowY="auto"),this.chart=D;let p=this.parentDiv=Q("div",{className:"highcharts-scrolling-parent"},{position:"relative"},D.renderTo),b=this.scrollingContainer=Q("div",{className:"highcharts-scrolling"},S,p),l=this.innerContainer=Q("div",{className:"highcharts-inner-container"},void 0,b),n=this.fixedDiv=Q("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(v.style?.zIndex||0)+2,top:0},void 0,!0),o=this.fixedRenderer=new T(n,D.chartWidth,D.chartHeight,v.style);this.mask=o.path().attr({fill:v.backgroundColor||"#fff","fill-opacity":H.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),b.parentNode.insertBefore(n,b),te(D.renderTo,{overflow:"visible"}),he(D,"afterShowResetZoom",B),he(D,"afterApplyDrilldown",B),he(D,"afterLayOutTitles",B),he(b,"scroll",()=>{let{pointer:h,hoverPoint:d}=D;h&&(delete h.chartPosition,d&&(P=d),h.runPointActions(void 0,P,!0))}),l.appendChild(D.container)}applyFixed(){let{chart:D,fixedRenderer:P,isDirty:v,scrollingContainer:T}=this,{axisOffset:H,chartWidth:B,chartHeight:S,container:p,plotHeight:b,plotLeft:l,plotTop:n,plotWidth:o,scrollablePixelsX:h=0,scrollablePixelsY:d=0}=D,{scrollPositionX:c=0,scrollPositionY:f=0}=D.options.chart.scrollablePlotArea||{},u=B+h,M=S+d;P.setSize(B,S),(v??!0)&&(this.isDirty=!1,this.moveFixedElements()),me(D.container),te(p,{width:`${u}px`,height:`${M}px`}),D.renderer.boxWrapper.attr({width:u,height:M,viewBox:[0,0,u,M].join(" ")}),D.chartBackground?.attr({width:u,height:M}),te(T,{width:`${B}px`,height:`${S}px`}),ee(v)||(T.scrollLeft=h*c,T.scrollTop=d*f);let U=n-H[0]-1,x=l-H[3]-1,O=n+b+H[2]+1,z=l+o+H[1]+1,j=l+o-h,J=n+b-d,y=[["M",0,0]];h?y=[["M",0,U],["L",l-1,U],["L",l-1,O],["L",0,O],["Z"],["M",j,U],["L",B,U],["L",B,O],["L",j,O],["Z"]]:d&&(y=[["M",x,0],["L",x,n-1],["L",z,n-1],["L",z,0],["Z"],["M",x,J],["L",x,S],["L",z,S],["L",z,J],["Z"]]),"adjustHeight"!==D.redrawTrigger&&this.mask.attr({d:y})}moveFixedElements(){let D,{container:P,inverted:v,scrollablePixelsX:T,scrollablePixelsY:H}=this.chart,B=this.fixedRenderer,S=C.fixedSelectors;for(let p of(T&&!v?D=".highcharts-yaxis":T&&v||H&&!v?D=".highcharts-xaxis":H&&v&&(D=".highcharts-yaxis"),D&&S.push(`${D}:not(.highcharts-radial-axis)`,`${D}-labels:not(.highcharts-radial-axis-labels)`),S))[].forEach.call(P.querySelectorAll(p),b=>{(b.namespaceURI===B.SVG_NS?B.box:B.box.parentNode).appendChild(b),b.style.pointerEvents="auto"})}}return C.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],C}),Ne(Y,"Core/Axis/Stacking/StackItem.js",[Y["Core/Templating.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{format:ve}=Z,{series:me}=ce,{destroyObjectProperties:de,fireEvent:he,isNumber:Q,pick:te}=xe;return class{constructor(ee,L,W,N,I){let C=ee.chart.inverted,A=ee.reversed;this.axis=ee;let D=this.isNegative=!!W!=!!A;this.options=L=L||{},this.x=N,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=I,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:L.align||(C?D?"left":"right":"center"),verticalAlign:L.verticalAlign||(C?"middle":D?"bottom":"top"),y:L.y,x:L.x},this.textAlign=L.textAlign||(C?D?"right":"left":"center")}destroy(){de(this,this.axis)}render(ee){let L=this.axis.chart,W=this.options,N=W.format,I=N?ve(N,this,L):W.formatter.call(this);if(this.label)this.label.attr({text:I,visibility:"hidden"});else{this.label=L.renderer.label(I,null,void 0,W.shape,void 0,void 0,W.useHTML,!1,"stack-labels");let C={r:W.borderRadius||0,text:I,padding:te(W.padding,5),visibility:"hidden"};L.styledMode||(C.fill=W.backgroundColor,C.stroke=W.borderColor,C["stroke-width"]=W.borderWidth,this.label.css(W.style||{})),this.label.attr(C),this.label.added||this.label.add(ee)}this.label.labelrank=L.plotSizeY,he(this,"afterRender")}setOffset(ee,L,W,N,I,C){let{alignOptions:A,axis:D,label:P,options:v,textAlign:T}=this,H=D.chart,B=this.getStackBox({xOffset:ee,width:L,boxBottom:W,boxTop:N,defaultX:I,xAxis:C}),{verticalAlign:S}=A;if(P&&B){let n,p=P.getBBox(void 0,0),b=P.padding,l="justify"===te(v.overflow,"justify");A.x=v.x||0,A.y=v.y||0;let{x:o,y:h}=this.adjustStackPosition({labelBox:p,verticalAlign:S,textAlign:T});B.x-=o,B.y-=h,P.align(A,!1,B),(n=H.isInsidePlot(P.alignAttr.x+A.x+o,P.alignAttr.y+A.y+h))||(l=!1),l&&me.prototype.justifyDataLabel.call(D,P,A,P.alignAttr,p,B),P.attr({x:P.alignAttr.x,y:P.alignAttr.y,rotation:v.rotation,rotationOriginX:p.width*{left:0,center:.5,right:1}[v.textAlign||"center"],rotationOriginY:p.height/2}),te(!l&&v.crop,!0)&&(n=Q(P.x)&&Q(P.y)&&H.isInsidePlot(P.x-b+(P.width||0),P.y)&&H.isInsidePlot(P.x+b,P.y)),P[n?"show":"hide"]()}he(this,"afterSetOffset",{xOffset:ee,width:L})}adjustStackPosition({labelBox:ee,verticalAlign:L,textAlign:W}){let N={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:ee.width/2+ee.width/2*N[W],y:ee.height/2*N[L]}}getStackBox(ee){let L=this.axis,W=L.chart,{boxTop:N,defaultX:I,xOffset:C,width:A,boxBottom:D}=ee,P=L.stacking.usePercentage?100:te(N,this.total,0),v=L.toPixels(P),T=ee.xAxis||W.xAxis[0],H=te(I,T.translate(this.x))+C,B=Math.abs(v-L.toPixels(D||Q(L.min)&&L.logarithmic&&L.logarithmic.lin2log(L.min)||0)),p=this.isNegative;return W.inverted?{x:(p?v:v-B)-W.plotLeft,y:T.height-H-A+T.top-W.plotTop,width:B,height:A}:{x:H+T.transB-W.plotLeft,y:(p?v-B:v)-W.plotTop,width:A,height:B}}}}),Ne(Y,"Core/Axis/Stacking/StackingAxis.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/Axis.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Axis/Stacking/StackItem.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){var de;let{getDeferredAnimation:he}=Z,{series:{prototype:Q}}=xe,{addEvent:te,correctFloat:ee,defined:L,destroyObjectProperties:W,fireEvent:N,isArray:I,isNumber:C,objectEach:A,pick:D}=me;function P(){let n=this.inverted;this.axes.forEach(o=>{o.stacking&&o.stacking.stacks&&o.hasVisibleSeries&&(o.stacking.oldStacks=o.stacking.stacks)}),this.series.forEach(o=>{let h=o.xAxis&&o.xAxis.options||{};o.options.stacking&&o.reserveSpace()&&(o.stackKey=[o.type,D(o.options.stack,""),n?h.top:h.left,n?h.height:h.width].join(","))})}function v(){let n=this.stacking;if(n){let o=n.stacks;A(o,(h,d)=>{W(h),delete o[d]}),n.stackTotalGroup?.destroy()}}function T(){this.stacking||(this.stacking=new l(this))}function H(n,o,h,d){return!L(n)||n.x!==o||d&&n.stackKey!==d?n={x:o,index:0,key:d,stackKey:d}:n.index++,n.key=[h,o,n.index].join(","),n}function B(){let n,o=this,d=o.stackKey||"",c=o.yAxis.stacking.stacks,f=o.processedXData,M=o[o.options.stacking+"Stacker"];M&&[d,"-"+d].forEach(U=>{let O,z,j,x=f.length;for(;x--;)O=f[x],n=o.getStackIndicator(n,O,o.index,U),z=c[U]?.[O],(j=z?.points[n.key||""])&&M.call(o,j,z,x)})}function S(n,o,h){let d=o.total?100/o.total:0;n[0]=ee(n[0]*d),n[1]=ee(n[1]*d),this.stackedYData[h]=n[1]}function p(n){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?Q.setStackedPoints.call(this,n,"group"):n.stacking.resetStacks())}function b(n,o){let h,d,c,f,u,M,U,x,O,z=o||this.options.stacking;if(!z||!this.reserveSpace()||({group:"xAxis"}[z]||"yAxis")!==n.coll)return;let j=this.processedXData,J=this.processedYData,y=[],w=J.length,E=this.options,X=E.threshold||0,m=E.startFromThreshold?X:0,F=E.stack,R=o?`${this.type},${z}`:this.stackKey||"",_="-"+R,G=this.negStacks,K=n.stacking,oe=K.stacks,ae=K.oldStacks;for(K.stacksTouched+=1,U=0;U<w;U++){x=j[U],O=J[U],M=(h=this.getStackIndicator(h,x,this.index)).key||"",oe[u=(d=G&&O<(m?0:X))?_:R]||(oe[u]={}),oe[u][x]||(ae[u]?.[x]?(oe[u][x]=ae[u][x],oe[u][x].total=null):oe[u][x]=new ve(n,n.options.stackLabels,!!d,x,F)),c=oe[u][x],null!==O?(c.points[M]=c.points[this.index]=[D(c.cumulative,m)],L(c.cumulative)||(c.base=M),c.touched=K.stacksTouched,h.index>0&&!1===this.singleStacks&&(c.points[M][0]=c.points[this.index+","+x+",0"][0])):(delete c.points[M],delete c.points[this.index]);let ue=c.total||0;"percent"===z?(f=d?R:_,ue=G&&oe[f]?.[x]?(f=oe[f][x]).total=Math.max(f.total||0,ue)+Math.abs(O)||0:ee(ue+(Math.abs(O)||0))):"group"===z?(I(O)&&(O=O[0]),null!==O&&ue++):ue=ee(ue+(O||0)),c.cumulative="group"===z?(ue||1)-1:ee(D(c.cumulative,m)+(O||0)),c.total=ue,null!==O&&(c.points[M].push(c.cumulative),y[U]=c.cumulative,c.hasValidPoints=!0)}"percent"===z&&(K.usePercentage=!0),"group"!==z&&(this.stackedYData=y),K.oldStacks={}}class l{constructor(o){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=o}buildStacks(){let o,h,d=this.axis,c=d.series,f="xAxis"===d.coll,u=d.options.reversedStacks,M=c.length;for(this.resetStacks(),this.usePercentage=!1,h=M;h--;)o=c[u?h:M-h-1],f&&o.setGroupedPoints(d),o.setStackedPoints(d);if(!f)for(h=0;h<M;h++)c[h].modifyStacks();N(d,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,A(this.stacks,o=>{A(o,h=>{h.cumulative=h.total})}))}resetStacks(){A(this.stacks,o=>{A(o,(h,d)=>{C(h.touched)&&h.touched<this.stacksTouched?(h.destroy(),delete o[d]):(h.total=null,h.cumulative=null)})})}renderStackTotals(){let o=this.axis,h=o.chart,d=h.renderer,c=this.stacks,f=he(h,o.options.stackLabels?.animation||!1),u=this.stackTotalGroup=this.stackTotalGroup||d.g("stack-labels").attr({zIndex:6,opacity:0}).add();u.translate(h.plotLeft,h.plotTop),A(c,M=>{A(M,U=>{U.render(u)})}),u.animate({opacity:1},f)}}return(de||(de={})).compose=function(n,o,h){let d=o.prototype,c=h.prototype;d.getStacks||(te(n,"init",T),te(n,"destroy",v),d.getStacks=P,c.getStackIndicator=H,c.modifyStacks=B,c.percentStacker=S,c.setGroupedPoints=p,c.setStackedPoints=b)},de}),Ne(Y,"Series/Line/LineSeries.js",[Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{defined:ve,merge:me,isObject:de}=xe;class he extends Z{drawGraph(){let te=this.options,ee=(this.gappedPath||this.getGraphPath).call(this),L=this.chart.styledMode;[this,...this.zones].forEach((W,N)=>{let I,C=W.graph,A=C?"animate":"attr",D=W.dashStyle||te.dashStyle;C?(C.endX=this.preventGraphAnimation?null:ee.xMap,C.animate({d:ee})):ee.length&&(W.graph=C=this.chart.renderer.path(ee).addClass("highcharts-graph"+(N?` highcharts-zone-graph-${N-1} `:" ")+(N&&W.className||"")).attr({zIndex:1}).add(this.group)),C&&!L&&(I={stroke:!N&&te.lineColor||W.color||this.color||"#cccccc","stroke-width":te.lineWidth||0,fill:this.fillGraph&&this.color||"none"},D?I.dashstyle=D:"square"!==te.linecap&&(I["stroke-linecap"]=I["stroke-linejoin"]="round"),C[A](I).shadow(N<2&&te.shadow&&me({filterUnits:"userSpaceOnUse"},de(te.shadow)?te.shadow:{}))),C&&(C.startX=ee.xMap,C.isArea=ee.isArea)})}getGraphPath(te,ee,L){let A,W=this,N=W.options,I=[],C=[],D=N.step,P=(te=te||W.points).reversed;return P&&te.reverse(),(D={right:1,center:2}[D]||D&&3)&&P&&(D=4-D),(te=this.getValidPoints(te,!1,!(N.connectNulls&&!ee&&!L))).forEach(function(v,T){let H,B=v.plotX,S=v.plotY,p=te[T-1],b=v.isNull||"number"!=typeof S;(v.leftCliff||p&&p.rightCliff)&&!L&&(A=!0),b&&!ve(ee)&&T>0?A=!N.connectNulls:b&&!ee?A=!0:(0===T||A?H=[["M",v.plotX,v.plotY]]:W.getPointSpline?H=[W.getPointSpline(te,v,T)]:D?(H=1===D?[["L",p.plotX,S]]:2===D?[["L",(p.plotX+B)/2,p.plotY],["L",(p.plotX+B)/2,S]]:[["L",B,p.plotY]]).push(["L",B,S]):H=[["L",B,S]],C.push(v.x),D&&(C.push(v.x),2===D&&C.push(v.x)),I.push.apply(I,H),A=!1)}),I.xMap=C,W.graphPath=I,I}}return he.defaultOptions=me(Z.defaultOptions,{legendSymbol:"lineMarker"}),ce.registerSeriesType("line",he),he}),Ne(Y,"Series/Area/AreaSeriesDefaults.js",[],function(){return{threshold:0,legendSymbol:"areaMarker"}}),Ne(Y,"Series/Area/AreaSeries.js",[Y["Series/Area/AreaSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{seriesTypes:{line:ve}}=ce,{extend:me,merge:de,objectEach:he,pick:Q}=xe;class te extends ve{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:L,options:W}=this;[this,...this.zones].forEach((N,I)=>{let C={},A=N.fillColor||W.fillColor,D=N.area,P=D?"animate":"attr";D?(D.endX=this.preventGraphAnimation?null:L.xMap,D.animate({d:L})):(C.zIndex=0,(D=N.area=this.chart.renderer.path(L).addClass("highcharts-area"+(I?` highcharts-zone-area-${I-1} `:" ")+(I&&N.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(C.fill=A||N.color||this.color,C["fill-opacity"]=A?1:W.fillOpacity??.75,D.css({pointerEvents:this.stickyTracking?"none":"auto"})),D[P](C),D.startX=L.xMap,D.shiftUnit=W.step?2:1})}getGraphPath(L){let W,N,I,C=ve.prototype.getGraphPath,A=this.options,D=A.stacking,P=this.yAxis,v=[],T=[],H=this.index,B=P.stacking.stacks[this.stackKey],S=A.threshold,p=Math.round(P.getThreshold(A.threshold)),b=Q(A.connectNulls,"percent"===D),l=function(f,u,M){let j,J,U=L[f],x=D&&B[U.x].points[H],O=U[M+"Null"]||0,z=U[M+"Cliff"]||0,y=!0;z||O?(j=(O?x[0]:x[1])+z,J=x[0]+z,y=!!O):!D&&L[u]&&L[u].isNull&&(j=J=S),void 0!==j&&(T.push({plotX:W,plotY:null===j?p:P.getThreshold(j),isNull:y,isCliff:!0}),v.push({plotX:W,plotY:null===J?p:P.getThreshold(J),doCurve:!1}))};L=L||this.points,D&&(L=this.getStackPoints(L));for(let f=0,u=L.length;f<u;++f)D||(L[f].leftCliff=L[f].rightCliff=L[f].leftNull=L[f].rightNull=void 0),N=L[f].isNull,W=Q(L[f].rectPlotX,L[f].plotX),I=D?Q(L[f].yBottom,p):p,N&&!b||(b||l(f,f-1,"left"),N&&!D&&b||(T.push(L[f]),v.push({x:f,plotX:W,plotY:I})),b||l(f,f+1,"right"));let n=C.call(this,T,!0,!0);v.reversed=!0;let o=C.call(this,v,!0,!0),h=o[0];h&&"M"===h[0]&&(o[0]=["L",h[1],h[2]]);let d=n.concat(o);d.length&&d.push(["Z"]);let c=C.call(this,T,!1,b);return this.chart.series.length>1&&D&&T.some(f=>f.isCliff)&&(d.hasStackedCliffs=c.hasStackedCliffs=!0),d.xMap=n.xMap,this.areaPath=d,c}getStackPoints(L){let W=this,N=[],I=[],C=this.xAxis,A=this.yAxis,D=A.stacking.stacks[this.stackKey],P={},v=A.series,T=v.length,H=A.options.reversedStacks?1:-1,B=v.indexOf(W);if(L=L||this.points,this.options.stacking){for(let p=0;p<L.length;p++)L[p].leftNull=L[p].rightNull=void 0,P[L[p].x]=L[p];he(D,function(p,b){null!==p.total&&I.push(b)}),I.sort(function(p,b){return p-b});let S=v.map(p=>p.visible);I.forEach(function(p,b){let n,o,l=0;if(P[p]&&!P[p].isNull)N.push(P[p]),[-1,1].forEach(function(h){let d=1===h?"rightNull":"leftNull",c=D[I[b+h]],f=0;if(c){let u=B;for(;u>=0&&u<T;){let M=v[u].index;!(n=c.points[M])&&(M===W.index?P[p][d]=!0:S[u]&&(o=D[p].points[M])&&(f-=o[1]-o[0])),u+=H}}P[p][1===h?"rightCliff":"leftCliff"]=f});else{let h=B;for(;h>=0&&h<T;){if(n=D[p].points[v[h].index]){l=n[1];break}h+=H}l=Q(l,0),l=A.translate(l,0,1,0,1),N.push({isNull:!0,plotX:C.translate(p,0,0,0,1),x:p,plotY:l,yBottom:l})}})}return N}}return te.defaultOptions=de(ve.defaultOptions,Z),me(te.prototype,{singleStacks:!1}),ce.registerSeriesType("area",te),te}),Ne(Y,"Series/Spline/SplineSeries.js",[Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce){let{line:xe}=Z.seriesTypes,{merge:ve,pick:me}=ce;class de extends xe{getPointSpline(Q,te,ee){let L,W,N,I,C=te.plotX||0,A=te.plotY||0,D=Q[ee-1],P=Q[ee+1];function v(H){return H&&!H.isNull&&!1!==H.doCurve&&!te.isCliff}if(v(D)&&v(P)){let B=D.plotY||0,p=P.plotY||0,b=0;L=(1.5*C+(D.plotX||0))/2.5,W=(1.5*A+B)/2.5,N=(1.5*C+(P.plotX||0))/2.5,I=(1.5*A+p)/2.5,N!==L&&(b=(I-W)*(N-C)/(N-L)+A-I),W+=b,I+=b,W>B&&W>A?(W=Math.max(B,A),I=2*A-W):W<B&&W<A&&(W=Math.min(B,A),I=2*A-W),I>p&&I>A?(I=Math.max(p,A),W=2*A-I):I<p&&I<A&&(I=Math.min(p,A),W=2*A-I),te.rightContX=N,te.rightContY=I,te.controlPoints={low:[L,W],high:[N,I]}}let T=["C",me(D.rightContX,D.plotX,0),me(D.rightContY,D.plotY,0),me(L,C,0),me(W,A,0),C,A];return D.rightContX=D.rightContY=void 0,T}}return de.defaultOptions=ve(xe.defaultOptions),Z.registerSeriesType("spline",de),de}),Ne(Y,"Series/AreaSpline/AreaSplineSeries.js",[Y["Series/Spline/SplineSeries.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{area:ve,area:{prototype:me}}=ce.seriesTypes,{extend:de,merge:he}=xe;class Q extends Z{}return Q.defaultOptions=he(Z.defaultOptions,ve.defaultOptions),de(Q.prototype,{getGraphPath:me.getGraphPath,getStackPoints:me.getStackPoints,drawGraph:me.drawGraph}),ce.registerSeriesType("areaspline",Q),Q}),Ne(Y,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),Ne(Y,"Series/Column/ColumnSeries.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Color/Color.js"],Y["Series/Column/ColumnSeriesDefaults.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he){let{animObject:Q}=Z,{parse:te}=ce,{noop:ee}=ve,{clamp:L,crisp:W,defined:N,extend:I,fireEvent:C,isArray:A,isNumber:D,merge:P,pick:v,objectEach:T}=he;class H extends me{animate(S){let p,b,l=this,n=this.yAxis,o=n.pos,h=n.reversed,d=l.options,{clipOffset:c,inverted:f}=this.chart,u={},M=f?"translateX":"translateY";S&&c?(u.scaleY=.001,b=L(n.toPixels(d.threshold),o,o+n.len),f?(b+=h?-Math.floor(c[0]):Math.ceil(c[2]),u.translateX=b-n.len):(b+=h?Math.ceil(c[0]):-Math.floor(c[2]),u.translateY=b),l.clipBox&&l.setClip(),l.group.attr(u)):(p=Number(l.group.attr(M)),l.group.animate({scaleY:1},I(Q(l.options.animation),{step:function(U,x){l.group&&(u[M]=p+x.pos*(o-p),l.group.attr(u))}})))}init(S,p){super.init.apply(this,arguments);let b=this;(S=b.chart).hasRendered&&S.series.forEach(function(l){l.type===b.type&&(l.isDirty=!0)})}getColumnMetrics(){let d,S=this,p=S.options,b=S.xAxis,l=S.yAxis,n=b.options.reversedStacks,o=b.reversed&&!n||!b.reversed&&n,h={},c=0;!1===p.grouping?c=1:S.chart.series.forEach(function(O){let z,j=O.yAxis,J=O.options;O.type===S.type&&O.reserveSpace()&&l.len===j.len&&l.pos===j.pos&&(J.stacking&&"group"!==J.stacking?(void 0===h[d=O.stackKey]&&(h[d]=c++),z=h[d]):!1!==J.grouping&&(z=c++),O.columnIndex=z)});let f=Math.min(Math.abs(b.transA)*(!b.brokenAxis?.hasBreaks&&b.ordinal?.slope||p.pointRange||b.closestPointRange||b.tickInterval||1),b.len),u=f*p.groupPadding,M=(f-2*u)/(c||1),U=Math.min(p.maxPointWidth||b.len,v(p.pointWidth,M*(1-2*p.pointPadding)));return S.columnMetrics={width:U,offset:(M-U)/2+(u+((S.columnIndex||0)+(o?1:0))*M-f/2)*(o?-1:1),paddedWidth:M,columnCount:c},S.columnMetrics}crispCol(S,p,b,l){let n=this.borderWidth,o=this.chart.inverted;return l=W(p+l,n,o)-(p=W(p,n,o)),this.options.crisp&&(b=W(S+b,n)-(S=W(S,n))),{x:S,y:p,width:b,height:l}}adjustForMissingColumns(S,p,b,l){if(!b.isNull&&l.columnCount>1){let n=this.xAxis.series.filter(c=>c.visible).map(c=>c.index),o=0,h=0;T(this.xAxis.stacking?.stacks,c=>{if("number"==typeof b.x){let f=c[b.x.toString()];if(f&&A(f.points[this.index])){let u=Object.keys(f.points).filter(M=>!M.match(",")&&f.points[M]&&f.points[M].length>1).map(parseFloat).filter(M=>-1!==n.indexOf(M)).sort((M,U)=>U-M);o=u.indexOf(this.index),h=u.length}}}),o=this.xAxis.reversed?h-1-o:o,S=(b.plotX||0)+((h-1)*l.paddedWidth+p)/2-p-o*l.paddedWidth}return S}translate(){let S=this,p=S.chart,b=S.options,l=S.dense=S.closestPointRange*S.xAxis.transA<2,n=S.borderWidth=v(b.borderWidth,l?0:1),o=S.xAxis,h=S.yAxis,d=b.threshold,c=v(b.minPointLength,5),f=S.getColumnMetrics(),u=f.width,M=S.pointXOffset=f.offset,U=S.dataMin,x=S.dataMax,O=S.translatedThreshold=h.getThreshold(d),z=S.barW=Math.max(u,1+2*n);b.pointPadding&&(z=Math.ceil(z)),me.prototype.translate.apply(S),S.points.forEach(function(j){let X,J=v(j.yBottom,O),y=999+Math.abs(J),w=j.plotX||0,E=L(j.plotY,-y,h.len+y),m=Math.min(E,J),F=Math.max(E,J)-m,R=u,_=w+M,G=z;c&&Math.abs(F)<c&&(F=c,X=!h.reversed&&!j.negative||h.reversed&&j.negative,D(d)&&D(x)&&j.y===d&&x<=d&&(h.min||0)<d&&(U!==x||(h.max||0)<=d)&&(X=!X,j.negative=!j.negative),m=Math.abs(m-O)>c?J-c:O-(X?c:0)),N(j.options.pointWidth)&&(_-=Math.round(((R=G=Math.ceil(j.options.pointWidth))-u)/2)),b.centerInCategory&&!b.stacking&&(_=S.adjustForMissingColumns(_,R,j,f)),j.barX=_,j.pointWidth=R,j.tooltipPos=p.inverted?[L(h.len+h.pos-p.plotLeft-E,h.pos-p.plotLeft,h.len+h.pos-p.plotLeft),o.len+o.pos-p.plotTop-_-G/2,F]:[o.left-p.plotLeft+_+G/2,L(E+h.pos-p.plotTop,h.pos-p.plotTop,h.len+h.pos-p.plotTop),F],j.shapeType=S.pointClass.prototype.shapeType||"roundedRect",j.shapeArgs=S.crispCol(_,j.isNull?O:m,G,j.isNull?0:F)}),C(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(S,p){let h,d,c,b=this.options,l=this.pointAttrToOptions||{},n=l.stroke||"borderColor",o=l["stroke-width"]||"borderWidth",f=S&&S.color||this.color,u=S&&S[n]||b[n]||f,M=S&&S.options.dashStyle||b.dashStyle,U=S&&S[o]||b[o]||this[o]||0,x=v(S&&S.opacity,b.opacity,1);S&&this.zones.length&&(d=S.getZone(),f=S.options.color||d&&(d.color||S.nonZonedColor)||this.color,d&&(u=d.borderColor||u,M=d.dashStyle||M,U=d.borderWidth||U)),p&&S&&(c=(h=P(b.states[p],S.options.states&&S.options.states[p]||{})).brightness,f=h.color||void 0!==c&&te(f).brighten(h.brightness).get()||f,u=h[n]||u,U=h[o]||U,M=h.dashStyle||M,x=v(h.opacity,x));let O={fill:f,stroke:u,"stroke-width":U,opacity:x};return M&&(O.dashstyle=M),O}drawPoints(S=this.points){let p,b=this,l=this.chart,n=b.options,o=l.renderer,h=n.animationLimit||250;S.forEach(function(d){let f=d.graphic,u=!!f,M=f&&l.pointCount<h?"animate":"attr";D(d.plotY)&&null!==d.y?(p=d.shapeArgs,f&&d.hasNewShapeType()&&(f=f.destroy()),b.enabledDataSorting&&(d.startXPos=b.xAxis.reversed?-(p&&p.width||0):b.xAxis.width),!f&&(d.graphic=f=o[d.shapeType](p).add(d.group||b.group),f&&b.enabledDataSorting&&l.hasRendered&&l.pointCount<h&&(f.attr({x:d.startXPos}),u=!0,M="animate")),f&&u&&f[M](P(p)),l.styledMode||f[M](b.pointAttribs(d,d.selected&&"select")).shadow(!1!==d.allowShadow&&n.shadow),f&&(f.addClass(d.getClassName(),!0),f.attr({visibility:d.visible?"inherit":"hidden"}))):f&&(d.graphic=f.destroy())})}drawTracker(S=this.points){let p,b=this,l=b.chart,n=l.pointer,o=function(h){let d=n?.getPointFromEvent(h);n&&d&&b.options.enableMouseTracking&&(n.isDirectTouch=!0,d.onMouseOver(h))};S.forEach(function(h){p=A(h.dataLabels)?h.dataLabels:h.dataLabel?[h.dataLabel]:[],h.graphic&&(h.graphic.element.point=h),p.forEach(function(d){(d.div||d.element).point=h})}),b._hasTracking||(b.trackerGroups.forEach(function(h){b[h]&&(b[h].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(d){n?.onTrackerMouseOut(d)}).on("touchstart",o),!l.styledMode&&b.options.cursor&&b[h].css({cursor:b.options.cursor}))}),b._hasTracking=!0),C(this,"afterDrawTracker")}remove(){let S=this,p=S.chart;p.hasRendered&&p.series.forEach(function(b){b.type===S.type&&(b.isDirty=!0)}),me.prototype.remove.apply(S,arguments)}}return H.defaultOptions=P(me.defaultOptions,xe),I(H.prototype,{directTouch:!0,getSymbol:ee,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),de.registerSeriesType("column",H),H}),Ne(Y,"Core/Series/DataLabel.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{getDeferredAnimation:me}=Z,{format:de}=ce,{defined:he,extend:Q,fireEvent:te,isArray:ee,isString:L,merge:W,objectEach:N,pick:I,pInt:C,splat:A}=xe;return function(D){function P(){return b(this).some(n=>n?.enabled)}function v(n,o,h,d,c){let{chart:f,enabledDataSorting:u}=this,M=this.isCartesian&&f.inverted,U=n.plotX,x=n.plotY,O=h.rotation||0,z=he(U)&&he(x)&&f.isInsidePlot(U,Math.round(x),{inverted:M,paneCoordinates:!0,series:this}),j=0===O&&"justify"===I(h.overflow,u?"none":"justify"),J=this.visible&&!1!==n.visible&&he(U)&&(n.series.forceDL||u&&!j||z||I(h.inside,!!this.options.stacking)&&d&&f.isInsidePlot(U,M?d.x+1:d.y+d.height-1,{inverted:M,paneCoordinates:!0,series:this})),y=n.pos();if(J&&y){let E=o.getBBox(),X=o.getBBox(void 0,0),m={right:1,center:.5}[h.align||0]||0,F={bottom:1,middle:.5}[h.verticalAlign||0]||0;if(d=Q({x:y[0],y:Math.round(y[1]),width:0,height:0},d||{}),"plotEdges"===h.alignTo&&this.isCartesian&&(d[M?"x":"y"]=0,d[M?"width":"height"]=this.yAxis?.len||0),Q(h,{width:E.width,height:E.height}),u&&this.xAxis&&!j&&this.setDataLabelStartPos(n,o,c,z,d),o.align(W(h,{width:X.width,height:X.height}),!1,d,!1),o.alignAttr.x+=m*(X.width-E.width),o.alignAttr.y+=F*(X.height-E.height),o[o.placed?"animate":"attr"]({x:o.alignAttr.x+(E.width-X.width)/2,y:o.alignAttr.y+(E.height-X.height)/2,rotationOriginX:(o.width||0)/2,rotationOriginY:(o.height||0)/2}),j&&d.height>=0)this.justifyDataLabel(o,h,o.alignAttr,E,d,c);else if(I(h.crop,!0)){let{x:R,y:_}=o.alignAttr;J=f.isInsidePlot(R,_,{paneCoordinates:!0,series:this})&&f.isInsidePlot(R+E.width-1,_+E.height-1,{paneCoordinates:!0,series:this})}h.shape&&!O&&o[c?"attr":"animate"]({anchorX:y[0],anchorY:y[1]})}c&&u&&(o.placed=!1),J||u&&!j?(o.show(),o.placed=!0):(o.hide(),o.placed=!1)}function T(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function H(n){let o=this.hasRendered||0,h=this.initDataLabelsGroup().attr({opacity:+o});return!o&&h&&(this.visible&&h.show(),this.options.animation?h.animate({opacity:1},n):h.attr({opacity:1})),h}function B(n){let o;n=n||this.points;let h=this,d=h.chart,c=h.options,f=d.renderer,{backgroundColor:u,plotBackgroundColor:M}=d.options.chart,U=f.getContrast(L(M)&&M||L(u)&&u||"#000000"),x=b(h),{animation:O,defer:z}=x[0],j=z?me(d,O,h):{defer:0,duration:0};te(this,"drawDataLabels"),h.hasDataLabels?.()&&(o=this.initDataLabels(j),n.forEach(J=>{let y=J.dataLabels||[];A(p(x,J.dlOptions||J.options?.dataLabels)).forEach((E,X)=>{let K,oe,ae,ue,q,m=E.enabled&&(J.visible||J.dataLabelOnHidden)&&(!J.isNull||J.dataLabelOnNull)&&function(re,le){let pe=le.filter;if(pe){let ge=pe.operator,we=re[pe.property],ye=pe.value;return">"===ge&&we>ye||"<"===ge&&we<ye||">="===ge&&we>=ye||"<="===ge&&we<=ye||"=="===ge&&we==ye||"==="===ge&&we===ye||"!="===ge&&we!=ye||"!=="===ge&&we!==ye}return!0}(J,E),{backgroundColor:F,borderColor:R,distance:_,style:G={}}=E,be={},Se=y[X],ie=!Se;m&&(oe=I(E[J.formatPrefix+"Format"],E.format),K=J.getLabelConfig(),ae=he(oe)?de(oe,K,d):(E[J.formatPrefix+"Formatter"]||E.formatter).call(K,E),ue=E.rotation,!d.styledMode&&(G.color=I(E.color,G.color,L(h.color)?h.color:void 0,"#000000"),"contrast"===G.color?("none"!==F&&(q=F),J.contrastColor=f.getContrast("auto"!==q&&q||J.color||h.color),G.color=q||!he(_)&&E.inside||0>C(_||0)||c.stacking?J.contrastColor:U):delete J.contrastColor,c.cursor&&(G.cursor=c.cursor)),be={r:E.borderRadius||0,rotation:ue,padding:E.padding,zIndex:1},d.styledMode||(be.fill="auto"===F?J.color:F,be.stroke="auto"===R?J.color:R,be["stroke-width"]=E.borderWidth),N(be,(re,le)=>{void 0===re&&delete be[le]})),!Se||m&&he(ae)&&!!Se.div==!!E.useHTML&&(Se.rotation&&E.rotation||Se.rotation===E.rotation)||(Se=void 0,ie=!0),m&&he(ae)&&(Se?be.text=ae:(Se=f.label(ae,0,0,E.shape,void 0,void 0,E.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+J.colorIndex+" "+(E.className||"")+(E.useHTML?" highcharts-tracker":"")),Se&&(Se.options=E,Se.attr(be),d.styledMode?G.width&&Se.css({width:G.width,textOverflow:G.textOverflow}):Se.css(G).shadow(E.shadow),te(Se,"beforeAddingDataLabel",{labelOptions:E,point:J}),Se.added||Se.add(o),h.alignDataLabel(J,Se,E,void 0,ie),Se.isActive=!0,y[X]&&y[X]!==Se&&y[X].destroy(),y[X]=Se))});let w=y.length;for(;w--;)y[w]&&y[w].isActive?y[w].isActive=!1:(y[w]?.destroy(),y.splice(w,1));J.dataLabel=y[0],J.dataLabels=y})),te(this,"afterDrawDataLabels")}function S(n,o,h,d,c,f){let E,X,u=this.chart,M=o.align,U=o.verticalAlign,x=n.box?0:n.padding||0,O=u.inverted?this.yAxis:this.xAxis,z=O?O.left-u.plotLeft:0,j=u.inverted?this.xAxis:this.yAxis,J=j?j.top-u.plotTop:0,{x:y=0,y:w=0}=o;return(E=(h.x||0)+x+z)<0&&("right"===M&&y>=0?(o.align="left",o.inside=!0):y-=E,X=!0),(E=(h.x||0)+d.width-x+z)>u.plotWidth&&("left"===M&&y<=0?(o.align="right",o.inside=!0):y+=u.plotWidth-E,X=!0),(E=h.y+x+J)<0&&("bottom"===U&&w>=0?(o.verticalAlign="top",o.inside=!0):w-=E,X=!0),(E=(h.y||0)+d.height-x+J)>u.plotHeight&&("top"===U&&w<=0?(o.verticalAlign="bottom",o.inside=!0):w+=u.plotHeight-E,X=!0),X&&(o.x=y,o.y=w,n.placed=!f,n.align(o,void 0,c)),X}function p(n,o){let d,h=[];if(ee(n)&&!ee(o))h=n.map(function(c){return W(c,o)});else if(ee(o)&&!ee(n))h=o.map(function(c){return W(n,c)});else if(ee(n)||ee(o)){if(ee(n)&&ee(o))for(d=Math.max(n.length,o.length);d--;)h[d]=W(n[d],o[d])}else h=W(n,o);return h}function b(n){let o=n.chart.options.plotOptions;return A(p(p(o?.series?.dataLabels,o?.[n.type]?.dataLabels),n.options.dataLabels))}function l(n,o,h,d,c){let f=this.chart,u=f.inverted,M=this.xAxis,U=M.reversed,x=((u?o.height:o.width)||0)/2,O=n.pointWidth,z=O?O/2:0;o.startXPos=u?c.x:U?-x-z:M.width-x+z,o.startYPos=u?U?this.yAxis.height-x+z:-x-z:c.y,d?"hidden"===o.visibility&&(o.show(),o.attr({opacity:0}).animate({opacity:1})):o.attr({opacity:1}).animate({opacity:0},void 0,o.hide),f.hasRendered&&(h&&o.attr({x:o.startXPos,y:o.startYPos}),o.placed=!0)}D.compose=function(n){let o=n.prototype;o.initDataLabels||(o.initDataLabels=H,o.initDataLabelsGroup=T,o.alignDataLabel=v,o.drawDataLabels=B,o.justifyDataLabel=S,o.setDataLabelStartPos=l,o.hasDataLabels=P)}}(ve||(ve={})),ve}),Ne(Y,"Series/Column/ColumnDataLabel.js",[Y["Core/Series/DataLabel.js"],Y["Core/Globals.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{composed:de}=ce,{series:he}=xe,{merge:Q,pick:te,pushUnique:ee}=ve;return function(L){function W(N,I,C,A,D){let P=this.chart.inverted,v=N.series,T=(v.xAxis?v.xAxis.len:this.chart.plotSizeX)||0,H=(v.yAxis?v.yAxis.len:this.chart.plotSizeY)||0,B=N.dlBox||N.shapeArgs,S=te(N.below,N.plotY>te(this.translatedThreshold,H)),p=te(C.inside,!!this.options.stacking);if(B){if(A=Q(B),"allow"!==C.overflow||!1!==C.crop){A.y<0&&(A.height+=A.y,A.y=0);let b=A.y+A.height-H;b>0&&b<A.height-1&&(A.height-=b)}P&&(A={x:H-A.y-A.height,y:T-A.x-A.width,width:A.height,height:A.width}),p||(P?(A.x+=S?0:A.width,A.width=0):(A.y+=S?A.height:0,A.height=0))}C.align=te(C.align,!P||p?"center":S?"right":"left"),C.verticalAlign=te(C.verticalAlign,P||p?"middle":S?"top":"bottom"),he.prototype.alignDataLabel.call(this,N,I,C,A,D),C.inside&&N.contrastColor&&I.css({color:N.contrastColor})}L.compose=function(N){Z.compose(he),ee(de,"ColumnDataLabel")&&(N.prototype.alignDataLabel=W)}}(me||(me={})),me}),Ne(Y,"Series/Bar/BarSeries.js",[Y["Series/Column/ColumnSeries.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{extend:ve,merge:me}=xe;class de extends Z{}return de.defaultOptions=me(Z.defaultOptions,{}),ve(de.prototype,{inverted:!0}),ce.registerSeriesType("bar",de),de}),Ne(Y,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),Ne(Y,"Series/Scatter/ScatterSeries.js",[Y["Series/Scatter/ScatterSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{column:ve,line:me}=ce.seriesTypes,{addEvent:de,extend:he,merge:Q}=xe;class te extends me{applyJitter(){let L=this,W=this.options.jitter,N=this.points.length;W&&this.points.forEach(function(I,C){["x","y"].forEach(function(A,D){if(W[A]&&!I.isNull){let P=`plot${A.toUpperCase()}`,v=L[`${A}Axis`],T=W[A]*v.transA;if(v&&!v.logarithmic){let H=Math.max(0,(I[P]||0)-T),B=Math.min(v.len,(I[P]||0)+T);I[P]=H+(B-H)*function(S){let p=1e4*Math.sin(S);return p-Math.floor(p)}(C+D*N),"x"===A&&(I.clientX=I.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return te.defaultOptions=Q(me.defaultOptions,Z),he(te.prototype,{drawTracker:ve.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),de(te,"afterTranslate",function(){this.applyJitter()}),ce.registerSeriesType("scatter",te),te}),Ne(Y,"Series/CenteredUtilities.js",[Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve,me;let{deg2rad:de}=Z,{fireEvent:he,isNumber:Q,pick:te,relativeLength:ee}=xe;return(me=ve||(ve={})).getCenter=function(){let v,B,S,L=this.options,W=this.chart,N=2*(L.slicedOffset||0),I=W.plotWidth-2*N,C=W.plotHeight-2*N,A=L.center,D=Math.min(I,C),P=L.thickness,T=L.size,H=L.innerSize||0;"string"==typeof T&&(T=parseFloat(T)),"string"==typeof H&&(H=parseFloat(H));let p=[te(A[0],"50%"),te(A[1],"50%"),te(T&&T<0?void 0:L.size,"100%"),te(H&&H<0?void 0:L.innerSize||0,"0%")];for(!W.angular||this instanceof ce||(p[3]=0),B=0;B<4;++B)S=p[B],v=B<2||2===B&&/%$/.test(S),p[B]=ee(S,[I,C,D,p[2]][B])+(v?N:0);return p[3]>p[2]&&(p[3]=p[2]),Q(P)&&2*P<p[2]&&P>0&&(p[3]=p[2]-2*P),he(this,"afterGetCenter",{positions:p}),p},me.getStartAndEndRadians=function(L,W){let N=Q(L)?L:0,I=Q(W)&&W>N&&W-N<360?W:N+360;return{start:de*(N+-90),end:de*(I+-90)}},ve}),Ne(Y,"Series/Pie/PiePoint.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Series/Point.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{setAnimation:ve}=Z,{addEvent:me,defined:de,extend:he,isNumber:Q,pick:te,relativeLength:ee}=xe;class L extends ce{getConnectorPath(N){let I=N.dataLabelPosition,C=N.options||{},A=C.connectorShape;return I&&(this.connectorShapes[A]||A).call(this,{...I.computed,alignment:I.alignment},I.connectorPosition,C)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(N){let I=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(I.x,I.y,I.r+N,I.r+N,{innerR:I.r-1,start:I.start,end:I.end,borderRadius:I.borderRadius})}constructor(N,I,C){super(N,I,C),this.half=0,this.name??(this.name="Slice");let A=D=>{this.slice("select"===D.type)};me(this,"select",A),me(this,"unselect",A)}isValid(){return Q(this.y)&&this.y>=0}setVisible(N,I=!0){N!==this.visible&&this.update({visible:N??!this.visible},I,void 0,!1)}slice(N,I,C){let A=this.series;ve(C,A.chart),I=te(I,!0),this.sliced=this.options.sliced=N=de(N)?N:!this.sliced,A.options.data[A.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return he(L.prototype,{connectorShapes:{fixedOffset:function(W,N,I){let C=N.breakAt,A=N.touchingSliceAt;return[["M",W.x,W.y],I.softConnector?["C",W.x+("left"===W.alignment?-5:5),W.y,2*C.x-A.x,2*C.y-A.y,C.x,C.y]:["L",C.x,C.y],["L",A.x,A.y]]},straight:function(W,N){let I=N.touchingSliceAt;return[["M",W.x,W.y],["L",I.x,I.y]]},crookedLine:function(W,N,I){let{breakAt:C,touchingSliceAt:A}=N,{series:D}=this,[P,v,T]=D.center,H=T/2,{plotLeft:B,plotWidth:S}=D.chart,p="left"===W.alignment,{x:b,y:l}=W,n=C.x;if(I.crookDistance){let h=ee(I.crookDistance,1);n=p?P+H+(S+B-P-H)*(1-h):B+(P-H)*h}else n=P+(v-l)*Math.tan((this.angle||0)-Math.PI/2);let o=[["M",b,l]];return(p?n<=b&&n>=C.x:n>=b&&n<=C.x)&&o.push(["L",n,l]),o.push(["L",C.x,C.y],["L",A.x,A.y]),o}}}),L}),Ne(Y,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),Ne(Y,"Series/Pie/PieSeries.js",[Y["Series/CenteredUtilities.js"],Y["Series/Column/ColumnSeries.js"],Y["Core/Globals.js"],Y["Series/Pie/PiePoint.js"],Y["Series/Pie/PieSeriesDefaults.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/Symbols.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te){let{getStartAndEndRadians:ee}=Z,{noop:L}=xe,{clamp:W,extend:N,fireEvent:I,merge:C,pick:A}=te;class D extends de{animate(v){let T=this,B=T.startAngleRad;v||T.points.forEach(function(S){let p=S.graphic,b=S.shapeArgs;p&&b&&(p.attr({r:A(S.startR,T.center&&T.center[3]/2),start:B,end:B}),p.animate({r:b.r,start:b.start,end:b.end},T.options.animation))})}drawEmpty(){let v,T,H=this.startAngleRad,B=this.endAngleRad,S=this.options;0===this.total&&this.center?(v=this.center[0],T=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(v,T,this.center[1]/2,0,H,B).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Q.arc(v,T,this.center[2]/2,0,{start:H,end:B,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":S.borderWidth,fill:S.fillColor||"none",stroke:S.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let v=this.chart.renderer;this.points.forEach(function(T){T.graphic&&T.hasNewShapeType()&&(T.graphic=T.graphic.destroy()),T.graphic||(T.graphic=v[T.shapeType](T.shapeArgs).add(T.series.group),T.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(v,T,H,B){let S=this.center,p=this.radii?this.radii[H.index]||0:S[2]/2,b=B.dataLabelPosition,l=b?.distance||0,n=Math.asin(W((v-S[1])/(p+l),-1,1));return S[0]+Math.cos(n)*(p+l)*(T?-1:1)+(l>0?(T?-1:1)*(B.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let v,T,H,B,S=this,p=S.chart;this.drawEmpty(),S.group&&!p.styledMode&&S.group.shadow(S.options.shadow),S.points.forEach(function(b){let l={};T=b.graphic,!b.isNull&&T?(B=b.shapeArgs,v=b.getTranslate(),p.styledMode||(H=S.pointAttribs(b,b.selected&&"select")),b.delayedRendering?(T.setRadialReference(S.center).attr(B).attr(v),p.styledMode||T.attr(H).attr({"stroke-linejoin":"round"}),b.delayedRendering=!1):(T.setRadialReference(S.center),p.styledMode||C(!0,l,H),C(!0,l,B,v),T.animate(l)),T.attr({visibility:b.visible?"inherit":"hidden"}),T.addClass(b.getClassName(),!0)):T&&(b.graphic=T.destroy())})}sortByAngle(v,T){v.sort(function(H,B){return void 0!==H.angle&&(B.angle-H.angle)*T})}translate(v){I(this,"translate"),this.generatePoints();let o,h,d,c,f,u,M,T=this.options,H=T.slicedOffset,B=ee(T.startAngle,T.endAngle),S=this.startAngleRad=B.start,p=(this.endAngleRad=B.end)-S,b=this.points,l=T.ignoreHiddenPoint,n=b.length,U=0;for(v||(this.center=v=this.getCenter()),u=0;u<n;u++){M=b[u],o=S+U*p,M.isValid()&&(!l||M.visible)&&(U+=M.percentage/100),h=S+U*p;let x={x:v[0],y:v[1],r:v[2]/2,innerR:v[3]/2,start:Math.round(1e3*o)/1e3,end:Math.round(1e3*h)/1e3};M.shapeType="arc",M.shapeArgs=x,(d=(h+o)/2)>1.5*Math.PI?d-=2*Math.PI:d<-Math.PI/2&&(d+=2*Math.PI),M.slicedTranslation={translateX:Math.round(Math.cos(d)*H),translateY:Math.round(Math.sin(d)*H)},c=Math.cos(d)*v[2]/2,f=Math.sin(d)*v[2]/2,M.tooltipPos=[v[0]+.7*c,v[1]+.7*f],M.half=d<-Math.PI/2||d>Math.PI/2?1:0,M.angle=d}I(this,"afterTranslate")}updateTotals(){let B,S,v=this.points,T=v.length,H=this.options.ignoreHiddenPoint,p=0;for(B=0;B<T;B++)(S=v[B]).isValid()&&(!H||S.visible)&&(p+=S.y);for(B=0,this.total=p;B<T;B++)(S=v[B]).percentage=p>0&&(S.visible||!H)?S.y/p*100:0,S.total=p}}return D.defaultOptions=C(de.defaultOptions,me),N(D.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:ce.prototype.drawTracker,getCenter:Z.getCenter,getSymbol:L,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:ce.prototype.pointAttribs,pointClass:ve,requireSorting:!1,searchPoint:L,trackerGroups:["group","dataLabelsGroup"]}),he.registerSeriesType("pie",D),D}),Ne(Y,"Series/Pie/PieDataLabel.js",[Y["Core/Series/DataLabel.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){var de;let{composed:he,noop:Q}=ce,{distribute:te}=xe,{series:ee}=ve,{arrayMax:L,clamp:W,defined:N,pick:I,pushUnique:C,relativeLength:A}=me;return function(D){let P={radialDistributionY:function(S,p){return(p.dataLabelPosition?.top||0)+S.distributeBox.pos},radialDistributionX:function(S,p,b,l,n){let o=n.dataLabelPosition;return S.getX(b<(o?.top||0)+2||b>(o?.bottom||0)-2?l:b,p.half,p,n)},justify:function(S,p,b,l){return l[0]+(S.half?-1:1)*(b+(p.dataLabelPosition?.distance||0))},alignToPlotEdges:function(S,p,b,l){let n=S.getBBox().width;return p?n+l:b-n-l},alignToConnectors:function(S,p,b,l){let o,n=0;return S.forEach(function(h){(o=h.dataLabel.getBBox().width)>n&&(n=o)}),p?n+l:b-n-l}};function v(S,p){let{center:b,options:l}=this,n=b[2]/2,o=S.angle||0,h=Math.cos(o),d=Math.sin(o),c=b[0]+h*n,f=b[1]+d*n,u=Math.min((l.slicedOffset||0)+(l.borderWidth||0),p/5);return{natural:{x:c+h*p,y:f+d*p},computed:{},alignment:p<0?"center":S.half?"right":"left",connectorPosition:{breakAt:{x:c+h*u,y:f+d*u},touchingSliceAt:{x:c,y:f}},distance:p}}function T(){let x,O,z,S=this,p=S.points,b=S.chart,l=b.plotWidth,n=b.plotHeight,o=b.plotLeft,h=Math.round(b.chartWidth/3),d=S.center,c=d[2]/2,f=d[1],u=[[],[]],M=[0,0,0,0],U=S.dataLabelPositioners,j=0;S.visible&&S.hasDataLabels?.()&&(p.forEach(J=>{(J.dataLabels||[]).forEach(y=>{y.shortened&&(y.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),y.shortened=!1)})}),ee.prototype.drawDataLabels.apply(S),p.forEach(J=>{(J.dataLabels||[]).forEach((y,w)=>{let E=d[2]/2,X=y.options,m=A(X?.distance||0,E);0===w&&u[J.half].push(J),!N(X?.style?.width)&&y.getBBox().width>h&&(y.css({width:Math.round(.7*h)+"px"}),y.shortened=!0),y.dataLabelPosition=this.getDataLabelPosition(J,m),j=Math.max(j,m)})}),u.forEach((J,y)=>{let X,m,R,E=[],F=0;J.length&&(S.sortByAngle(J,y-.5),j>0&&(X=Math.max(0,f-c-j),m=Math.min(f+c+j,b.plotHeight),J.forEach(_=>{(_.dataLabels||[]).forEach(G=>{let K=G.dataLabelPosition;K&&K.distance>0&&(K.top=Math.max(0,f-c-K.distance),K.bottom=Math.min(f+c+K.distance,b.plotHeight),F=G.getBBox().height||21,G.lineHeight=b.renderer.fontMetrics(G.text||G).h+2*G.padding,_.distributeBox={target:(G.dataLabelPosition?.natural.y||0)-K.top+G.lineHeight/2,size:F,rank:_.y},E.push(_.distributeBox))})}),te(E,R=m+F-X,R/5)),J.forEach(_=>{(_.dataLabels||[]).forEach(G=>{let K=G.options||{},oe=_.distributeBox,ae=G.dataLabelPosition,ue=ae?.natural.y||0,be=K.connectorPadding||0,Se=G.lineHeight||21,ie=(Se-G.getBBox().height)/2,q=0,re=ue,le="inherit";if(ae){if(E&&N(oe)&&ae.distance>0&&(void 0===oe.pos?le="hidden":(z=oe.size,re=U.radialDistributionY(_,G))),K.justify)q=U.justify(_,G,c,d);else switch(K.alignTo){case"connectors":q=U.alignToConnectors(J,y,l,o);break;case"plotEdges":q=U.alignToPlotEdges(G,y,l,o);break;default:q=U.radialDistributionX(S,_,re-ie,ue,G)}if(ae.attribs={visibility:le,align:ae.alignment},ae.posAttribs={x:q+(K.x||0)+({left:be,right:-be}[ae.alignment]||0),y:re+(K.y||0)-Se/2},ae.computed.x=q,ae.computed.y=re-ie,I(K.crop,!0)){let pe;q-(O=G.getBBox().width)<be&&1===y?(pe=Math.round(O-q+be),M[3]=Math.max(pe,M[3])):q+O>l-be&&0===y&&(pe=Math.round(q+O-l+be),M[1]=Math.max(pe,M[1])),re-z/2<0?M[0]=Math.max(Math.round(z/2-re),M[0]):re+z/2>n&&(M[2]=Math.max(Math.round(re+z/2-n),M[2])),ae.sideOverflow=pe}}})}))}),(0===L(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),this.points.forEach(J=>{(J.dataLabels||[]).forEach(y=>{let{connectorColor:w,connectorWidth:E=1}=y.options||{},X=y.dataLabelPosition;if(E){let m;x=y.connector,X&&X.distance>0?(m=!x,x||(y.connector=x=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+J.colorIndex+(J.className?" "+J.className:"")).add(S.dataLabelsGroup)),b.styledMode||x.attr({"stroke-width":E,stroke:w||J.color||"#666666"}),x[m?"attr":"animate"]({d:J.getConnectorPath(y)}),x.attr({visibility:X.attribs?.visibility})):x&&(y.connector=x.destroy())}})})))}function H(){this.points.forEach(S=>{(S.dataLabels||[]).forEach(p=>{let b=p.dataLabelPosition;b?(b.sideOverflow&&(p.css({width:Math.max(p.getBBox().width-b.sideOverflow,0)+"px",textOverflow:(p.options?.style||{}).textOverflow||"ellipsis"}),p.shortened=!0),p.attr(b.attribs),p[p.moved?"animate":"attr"](b.posAttribs),p.moved=!0):p&&p.attr({y:-9999})}),delete S.distributeBox},this)}function B(S){let p=this.center,b=this.options,l=b.center,n=b.minSize||80,o=n,h=null!==b.size;return!h&&(null!==l[0]?o=Math.max(p[2]-Math.max(S[1],S[3]),n):(o=Math.max(p[2]-S[1]-S[3],n),p[0]+=(S[3]-S[1])/2),null!==l[1]?o=W(o,n,p[2]-Math.max(S[0],S[2])):(o=W(o,n,p[2]-S[0]-S[2]),p[1]+=(S[0]-S[2])/2),o<p[2]?(p[2]=o,p[3]=Math.min(b.thickness?Math.max(0,o-2*b.thickness):Math.max(0,A(b.innerSize||0,o)),o),this.translate(p),this.drawDataLabels&&this.drawDataLabels()):h=!0),h}D.compose=function(S){if(Z.compose(ee),C(he,"PieDataLabel")){let p=S.prototype;p.dataLabelPositioners=P,p.alignDataLabel=Q,p.drawDataLabels=T,p.getDataLabelPosition=v,p.placeDataLabels=H,p.verifyDataLabelOverflow=B}}}(de||(de={})),de}),Ne(Y,"Core/Geometry/GeometryUtilities.js",[],function(){var Z,ce;return(ce=Z||(Z={})).getCenterOfPoints=function(xe){let ve=xe.reduce((me,de)=>(me.x+=de.x,me.y+=de.y,me),{x:0,y:0});return{x:ve.x/xe.length,y:ve.y/xe.length}},ce.getDistanceBetweenPoints=function(xe,ve){return Math.sqrt(Math.pow(ve.x-xe.x,2)+Math.pow(ve.y-xe.y,2))},ce.getAngleBetweenPoints=function(xe,ve){return Math.atan2(ve.x-xe.x,ve.y-xe.y)},ce.pointInPolygon=function({x:xe,y:ve},me){let he,Q,de=me.length,te=!1;for(he=0,Q=de-1;he<de;Q=he++){let[ee,L]=me[he],[W,N]=me[Q];L>ve!=N>ve&&xe<(W-ee)*(ve-L)/(N-L)+ee&&(te=!te)}return te},Z}),Ne(Y,"Extensions/OverlappingDataLabels.js",[Y["Core/Geometry/GeometryUtilities.js"],Y["Core/Utilities.js"]],function(Z,ce){let{pointInPolygon:xe}=Z,{addEvent:ve,fireEvent:me,objectEach:de,pick:he}=ce;function Q(L){let C,A,D,P,v,W=L.length,N=(H,B)=>!(B.x>=H.x+H.width||B.x+B.width<=H.x||B.y>=H.y+H.height||B.y+B.height<=H.y),I=(H,B)=>{for(let S of H)if(xe({x:S[0],y:S[1]},B))return!0;return!1},T=!1;for(let H=0;H<W;H++)(C=L[H])&&(C.oldOpacity=C.opacity,C.newOpacity=1,C.absoluteBox=function(B){if(B&&(!B.alignAttr||B.placed)){let S=B.box?0:B.padding||0,p=B.alignAttr||{x:B.attr("x"),y:B.attr("y")},b=B.getBBox();return B.width=b.width,B.height=b.height,{x:p.x+(B.parentGroup?.translateX||0)+S,y:p.y+(B.parentGroup?.translateY||0)+S,width:(B.width||0)-2*S,height:(B.height||0)-2*S,polygon:b?.polygon}}}(C));L.sort((H,B)=>(B.labelrank||0)-(H.labelrank||0));for(let H=0;H<W;++H){P=(A=L[H])&&A.absoluteBox;let B=P?.polygon;for(let S=H+1;S<W;++S){v=(D=L[S])&&D.absoluteBox;let p=!1;if(P&&v&&A!==D&&0!==A.newOpacity&&0!==D.newOpacity&&"hidden"!==A.visibility&&"hidden"!==D.visibility){let b=v.polygon;if(B&&b&&B!==b?I(B,b)&&(p=!0):N(P,v)&&(p=!0),p){let l=A.labelrank<D.labelrank?A:D,n=l.text;l.newOpacity=0,n?.element.querySelector("textPath")&&n.hide()}}}}for(let H of L)te(H,this)&&(T=!0);T&&me(this,"afterHideAllOverlappingLabels")}function te(L,W){let N,I,C=!1;return L&&(I=L.newOpacity,L.oldOpacity!==I&&(L.hasClass("highcharts-data-label")?(L[I?"removeClass":"addClass"]("highcharts-data-label-hidden"),N=function(){W.styledMode||L.css({pointerEvents:I?"auto":"none"})},C=!0,L[L.isOld?"animate":"attr"]({opacity:I},void 0,N),me(W,"afterHideOverlappingLabel")):L.attr({opacity:I})),L.isOld=!0),C}function ee(){let L=this,W=[];for(let N of L.labelCollectors||[])W=W.concat(N());for(let N of L.yAxis||[])N.stacking&&N.options.stackLabels&&!N.options.stackLabels.allowOverlap&&de(N.stacking.stacks,I=>{de(I,C=>{C.label&&W.push(C.label)})});for(let N of L.series||[])if(N.visible&&N.hasDataLabels?.()){let I=C=>{for(let A of C)A.visible&&(A.dataLabels||[]).forEach(D=>{let P=D.options||{};D.labelrank=he(P.labelrank,A.labelrank,A.shapeArgs?.height),P.allowOverlap??Number(P.distance)>0?(D.oldOpacity=D.opacity,D.newOpacity=1,te(D,L)):W.push(D)})};I(N.nodes||[]),I(N.points)}this.hideOverlappingLabels(W)}return{compose:function(L){let W=L.prototype;W.hideOverlappingLabels||(W.hideOverlappingLabels=Q,ve(L,"render",ee))}}}),Ne(Y,"Extensions/BorderRadius.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{defaultOptions:ve}=Z,{noop:me}=ce,{addEvent:de,extend:he,isObject:Q,merge:te,relativeLength:ee}=xe,L={radius:0,scope:"stack",where:void 0},W=me,N=me;function I(v,T,H,B,S={}){let p=W(v,T,H,B,S),{innerR:b=0,r:l=H,start:n=0,end:o=0}=S;if(S.open||!S.borderRadius)return p;let h=o-n,d=Math.sin(h/2),c=Math.max(Math.min(ee(S.borderRadius||0,l-b),(l-b)/2,l*d/(1+d)),0),f=Math.min(c,h/Math.PI*2*b),u=p.length-1;for(;u--;)!function(M,U,x){let O,z,j,J=M[U],y=M[U+1];if("Z"===y[0]&&(y=M[0]),"M"!==J[0]&&"L"!==J[0]||"A"!==y[0]?"A"===J[0]&&("M"===y[0]||"L"===y[0])&&(O=y,z=J):(O=J,z=y,j=!0),O&&z&&z.params){let w=z[1],E=z[5],X=z.params,{start:m,end:F,cx:R,cy:_}=X,G=E?w-x:w+x,K=G?Math.asin(x/G):0,oe=E?K:-K,ae=Math.cos(K)*G;j?(X.start=m+oe,O[1]=R+ae*Math.cos(m),O[2]=_+ae*Math.sin(m),M.splice(U+1,0,["A",x,x,0,0,1,R+w*Math.cos(X.start),_+w*Math.sin(X.start)])):(X.end=F-oe,z[6]=R+w*Math.cos(X.end),z[7]=_+w*Math.sin(X.end),M.splice(U+1,0,["A",x,x,0,0,1,R+ae*Math.cos(F),_+ae*Math.sin(F)])),z[4]=Math.abs(X.end-X.start)<Math.PI?0:1}}(p,u,u>1?f:c);return p}function C(){if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){let{options:v,yAxis:T}=this,H="percent"===v.stacking,B=ve.plotOptions?.[this.type]?.borderRadius,S=A(v.borderRadius,Q(B)?B:{}),p=T.options.reversed;for(let b of this.points){let{shapeArgs:l}=b;if("roundedRect"===b.shapeType&&l){let{width:n=0,height:o=0,y:h=0}=l,d=h,c=o;if("stack"===S.scope&&b.stackTotal){let U=T.translate(H?100:b.stackTotal,!1,!0,!1,!0),x=T.translate(v.threshold||0,!1,!0,!1,!0),O=this.crispCol(0,Math.min(U,x),0,Math.abs(U-x));d=O.y,c=O.height}let f=(b.negative?-1:1)*(p?-1:1)==-1,u=S.where;!u&&this.is("waterfall")&&Math.abs((b.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(u="all"),u||(u="end");let M=Math.min(ee(S.radius,n),n/2,"all"===u?o/2:1/0)||0;"end"===u&&(f&&(d-=M),c+=M),he(l,{brBoxHeight:c,brBoxY:d,r:M})}}}}function A(v,T){return Q(v)||(v={radius:v||0}),te(L,T,v)}function D(){let v=A(this.options.borderRadius);for(let T of this.points){let H=T.shapeArgs;H&&(H.borderRadius=ee(v.radius,(H.r||0)-(H.innerR||0)))}}function P(v,T,H,B,S={}){let p=N(v,T,H,B,S),{r:b=0,brBoxHeight:l=B,brBoxY:n=T}=S,o=T-n,h=n+l-(T+B),d=o-b>-.1?0:b,c=h-b>-.1?0:b,f=Math.max(d&&o,0),u=Math.max(c&&h,0),M=[v+d,T],U=[v+H-d,T],x=[v+H,T+d],O=[v+H,T+B-c],z=[v+H-c,T+B],j=[v+c,T+B],J=[v,T+B-c],y=[v,T+d],w=(E,X)=>Math.sqrt(Math.pow(E,2)-Math.pow(X,2));if(f){let E=w(d,d-f);M[0]-=E,U[0]+=E,x[1]=y[1]=T+d-f}if(B<d-f){let E=w(d,d-f-B);x[0]=O[0]=v+H-d+E,z[0]=Math.min(x[0],z[0]),j[0]=Math.max(O[0],j[0]),J[0]=y[0]=v+d-E,x[1]=y[1]=T+B}if(u){let E=w(c,c-u);z[0]+=E,j[0]-=E,O[1]=J[1]=T+B-c+u}if(B<c-u){let E=w(c,c-u-B);x[0]=O[0]=v+H-c+E,U[0]=Math.min(x[0],U[0]),M[0]=Math.max(O[0],M[0]),J[0]=y[0]=v+c-E,O[1]=J[1]=T}return p.length=0,p.push(["M",...M],["L",...U],["A",d,d,0,0,1,...x],["L",...O],["A",c,c,0,0,1,...z],["L",...j],["A",c,c,0,0,1,...J],["L",...y],["A",d,d,0,0,1,...M],["Z"]),p}return{compose:function(v,T,H){let B=v.types.pie;if(!T.symbolCustomAttribs.includes("borderRadius")){let S=H.prototype.symbols;de(v,"afterColumnTranslate",C,{order:9}),de(B,"afterTranslate",D),T.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),W=S.arc,N=S.roundedRect,S.arc=I,S.roundedRect=P}},optionsToObject:A}}),Ne(Y,"Core/Responsive.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{diffObjects:xe,extend:ve,find:me,merge:de,pick:he,uniqueKey:Q}=Z;return function(te){function ee(W,N){let I=W.condition;(I.callback||function(){return this.chartWidth<=he(I.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=he(I.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=he(I.minWidth,0)&&this.chartHeight>=he(I.minHeight,0)}).call(this)&&N.push(W._id)}function L(W,N){let D,I=this.options.responsive,C=this.currentResponsive,A=[];!N&&I&&I.rules&&I.rules.forEach(T=>{void 0===T._id&&(T._id=Q()),this.matchResponsiveRule(T,A)},this);let P=de(...A.map(T=>me((I||{}).rules||[],H=>H._id===T)).map(T=>T&&T.chartOptions));P.isResponsiveOptions=!0,A=A.toString()||void 0,A===(C&&C.ruleIds)||(C&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(C.undoOptions,W,!0),this.updatingResponsive=!1),A?((D=xe(P,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:A,mergedOptions:P,undoOptions:D},this.updatingResponsive||this.update(P,W,!0)):this.currentResponsive=void 0)}te.compose=function(W){let N=W.prototype;return N.matchResponsiveRule||ve(N,{matchResponsiveRule:ee,setResponsive:L}),W}}(ce||(ce={})),ce}),Ne(Y,"masters/highcharts.src.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"],Y["Core/Defaults.js"],Y["Core/Animation/Fx.js"],Y["Core/Animation/AnimationUtilities.js"],Y["Core/Renderer/HTML/AST.js"],Y["Core/Templating.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Renderer/HTML/HTMLElement.js"],Y["Core/Axis/Axis.js"],Y["Core/Axis/DateTimeAxis.js"],Y["Core/Axis/LogarithmicAxis.js"],Y["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],Y["Core/Axis/Tick.js"],Y["Core/Tooltip.js"],Y["Core/Series/Point.js"],Y["Core/Pointer.js"],Y["Core/Legend/Legend.js"],Y["Core/Legend/LegendSymbol.js"],Y["Core/Chart/Chart.js"],Y["Extensions/ScrollablePlotArea.js"],Y["Core/Axis/Stacking/StackingAxis.js"],Y["Core/Axis/Stacking/StackItem.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Series/Column/ColumnDataLabel.js"],Y["Series/Pie/PieDataLabel.js"],Y["Core/Series/DataLabel.js"],Y["Extensions/OverlappingDataLabels.js"],Y["Extensions/BorderRadius.js"],Y["Core/Responsive.js"],Y["Core/Color/Color.js"],Y["Core/Time.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee,L,W,N,I,C,A,D,P,v,T,H,B,S,p,b,l,n,o,h,d,c,f,u,M,U,x){return Z.AST=de,Z.Axis=N,Z.Chart=S,Z.Color=U,Z.DataLabel=c,Z.Fx=ve,Z.HTMLElement=W,Z.Legend=H,Z.LegendSymbol=B,Z.OverlappingDataLabels=Z.OverlappingDataLabels||f,Z.PlotLineOrBand=A,Z.Point=v,Z.Pointer=T,Z.RendererRegistry=Q,Z.Series=n,Z.SeriesRegistry=o,Z.StackItem=l,Z.SVGElement=ee,Z.SVGRenderer=L,Z.Templating=he,Z.Tick=D,Z.Time=x,Z.Tooltip=P,Z.animate=me.animate,Z.animObject=me.animObject,Z.chart=S.chart,Z.color=U.parse,Z.dateFormat=he.dateFormat,Z.defaultOptions=xe.defaultOptions,Z.distribute=te.distribute,Z.format=he.format,Z.getDeferredAnimation=me.getDeferredAnimation,Z.getOptions=xe.getOptions,Z.numberFormat=he.numberFormat,Z.seriesType=o.seriesType,Z.setAnimation=me.setAnimation,Z.setOptions=xe.setOptions,Z.stop=me.stop,Z.time=xe.defaultTime,Z.timers=ve.timers,u.compose(Z.Series,Z.SVGElement,Z.SVGRenderer),h.compose(Z.Series.types.column),c.compose(Z.Series),I.compose(Z.Axis),W.compose(Z.SVGRenderer),H.compose(Z.Chart),C.compose(Z.Axis),f.compose(Z.Chart),d.compose(Z.Series.types.pie),A.compose(Z.Chart,Z.Axis),T.compose(Z.Chart),M.compose(Z.Chart),p.compose(Z.Axis,Z.Chart,Z.Series),b.compose(Z.Axis,Z.Chart,Z.Series),P.compose(Z.Pointer),ce.extend(Z,ce),Z}),Ne(Y,"Extensions/ArrowSymbols.js",[],function(){function Z(me,de,he,Q){return[["M",me,de+Q/2],["L",me+he,de],["L",me,de+Q/2],["L",me+he,de+Q]]}function ce(me,de,he,Q){return Z(me,de,he/2,Q)}function xe(me,de,he,Q){return[["M",me+he,de],["L",me,de+Q/2],["L",me+he,de+Q],["Z"]]}function ve(me,de,he,Q){return xe(me,de,he/2,Q)}return{compose:function(me){let de=me.prototype.symbols;de.arrow=Z,de["arrow-filled"]=xe,de["arrow-filled-half"]=ve,de["arrow-half"]=ce,de["triangle-left"]=xe,de["triangle-left-half"]=ve}}}),Ne(Y,"Gantt/Connection.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defined:xe,error:ve,merge:me,objectEach:de}=ce,he=Z.deg2rad,Q=Math.max,te=Math.min;return class{constructor(ee,L,W){this.init(ee,L,W)}init(ee,L,W){this.fromPoint=ee,this.toPoint=L,this.options=W,this.chart=ee.series.chart,this.pathfinder=this.chart.pathfinder}renderPath(ee,L){let W=this.chart,N=W.styledMode,I=this.pathfinder,C={},A=this.graphics&&this.graphics.path;I.group||(I.group=W.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(W.seriesGroup)),I.group.translate(W.plotLeft,W.plotTop),A&&A.renderer||(A=W.renderer.path().add(I.group),N||A.attr({opacity:0})),A.attr(L),C.d=ee,N||(C.opacity=1),A.animate(C),this.graphics=this.graphics||{},this.graphics.path=A}addMarker(ee,L,W){let N,I,C,A,D,P,v,T,H=this.fromPoint.series.chart,B=H.pathfinder,S=H.renderer,p="start"===ee?this.fromPoint:this.toPoint,b=p.getPathfinderAnchorPoint(L);L.enabled&&((T="start"===ee?W[1]:W[W.length-2])&&"M"===T[0]||"L"===T[0])&&(v={x:T[1],y:T[2]},I=p.getRadiansToVector(v,b),N=p.getMarkerVector(I,L.radius,b),C=-I/he,L.width&&L.height?(D=L.width,P=L.height):D=P=2*L.radius,this.graphics=this.graphics||{},A={x:N.x-D/2,y:N.y-P/2,width:D,height:P,rotation:C,rotationOriginX:N.x,rotationOriginY:N.y},this.graphics[ee]?this.graphics[ee].animate(A):(this.graphics[ee]=S.symbol(L.symbol).addClass("highcharts-point-connecting-path-"+ee+"-marker highcharts-color-"+this.fromPoint.colorIndex).attr(A).add(B.group),S.styledMode||this.graphics[ee].attr({fill:L.color||this.fromPoint.color,stroke:L.lineColor,"stroke-width":L.lineWidth,opacity:0}).animate({opacity:1},p.series.options.animation)))}getPath(ee){let L=this.pathfinder,W=this.chart,N=L.algorithms[ee.type],I=L.chartObstacles;return"function"!=typeof N?(ve('"'+ee.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(N.requiresObstacles&&!I&&(I=L.chartObstacles=L.getChartObstacles(ee),W.options.connectors.algorithmMargin=ee.algorithmMargin,L.chartObstacleMetrics=L.getObstacleMetrics(I)),N(this.fromPoint.getPathfinderAnchorPoint(ee.startMarker),this.toPoint.getPathfinderAnchorPoint(ee.endMarker),me({chartObstacles:I,lineObstacles:L.lineObstacles||[],obstacleMetrics:L.chartObstacleMetrics,hardBounds:{xMin:0,xMax:W.plotWidth,yMin:0,yMax:W.plotHeight},obstacleOptions:{margin:ee.algorithmMargin},startDirectionX:L.getAlgorithmStartDirection(ee.startMarker)},ee)))}render(){let ee=this.fromPoint,L=ee.series,W=L.chart,N=W.pathfinder,I={},C=me(W.options.connectors,L.options.connectors,ee.options.connectors,this.options);!W.styledMode&&(I.stroke=C.lineColor||ee.color,I["stroke-width"]=C.lineWidth,C.dashStyle&&(I.dashstyle=C.dashStyle)),I.class="highcharts-point-connecting-path highcharts-color-"+ee.colorIndex,xe((C=me(I,C)).marker.radius)||(C.marker.radius=te(Q(Math.ceil((C.algorithmMargin||8)/2)-1,1),5));let A=this.getPath(C),D=A.path;A.obstacles&&(N.lineObstacles=N.lineObstacles||[],N.lineObstacles=N.lineObstacles.concat(A.obstacles)),this.renderPath(D,I),this.addMarker("start",me(C.marker,C.startMarker),D),this.addMarker("end",me(C.marker,C.endMarker),D)}destroy(){this.graphics&&(de(this.graphics,function(ee){ee.destroy()}),delete this.graphics)}}}),Ne(Y,"Extensions/CurrentDateIndication.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{composed:xe}=Z,{addEvent:ve,merge:me,pushUnique:de,wrap:he}=ce,Q={color:"#ccd3ff",width:2,label:{format:"%a, %b %d %Y, %H:%M",formatter:function(W,N){return this.axis.chart.time.dateFormat(N||"",W)},rotation:0,style:{fontSize:"0.7em"}}};function te(){let W=this.options,N=W.currentDateIndicator;if(N){let I="object"==typeof N?me(Q,N):me(Q);I.value=Date.now(),I.className="highcharts-current-date-indicator",W.plotLines||(W.plotLines=[]),W.plotLines.push(I)}}function ee(){this.label&&this.label.attr({text:this.getLabelText(this.options.label)})}function L(W,N){let I=this.options;return I&&I.className&&-1!==I.className.indexOf("highcharts-current-date-indicator")&&I.label&&"function"==typeof I.label.formatter?(I.value=Date.now(),I.label.formatter.call(this,I.value,I.label.format)):W.call(this,N)}return{compose:function(W,N){de(xe,"CurrentDateIndication")&&(ve(W,"afterSetOptions",te),ve(N,"render",ee),he(N.prototype,"getLabelText",L))}}}),Ne(Y,"Core/Chart/GanttChart.js",[Y["Core/Chart/Chart.js"],Y["Core/Defaults.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{defaultOptions:me}=ce,{isArray:de,merge:he,splat:Q}=xe;class te extends Z{init(L,W){let N,I=L.xAxis,C=L.yAxis;L.xAxis=L.yAxis=void 0;let A=he(!0,{chart:{type:"gantt"},title:{text:""},legend:{enabled:!1},navigator:{series:{type:"gantt"},yAxis:{type:"category"}}},L,{isGantt:!0});L.xAxis=I,L.yAxis=C,A.xAxis=(de(L.xAxis)?L.xAxis:[L.xAxis||{},{}]).map((D,P)=>(1===P&&(N=0),he({grid:{borderColor:"#cccccc",enabled:!0},opposite:me.xAxis?.opposite??D.opposite??!0,linkedTo:N},D,{type:"datetime"}))),A.yAxis=Q(L.yAxis||{}).map(D=>he({grid:{borderColor:"#cccccc",enabled:!0},staticScale:50,reversed:!0,type:D.categories?D.type:"treegrid"},D)),super.init(A,W)}}return(ve=te||(te={})).ganttChart=function(ee,L,W){return new ve(ee,L,W)},te}),Ne(Y,"Stock/Navigator/ChartNavigatorComposition.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let xe,{isTouchDevice:ve}=Z,{addEvent:me,merge:de,pick:he}=ce,Q=[];function te(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function ee(){let A,D,P,v=this.legend,T=this.navigator;if(T){A=v&&v.options,D=T.xAxis,P=T.yAxis;let{scrollbarHeight:H,scrollButtonSize:B}=T;this.inverted?(T.left=T.opposite?this.chartWidth-H-T.height:this.spacing[3]+H,T.top=this.plotTop+B):(T.left=he(D.left,this.plotLeft+B),T.top=T.navigatorOptions.top||this.chartHeight-T.height-H-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(A&&"bottom"===A.verticalAlign&&"proximate"!==A.layout&&A.enabled&&!A.floating?v.legendHeight+he(A.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),D&&P&&(this.inverted?D.options.left=P.options.left=T.left:D.options.top=P.options.top=T.top,D.setAxisSize(),P.setAxisSize())}}function L(A){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new xe(this),he(A.redraw,!0)&&this.redraw(A.animation))}function W(){let A=this.options;(A.navigator.enabled||A.scrollbar.enabled)&&(this.scroller=this.navigator=new xe(this))}function N(){let A=this.options,D=A.navigator,P=A.rangeSelector;if((D&&D.enabled||P&&P.enabled)&&(!ve&&"x"===this.zooming.type||ve&&"x"===this.zooming.pinchType))return!1}function I(A){let D=A.navigator;if(D&&A.xAxis[0]){let P=A.xAxis[0].getExtremes();D.render(P.min,P.max)}}function C(A){let D=A.options.navigator||{},P=A.options.scrollbar||{};!this.navigator&&!this.scroller&&(D.enabled||P.enabled)&&(de(!0,this.options.navigator,D),de(!0,this.options.scrollbar,P),delete A.options.navigator,delete A.options.scrollbar)}return{compose:function(A,D){ce.pushUnique(Q,A)&&(xe=D,A.prototype.callbacks.push(I),me(A,"afterAddSeries",te),me(A,"afterSetChartSize",ee),me(A,"afterUpdate",L),me(A,"beforeRender",W),me(A,"beforeShowResetZoom",N),me(A,"update",C))}}}),Ne(Y,"Core/Axis/NavigatorAxisComposition.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{isTouchDevice:xe}=Z,{addEvent:ve,correctFloat:me,defined:de,isNumber:he,pick:Q}=ce;function te(){this.navigatorAxis||(this.navigatorAxis=new L(this))}function ee(W){let N,I=this.chart,C=I.options,A=C.navigator,D=this.navigatorAxis,P=I.zooming.pinchType,v=C.rangeSelector,T=I.zooming.type;if(this.isXAxis&&(A?.enabled||v?.enabled))if("y"===T&&"zoom"===W.trigger)N=!1;else if(("zoom"===W.trigger&&"xy"===T||xe&&"xy"===P)&&this.options.range){let H=D.previousZoom;de(W.min)?D.previousZoom=[this.min,this.max]:H&&(W.min=H[0],W.max=H[1],D.previousZoom=void 0)}void 0!==N&&W.preventDefault()}class L{static compose(N){N.keepProps.includes("navigatorAxis")||(N.keepProps.push("navigatorAxis"),ve(N,"init",te),ve(N,"setExtremes",ee))}constructor(N){this.axis=N}destroy(){this.axis=void 0}toFixedRange(N,I,C,A){let D=this.axis,P=(D.pointRange||0)/2,v=Q(C,D.translate(N,!0,!D.horiz)),T=Q(A,D.translate(I,!0,!D.horiz));return de(C)||(v=me(v+P)),de(A)||(T=me(T-P)),he(v)&&he(T)||(v=T=void 0),{min:v,max:T}}}return L}),Ne(Y,"Stock/Navigator/NavigatorDefaults.js",[Y["Core/Color/Color.js"],Y["Core/Series/SeriesRegistry.js"]],function(Z,ce){let{parse:xe}=Z,{seriesTypes:ve}=ce;return{height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:xe("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===ve.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),Ne(Y,"Stock/Navigator/NavigatorSymbols.js",[Y["Core/Renderer/SVG/Symbols.js"],Y["Core/Utilities.js"]],function(Z,ce){let{relativeLength:xe}=ce;return{"navigator-handle":function(ve,me,de,he,Q={}){let te=Q.width?Q.width/2:de,ee=xe(Q.borderRadius||0,Math.min(2*te,he));return[["M",-1.5,(he=Q.height||he)/2-3.5],["L",-1.5,he/2+4.5],["M",.5,he/2-3.5],["L",.5,he/2+4.5],...Z.rect(-te-1,.5,2*te+1,he,{r:ee})]}}}),Ne(Y,"Stock/Utilities/StockUtilities.js",[Y["Core/Utilities.js"]],function(Z){let{defined:ce}=Z;return{setFixedRange:function(xe){let ve=this.xAxis[0];this.fixedRange=ce(ve.dataMax)&&ce(ve.dataMin)&&xe?Math.min(xe,ve.dataMax-ve.dataMin):xe}}}),Ne(Y,"Stock/Navigator/NavigatorComposition.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Axis/NavigatorAxisComposition.js"],Y["Stock/Navigator/NavigatorDefaults.js"],Y["Stock/Navigator/NavigatorSymbols.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Stock/Utilities/StockUtilities.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){let{setOptions:te}=Z,{composed:ee}=ce,{getRendererType:L}=de,{setFixedRange:W}=he,{addEvent:N,extend:I,pushUnique:C}=Q;function A(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function(D,P,v){xe.compose(P),C(ee,"Navigator")&&(D.prototype.setFixedRange=W,I(L().prototype.symbols,me),N(v,"afterUpdate",A),te({navigator:ve}))}}}),Ne(Y,"Core/Axis/ScrollbarAxis.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){var xe;let{composed:ve}=Z,{addEvent:me,defined:de,pick:he,pushUnique:Q}=ce;return function(te){let ee;function L(C){let A=he(C.options&&C.options.min,C.min),D=he(C.options&&C.options.max,C.max);return{axisMin:A,axisMax:D,scrollMin:de(C.dataMin)?Math.min(A,C.min,C.dataMin,he(C.threshold,1/0)):A,scrollMax:de(C.dataMax)?Math.max(D,C.max,C.dataMax,he(C.threshold,-1/0)):D}}function W(){let C=this.scrollbar,D=this.horiz?2:C&&!C.options.opposite?3:1;C&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[D]+=C.size+(C.options.margin||0))}function N(){let C=this;C.options&&C.options.scrollbar&&C.options.scrollbar.enabled&&(C.options.scrollbar.vertical=!C.horiz,C.options.startOnTick=C.options.endOnTick=!1,C.scrollbar=new ee(C.chart.renderer,C.options.scrollbar,C.chart),me(C.scrollbar,"changed",function(A){let D,P,{axisMin:v,axisMax:T,scrollMin:H,scrollMax:B}=L(C),S=B-H;de(v)&&de(T)&&(C.horiz&&!C.reversed||!C.horiz&&C.reversed?(D=H+S*this.to,P=H+S*this.from):(D=H+S*(1-this.from),P=H+S*(1-this.to)),this.shouldUpdateExtremes(A.DOMType)?C.setExtremes(P,D,!0,"mousemove"!==A.DOMType&&"touchmove"!==A.DOMType&&void 0,A):this.setRange(this.from,this.to))}))}function I(){let C,A,D,{scrollMin:P,scrollMax:v}=L(this),T=this.scrollbar,H=this.axisTitleMargin+(this.titleOffset||0),B=this.chart.scrollbarsOffsets,S=this.options.margin||0;if(T&&B){if(this.horiz)this.opposite||(B[1]+=H),T.position(this.left,this.top+this.height+2+B[1]-(this.opposite?S:0),this.width,this.height),this.opposite||(B[1]+=S),C=1;else{let p;this.opposite&&(B[0]+=H),p=T.options.opposite?this.left+this.width+2+B[0]-(this.opposite?0:S):this.opposite?0:S,T.position(p,this.top,this.width,this.height),this.opposite&&(B[0]+=S),C=0}if(B[C]+=T.size+(T.options.margin||0),isNaN(P)||isNaN(v)||!de(this.min)||!de(this.max)||this.dataMin===this.dataMax)T.setRange(0,1);else if(this.min===this.max){let p=this.pointRange/(this.dataMax+1);A=p*this.min,D=p*(this.max+1),T.setRange(A,D)}else A=(this.min-P)/(v-P),D=(this.max-P)/(v-P),this.horiz&&!this.reversed||!this.horiz&&this.reversed?T.setRange(A,D):T.setRange(1-D,1-A)}}te.compose=function(C,A){Q(ve,"Axis.Scrollbar")&&(ee=A,me(C,"afterGetOffset",W),me(C,"afterInit",N),me(C,"afterRender",I))}}(xe||(xe={})),xe}),Ne(Y,"Stock/Scrollbar/ScrollbarDefaults.js",[],function(){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),Ne(Y,"Stock/Scrollbar/Scrollbar.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Axis/ScrollbarAxis.js"],Y["Stock/Scrollbar/ScrollbarDefaults.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{defaultOptions:de}=Z,{addEvent:he,correctFloat:Q,crisp:te,defined:ee,destroyObjectProperties:L,fireEvent:W,merge:N,pick:I,removeEvent:C}=me;class A{static compose(P){xe.compose(P,A)}static swapXY(P,v){return v&&P.forEach(T=>{let H,B=T.length;for(let S=0;S<B;S+=2)"number"==typeof(H=T[S+1])&&(T[S+1]=T[S+2],T[S+2]=H)}),P}constructor(P,v,T){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(P,v,T)}addEvents(){let P=this.options.inverted?[1,0]:[0,1],v=this.scrollbarButtons,T=this.scrollbarGroup.element,H=this.track.element,B=this.mouseDownHandler.bind(this),S=this.mouseMoveHandler.bind(this),p=this.mouseUpHandler.bind(this),b=[[v[P[0]].element,"click",this.buttonToMinClick.bind(this)],[v[P[1]].element,"click",this.buttonToMaxClick.bind(this)],[H,"click",this.trackClick.bind(this)],[T,"mousedown",B],[T.ownerDocument,"mousemove",S],[T.ownerDocument,"mouseup",p],[T,"touchstart",B],[T.ownerDocument,"touchmove",S],[T.ownerDocument,"touchend",p]];b.forEach(function(l){he.apply(null,l)}),this._events=b}buttonToMaxClick(P){let v=(this.to-this.from)*I(this.options.step,.2);this.updatePosition(this.from+v,this.to+v),W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}buttonToMinClick(P){let v=Q(this.to-this.from)*I(this.options.step,.2);this.updatePosition(Q(this.from-v),Q(this.to-v)),W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}cursorToScrollbarPosition(P){let v=this.options,T=v.minWidth>this.calculatedWidth?v.minWidth:0;return{chartX:(P.chartX-this.x-this.xOffset)/(this.barWidth-T),chartY:(P.chartY-this.y-this.yOffset)/(this.barWidth-T)}}destroy(){let P=this,v=P.chart.scroller;P.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(T){P[T]&&P[T].destroy&&(P[T]=P[T].destroy())}),v&&P===v.scrollbar&&(v.scrollbar=null,L(v.scrollbarButtons))}drawScrollbarButton(P){let v=this.renderer,T=this.scrollbarButtons,H=this.options,B=this.size,S=v.g().add(this.group);if(T.push(S),H.buttonsEnabled){let p=v.rect().addClass("highcharts-scrollbar-button").add(S);this.chart.styledMode||p.attr({stroke:H.buttonBorderColor,"stroke-width":H.buttonBorderWidth,fill:H.buttonBackgroundColor}),p.attr(p.crisp({x:-.5,y:-.5,width:B,height:B,r:H.buttonBorderRadius},p.strokeWidth()));let b=v.path(A.swapXY([["M",B/2+(P?-1:1),B/2-3],["L",B/2+(P?-1:1),B/2+3],["L",B/2+(P?2:-2),B/2]],H.vertical)).addClass("highcharts-scrollbar-arrow").add(T[P]);this.chart.styledMode||b.attr({fill:H.buttonArrowColor})}}init(P,v,T){this.scrollbarButtons=[],this.renderer=P,this.userOptions=v,this.options=N(ve,de.scrollbar,v),this.options.margin=I(this.options.margin,10),this.chart=T,this.size=I(this.options.size,this.options.height),v.enabled&&(this.render(),this.addEvents())}mouseDownHandler(P){let v=this.chart.pointer?.normalize(P)||P,T=this.cursorToScrollbarPosition(v);this.chartX=T.chartX,this.chartY=T.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(P){let v,T=this.chart.pointer?.normalize(P)||P,H=this.options.vertical?"chartY":"chartX",B=this.initPositions||[];this.grabbedCenter&&(!P.touches||0!==P.touches[0][H])&&(v=this.cursorToScrollbarPosition(T)[H]-this[H],this.hasDragged=!0,this.updatePosition(B[0]+v,B[1]+v),this.hasDragged&&W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}))}mouseUpHandler(P){this.hasDragged&&W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(P,v,T,H){let{buttonsEnabled:B,margin:S=0,vertical:p}=this.options,b=this.rendered?"animate":"attr",l=H,n=0;this.group.show(),this.x=P,this.y=v+this.trackBorderWidth,this.width=T,this.height=H,this.xOffset=l,this.yOffset=n,p?(this.width=this.yOffset=T=n=this.size,this.xOffset=l=0,this.yOffset=n=B?this.size:0,this.barWidth=H-(B?2*T:0),this.x=P+=S):(this.height=H=this.size,this.xOffset=l=B?this.size:0,this.barWidth=T-(B?2*H:0),this.y=this.y+S),this.group[b]({translateX:P,translateY:this.y}),this.track[b]({width:T,height:H}),this.scrollbarButtons[1][b]({translateX:p?0:T-l,translateY:p?H-n:0})}removeEvents(){this._events.forEach(function(P){C.apply(null,P)}),this._events.length=0}render(){let P=this.renderer,v=this.options,T=this.size,H=this.chart.styledMode,B=P.g("scrollbar").attr({zIndex:v.zIndex}).hide().add();this.group=B,this.track=P.rect().addClass("highcharts-scrollbar-track").attr({r:v.trackBorderRadius||0,height:T,width:T}).add(B),H||this.track.attr({fill:v.trackBackgroundColor,stroke:v.trackBorderColor,"stroke-width":v.trackBorderWidth});let S=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-te(0,S),y:-te(0,S)}),this.scrollbarGroup=P.g().add(B),this.scrollbar=P.rect().addClass("highcharts-scrollbar-thumb").attr({height:T-S,width:T-S,r:v.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=P.path(A.swapXY([["M",-3,T/4],["L",-3,2*T/3],["M",0,T/4],["L",0,2*T/3],["M",3,T/4],["L",3,2*T/3]],v.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),H||(this.scrollbar.attr({fill:v.barBackgroundColor,stroke:v.barBorderColor,"stroke-width":v.barBorderWidth}),this.scrollbarRifles.attr({stroke:v.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-te(0,this.scrollbarStrokeWidth),-te(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(P,v){let T,H,B=this.options,S=B.vertical,p=B.minWidth,b=this.barWidth,l=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!ee(b))return;let n=b*Math.min(v,1);T=Math.ceil(b*(P=Math.max(P,0))),this.calculatedWidth=H=Q(n-T),H<p&&(T=(b-p+H)*P,H=p);let o=Math.floor(T+this.xOffset+this.yOffset),h=H/2-.5;this.from=P,this.to=v,S?(this.scrollbarGroup[l]({translateY:o}),this.scrollbar[l]({height:H}),this.scrollbarRifles[l]({translateY:h}),this.scrollbarTop=o,this.scrollbarLeft=0):(this.scrollbarGroup[l]({translateX:o}),this.scrollbar[l]({width:H}),this.scrollbarRifles[l]({translateX:h}),this.scrollbarLeft=o,this.scrollbarTop=0),H<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===B.showFull&&(P<=0&&v>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(P){return I(this.options.liveRedraw,ce.svg&&!ce.isTouchDevice&&!this.chart.boosted)||"mouseup"===P||"touchend"===P||!ee(P)}trackClick(P){let v=this.chart.pointer?.normalize(P)||P,T=this.to-this.from;this.options.vertical&&v.chartY>this.y+this.scrollbarTop||!this.options.vertical&&v.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+T,this.to+T):this.updatePosition(this.from-T,this.to-T),W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}update(P){this.destroy(),this.init(this.chart.renderer,N(!0,this.options,P),this.chart)}updatePosition(P,v){v>1&&(P=Q(1-Q(v-P)),v=1),P<0&&(v=Q(v-P),P=0),this.from=P,this.to=v}}return A.defaultOptions=ve,de.scrollbar=N(!0,A.defaultOptions,de.scrollbar),A}),Ne(Y,"Stock/Navigator/Navigator.js",[Y["Core/Axis/Axis.js"],Y["Stock/Navigator/ChartNavigatorComposition.js"],Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Axis/NavigatorAxisComposition.js"],Y["Stock/Navigator/NavigatorComposition.js"],Y["Stock/Scrollbar/Scrollbar.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te){let{defaultOptions:ee}=xe,{isTouchDevice:L}=ve,{prototype:{symbols:W}}=Q,{addEvent:N,clamp:I,correctFloat:C,defined:A,destroyObjectProperties:D,erase:P,extend:v,find:T,fireEvent:H,isArray:B,isNumber:S,merge:p,pick:b,removeEvent:l,splat:n}=te;function o(d,...c){let f=[].filter.call(c,S);if(f.length)return Math[d].apply(0,f)}class h{static compose(c,f,u){ce.compose(c,h),de.compose(c,f,u)}constructor(c){this.isDirty=!1,this.scrollbarHeight=0,this.init(c)}drawHandle(c,f,u,M){let U=this.navigatorOptions.handles.height;this.handles[f][M](u?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(c,10)+.5-U)}:{translateX:Math.round(this.left+parseInt(c,10)),translateY:Math.round(this.top+this.height/2-U/2-1)})}drawOutline(c,f,u,M){let F,R,U=this.navigatorOptions.maskInside,x=this.outline.strokeWidth(),O=x/2,z=x%2/2,j=this.scrollButtonSize,J=this.size,y=this.top,w=this.height,E=y-O,X=y+w,m=this.left;u?(F=y+f+z,R=[["M",m+w,y-j-z],["L",m+w,F],["L",m,F],["M",m,f=y+c+z],["L",m+w,f],["L",m+w,y+J+j]],U&&R.push(["M",m+w,F-O],["L",m+w,f+O])):(m-=j,R=[["M",m,E],["L",c+=m+j-z,E],["L",c,X],["M",f+=m+j-z,X],["L",f,E],["L",m+J+2*j,E]],U&&R.push(["M",c-O,E],["L",f+O,E])),this.outline[M]({d:R})}drawMasks(c,f,u,M){let U,x,O,z,j=this.left,J=this.top,y=this.height;u?(O=[j,j,j],z=[J,J+c,J+f],x=[y,y,y],U=[c,f-c,this.size-f]):(O=[j,j+c,j+f],z=[J,J,J],x=[c,f-c,this.size-f],U=[y,y,y]),this.shades.forEach((w,E)=>{w[M]({x:O[E],y:z[E],width:x[E],height:U[E]})})}renderElements(){let c=this,f=c.navigatorOptions,u=f.maskInside,M=c.chart,x=M.renderer,O={cursor:M.inverted?"ns-resize":"ew-resize"},z=c.navigatorGroup??(c.navigatorGroup=x.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!u,u,!u].forEach((j,J)=>{let y=c.shades[J]??(c.shades[J]=x.rect().addClass("highcharts-navigator-mask"+(1===J?"-inside":"-outside")).add(z));M.styledMode||(y.attr({fill:j?f.maskFill:"rgba(0,0,0,0)"}),1===J&&y.css(O))}),c.outline||(c.outline=x.path().addClass("highcharts-navigator-outline").add(z)),M.styledMode||c.outline.attr({"stroke-width":f.outlineWidth,stroke:f.outlineColor}),f.handles?.enabled){let j=f.handles,{height:J,width:y}=j;[0,1].forEach(w=>{let E=j.symbols[w];if(c.handles[w]&&c.handles[w].symbolUrl===E){if(!c.handles[w].isImg&&c.handles[w].symbolName!==E){let X=W[E].call(W,-y/2-1,0,y,J);c.handles[w].attr({d:X}),c.handles[w].symbolName=E}}else c.handles[w]?.destroy(),c.handles[w]=x.symbol(E,-y/2-1,0,y,J,j),c.handles[w].attr({zIndex:7-w}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][w]).add(z),c.addMouseEvents();M.inverted&&c.handles[w].attr({rotation:90,rotationOriginX:Math.floor(-y/2),rotationOriginY:(J+y)/2}),M.styledMode||c.handles[w].attr({fill:j.backgroundColor,stroke:j.borderColor,"stroke-width":j.lineWidth,width:j.width,height:j.height,x:-y/2-1,y:0}).css(O)})}}update(c,f=!1){let u=this.chart,M=u.options.chart.inverted!==u.scrollbar?.options.vertical;if(p(!0,u.options.navigator,c),this.navigatorOptions=u.options.navigator||{},this.setOpposite(),A(c.enabled)||M)return this.destroy(),this.navigatorEnabled=c.enabled||this.navigatorEnabled,this.init(u);if(this.navigatorEnabled&&(this.isDirty=!0,!1===c.adaptToUpdatedData&&this.baseSeries.forEach(U=>{l(U,"updatedData",this.updatedDataHandler)},this),c.adaptToUpdatedData&&this.baseSeries.forEach(U=>{U.eventsToUnbind.push(N(U,"updatedData",this.updatedDataHandler))},this),(c.series||c.baseSeries)&&this.setBaseSeries(void 0,!1),c.height||c.xAxis||c.yAxis)){this.height=c.height??this.height;let U=this.getXAxisOffsets();this.xAxis.update({...c.xAxis,offsets:U,[u.inverted?"width":"height"]:this.height,[u.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...c.yAxis,[u.inverted?"width":"height"]:this.height},!1)}f&&u.redraw()}render(c,f,u,M){let m,F,R,G,K,U=this.chart,x=this.xAxis,O=x.pointRange||0,z=x.navigatorAxis.fake?U.xAxis[0]:x,j=this.navigatorEnabled,J=this.rendered,y=U.inverted,w=U.xAxis[0].minRange,E=U.xAxis[0].options.maxRange,X=this.scrollButtonSize,_=this.scrollbarHeight;if(this.hasDragged&&!A(u))return;if(this.isDirty&&this.renderElements(),c=C(c-O/2),f=C(f+O/2),!S(c)||!S(f)){if(!J)return;u=0,M=b(x.width,z.width)}this.left=b(x.left,U.plotLeft+X+(y?U.plotWidth:0));let oe=this.size=G=b(x.len,(y?U.plotHeight:U.plotWidth)-2*X);m=y?_:G+2*X,u=b(u,x.toPixels(c,!0)),M=b(M,x.toPixels(f,!0)),S(u)&&Math.abs(u)!==1/0||(u=0,M=m);let ae=x.toValue(u,!0),ue=x.toValue(M,!0),be=Math.abs(C(ue-ae));be<w?this.grabbedLeft?u=x.toPixels(ue-w-O,!0):this.grabbedRight&&(M=x.toPixels(ae+w+O,!0)):A(E)&&C(be-O)>E&&(this.grabbedLeft?u=x.toPixels(ue-E-O,!0):this.grabbedRight&&(M=x.toPixels(ae+E+O,!0))),this.zoomedMax=I(Math.max(u,M),0,oe),this.zoomedMin=I(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(u,M),0,oe),this.range=this.zoomedMax-this.zoomedMin,oe=Math.round(this.zoomedMax);let Se=Math.round(this.zoomedMin);j&&(this.navigatorGroup.attr({visibility:"inherit"}),K=J&&!this.hasDragged?"animate":"attr",this.drawMasks(Se,oe,y,K),this.drawOutline(Se,oe,y,K),this.navigatorOptions.handles.enabled&&(this.drawHandle(Se,0,y,K),this.drawHandle(oe,1,y,K))),this.scrollbar&&(y?(R=this.top-X,F=this.left-_+(j||!z.opposite?0:(z.titleOffset||0)+z.axisTitleMargin),_=G+2*X):(R=this.top+(j?this.height:-_),F=this.left-X),this.scrollbar.position(F,R,m,_),this.scrollbar.setRange(this.zoomedMin/(G||1),this.zoomedMax/(G||1))),this.rendered=!0,this.isDirty=!1,H(this,"afterRender")}addMouseEvents(){let U,x,c=this,f=c.chart,u=f.container,M=[];c.mouseMoveHandler=U=function(O){c.onMouseMove(O)},c.mouseUpHandler=x=function(O){c.onMouseUp(O)},(M=c.getPartsEvents("mousedown")).push(N(f.renderTo,"mousemove",U),N(u.ownerDocument,"mouseup",x),N(f.renderTo,"touchmove",U),N(u.ownerDocument,"touchend",x)),M.concat(c.getPartsEvents("touchstart")),c.eventsToUnbind=M,c.series&&c.series[0]&&M.push(N(c.series[0].xAxis,"foundExtremes",function(){f.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(c){let f=this,u=[];return["shades","handles"].forEach(function(M){f[M].forEach(function(U,x){u.push(N(U.element,c,function(O){f[M+"Mousedown"](O,x)}))})}),u}shadesMousedown(c,f){c=this.chart.pointer?.normalize(c)||c;let J,y,w,E,M=this.xAxis,U=this.zoomedMin,x=this.size,O=this.range,z=this.left,j=c.chartX;this.chart.inverted&&(j=c.chartY,z=this.top),1===f?(this.grabbedCenter=j,this.fixedWidth=O,this.dragOffset=j-U):(E=j-z-O/2,0===f?E=Math.max(0,E):2===f&&E+O>=x&&(E=x-O,this.reversedExtremes?(E-=O,y=this.getUnionExtremes().dataMin):J=this.getUnionExtremes().dataMax),E!==U&&(this.fixedWidth=O,A((w=M.navigatorAxis.toFixedRange(E,E+O,y,J)).min)&&H(this,"setRange",{min:Math.min(w.min,w.max),max:Math.max(w.min,w.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(c,f){c=this.chart.pointer?.normalize(c)||c;let u=this.chart,M=u.xAxis[0],U=this.reversedExtremes;0===f?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=U?M.min:M.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=U?M.max:M.min),u.setFixedRange(void 0)}onMouseMove(c){let j,f=this,u=f.chart,M=f.navigatorSize,U=f.range,x=f.dragOffset,O=u.inverted,z=f.left;(!c.touches||0!==c.touches[0].pageX)&&(j=(c=u.pointer?.normalize(c)||c).chartX,O&&(z=f.top,j=c.chartY),f.grabbedLeft?(f.hasDragged=!0,f.render(0,0,j-z,f.otherHandlePos)):f.grabbedRight?(f.hasDragged=!0,f.render(0,0,f.otherHandlePos,j-z)):f.grabbedCenter&&(f.hasDragged=!0,j<x?j=x:j>M+x-U&&(j=M+x-U),f.render(0,0,j-x,j-x+U)),f.hasDragged&&f.scrollbar&&b(f.scrollbar.options.liveRedraw,!L&&!this.chart.boosted)&&(c.DOMType=c.type,setTimeout(function(){f.onMouseUp(c)},0)))}onMouseUp(c){let f,u,M,U,x,O,j=this.xAxis,J=this.scrollbar,y=c.DOMEvent||c,w=this.chart.inverted,E=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!J||!J.hasDragged)||"scrollbar"===c.trigger)&&(M=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?U=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(x=this.fixedExtreme),this.zoomedMax===this.size&&(x=this.reversedExtremes?M.dataMin:M.dataMax),0===this.zoomedMin&&(U=this.reversedExtremes?M.dataMax:M.dataMin),A((O=j.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,U,x)).min)&&H(this,"setRange",{min:Math.min(O.min,O.max),max:Math.max(O.min,O.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:y}})),"mousemove"!==c.DOMType&&"touchmove"!==c.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&S(this.zoomedMin)&&S(this.zoomedMax)&&(u=Math.round(this.zoomedMin),f=Math.round(this.zoomedMax),this.shades&&this.drawMasks(u,f,w,E),this.outline&&this.drawOutline(u,f,w,E),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(u,0,w,E),this.drawHandle(f,1,w,E)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(c){c()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let c=this.baseSeries||[];this.navigatorEnabled&&c[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&c.forEach(function(f){l(f,"updatedData",this.updatedDataHandler)},this),c[0].xAxis&&l(c[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(c){let f=c.options,u=f.navigator||{},M=u.enabled,U=f.scrollbar||{},x=U.enabled,O=M&&u.height||0,z=x&&U.height||0,j=U.buttonsEnabled&&z||0;this.handles=[],this.shades=[],this.chart=c,this.setBaseSeries(),this.height=O,this.scrollbarHeight=z,this.scrollButtonSize=j,this.scrollbarEnabled=x,this.navigatorEnabled=M,this.navigatorOptions=u,this.scrollbarOptions=U,this.setOpposite();let J=this,y=J.baseSeries,w=c.xAxis.length,E=c.yAxis.length,X=y&&y[0]&&y[0].xAxis||c.xAxis[0]||{options:{}};if(c.isDirtyBox=!0,J.navigatorEnabled){let m=this.getXAxisOffsets();J.xAxis=new Z(c,p({breaks:X.options.breaks,ordinal:X.options.ordinal,overscroll:X.options.overscroll},u.xAxis,{type:"datetime",yAxis:u.yAxis?.id,index:w,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:X.options.ordinal?0:X.options.minPadding,maxPadding:X.options.ordinal?0:X.options.maxPadding,zoomEnabled:!1},c.inverted?{offsets:m,width:O}:{offsets:m,height:O}),"xAxis"),J.yAxis=new Z(c,p(u.yAxis,{alignTicks:!1,offset:0,index:E,isInternal:!0,reversed:b(u.yAxis&&u.yAxis.reversed,c.yAxis[0]&&c.yAxis[0].reversed,!1),zoomEnabled:!1},c.inverted?{width:O}:{height:O}),"yAxis"),y||u.series.data?J.updateNavigatorSeries(!1):0===c.series.length&&(J.unbindRedraw=N(c,"beforeRedraw",function(){c.series.length>0&&!J.series&&(J.setBaseSeries(),J.unbindRedraw())})),J.reversedExtremes=c.inverted&&!J.xAxis.reversed||!c.inverted&&J.xAxis.reversed,J.renderElements(),J.addMouseEvents()}else J.xAxis={chart:c,navigatorAxis:{fake:!0},translate:function(m,F){let R=c.xAxis[0],_=R.getExtremes(),G=R.len-2*j,K=o("min",R.options.min,_.dataMin),oe=o("max",R.options.max,_.dataMax)-K;return F?m*oe/G+K:G*(m-K)/oe},toPixels:function(m){return this.translate(m)},toValue:function(m){return this.translate(m,!0)}},J.xAxis.navigatorAxis.axis=J.xAxis,J.xAxis.navigatorAxis.toFixedRange=me.prototype.toFixedRange.bind(J.xAxis.navigatorAxis);if(c.options.scrollbar.enabled){let m=p(c.options.scrollbar,{vertical:c.inverted});!S(m.margin)&&J.navigatorEnabled&&(m.margin=c.inverted?-3:3),c.scrollbar=J.scrollbar=new he(c.renderer,m,c),N(J.scrollbar,"changed",function(F){let R=J.size,_=R*this.to,G=R*this.from;J.hasDragged=J.scrollbar.hasDragged,J.render(0,0,G,_),this.shouldUpdateExtremes(F.DOMType)&&setTimeout(function(){J.onMouseUp(F)})})}J.addBaseSeriesEvents(),J.addChartEvents()}setOpposite(){this.opposite=b(this.navigatorOptions.opposite,!(this.navigatorEnabled||!this.chart.inverted))}getUnionExtremes(c){let f,u=this.chart.xAxis[0],M=this.xAxis,U=M.options,x=u.options;return c&&null===u.dataMin||(f={dataMin:b(U&&U.min,o("min",x.min,u.dataMin,M.dataMin,M.min)),dataMax:b(U&&U.max,o("max",x.max,u.dataMax,M.dataMax,M.max))}),f}setBaseSeries(c,f){let u=this.chart,M=this.baseSeries=[];c=c||u.options&&u.options.navigator.baseSeries||(u.series.length?T(u.series,U=>!U.options.isInternal).index:0),(u.series||[]).forEach((U,x)=>{!U.options.isInternal&&(U.options.showInNavigator||(x===c||U.options.id===c)&&!1!==U.options.showInNavigator)&&M.push(U)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,f)}updateNavigatorSeries(c,f){let z,j,y,u=this,M=u.chart,U=u.baseSeries,x={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},O=u.series=(u.series||[]).filter(w=>{let E=w.baseSeries;return!(0>U.indexOf(E)&&(E&&(l(E,"updatedData",u.updatedDataHandler),delete E.navigatorSeries),w.chart&&w.destroy(),1))}),J=u.navigatorOptions.series;U&&U.length&&U.forEach(w=>{let E=w.navigatorSeries,X=v({color:w.color,visible:w.visible},B(J)?ee.navigator.series:J);if(E&&!1===u.navigatorOptions.adaptToUpdatedData)return;x.name="Navigator "+U.length,y=(z=w.options||{}).navigatorOptions||{},X.dataLabels=n(X.dataLabels),(j=p(z,x,X,y)).pointRange=b(X.pointRange,y.pointRange,ee.plotOptions[j.type||"line"].pointRange);let m=y.data||X.data;u.hasNavigatorData=u.hasNavigatorData||!!m,j.data=m||z.data&&z.data.slice(0),E&&E.options?E.update(j,f):(w.navigatorSeries=M.initSeries(j),M.setSortedData(),w.navigatorSeries.baseSeries=w,O.push(w.navigatorSeries))}),(J.data&&!(U&&U.length)||B(J))&&(u.hasNavigatorData=!1,(J=n(J)).forEach((w,E)=>{x.name="Navigator "+(O.length+1),(j=p(ee.navigator.series,{color:M.series[E]&&!M.series[E].options.isInternal&&M.series[E].color||M.options.colors[E]||M.options.colors[0]},x,w)).data=w.data,j.data&&(u.hasNavigatorData=!0,O.push(M.initSeries(j)))})),c&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let c=this,f=c.baseSeries||[];f[0]&&f[0].xAxis&&f[0].eventsToUnbind.push(N(f[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),f.forEach(u=>{u.eventsToUnbind.push(N(u,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),u.eventsToUnbind.push(N(u,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&u.xAxis&&u.eventsToUnbind.push(N(u,"updatedData",this.updatedDataHandler)),u.eventsToUnbind.push(N(u,"remove",function(){f&&P(f,u),this.navigatorSeries&&(P(c.series,this.navigatorSeries),A(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(c){return this.baseSeries.reduce(function(f,u){return Math.min(f,u.xData&&u.xData.length?u.xData[0]:f)},c)}modifyNavigatorAxisExtremes(){let c=this.xAxis;if(void 0!==c.getExtremes){let f=this.getUnionExtremes(!0);f&&(f.dataMin!==c.min||f.dataMax!==c.max)&&(c.min=f.dataMin,c.max=f.dataMax)}}modifyBaseAxisExtremes(){let c,f,u=this.chart.navigator,M=this.getExtremes(),O=M.dataMin,z=M.dataMax,j=M.max-M.min,J=u.stickToMin,y=u.stickToMax,w=b(this.ordinal?.convertOverscroll(this.options.overscroll),0),E=u.series&&u.series[0],X=!!this.setExtremes;!(this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger)&&(J&&(c=(f=O)+j),y&&(c=z+w,J||(f=Math.max(O,c-j,u.getBaseSeriesMin(E&&E.xData?E.xData[0]:-Number.MAX_VALUE)))),X&&(J||y)&&S(f)&&(this.min=this.userMin=f,this.max=this.userMax=c)),u.stickToMin=u.stickToMax=null}updatedDataHandler(){let c=this.chart.navigator,f=this.navigatorSeries,u=c.reversedExtremes?0===Math.round(c.zoomedMin):Math.round(c.zoomedMax)>=Math.round(c.size);c.stickToMax=b(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,u),c.stickToMin=c.shouldStickToMin(this,c),f&&!c.hasNavigatorData&&(f.options.pointStart=this.xData[0],f.setData(this.options.data,!1,null,!1))}shouldStickToMin(c,f){let u=f.getBaseSeriesMin(c.xData[0]),M=c.xAxis,U=M.max,x=M.min,O=M.options.range;return!(!S(U)||!S(x))&&(O&&U-u>0?U-u<O:x<=u)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(N(this.chart,"redraw",function(){let c=this.navigator,f=c&&(c.baseSeries&&c.baseSeries[0]&&c.baseSeries[0].xAxis||this.xAxis[0]);f&&c.render(f.min,f.max)}),N(this.chart,"getMargins",function(){let c=this.navigator,f=c.opposite?"plotTop":"marginBottom";this.inverted&&(f=c.opposite?"marginRight":"plotLeft"),this[f]=(this[f]||0)+(c.navigatorEnabled||!this.inverted?c.height+c.scrollbarHeight:0)+c.navigatorOptions.margin}),N(h,"setRange",function(c){this.chart.xAxis[0].setExtremes(c.min,c.max,c.redraw,c.animation,c.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(P(this.chart.xAxis,this.xAxis),P(this.chart.axes,this.xAxis)),this.yAxis&&(P(this.chart.yAxis,this.yAxis),P(this.chart.axes,this.yAxis)),(this.series||[]).forEach(c=>{c.destroy&&c.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(c=>{this[c]&&this[c].destroy&&this[c].destroy(),this[c]=null}),[this.handles].forEach(c=>{D(c)}),this.navigatorEnabled=!1}}return h}),Ne(Y,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),Ne(Y,"Stock/RangeSelector/RangeSelectorComposition.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Stock/RangeSelector/RangeSelectorDefaults.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let me,{defaultOptions:de}=Z,{composed:he}=ce,{addEvent:Q,defined:te,extend:ee,isNumber:L,merge:W,pick:N,pushUnique:I}=ve,C=[];function A(){let S,p,b=this.range,l=b.type,n=this.max,o=this.chart.time,h=function(c,f){let u="year"===l?"FullYear":"Month",M=new o.Date(c),U=o.get(u,M);return o.set(u,M,U+f),U===o.get(u,M)&&o.set("Date",M,0),M.getTime()-c};L(b)?(S=n-b,p=b):b&&(S=n+h(n,-(b.count||1)),this.chart&&this.chart.setFixedRange(n-S));let d=N(this.dataMin,Number.MIN_VALUE);return L(S)||(S=d),S<=d&&(S=d,void 0===p&&(p=h(S,b.count)),this.newMax=Math.min(S+p,N(this.dataMax,Number.MAX_VALUE))),L(n)?!L(b)&&b&&b._offsetMin&&(S+=b._offsetMin):S=void 0,S}function D(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new me(this))}function P(){let S=this.rangeSelector;if(S){L(S.deferredYTDClick)&&(S.clickButton(S.deferredYTDClick),delete S.deferredYTDClick);let p=S.options.verticalAlign;S.options.floating||("bottom"===p?this.extraBottomMargin=!0:"middle"===p||(this.extraTopMargin=!0))}}function v(){let S,p=this.rangeSelector;if(!p)return;let b=this.xAxis[0].getExtremes(),l=this.legend,n=p&&p.options.verticalAlign;L(b.min)&&p.render(b.min,b.max),l.display&&"top"===n&&n===l.options.verticalAlign&&(S=W(this.spacingBox),"vertical"===l.options.layout?S.y=this.plotTop:S.y+=p.getHeight(),l.group.placed=!1,l.align(S))}function T(){for(let S=0,p=C.length;S<p;++S){let b=C[S];if(b[0]===this)return b[1].forEach(l=>l()),void C.splice(S,1)}}function H(){let S=this.rangeSelector;if(S){let p=S.getHeight();this.extraTopMargin&&(this.plotTop+=p),this.extraBottomMargin&&(this.marginBottom+=p)}}function B(S){let p=S.options.rangeSelector,b=this.extraBottomMargin,l=this.extraTopMargin,n=this.rangeSelector;if(p&&p.enabled&&!te(n)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=n=new me(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,n){let o=p&&p.verticalAlign||n.options&&n.options.verticalAlign;n.options.floating||("bottom"===o?this.extraBottomMargin=!0:"middle"===o||(this.extraTopMargin=!0)),(this.extraBottomMargin!==b||this.extraTopMargin!==l)&&(this.isDirtyBox=!0)}}return{compose:function(S,p,b){if(me=b,I(he,"RangeSelector")){let l=p.prototype;S.prototype.minFromRange=A,Q(p,"afterGetContainer",D),Q(p,"beforeRender",P),Q(p,"destroy",T),Q(p,"getMargins",H),Q(p,"redraw",v),Q(p,"update",B),l.callbacks.push(v),ee(de,{rangeSelector:xe.rangeSelector}),ee(de.lang,xe.lang)}}}}),Ne(Y,"Core/Axis/OrdinalAxis.js",[Y["Core/Axis/Axis.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{addEvent:de,correctFloat:he,css:Q,defined:te,error:ee,isNumber:L,pick:W,timeUnits:N,isString:I}=ve;return function(C){function A(o,h,d,c,f=[],u=0,M){let j,J,y,w,E,U={},x=this.options.tickPixelInterval,O=this.chart.time,z=[],X=0,m=[],F=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!f||f.length<3||void 0===h)return O.getTimeTicks.apply(O,arguments);let R=f.length;for(j=0;j<R;j++){if(E=j&&f[j-1]>d,f[j]<h&&(X=j),j===R-1||f[j+1]-f[j]>5*u||E){if(f[j]>F){for(J=O.getTimeTicks(o,f[X],f[j],c);J.length&&J[0]<=F;)J.shift();J.length&&(F=J[J.length-1]),z.push(m.length),m=m.concat(J)}X=j+1}if(E)break}if(J){if(w=J.info,M&&w.unitRange<=N.hour){for(X=1,j=m.length-1;X<j;X++)O.dateFormat("%d",m[X])!==O.dateFormat("%d",m[X-1])&&(U[m[X]]="day",y=!0);y&&(U[m[0]]="day"),w.higherRanks=U}w.segmentStarts=z,m.info=w}else ee(12,!1,this.chart);if(M&&te(x)){let oe,ae,ue,be,Se,_=m.length,G=[],K=[],ie=_;for(;ie--;)ae=this.translate(m[ie]),ue&&(K[ie]=ue-ae),G[ie]=ue=ae;for(K.sort((q,re)=>q-re),(be=K[Math.floor(K.length/2)])<.6*x&&(be=null),ie=m[_-1]>d?_-1:_,ue=void 0;ie--;)Se=Math.abs(ue-(ae=G[ie])),ue&&Se<.8*x&&(null===be||Se<.8*be)?(U[m[ie]]&&!U[m[ie+1]]?(oe=ie+1,ue=ae):oe=ie,m.splice(oe,1)):ue=ae}return m}function D(o){let h=this.ordinal.positions;if(!h)return o;let c,d=h.length-1;return o<0?o=h[0]:o>d?o=h[d]:(d=Math.floor(o),c=o-d),void 0!==c&&void 0!==h[d]?h[d]+(c?c*(h[d+1]-h[d]):0):o}function P(o){let h=this.ordinal,d=this.old?this.old.min:this.min,c=this.old?this.old.transA:this.transA,f=h.getExtendedPositions();if(f&&f.length){let u=he((o-d)*c+this.minPixelPadding),M=he(h.getIndexOfPoint(u,f)),U=he(M%1);if(M>=0&&M<=f.length-1){let x=f[Math.floor(M)],O=f[Math.ceil(M)];return f[Math.floor(M)]+U*(O-x)}}return o}function v(o,h){let d=C.Additions.findIndexOf(o,h,!0);return o[d]===h?d:d+(h-o[d])/(o[d+1]-o[d])}function T(){this.ordinal||(this.ordinal=new C.Additions(this))}function H(){let{eventArgs:o,options:h}=this;if(this.isXAxis&&te(h.overscroll)&&0!==h.overscroll&&L(this.max)&&L(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&("pan"!==o?.trigger||this.isInternal)&&"navigator"!==o?.trigger)){let d=this.ordinal.convertOverscroll(h.overscroll);this.max+=d,!this.isInternal&&te(this.userMin)&&"mousewheel"!==o?.trigger&&(this.min+=d)}}function B(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function S(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function p(o){let h=this.xAxis[0],d=h.ordinal.convertOverscroll(h.options.overscroll),c=o.originalEvent.chartX,f=this.options.chart.panning,u=!1;if(f&&"y"!==f.type&&h.options.ordinal&&h.series.length&&(!o.touches||o.touches.length<=1)){let M,U,x=this.mouseDownX,O=h.getExtremes(),z=O.dataMin,j=O.dataMax,J=O.min,y=O.max,w=this.hoverPoints,X=Math.round((x-c)/(h.translationSlope*(h.ordinal.slope||h.closestPointRange||h.ordinal&&h.ordinal.overscrollPointsRange))),m=h.ordinal.getExtendedPositions(),F={ordinal:{positions:m,extendedOrdinalPositions:m}},R=h.index2val,_=h.val2lin;if(J<=z&&X<0||y+d>=j&&X>0)return;F.ordinal.positions?Math.abs(X)>1&&(w&&w.forEach(function(G){G.setState()}),j>(U=F.ordinal.positions)[U.length-1]&&U.push(j),this.setFixedRange(y-J),(M=h.navigatorAxis.toFixedRange(void 0,void 0,R.apply(F,[_.apply(F,[J,!0])+X]),R.apply(F,[_.apply(F,[y,!0])+X]))).min>=Math.min(O.dataMin,J)&&M.max<=Math.max(j,y)+d&&h.setExtremes(M.min,M.max,!0,!1,{trigger:"pan"}),this.mouseDownX=c,Q(this.container,{cursor:"move"})):u=!0}else u=!0;u||f&&/y/.test(f.type)?d&&(h.max=h.dataMax+d):o.preventDefault()}function b(){let o=this.xAxis;o&&o.options.ordinal&&(delete o.ordinal.index,delete o.ordinal.originalOrdinalRange)}function l(o,h){let d,M,c=this.ordinal,f=c.positions,u=c.slope;if(!f)return o;if(f[0]<=o&&f[f.length-1]>=o)d=v(f,o);else{if(!(M=c.getExtendedPositions&&c.getExtendedPositions())||!M.length)return o;let x=M.length;u||(u=(M[x-1]-M[0])/x);let O=v(M,f[0]);if(o>=M[0]&&o<=M[x-1])d=v(M,o)-O;else{if(!h)return o;d=o<M[0]?-O-(M[0]-o)/u:(o-M[x-1])/u+x-O}}return h?d:u*(d||0)+c.offset}C.compose=function(o,h,d){let c=o.prototype;return c.ordinal2lin||(c.getTimeTicks=A,c.index2val=D,c.lin2val=P,c.val2lin=l,c.ordinal2lin=c.val2lin,de(o,"afterInit",T),de(o,"foundExtremes",H),de(o,"afterSetScale",B),de(o,"initialAxisTranslation",S),de(d,"pan",p),de(d,"touchpan",p),de(h,"updatedData",b)),o};class n{constructor(h){this.index={},this.axis=h}beforeSetTickPositions(){let x,O,z,j,J,y,w,h=this.axis,d=h.ordinal,c=h.getExtremes(),f=c.min,u=c.max,M=h.brokenAxis?.hasBreaks,U=h.options.ordinal,E=[],X=Number.MAX_VALUE,m=!1,F=!1,R=!1;if(U||M){let _=0;if(h.series.forEach(function(G,K){if(O=[],K>0&&"highcharts-navigator-series"!==G.options.id&&G.processedXData.length>1&&(F=_!==G.processedXData[1]-G.processedXData[0]),_=G.processedXData[1]-G.processedXData[0],G.boosted&&(R=G.boosted),G.reserveSpace()&&(!1!==G.takeOrdinalPosition||M)&&(x=(E=E.concat(G.processedXData)).length,E.sort(function(oe,ae){return oe-ae}),X=Math.min(X,W(G.closestPointRange,X)),x)){for(K=0;K<x-1;)E[K]!==E[K+1]&&O.push(E[K+1]),K++;O[0]!==E[0]&&O.unshift(E[0]),E=O}}),h.ordinal.originalOrdinalRange||(h.ordinal.originalOrdinalRange=(E.length-1)*X),F&&R&&(E.pop(),E.shift()),(x=E.length)>2){for(z=E[1]-E[0],w=x-1;w--&&!m;)E[w+1]-E[w]!==z&&(m=!0);!h.options.keepOrdinalPadding&&(E[0]-f>z||u-E[E.length-1]>z)&&(m=!0)}else h.options.overscroll&&(2===x?X=E[1]-E[0]:1===x?(X=h.ordinal.convertOverscroll(h.options.overscroll),E=[E[0],E[0]+X]):X=d.overscrollPointsRange);m||h.forceOrdinal?(h.options.overscroll&&(d.overscrollPointsRange=X,E=E.concat(d.getOverscrollPositions())),d.positions=E,j=h.ordinal2lin(Math.max(f,E[0]),!0),J=Math.max(h.ordinal2lin(Math.min(u,E[E.length-1]),!0),1),d.slope=y=(u-f)/(J-j),d.offset=f-j*y):(d.overscrollPointsRange=W(h.closestPointRange,d.overscrollPointsRange),d.positions=h.ordinal.slope=d.offset=void 0)}h.isOrdinal=U&&m,d.groupIntervalFactor=null}static findIndexOf(h,d,c){let M,f=0,u=h.length-1;for(;f<u;)h[M=Math.ceil((f+u)/2)]<=d?f=M:u=M-1;return h[f]===d||c?f:-1}getExtendedPositions(h=!0){let z,j,d=this,c=d.axis,f=c.constructor.prototype,u=c.chart,M=c.series[0]?.currentDataGrouping,U=M?M.count+M.unitName:"raw",x=h?c.ordinal.convertOverscroll(c.options.overscroll):0,O=c.getExtremes(),J=d.index;return J||(J=d.index={}),J[U]||((z={series:[],chart:u,forceOrdinal:!1,getExtremes:function(){return{min:O.dataMin,max:O.dataMax+x}},applyGrouping:f.applyGrouping,getGroupPixelWidth:f.getGroupPixelWidth,getTimeTicks:f.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:f.ordinal2lin,getIndexOfPoint:f.getIndexOfPoint,val2lin:f.val2lin}).ordinal.axis=z,c.series.forEach(function(y){j={xAxis:z,xData:y.xData.slice(),chart:u,groupPixelWidth:y.groupPixelWidth,destroyGroupedData:ce.noop,getProcessedData:xe.prototype.getProcessedData,applyGrouping:xe.prototype.applyGrouping,reserveSpace:xe.prototype.reserveSpace,visible:y.visible},h&&(j.xData=j.xData.concat(d.getOverscrollPositions())),j.options={dataGrouping:M?{firstAnchor:y.options.dataGrouping?.firstAnchor,anchor:y.options.dataGrouping?.anchor,lastAnchor:y.options.dataGrouping?.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[M.unitName,[M.count]]]}:{enabled:!1}},z.series.push(j),y.processData.apply(j)}),z.applyGrouping({hasExtremesChanged:!0}),j?.closestPointRange!==j?.basePointRange&&j.currentDataGrouping&&(z.forceOrdinal=!0),c.ordinal.beforeSetTickPositions.apply({axis:z}),!c.ordinal.originalOrdinalRange&&z.ordinal.originalOrdinalRange&&(c.ordinal.originalOrdinalRange=z.ordinal.originalOrdinalRange),J[U]=z.ordinal.positions),J[U]}getGroupIntervalFactor(h,d,c){let U,x,f=c.processedXData,u=f.length,M=[],O=this.groupIntervalFactor;if(!O){for(x=0;x<u-1;x++)M[x]=f[x+1]-f[x];M.sort(function(z,j){return z-j}),U=M[Math.floor(u/2)],h=Math.max(h,f[0]),d=Math.min(d,f[u-1]),this.groupIntervalFactor=O=u*U/(d-h)}return O}getIndexOfPoint(h,d){let c,f=this.axis,u=0;f.series.forEach(O=>{let z=O.points?.[0];te(z?.plotX)&&(z.plotX<c||!te(c))&&function(O){let{min:z,max:j}=f;return!(!te(z)||!te(j))&&O.points.some(J=>J.x>=z&&J.x<=j)}(O)&&(c=z.plotX,u=z.x)}),c??(c=f.minPixelPadding);let x=he((h-c)/(f.translationSlope*(this.slope||f.closestPointRange||this.overscrollPointsRange)));return n.findIndexOf(d,u,!0)+x}getOverscrollPositions(){let h=this.axis,d=this.convertOverscroll(h.options.overscroll),c=this.overscrollPointsRange,f=[],u=h.dataMax;if(te(c))for(;u<=h.dataMax+d;)f.push(u+=c);return f}postProcessTickInterval(h){let d=this.axis,c=this.slope;return c?d.options.breaks?d.closestPointRange||h:h/(c/d.closestPointRange):h}convertOverscroll(h=0){let d=this,c=d.axis,f=function(u){return W(d.originalOrdinalRange,te(c.dataMax)&&te(c.dataMin)?c.dataMax-c.dataMin:0)*u};if(I(h)){let u=parseInt(h,10);if(/%$/.test(h))return f(u/100);if(/px/.test(h)){let M=Math.min(u,.9*c.len)/c.len;return f(M/(1-M))}return 0}return h}}C.Additions=n}(me||(me={})),me}),Ne(Y,"Stock/RangeSelector/RangeSelector.js",[Y["Core/Axis/Axis.js"],Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Stock/RangeSelector/RangeSelectorComposition.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"],Y["Core/Axis/OrdinalAxis.js"]],function(Z,ce,xe,ve,me,de,he){let{defaultOptions:Q}=ce,{addEvent:te,createElement:ee,css:L,defined:W,destroyObjectProperties:N,discardElement:I,extend:C,fireEvent:A,isNumber:D,merge:P,objectEach:v,pad:T,pick:H,pInt:B,splat:S}=de;class p{static compose(l,n){ve.compose(l,n,p)}constructor(l){this.buttonOptions=p.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.init(l)}clickButton(l,n){let x,z,J,y,w,o=this.chart,h=this.buttonOptions[l],d=o.xAxis[0],c=o.scroller&&o.scroller.getUnionExtremes()||d||{},f=h.type,u=h.dataGrouping,M=c.dataMin,U=c.dataMax,O=d&&Math.round(Math.min(d.max,H(U,d.max))),j=h._range,E=!0;if(null!==M&&null!==U){if(this.setSelected(l),u&&(this.forcedDataGrouping=!0,Z.prototype.setDataGrouping.call(d||{chart:this.chart},u,!1),this.frozenStates=h.preserveDataGrouping),"month"===f||"year"===f)d?(y={range:h,max:O,chart:o,dataMin:M,dataMax:U},x=d.minFromRange.call(y),D(y.newMax)&&(O=y.newMax),E=!1):j=h;else if(j)O=Math.min((x=Math.max(O-j,M))+j,U),E=!1;else if("ytd"===f){if(!d)return void(this.deferredYTDClick=l);(void 0===U||void 0===M)&&(M=Number.MAX_VALUE,U=Number.MIN_VALUE,o.series.forEach(X=>{let m=X.xData;m&&(M=Math.min(m[0],M),U=Math.max(m[m.length-1],U))}),n=!1),x=J=(w=this.getYTDExtremes(U,M,o.time.useUTC)).min,O=w.max}else"all"===f&&d&&(o.navigator&&o.navigator.baseSeries[0]&&(o.navigator.baseSeries[0].xAxis.options.range=void 0),x=M,O=U);if(E&&h._offsetMin&&W(x)&&(x+=h._offsetMin),h._offsetMax&&W(O)&&(O+=h._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=l+1),d)d.setExtremes(x,O,H(n,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:h}),o.setFixedRange(h._range);else{z=S(o.options.xAxis)[0];let X=te(o,"afterGetAxes",function(){let m=o.xAxis[0];m.range=m.options.range=j,m.min=m.options.min=J});te(o,"load",function(){let m=o.xAxis[0];o.setFixedRange(h._range),m.options.range=z.range,m.options.min=z.min,X()})}A(this,"afterBtnClick")}}setSelected(l){this.selected=this.options.selected=l}init(l){let n=this,o=l.options.rangeSelector,h=o.buttons||n.defaultButtons.slice(),d=o.selected,c=function(){let f=n.minInput,u=n.maxInput;f&&f.blur&&A(f,"blur"),u&&u.blur&&A(u,"blur")};n.chart=l,n.options=o,n.buttons=[],n.buttonOptions=h,this.eventsToUnbind=[],this.eventsToUnbind.push(te(l.container,"mousedown",c)),this.eventsToUnbind.push(te(l,"resize",c)),h.forEach(n.computeButtonRange),void 0!==d&&h[d]&&this.clickButton(d,!1),this.eventsToUnbind.push(te(l,"load",function(){l.xAxis&&l.xAxis[0]&&te(l.xAxis[0],"setExtremes",function(f){D(this.max)&&D(this.min)&&this.max-this.min!==l.fixedRange&&"rangeSelectorButton"!==f.trigger&&"updatedData"!==f.trigger&&n.forcedDataGrouping&&!n.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let l=this,n=this.chart,o=this.dropdown,h=this.dropdownLabel,d=n.xAxis[0],c=Math.round(d.max-d.min),f=!d.hasVisibleSeries,u=864e5,M=n.scroller&&n.scroller.getUnionExtremes()||d,U=M.dataMin,x=M.dataMax,O=l.getYTDExtremes(x,U,n.time.useUTC),z=O.min,j=O.max,J=l.selected,y=l.options.allButtonsEnabled,w=Array(l.buttonOptions.length).fill(0),E=D(J),X=l.buttons,m=!1,F=null;l.buttonOptions.forEach((R,_)=>{let G=R._range,K=R.type,oe=R.count||1,ae=R._offsetMax-R._offsetMin,ue=_===J,be=G>x-U,Se=G<d.minRange,ie=!1,q=G===c;if(ue&&be&&(m=!0),d.isOrdinal&&d.ordinal?.positions&&G&&c<G){let pe=d.ordinal.positions,ge=he.Additions.findIndexOf(pe,d.min,!0);pe[Math.min(he.Additions.findIndexOf(pe,d.max,!0)+1,pe.length-1)]-pe[ge]>G&&(q=!0)}else("month"===K||"year"===K)&&c+36e5>={month:28,year:365}[K]*u*oe-ae&&c-36e5<={month:31,year:366}[K]*u*oe+ae?q=!0:"ytd"===K?(q=j-z+ae===c,ie=!ue):"all"===K&&(q=d.max-d.min>=x-U);y||m&&"all"===K||!(be||Se||f)?(m&&"all"===K||!ie&&q||ue&&l.frozenStates)&&(!E||_===J)&&(F=_):w[_]=3}),null!==F?(w[F]=2,l.setSelected(F)):(l.setSelected(),h&&(h.setState(0),h.attr({text:(Q.lang.rangeSelectorZoom||"")+" \u25be"})));for(let R=0;R<w.length;R++){let _=w[R],G=X[R];if(G.state!==_&&(G.setState(_),o)){o.options[R+1].disabled=3===_,2===_&&(h&&(h.setState(2),h.attr({text:l.buttonOptions[R].text+" \u25be"})),o.selectedIndex=R+1);let K=h.getBBox();L(o,{width:`${K.width}px`,height:`${K.height}px`})}}}computeButtonRange(l){let n=l.type,o=l.count||1,h={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};h[n]?l._range=h[n]*o:("month"===n||"year"===n)&&(l._range=24*{month:30,year:365}[n]*36e5*o),l._offsetMin=H(l.offsetMin,0),l._offsetMax=H(l.offsetMax,0),l._range+=l._offsetMax-l._offsetMin}getInputValue(l){let n="min"===l?this.minInput:this.maxInput,h=this.chart.time;return n?("text"===n.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(n.value,h.useUTC,h):0}setInputValue(l,n){let o=this.options,h=this.chart.time,d="min"===l?this.minInput:this.maxInput,c="min"===l?this.minDateBox:this.maxDateBox;if(d){let f=d.getAttribute("data-hc-time"),u=W(f)?Number(f):void 0;if(W(n)){let M=u;W(M)&&d.setAttribute("data-hc-time-previous",M),d.setAttribute("data-hc-time",n),u=n}d.value=h.dateFormat(this.inputTypeFormats[d.type]||o.inputEditDateFormat,u),c&&c.attr({text:h.dateFormat(o.inputDateFormat,u)})}}setInputExtremes(l,n,o){let h="min"===l?this.minInput:this.maxInput;if(h){let d=this.inputTypeFormats[h.type],c=this.chart.time;if(d){let f=c.dateFormat(d,n);h.min!==f&&(h.min=f);let u=c.dateFormat(d,o);h.max!==u&&(h.max=u)}}}showInput(l){let n="min"===l?this.minDateBox:this.maxDateBox,o="min"===l?this.minInput:this.maxInput;if(o&&n&&this.inputGroup){let h="text"===o.type,{translateX:d=0,translateY:c=0}=this.inputGroup,{x:f=0,width:u=0,height:M=0}=n,{inputBoxWidth:U}=this.options;L(o,{width:h?u+(U?-2:20)+"px":"auto",height:M-2+"px",border:"2px solid silver"}),L(o,h&&U?{left:d+f+"px",top:c+"px"}:{left:Math.min(Math.round(f+d-(o.offsetWidth-u)/2),this.chart.chartWidth-o.offsetWidth)+"px",top:c-(o.offsetHeight-M)/2+"px"})}}hideInput(l){let n="min"===l?this.minInput:this.maxInput;n&&L(n,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(l,n,o){let h=l.split("/").join("-").split(" ").join("T");if(-1===h.indexOf("T")&&(h+="T00:00"),n)h+="Z";else{let c;if(xe.isSafari&&(!((c=h).length>6)||c.lastIndexOf("-")!==c.length-6&&c.lastIndexOf("+")!==c.length-6)){let f=new Date(h).getTimezoneOffset()/60;h+=f<=0?`+${T(-f)}:00`:`-${T(f)}:00`}}let d=Date.parse(h);if(!D(d)){let c=l.split("-");d=Date.UTC(B(c[0]),B(c[1])-1,B(c[2]))}return o&&n&&D(d)&&(d+=o.getTimezoneOffset(d)),d}drawInput(l){let{chart:n,div:o,inputGroup:h}=this,d=this,c=n.renderer.style||{},f=n.renderer,u=n.options.rangeSelector,U="min"===l;function x(w){let{maxInput:E,minInput:X}=d,m=n.xAxis[0],F=n.scroller?.getUnionExtremes()||m,R=F.dataMin,_=F.dataMax,G=n.xAxis[0].getExtremes()[w],K=d.getInputValue(w);D(K)&&K!==G&&(U&&E&&D(R)?K>Number(E.getAttribute("data-hc-time"))?K=void 0:K<R&&(K=R):X&&D(_)&&(K<Number(X.getAttribute("data-hc-time"))?K=void 0:K>_&&(K=_)),void 0!==K&&m.setExtremes(U?K:m.min,U?m.max:K,void 0,void 0,{trigger:"rangeSelectorInput"}))}let O=Q.lang[U?"rangeSelectorFrom":"rangeSelectorTo"]||"",z=f.label(O,0).addClass("highcharts-range-label").attr({padding:O?2:0,height:O?u.inputBoxHeight:0}).add(h),j=f.label("",0).addClass("highcharts-range-input").attr({padding:2,width:u.inputBoxWidth,height:u.inputBoxHeight,"text-align":"center"}).on("click",function(){d.showInput(l),d[l+"Input"].focus()});n.styledMode||j.attr({stroke:u.inputBoxBorderColor,"stroke-width":1}),j.add(h);let J=ee("input",{name:l,className:"highcharts-range-selector"},void 0,o);J.setAttribute("type",function(w){if(-1!==w.indexOf("%L"))return"text";let E=["a","A","d","e","w","b","B","m","o","y","Y"].some(m=>-1!==w.indexOf("%"+m)),X=["H","k","I","l","M","S"].some(m=>-1!==w.indexOf("%"+m));return E&&X?"datetime-local":E?"date":X?"time":"text"}(u.inputDateFormat||"%e %b %Y")),n.styledMode||(z.css(P(c,u.labelStyle)),j.css(P({color:"#333333"},c,u.inputStyle)),L(J,C({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:c.fontSize,fontFamily:c.fontFamily,top:"-9999em"},u.inputStyle))),J.onfocus=()=>{d.showInput(l)},J.onblur=()=>{J===xe.doc.activeElement&&x(l),d.hideInput(l),d.setInputValue(l),J.blur()};let y=!1;return J.onchange=()=>{y||(x(l),d.hideInput(l),J.blur())},J.onkeypress=w=>{13===w.keyCode&&x(l)},J.onkeydown=w=>{y=!0,("ArrowUp"===w.key||"ArrowDown"===w.key||"Tab"===w.key)&&x(l)},J.onkeyup=()=>{y=!1},{dateBox:j,input:J,label:z}}getPosition(){let l=this.chart,n=l.options.rangeSelector,o="top"===n.verticalAlign?l.plotTop-l.axisOffset[0]:0;return{buttonTop:o+n.buttonPosition.y,inputTop:o+n.inputPosition.y-10}}getYTDExtremes(l,n,o){let h=this.chart.time,d=new h.Date(l),c=h.get("FullYear",d),f=Math.max(n,o?h.Date.UTC(c,0,1):+new h.Date(c,0,1)),u=d.getTime();return{max:Math.min(l||u,u),min:f}}createElements(){let l=this.chart,n=l.renderer,o=l.container,h=l.options,d=h.rangeSelector,c=d.inputEnabled,f=H(h.chart.style?.zIndex,0)+1;if(!1!==d.enabled&&(this.group=n.g("range-selector-group").attr({zIndex:7}).add(),this.div=ee("div",void 0,{position:"relative",height:0,zIndex:f}),this.buttonOptions.length&&this.renderButtons(),o.parentNode&&o.parentNode.insertBefore(this.div,o),c)){this.inputGroup=n.g("input-group").add(this.group);let u=this.drawInput("min");this.minDateBox=u.dateBox,this.minLabel=u.label,this.minInput=u.input;let M=this.drawInput("max");this.maxDateBox=M.dateBox,this.maxLabel=M.label,this.maxInput=M.input}}render(l,n){let o=this.chart,h=o.options.rangeSelector;if(!1!==h.enabled){if(h.inputEnabled){this.setInputValue("min",l),this.setInputValue("max",n);let c=o.scroller&&o.scroller.getUnionExtremes()||o.xAxis[0]||{};if(W(c.dataMin)&&W(c.dataMax)){let f=o.xAxis[0].minRange||0;this.setInputExtremes("min",c.dataMin,Math.min(c.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(c.dataMin,this.getInputValue("min"))+f,c.dataMax)}if(this.inputGroup){let f=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(u=>{if(u){let{width:M}=u.getBBox();M&&(u.attr({x:f}),f+=M+h.inputSpacing)}})}}this.alignElements(),this.updateButtonStates()}}renderButtons(){let{buttons:l,chart:n,options:o}=this,h=Q.lang,d=n.renderer,c=P(o.buttonTheme),f=c&&c.states,u=c.width||28;delete c.width,delete c.states,this.buttonGroup=d.g("range-selector-buttons").add(this.group);let M=this.dropdown=ee("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),U=n.userOptions.rangeSelector?.buttonTheme;this.dropdownLabel=d.button("",0,0,()=>{},P(c,{"stroke-width":H(c["stroke-width"],0),width:"auto",paddingLeft:H(o.buttonTheme.paddingLeft,U?.padding,8),paddingRight:H(o.buttonTheme.paddingRight,U?.padding,8)}),f&&f.hover,f&&f.select,f&&f.disabled).hide().add(this.group),te(M,"touchstart",()=>{M.style.fontSize="16px"});let x=xe.isMS?"mouseover":"mouseenter",O=xe.isMS?"mouseout":"mouseleave";te(M,x,()=>{A(this.dropdownLabel.element,x)}),te(M,O,()=>{A(this.dropdownLabel.element,O)}),te(M,"change",()=>{A(this.buttons[M.selectedIndex-1].element,"click")}),this.zoomText=d.label(h.rangeSelectorZoom||"",0).attr({padding:o.buttonTheme.padding,height:o.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(o.labelStyle),c["stroke-width"]=H(c["stroke-width"],0)),ee("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,M),this.buttonOptions.forEach((z,j)=>{ee("option",{textContent:z.title||z.text},void 0,M),l[j]=d.button(z.text,0,0,J=>{let y,w=z.events&&z.events.click;w&&(y=w.call(z,J)),!1!==y&&this.clickButton(j),this.isActive=!0},c,f&&f.hover,f&&f.select,f&&f.disabled).attr({"text-align":"center",width:u}).add(this.buttonGroup),z.title&&l[j].attr("title",z.title)})}alignElements(){let{buttonGroup:l,buttons:n,chart:o,group:h,inputGroup:d,options:c,zoomText:f}=this,u=o.options,M=u.exporting&&!1!==u.exporting.enabled&&u.navigation&&u.navigation.buttonOptions,{buttonPosition:U,inputPosition:x,verticalAlign:O}=c,z=(J,y)=>M&&this.titleCollision(o)&&"top"===O&&"right"===y.align&&y.y-J.getBBox().height-12<(M.y||0)+(M.height||0)+o.spacing[0]?-40:0,j=o.plotLeft;if(h&&U&&x){let J=U.x-o.spacing[3];if(l){if(this.positionButtons(),!this.initialButtonGroupWidth){let G=0;f&&(G+=f.getBBox().width+5),n.forEach((K,oe)=>{G+=K.width||0,oe!==n.length-1&&(G+=c.buttonSpacing)}),this.initialButtonGroupWidth=G}j-=o.spacing[3];let _=z(l,U);this.alignButtonGroup(_),this.buttonGroup?.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),h.placed=l.placed=o.hasLoaded}let y=0;d&&(y=z(d,x),"left"===x.align?J=j:"right"===x.align&&(J=-Math.max(o.axisOffset[1],-y)),d.align({y:x.y,width:d.getBBox().width,align:x.align,x:x.x+J-2},!0,o.spacingBox),d.placed=o.hasLoaded),this.handleCollision(y),h.align({verticalAlign:O},!0,o.spacingBox);let w=h.alignAttr.translateY,E=h.getBBox().height+20,X=0;if("bottom"===O){let _=o.legend&&o.legend.options;X=w-(E=E+(_&&"bottom"===_.verticalAlign&&_.enabled&&!_.floating?o.legend.legendHeight+H(_.margin,10):0)-20)-(c.floating?0:c.y)-(o.titleOffset?o.titleOffset[2]:0)-10}"top"===O?(c.floating&&(X=0),o.titleOffset&&o.titleOffset[0]&&(X=o.titleOffset[0]),X+=o.margin[0]-o.spacing[0]||0):"middle"===O&&(x.y===U.y?X=w:(x.y||U.y)&&(x.y<0||U.y<0?X-=Math.min(x.y,U.y):X=w-E)),h.translate(c.x,c.y+Math.floor(X));let{minInput:m,maxInput:F,dropdown:R}=this;c.inputEnabled&&m&&F&&(m.style.marginTop=h.translateY+"px",F.style.marginTop=h.translateY+"px"),R&&(R.style.marginTop=h.translateY+"px")}}alignButtonGroup(l,n){let{chart:o,options:h,buttonGroup:d}=this,{buttonPosition:c}=h,f=o.plotLeft-o.spacing[3],u=c.x-o.spacing[3];"right"===c.align?u+=l-f:"center"===c.align&&(u-=f/2),d&&d.align({y:c.y,width:H(n,this.initialButtonGroupWidth),align:c.align,x:u},!0,o.spacingBox)}positionButtons(){let{buttons:l,chart:n,options:o,zoomText:h}=this,d=n.hasLoaded?"animate":"attr",{buttonPosition:c}=o,f=n.plotLeft,u=f;h&&"hidden"!==h.visibility&&(h[d]({x:H(f+c.x,f)}),u+=c.x+h.getBBox().width+5);for(let M=0,U=this.buttonOptions.length;M<U;++M)"hidden"!==l[M].visibility?(l[M][d]({x:u}),u+=(l[M].width||0)+o.buttonSpacing):l[M][d]({x:f})}handleCollision(l){let{chart:n,buttonGroup:o,inputGroup:h}=this,{buttonPosition:d,dropdown:c,inputPosition:f}=this.options,u=()=>{let x=0;return this.buttons.forEach(O=>{let z=O.getBBox();z.width>x&&(x=z.width)}),x},M=x=>{if(h?.alignOptions&&o){let O=h.alignAttr.translateX+h.alignOptions.x-l+h.getBBox().x+2,z=h.alignOptions.width||0,j=o.alignAttr.translateX+o.getBBox().x;return j+x>O&&O+z>j&&d.y<f.y+h.getBBox().height}return!1},U=()=>{h&&o&&h.attr({translateX:h.alignAttr.translateX+(n.axisOffset[1]>=-l?0:-l),translateY:h.alignAttr.translateY+o.getBBox().height+10})};if(o){if("always"===c)return this.collapseButtons(),void(M(u())&&U());"never"===c&&this.expandButtons()}h&&o?f.align===d.align||M(this.initialButtonGroupWidth+20)?"responsive"===c?(this.collapseButtons(),M(u())&&U()):U():"responsive"===c&&this.expandButtons():o&&"responsive"===c&&(this.initialButtonGroupWidth>n.plotWidth?this.collapseButtons():this.expandButtons())}collapseButtons(){let{buttons:l,zoomText:n}=this;!0!==this.isCollapsed&&(this.isCollapsed=!0,n.hide(),l.forEach(o=>{o.hide()}),this.showDropdown())}expandButtons(){let{buttons:l,zoomText:n}=this;!1!==this.isCollapsed&&(this.isCollapsed=!1,this.hideDropdown(),n.show(),l.forEach(o=>{o.show()}),this.positionButtons())}showDropdown(){let{buttonGroup:l,chart:n,dropdownLabel:o,dropdown:h}=this;if(l&&h){let{translateX:d=0,translateY:c=0}=l,f=n.plotLeft+d;o.attr({x:f,y:c}).show(),L(h,{left:f+"px",top:c+"px",visibility:"inherit"}),this.hasVisibleDropdown=!0}}hideDropdown(){let{dropdown:l}=this;l&&(this.dropdownLabel.hide(),L(l,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let l=this.options,n=this.group,d=l.y,c=l.buttonPosition.y,f=l.inputPosition.y,u=0;if(l.height)return l.height;this.alignElements(),u=n?n.getBBox(!0).height+13+d:0;let M=Math.min(f,c);return(f<0&&c<0||f>0&&c>0)&&(u+=Math.abs(M)),u}titleCollision(l){return!(l.options.title.text||l.options.subtitle.text)}update(l,n=!0){let o=this.chart;P(!0,o.options.rangeSelector,l),this.destroy(),this.init(o),n&&this.render()}destroy(){let l=this,n=l.minInput,o=l.maxInput;l.eventsToUnbind&&(l.eventsToUnbind.forEach(h=>h()),l.eventsToUnbind=void 0),N(l.buttons),n&&(n.onfocus=n.onblur=n.onchange=null),o&&(o.onfocus=o.onblur=o.onchange=null),v(l,function(h,d){h&&"chart"!==d&&(h instanceof me?h.destroy():h instanceof Qt.HTMLElement&&I(h)),h!==p.prototype[d]&&(l[d]=null)},this)}}return C(p.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),p}),Ne(Y,"Series/PathUtilities.js",[],function(){function Z(ce,xe){let ve=[];for(let me=0;me<ce.length;me++){let de=ce[me][1],he=ce[me][2];if("number"==typeof de&&"number"==typeof he)if(0===me)ve.push(["M",de,he]);else if(me===ce.length-1)ve.push(["L",de,he]);else if(xe){let Q=ce[me-1],te=ce[me+1];if(Q&&te){let ee=Q[1],L=Q[2],W=te[1],N=te[2];if("number"==typeof ee&&"number"==typeof W&&"number"==typeof L&&"number"==typeof N&&ee!==W&&L!==N){let I=ee<W?1:-1,C=L<N?1:-1;ve.push(["L",de-I*Math.min(Math.abs(de-ee),xe),he-C*Math.min(Math.abs(he-L),xe)],["C",de,he,de,he,de+I*Math.min(Math.abs(de-W),xe),he+C*Math.min(Math.abs(he-N),xe)])}}}else ve.push(["L",de,he])}return ve}return{applyRadius:Z,getLinkPath:{default:function(ce){let{x1:xe,y1:ve,x2:me,y2:de,width:he=0,inverted:Q=!1,radius:te,parentVisible:ee}=ce;return ee?Z([["M",xe,ve],["L",xe+he*(Q?-.5:.5),ve],["L",xe+he*(Q?-.5:.5),de],["L",me,de]],te):[["M",xe,ve],["L",xe,ve],["C",xe,ve,xe,de,xe,de],["L",xe,de],["C",xe,ve,xe,de,xe,de],["L",xe,de]]},straight:function(ce){let{x1:xe,y1:ve,x2:me,y2:de,width:he=0,inverted:Q=!1,parentVisible:te}=ce;return te?[["M",xe,ve],["L",xe+he*(Q?-1:1),de],["L",me,de]]:[["M",xe,ve],["L",xe,de],["L",xe,de]]},curved:function(ce){let{x1:xe,y1:ve,x2:me,y2:de,offset:he=0,width:Q=0,inverted:te=!1,parentVisible:ee}=ce;return ee?[["M",xe,ve],["C",xe+he,ve,xe-he+Q*(te?-1:1),de,xe+Q*(te?-1:1),de],["L",me,de]]:[["M",xe,ve],["C",xe,ve,xe,de,xe,de],["L",me,de]]}}}}),Ne(Y,"Gantt/PathfinderAlgorithms.js",[Y["Series/PathUtilities.js"],Y["Core/Utilities.js"]],function(Z,ce){let{pick:xe}=ce,{min:ve,max:me,abs:de}=Math;function he(N,I,C){let v,T,A=I-1e-7,D=C||0,P=N.length-1;for(;D<=P;)if((T=A-N[v=P+D>>1].xMin)>0)D=v+1;else{if(!(T<0))return v;P=v-1}return D>0?D-1:0}function Q(N,I){let C=he(N,I.x+1)+1;for(;C--;){var A;if(N[C].xMax>=I.x&&I.x<=(A=N[C]).xMax&&I.x>=A.xMin&&I.y<=A.yMax&&I.y>=A.yMin)return C}return-1}function te(N){let I=[];if(N.length){I.push(["M",N[0].start.x,N[0].start.y]);for(let C=0;C<N.length;++C)I.push(["L",N[C].end.x,N[C].end.y])}return I}function ee(N,I){N.yMin=me(N.yMin,I.yMin),N.yMax=ve(N.yMax,I.yMax),N.xMin=me(N.xMin,I.xMin),N.xMax=ve(N.xMax,I.xMax)}let L=function(N,I,C){let T,B,S,p,b,A=[],D=C.chartObstacles,P=Q(D,N),v=Q(D,I),H=xe(C.startDirectionX,de(I.x-N.x)>de(I.y-N.y))?"x":"y";function l(d,c,f,u,M){let U={x:d.x,y:d.y};return U[c]=f[u||c]+(M||0),U}function n(d,c,f){let u=de(c[f]-d[f+"Min"])>de(c[f]-d[f+"Max"]);return l(c,f,d,f+(u?"Max":"Min"),u?1:-1)}v>-1?(T={start:S=n(D[v],I,H),end:I},b=S):b=I,P>-1&&(S=n(B=D[P],N,H),A.push({start:N,end:S}),S[H]>=N[H]==S[H]>=b[H]&&(p=N[H="y"===H?"x":"y"]<I[H],A.push({start:S,end:l(S,H,B,H+(p?"Max":"Min"),p?1:-1)}),H="y"===H?"x":"y"));let o=A.length?A[A.length-1].end:N;S=l(o,H,b),A.push({start:o,end:S});let h=l(S,H="y"===H?"x":"y",b);return A.push({start:S,end:h}),A.push(T),{path:Z.applyRadius(te(A),C.radius),obstacles:A}};function W(N,I,C){let p,b,l,A=xe(C.startDirectionX,de(I.x-N.x)>de(I.y-N.y)),D=A?"x":"y",P=[],v=C.obstacleMetrics,T=ve(N.x,I.x)-v.maxWidth-10,H=me(N.x,I.x)+v.maxWidth+10,B=ve(N.y,I.y)-v.maxHeight-10,S=me(N.y,I.y)+v.maxHeight+10,n=!1,o=C.chartObstacles,h=he(o,H),d=he(o,T);function c(u,M,U){let x,O,z,j,J=u.x<M.x?1:-1;u.x<M.x?(x=u,O=M):(x=M,O=u),u.y<M.y?(j=u,z=M):(j=M,z=u);let y=J<0?ve(he(o,O.x),o.length-1):0;for(;o[y]&&(J>0&&o[y].xMin<=O.x||J<0&&o[y].xMax>=x.x);){if(o[y].xMin<=O.x&&o[y].xMax>=x.x&&o[y].yMin<=z.y&&o[y].yMax>=j.y)return U?{y:u.y,x:u.x<M.x?o[y].xMin-1:o[y].xMax+1,obstacle:o[y]}:{x:u.x,y:u.y<M.y?o[y].yMin-1:o[y].yMax+1,obstacle:o[y]};y+=J}return M}function f(u,M,U,x,O){let z=O.soft,j=O.hard,J=x?"x":"y",y={x:M.x,y:M.y},w={x:M.x,y:M.y},E=u[J+"Max"]>=z[J+"Max"],X=u[J+"Min"]<=z[J+"Min"],m=u[J+"Max"]>=j[J+"Max"],F=u[J+"Min"]<=j[J+"Min"],R=de(u[J+"Min"]-M[J]),_=de(u[J+"Max"]-M[J]),G=10>de(R-_)?M[J]<U[J]:_<R;w[J]=u[J+"Min"],y[J]=u[J+"Max"];let K=c(M,w,x)[J]!==w[J],oe=c(M,y,x)[J]!==y[J];return G=K?!oe||G:!oe&&G,G=X?!E||G:!E&&G,F?!m||G:!m&&G}for((h=Q(o=o.slice(d,h+1),I))>-1&&(l=function(u,M,U){let x=ve(u.xMax-M.x,M.x-u.xMin)<ve(u.yMax-M.y,M.y-u.yMin),O=f(u,M,U,x,{soft:C.hardBounds,hard:C.hardBounds});return x?{y:M.y,x:u[O?"xMax":"xMin"]+(O?1:-1)}:{x:M.x,y:u[O?"yMax":"yMin"]+(O?1:-1)}}(o[h],I,N),P.push({end:I,start:l}),I=l);(h=Q(o,I))>-1;)b=I[D]-N[D]<0,(l={x:I.x,y:I.y})[D]=o[h][b?D+"Max":D+"Min"]+(b?1:-1),P.push({end:I,start:l}),I=l;return{path:te(p=(p=function u(M,U,x){let O,z,j,J,y,w,E;if(M.x===U.x&&M.y===U.y)return[];let X=x?"x":"y",m=C.obstacleOptions.margin,F={soft:{xMin:T,xMax:H,yMin:B,yMax:S},hard:C.hardBounds};return(y=Q(o,M))>-1?(J=f(y=o[y],M,U,x,F),ee(y,C.hardBounds),E=x?{y:M.y,x:y[J?"xMax":"xMin"]+(J?1:-1)}:{x:M.x,y:y[J?"yMax":"yMin"]+(J?1:-1)},(w=Q(o,E))>-1&&(ee(w=o[w],C.hardBounds),E[X]=J?me(y[X+"Max"]-m+1,(w[X+"Min"]+y[X+"Max"])/2):ve(y[X+"Min"]+m-1,(w[X+"Max"]+y[X+"Min"])/2),M.x===E.x&&M.y===E.y?(n&&(E[X]=J?me(y[X+"Max"],w[X+"Max"])+1:ve(y[X+"Min"],w[X+"Min"])-1),n=!n):n=!1),z=[{start:M,end:E}]):(O=c(M,{x:x?U.x:M.x,y:x?M.y:U.y},x),z=[{start:M,end:{x:O.x,y:O.y}}],O[x?"x":"y"]!==U[x?"x":"y"]&&(J=f(O.obstacle,O,U,!x,F),ee(O.obstacle,C.hardBounds),j={x:x?O.x:O.obstacle[J?"xMax":"xMin"]+(J?1:-1),y:x?O.obstacle[J?"yMax":"yMin"]+(J?1:-1):O.y},z=z.concat(u({x:O.x,y:O.y},j,x=!x)))),z.concat(u(z[z.length-1].end,U,!x))}(N,I,A)).concat(P.reverse())),obstacles:p}}return L.requiresObstacles=!0,W.requiresObstacles=!0,{fastAvoid:W,straight:function(N,I){return{path:[["M",N.x,N.y],["L",I.x,I.y]],obstacles:[{start:N,end:I}]}},simpleConnect:L}}),Ne(Y,"Gantt/ConnectorsDefaults.js",[],function(){return{connectors:{type:"straight",radius:0,lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}}}),Ne(Y,"Gantt/PathfinderComposition.js",[Y["Gantt/ConnectorsDefaults.js"],Y["Core/Defaults.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{setOptions:me}=ce,{defined:de,error:he,merge:Q}=xe;function te(ee){let L=ee.shapeArgs;if(L)return{xMin:L.x||0,xMax:(L.x||0)+(L.width||0),yMin:L.y||0,yMax:(L.y||0)+(L.height||0)};let W=ee.graphic&&ee.graphic.getBBox();return W?{xMin:ee.plotX-W.width/2,xMax:ee.plotX+W.width/2,yMin:ee.plotY-W.height/2,yMax:ee.plotY+W.height/2}:null}return function(ee){function L(I){let C,A,D=te(this);switch(I.align){case"right":C="xMax";break;case"left":C="xMin"}switch(I.verticalAlign){case"top":A="yMin";break;case"bottom":A="yMax"}return{x:C?D[C]:(D.xMin+D.xMax)/2,y:A?D[A]:(D.yMin+D.yMax)/2}}function W(I,C){let A;return!de(C)&&(A=te(this))&&(C={x:(A.xMin+A.xMax)/2,y:(A.yMin+A.yMax)/2}),Math.atan2(C.y-I.y,I.x-C.x)}function N(I,C,A){let D=2*Math.PI,P=te(this),v=P.xMax-P.xMin,T=P.yMax-P.yMin,H=Math.atan2(T,v),B=v/2,S=T/2,p=P.xMin+B,b=P.yMin+S,l={x:p,y:b},n=I,o=1,h=!1,d=1,c=1;for(;n<-Math.PI;)n+=D;for(;n>Math.PI;)n-=D;return o=Math.tan(n),n>-H&&n<=H?(c=-1,h=!0):n>H&&n<=Math.PI-H?c=-1:n>Math.PI-H||n<=-(Math.PI-H)?(d=-1,h=!0):d=-1,h?(l.x+=d*B,l.y+=c*B*o):(l.x+=T/(2*o)*d,l.y+=c*S),A.x!==p&&(l.x=A.x),A.y!==b&&(l.y=A.y),{x:l.x+C*Math.cos(n),y:l.y-C*Math.sin(n)}}ee.compose=function(I,C,A){let D=A.prototype;D.getPathfinderAnchorPoint||(I.prototype.callbacks.push(function(P){!1!==P.options.connectors.enabled&&((P.options.pathfinder||P.series.reduce(function(v,T){return T.options&&Q(!0,T.options.connectors=T.options.connectors||{},T.options.pathfinder),v||T.options&&T.options.pathfinder},!1))&&(Q(!0,P.options.connectors=P.options.connectors||{},P.options.pathfinder),he('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.')),this.pathfinder=new C(this),this.pathfinder.update(!0))}),D.getMarkerVector=N,D.getPathfinderAnchorPoint=L,D.getRadiansToVector=W,me(Z))}}(ve||(ve={})),ve}),Ne(Y,"Gantt/Pathfinder.js",[Y["Gantt/Connection.js"],Y["Gantt/PathfinderAlgorithms.js"],Y["Gantt/PathfinderComposition.js"],Y["Core/Series/Point.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{addEvent:de,defined:he,pick:Q,splat:te}=me,ee=Math.max,L=Math.min;class W{static compose(I,C){xe.compose(I,W,C)}constructor(I){this.init(I)}init(I){this.chart=I,this.connections=[],de(I,"redraw",function(){this.pathfinder.update()})}update(I){let C=this.chart,A=this,D=A.connections;A.connections=[],C.series.forEach(function(P){P.visible&&!P.options.isInternal&&P.points.forEach(function(v){let T,H=v.options;H&&H.dependency&&(H.connect=H.dependency);let B=v.options?.connect&&te(v.options.connect);v.visible&&!1!==v.isInside&&B&&B.forEach(function(S){(T=C.get("string"==typeof S?S:S.to))instanceof ve&&T.series.visible&&T.visible&&!1!==T.isInside&&A.connections.push(new Z(v,T,"string"==typeof S?{}:S))})})});for(let v,T,P=0,H=D.length,B=A.connections.length;P<H;++P){T=!1;let S=D[P];for(v=0;v<B;++v){let p=A.connections[v];if((S.options&&S.options.type)===(p.options&&p.options.type)&&S.fromPoint===p.fromPoint&&S.toPoint===p.toPoint){p.graphics=S.graphics,T=!0;break}}T||S.destroy()}delete this.chartObstacles,delete this.lineObstacles,A.renderConnections(I)}renderConnections(I){I?this.chart.series.forEach(function(C){let A=function(){let D=C.chart.pathfinder;(D&&D.connections||[]).forEach(function(P){P.fromPoint&&P.fromPoint.series===C&&P.render()}),C.pathfinderRemoveRenderEvent&&(C.pathfinderRemoveRenderEvent(),delete C.pathfinderRemoveRenderEvent)};!1===C.options.animation?A():C.pathfinderRemoveRenderEvent=de(C,"afterAnimate",A)}):this.connections.forEach(function(C){C.render()})}getChartObstacles(I){let P,C=this.chart.series,A=Q(I.algorithmMargin,0),D=[];for(let v=0,T=C.length;v<T;++v)if(C[v].visible&&!C[v].options.isInternal)for(let S,p,H=0,B=C[v].points.length;H<B;++H)(p=C[v].points[H]).visible&&(S=function(b){let l=b.shapeArgs;if(l)return{xMin:l.x||0,xMax:(l.x||0)+(l.width||0),yMin:l.y||0,yMax:(l.y||0)+(l.height||0)};let n=b.graphic&&b.graphic.getBBox();return n?{xMin:b.plotX-n.width/2,xMax:b.plotX+n.width/2,yMin:b.plotY-n.height/2,yMax:b.plotY+n.height/2}:null}(p))&&D.push({xMin:S.xMin-A,xMax:S.xMax+A,yMin:S.yMin-A,yMax:S.yMax+A});return D=D.sort(function(v,T){return v.xMin-T.xMin}),he(I.algorithmMargin)||(P=I.algorithmMargin=function(v){let T,H=v.length,B=[];for(let S=0;S<H;++S)for(let p=S+1;p<H;++p)(T=function b(l,n,o){let h=Q(o,10),d=l.yMax+h>n.yMin-h&&l.yMin-h<n.yMax+h,c=l.xMax+h>n.xMin-h&&l.xMin-h<n.xMax+h,f=d?l.xMin>n.xMax?l.xMin-n.xMax:n.xMin-l.xMax:1/0,u=c?l.yMin>n.yMax?l.yMin-n.yMax:n.yMin-l.yMax:1/0;return c&&d?h?b(l,n,Math.floor(h/2)):1/0:L(f,u)}(v[S],v[p]))<80&&B.push(T);return B.push(80),ee(Math.floor(B.sort(function(S,p){return S-p})[Math.floor(B.length/10)]/2-1),1)}(D),D.forEach(function(v){v.xMin-=P,v.xMax+=P,v.yMin-=P,v.yMax+=P})),D}getObstacleMetrics(I){let D,P,C=0,A=0,v=I.length;for(;v--;)D=I[v].xMax-I[v].xMin,P=I[v].yMax-I[v].yMin,C<D&&(C=D),A<P&&(A=P);return{maxHeight:A,maxWidth:C}}getAlgorithmStartDirection(I){let A="top"!==I.verticalAlign&&"bottom"!==I.verticalAlign;return"left"!==I.align&&"right"!==I.align?!!A&&void 0:!!A||void 0}}return W.prototype.algorithms=ce,W}),Ne(Y,"masters/modules/pathfinder.src.js",[Y["Core/Globals.js"],Y["Gantt/Pathfinder.js"],Y["Extensions/ArrowSymbols.js"]],function(Z,ce,xe){return Z.Pathfinder=Z.Pathfinder||ce,xe.compose(Z.SVGRenderer),Z.Pathfinder.compose(Z.Chart,Z.Point),Z}),Ne(Y,"Extensions/StaticScale.js",[Y["Core/Utilities.js"]],function(Z){let{addEvent:ce,defined:xe,isNumber:ve,pick:me}=Z;function de(){let Q=this.chart.options.chart;!this.horiz&&ve(this.options.staticScale)&&(!Q.height||Q.scrollablePlotArea&&Q.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)}function he(){if("adjustHeight"!==this.redrawTrigger){for(let Q of this.axes||[]){let te=Q.chart,ee=!!te.initiatedScale&&te.options.animation,L=Q.options.staticScale;if(Q.staticScale&&xe(Q.min)){let W=me(Q.brokenAxis&&Q.brokenAxis.unitLength,Q.max+Q.tickInterval-Q.min)*L,N=(W=Math.max(W,L))-te.plotHeight;!te.scrollablePixelsY&&Math.abs(N)>=1&&(te.plotHeight=W,te.redrawTrigger="adjustHeight",te.setSize(void 0,te.chartHeight+N,ee)),Q.series.forEach(function(I){let C=I.sharedClipKey&&te.sharedClips[I.sharedClipKey];C&&C.attr(te.inverted?{width:te.plotHeight}:{height:te.plotHeight})})}}this.initiatedScale=!0}this.redrawTrigger=null}return{compose:function(Q,te){let ee=te.prototype;ee.adjustHeight||(ce(Q,"afterSetOptions",de),ee.adjustHeight=he,ce(te,"render",ee.adjustHeight))}}}),Ne(Y,"masters/modules/static-scale.src.js",[Y["Core/Globals.js"],Y["Extensions/StaticScale.js"]],function(Z,ce){return ce.compose(Z.Axis,Z.Chart),Z}),Ne(Y,"Series/XRange/XRangeSeriesDefaults.js",[Y["Core/Utilities.js"]],function(Z){let{correctFloat:ce,isNumber:xe,isObject:ve}=Z;return{colorByPoint:!0,dataLabels:{formatter:function(){let me=this.point.partialFill;if(ve(me)&&(me=me.amount),xe(me)&&me>0)return ce(100*me)+"%"},inside:!0,verticalAlign:"middle",style:{whiteSpace:"nowrap"}},tooltip:{headerFormat:'<span style="font-size: 0.8em">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0}}),Ne(Y,"Series/XRange/XRangePoint.js",[Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce){let{column:{prototype:{pointClass:xe}}}=Z.seriesTypes,{extend:ve}=ce;class me extends xe{static getColorByCategory(he,Q){let te=he.options.colors||he.chart.options.colors,L=Q.y%(te?te.length:he.chart.options.chart.colorCount);return{colorIndex:L,color:te&&te[L]}}resolveColor(){let he=this.series;if(he.options.colorByPoint&&!this.options.color){let Q=me.getColorByCategory(he,this);he.chart.styledMode||(this.color=Q.color),this.options.colorIndex||(this.colorIndex=Q.colorIndex)}else this.color=this.options.color||he.color}constructor(he,Q){super(he,Q),this.y||(this.y=0)}setState(){super.setState.apply(this,arguments),this.series.drawPoint(this,this.series.getAnimationVerb())}getLabelConfig(){let he=super.getLabelConfig.call(this),Q=this.series.yAxis.categories;return he.x2=this.x2,he.yCategory=this.yCategory=Q&&Q[this.y],he.key=this.category||this.name,he}isValid(){return"number"==typeof this.x&&"number"==typeof this.x2}}return ve(me.prototype,{ttBelow:!1,tooltipDateKeys:["x","x2"]}),me}),Ne(Y,"Series/XRange/XRangeSeries.js",[Y["Core/Globals.js"],Y["Core/Color/Color.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"],Y["Series/XRange/XRangeSeriesDefaults.js"],Y["Series/XRange/XRangePoint.js"]],function(Z,ce,xe,ve,me,de){let{composed:he,noop:Q}=Z,{parse:te}=ce,{column:ee}=xe.seriesTypes,{addEvent:L,clamp:W,crisp:N,defined:I,extend:C,find:A,isNumber:D,isObject:P,merge:v,pick:T,pushUnique:H,relativeLength:B}=ve;function S(){let b,l;if(this.isXAxis){for(let n of(b=T(this.dataMax,-Number.MAX_VALUE),this.series))if(n.x2Data)for(let o of n.x2Data)o&&o>b&&(b=o,l=!0);l&&(this.dataMax=b)}}class p extends ee{static compose(l){H(he,"Series.XRange")&&L(l,"afterGetSeriesExtremes",S)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}getColumnMetrics(){let l=()=>{for(let o of this.chart.series){let h=o.xAxis;o.xAxis=o.yAxis,o.yAxis=h}};l();let n=super.getColumnMetrics();return l(),n}cropData(l,n,o,h){let d=super.cropData(this.x2Data,n,o,h);return d.xData=l.slice(d.start,d.end),d}findPointIndex(l){let n,{cropStart:o,points:h}=this,{id:d}=l;if(d){let c=A(h,f=>f.id===d);n=c?c.index:void 0}if(void 0===n){let c=A(h,f=>f.x===l.x&&f.x2===l.x2&&!f.touched);n=c?c.index:void 0}return this.cropped&&D(n)&&D(o)&&n>=o&&(n-=o),n}alignDataLabel(l){let n=l.plotX;l.plotX=T(l.dlBox&&l.dlBox.centerX,l.plotX),l.dataLabel&&l.shapeArgs?.width&&l.dataLabel.css({width:`${l.shapeArgs.width}px`}),super.alignDataLabel.apply(this,arguments),l.plotX=n}translatePoint(l){let E,X,R,_,G,K,n=this.xAxis,o=this.yAxis,h=this.columnMetrics,d=this.options,c=d.minPointLength||0,f=(l.shapeArgs&&l.shapeArgs.width||0)/2,u=this.pointXOffset=h.offset,M=T(l.x2,l.x+(l.len||0)),U=d.borderRadius,x=this.chart.plotTop,O=this.chart.plotLeft,z=l.plotX,j=n.translate(M,0,0,0,1),J=Math.abs(j-z),y=this.chart.inverted,w=T(d.borderWidth,1),m=h.offset,F=Math.round(h.width);c&&((E=c-J)<0&&(E=0),z-=E/2,j+=E/2),z=Math.max(z,-10),j=W(j,-10,n.len+10),I(l.options.pointWidth)&&(m-=(Math.ceil(l.options.pointWidth)-F)/2,F=Math.ceil(l.options.pointWidth)),d.pointPlacement&&D(l.plotY)&&o.categories&&(l.plotY=o.translate(l.y,0,1,0,1,d.pointPlacement));let oe=N(Math.min(z,j),w),ae=N(Math.max(z,j),w)-oe,ue=Math.min(B("object"==typeof U?U.radius:U||0,F),Math.min(ae,F)/2),be={x:oe,y:N((l.plotY||0)+m,w),width:ae,height:F,r:ue};l.shapeArgs=be,y?l.tooltipPos[1]+=u+f:l.tooltipPos[0]-=f+u-be.width/2,_=(R=be.x)+be.width,R<0||_>n.len?(R=W(R,0,n.len),G=(_=W(_,0,n.len))-R,l.dlBox=v(be,{x:R,width:_-R,centerX:G?G/2:null})):l.dlBox=null;let Se=l.tooltipPos,ie=y?1:0,q=y?0:1,re=this.columnMetrics?this.columnMetrics.offset:-h.width/2;y?Se[ie]+=be.width/2:Se[ie]=W(Se[ie]+(n.reversed?-1:0)*be.width,n.left-O,n.left+n.len-O-1),Se[q]=W(Se[q]+(y?-1:1)*re,o.top-x,o.top+o.len-x-1),(X=l.partialFill)&&(P(X)&&(X=X.amount),D(X)||(X=0),l.partShapeArgs=v(be),K=Math.max(Math.round(J*X+l.plotX-z),0),l.clipRectArgs={x:n.reversed?be.x+J-K:be.x,y:be.y,width:K,height:be.height})}translate(){for(let l of(super.translate.apply(this,arguments),this.points))this.translatePoint(l)}drawPoint(l,n){let o=this.options,h=this.chart.renderer,d=l.shapeType,c=l.shapeArgs,f=l.partShapeArgs,u=l.clipRectArgs,M=l.state,U=o.states[M||"normal"]||{},x=void 0===M?"attr":n,O=this.pointAttribs(l,M),z=T(this.chart.options.chart.animation,U.animation),j=l.graphic,J=l.partialFill;if(l.isNull||!1===l.visible)j&&(l.graphic=j.destroy());else if(j?j.rect[n](c):(l.graphic=j=h.g("point").addClass(l.getClassName()).add(l.group||this.group),j.rect=h[d](v(c)).addClass(l.getClassName()).addClass("highcharts-partfill-original").add(j)),f&&(j.partRect?(j.partRect[n](v(f)),j.partialClipRect[n](v(u))):(j.partialClipRect=h.clipRect(u.x,u.y,u.width,u.height),j.partRect=h[d](f).addClass("highcharts-partfill-overlay").add(j).clip(j.partialClipRect))),!this.chart.styledMode&&(j.rect[n](O,z).shadow(o.shadow),f)){P(J)||(J={}),P(o.partialFill)&&(J=v(o.partialFill,J));let y=J.fill||te(O.fill).brighten(-.3).get()||te(l.color||this.color).brighten(-.3).get();O.fill=y,j.partRect[x](O,z).shadow(o.shadow)}}drawPoints(){let l=this.getAnimationVerb();for(let n of this.points)this.drawPoint(n,l)}getAnimationVerb(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"}isPointInside(l){let n=l.shapeArgs,o=l.plotX,h=l.plotY;return n?void 0!==o&&void 0!==h&&h>=0&&h<=this.yAxis.len&&(n.x||0)+(n.width||0)>=0&&o<=this.xAxis.len:super.isPointInside.apply(this,arguments)}}return p.defaultOptions=v(ee.defaultOptions,me),C(p.prototype,{pointClass:de,pointArrayMap:["x2","y"],getExtremesFromAll:!0,parallelArrays:["x","x2","y"],requireSorting:!1,type:"xrange",animate:xe.series.prototype.animate,autoIncrement:Q,buildKDTree:Q}),xe.registerSeriesType("xrange",p),p}),Ne(Y,"masters/modules/xrange.src.js",[Y["Core/Globals.js"],Y["Series/XRange/XRangeSeries.js"]],function(Z,ce){return ce.compose(Z.Axis),Z}),Ne(Y,"Series/Gantt/GanttPoint.js",[Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce){let{xrange:{prototype:{pointClass:xe}}}=Z.seriesTypes,{pick:ve}=ce;class me extends xe{static setGanttPointAliases(he){function Q(te,ee){void 0!==ee&&(he[te]=ee)}Q("x",ve(he.start,he.x)),Q("x2",ve(he.end,he.x2)),Q("partialFill",ve(he.completed,he.partialFill))}applyOptions(he,Q){let te=super.applyOptions(he,Q);return me.setGanttPointAliases(te),te}isValid(){return("number"==typeof this.start||"number"==typeof this.x)&&("number"==typeof this.end||"number"==typeof this.x2||this.milestone)}}return me}),Ne(Y,"Series/Gantt/GanttSeriesDefaults.js",[Y["Core/Utilities.js"]],function(Z){let{isNumber:ce}=Z;return{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){let xe=this.series,ve=xe.xAxis,me=xe.tooltipOptions.dateTimeLabelFormats,de=ve.options.startOfWeek,he=xe.tooltipOptions,Q=this.options.milestone,te=he.xDateFormat,ee="<b>"+(this.name||this.yCategory)+"</b>";if(he.pointFormat)return this.tooltipFormatter(he.pointFormat);!te&&ce(this.start)&&(te=xe.chart.time.getDateFormat(ve.closestPointRange,this.start,de,me||{}));let L=xe.chart.time.dateFormat(te,this.start),W=xe.chart.time.dateFormat(te,this.end);return ee+="<br/>",ee+=Q?L+"<br/>":"Start: "+L+"<br/>End: "+W+"<br/>",ee}},connectors:{type:"simpleConnect",animation:{reversed:!0},radius:0,startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}}}),Ne(Y,"Core/Axis/BrokenAxis.js",[Y["Core/Axis/Stacking/StackItem.js"],Y["Core/Utilities.js"]],function(Z,ce){var xe;let{addEvent:ve,find:me,fireEvent:de,isArray:he,isNumber:Q,pick:te}=ce;return function(ee){function L(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function W(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function N(){let T=this.brokenAxis;if(T?.hasBreaks){let H=this.tickPositions,B=this.tickPositions.info,S=[];for(let p=0;p<H.length;p++)T.isInAnyBreak(H[p])||S.push(H[p]);this.tickPositions=S,this.tickPositions.info=B}}function I(){this.brokenAxis||(this.brokenAxis=new v(this))}function C(){let{isDirty:T,options:{connectNulls:H},points:B,xAxis:S,yAxis:p}=this;if(T){let b=B.length;for(;b--;){let l=B[b],n=!(null===l.y&&!1===H)&&(S?.brokenAxis?.isInAnyBreak(l.x,!0)||p?.brokenAxis?.isInAnyBreak(l.y,!0));l.visible=!n&&!1!==l.options.visible}}}function A(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,te(this.pointArrayMap,["y"]))}function D(T,H){let B,S,p,b=this,l=b.points;if(T?.brokenAxis?.hasBreaks){let n=T.brokenAxis;H.forEach(function(o){B=n?.breakArray||[],S=T.isXAxis?T.min:te(b.options.threshold,T.min);let h=T?.options?.breaks?.filter(function(d){let c=!0;for(let f=0;f<B.length;f++){let u=B[f];if(u.from===d.from&&u.to===d.to){c=!1;break}}return c});l.forEach(function(d){p=te(d["stack"+o.toUpperCase()],d[o]),B.forEach(function(c){if(Q(S)&&Q(p)){let f="";S<c.from&&p>c.to||S>c.from&&p<c.from?f="pointBreak":(S<c.from&&p>c.from&&p<c.to||S>c.from&&p>c.to&&p<c.from)&&(f="pointInBreak"),f&&de(T,f,{point:d,brk:c})}}),h?.forEach(function(c){de(T,"pointOutsideOfBreak",{point:d,brk:c})})})})}}function P(){let T=this.currentDataGrouping,H=T?.gapSize,B=this.points.slice(),S=this.yAxis,p=this.options.gapSize,b=B.length-1;if(p&&b>0){let l,n;for("value"!==this.options.gapUnit&&(p*=this.basePointRange),H&&H>p&&H>=this.basePointRange&&(p=H);b--;)if(n&&!1!==n.visible||(n=B[b+1]),l=B[b],!1!==n.visible&&!1!==l.visible){if(n.x-l.x>p){let o=(l.x+n.x)/2;B.splice(b+1,0,{isNull:!0,x:o}),S.stacking&&this.options.stacking&&((S.stacking.stacks[this.stackKey][o]=new Z(S,S.options.stackLabels,!1,o,this.stack)).total=0)}n=l}}return this.getGraphPath(B)}ee.compose=function(T,H){if(!T.keepProps.includes("brokenAxis")){T.keepProps.push("brokenAxis"),ve(T,"init",I),ve(T,"afterInit",L),ve(T,"afterSetTickPositions",N),ve(T,"afterSetOptions",W);let B=H.prototype;B.drawBreaks=D,B.gappedPath=P,ve(H,"afterGeneratePoints",C),ve(H,"afterRender",A)}return T};class v{static isInBreak(H,B){let S=H.repeat||1/0,p=H.from,b=H.to-H.from,l=B>=p?(B-p)%S:S-(p-B)%S;return H.inclusive?l<=b:l<b&&0!==l}static lin2Val(H){let B=this.brokenAxis,S=B&&B.breakArray;if(!S||!Q(H))return H;let b,l,p=H;for(l=0;l<S.length&&!((b=S[l]).from>=p);l++)(b.to<p||v.isInBreak(b,p))&&(p+=b.len);return p}static val2Lin(H){let B=this.brokenAxis,S=B&&B.breakArray;if(!S||!Q(H))return H;let b,l,p=H;for(l=0;l<S.length;l++)if((b=S[l]).to<=H)p-=b.len;else{if(b.from>=H)break;if(v.isInBreak(b,H)){p-=H-b.from;break}}return p}constructor(H){this.hasBreaks=!1,this.axis=H}findBreakAt(H,B){return me(B,function(S){return S.from<H&&H<S.to})}isInAnyBreak(H,B){let l,n,o,S=this.axis,p=S.options.breaks||[],b=p.length;if(b&&Q(H)){for(;b--;)v.isInBreak(p[b],H)&&(l=!0,n||(n=te(p[b].showPoints,!S.isXAxis)));o=l&&B?l&&!n:l}return o}setBreaks(H,B){let S=this,p=S.axis,b=he(H)&&!!H.length&&!!Object.keys(H[0]).length;p.isDirty=S.hasBreaks!==b,S.hasBreaks=b,H!==p.options.breaks&&(p.options.breaks=p.userOptions.breaks=H),p.forceRedraw=!0,p.series.forEach(function(l){l.isDirty=!0}),b||p.val2lin!==v.val2Lin||(delete p.val2lin,delete p.lin2val),b&&(p.userOptions.ordinal=!1,p.lin2val=v.lin2Val,p.val2lin=v.val2Lin,p.setExtremes=function(l,n,o,h,d){if(S.hasBreaks){let c,f=this.options.breaks||[];for(;c=S.findBreakAt(l,f);)l=c.to;for(;c=S.findBreakAt(n,f);)n=c.from;n<l&&(n=l)}p.constructor.prototype.setExtremes.call(this,l,n,o,h,d)},p.setAxisTranslation=function(){if(p.constructor.prototype.setAxisTranslation.call(this),S.unitLength=void 0,S.hasBreaks){let c,f,U,x,l=p.options.breaks||[],n=[],o=[],h=te(p.pointRangePadding,0),d=0,u=p.userMin||p.min,M=p.userMax||p.max;l.forEach(function(O){f=O.repeat||1/0,Q(u)&&Q(M)&&(v.isInBreak(O,u)&&(u+=O.to%f-u%f),v.isInBreak(O,M)&&(M-=M%f-O.from%f))}),l.forEach(function(O){if(U=O.from,f=O.repeat||1/0,Q(u)&&Q(M)){for(;U-f>u;)U-=f;for(;U<u;)U+=f;for(x=U;x<M;x+=f)n.push({value:x,move:"in"}),n.push({value:x+O.to-O.from,move:"out",size:O.breakSize})}}),n.sort(function(O,z){return O.value===z.value?("in"===O.move?0:1)-("in"===z.move?0:1):O.value-z.value}),c=0,U=u,n.forEach(function(O){1===(c+="in"===O.move?1:-1)&&"in"===O.move&&(U=O.value),0===c&&Q(U)&&(o.push({from:U,to:O.value,len:O.value-U-(O.size||0)}),d+=O.value-U-(O.size||0))}),S.breakArray=o,Q(u)&&Q(M)&&Q(p.min)&&(S.unitLength=M-u-d+h,de(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:S.unitLength&&(p.transA*=(M-p.min+h)/S.unitLength),h&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=u,p.max=M)}}),te(B,!0)&&p.chart.redraw()}}ee.Additions=v}(xe||(xe={})),xe}),Ne(Y,"Core/Axis/GridAxis.js",[Y["Core/Axis/Axis.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve,me;let{dateFormats:de}=ce,{addEvent:he,defined:Q,erase:te,find:ee,isArray:L,isNumber:W,merge:N,pick:I,timeUnits:C,wrap:A}=xe;function D(x){return xe.isObject(x,!0)}function P(x,O){let z={width:0,height:0};return O.forEach(function(j){let E,J=x[j],y=0,w=0;D(J)&&(y=(E=D(J.label)?J.label:{}).getBBox?E.getBBox().height:0,E.textStr&&!W(E.textPxLength)&&(E.textPxLength=E.getBBox().width),w=W(E.textPxLength)?Math.round(E.textPxLength):0,E.textStr&&(w=Math.round(E.getBBox().width)),z.height=Math.max(y,z.height),z.width=Math.max(w,z.width))}),"treegrid"===this.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(z.width+=this.options.labels.indentation*((this.treeGrid.mapOfPosToGridNode[-1].height||0)-1)),z}function v(x){let{grid:O}=this,z=3===this.side;if(z||x.apply(this),!O?.isColumn){let j=O?.columns||[];z&&(j=j.slice().reverse()),j.forEach(J=>{J.getOffset()})}z&&x.apply(this)}function T(x){if(!0===(this.options.grid||{}).enabled){let{axisTitle:O,height:z,horiz:j,left:J,offset:y,opposite:w,options:E,top:X,width:m}=this,F=this.tickSize(),R=O&&O.getBBox().width,_=E.title.x,G=E.title.y,K=I(E.title.margin,j?5:10),oe=O?this.chart.renderer.fontMetrics(O).f:0,ae=(j?X+z:J)+(j?1:-1)*(w?-1:1)*(F?F[0]/2:0)+(this.side===ve.bottom?oe:0);x.titlePosition.x=j?J-(R||0)/2-K+_:ae+(w?m:0)+y+_,x.titlePosition.y=j?ae-(w?z:0)+(w?oe:-oe)/2+y+G:X-K+G}}function H(){let{chart:x,options:{grid:O={}},userOptions:z}=this;if(O.enabled&&function(j){let J=j.options;J.labels.align=I(J.labels.align,"center"),j.categories||(J.showLastLabel=!1),j.labelRotation=0,J.labels.rotation=0,J.minTickInterval=1}(this),O.columns){let j=this.grid.columns=[],J=this.grid.columnIndex=0;for(;++J<O.columns.length;){let y=N(z,O.columns[J],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}}),w=new Z(this.chart,y,"yAxis");w.grid.isColumn=!0,w.grid.columnIndex=J,te(x.axes,w),te(x[this.coll]||[],w),j.push(w)}}}function B(){let{axisTitle:x,grid:O,options:z}=this;if(!0===(z.grid||{}).enabled){let j=this.min||0,J=this.max||0,y=this.ticks[this.tickPositions[0]];if(x&&!this.chart.styledMode&&y?.slotWidth&&!this.options.title.style.width&&x.css({width:`${y.slotWidth}px`}),this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine){let w=z.lineWidth;if(w){let E=this.getLinePath(w),X=E[0],m=E[1],F=(this.tickSize("tick")||[1])[0]*(this.side===ve.top||this.side===ve.left?-1:1);if("M"===X[0]&&"L"===m[0]&&(this.horiz?(X[2]+=F,m[2]+=F):(X[1]+=F,m[1]+=F)),!this.horiz&&this.chart.marginRight){let _=[X,["L",this.left,X[2]||0]],G=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(J+this.tickmarkOffset)],K=[["M",m[1]||0,this.toPixels(J+this.tickmarkOffset)],G];this.grid.upperBorder||j%1==0||(this.grid.upperBorder=this.grid.renderBorder(_)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:z.lineColor,"stroke-width":z.lineWidth}),this.grid.upperBorder.animate({d:_})),this.grid.lowerBorder||J%1==0||(this.grid.lowerBorder=this.grid.renderBorder(K)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:z.lineColor,"stroke-width":z.lineWidth}),this.grid.lowerBorder.animate({d:K}))}this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:z.lineColor,"stroke-width":z.lineWidth}),this.grid.axisLineExtra.animate({d:E})):this.grid.axisLineExtra=this.grid.renderBorder(E),this.axisLine[this.showAxis?"show":"hide"]()}}if((O&&O.columns||[]).forEach(w=>w.render()),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)&&this.tickPositions.length){let w,E,X=this.tickmarkOffset,m=this.tickPositions[this.tickPositions.length-1],F=this.tickPositions[0];for(;(w=this.hiddenLabels.pop())&&w.element;)w.show();for(;(E=this.hiddenMarks.pop())&&E.element;)E.show();(w=this.ticks[F].label)&&(j-F>X?this.hiddenLabels.push(w.hide()):w.show()),(w=this.ticks[m].label)&&(m-J>X?this.hiddenLabels.push(w.hide()):w.show());let R=this.ticks[m].mark;R&&m-J<X&&m-J>0&&this.ticks[m].isLast&&this.hiddenMarks.push(R.hide())}}}function S(){let x=this.tickPositions&&this.tickPositions.info,O=this.options,j=this.userOptions.labels||{};(O.grid||{}).enabled&&(this.horiz?(this.series.forEach(J=>{J.options.pointRange=0}),x&&O.dateTimeLabelFormats&&O.labels&&!Q(j.align)&&(!1===O.dateTimeLabelFormats[x.unitName].range||x.count>1)&&(O.labels.align="left",Q(j.x)||(O.labels.x=3))):"treegrid"!==this.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function p(x){let O,z=this.options,j=x.userOptions,J=z&&D(z.grid)?z.grid:{};!0===J.enabled&&(O=N(!0,{className:"highcharts-grid-axis "+(j.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},j),"xAxis"!==this.coll||(Q(j.linkedTo)&&!Q(j.tickPixelInterval)&&(O.tickPixelInterval=350),!(!Q(j.tickPixelInterval)&&Q(j.linkedTo))||Q(j.tickPositioner)||Q(j.tickInterval)||Q(j.units)||(O.tickPositioner=function(y,w){let E=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(E){let m,X=O.units||[],F=1,R="year";for(let K=0;K<X.length;K++){let oe=X[K];if(oe&&oe[0]===E.unitName){m=K;break}}let _=W(m)&&X[m+1];if(_){R=_[0]||"year";let K=_[1];F=K&&K[0]||1}else"year"===E.unitName&&(F=10*E.count);let G=C[R];return this.tickInterval=G*F,this.chart.time.getTimeTicks({unitRange:G,count:F,unitName:R},y,w,this.options.startOfWeek)}})),N(!0,this.options,O),this.horiz&&(z.minPadding=I(j.minPadding,0),z.maxPadding=I(j.maxPadding,0)),W(z.grid.borderWidth)&&(z.tickWidth=z.lineWidth=J.borderWidth))}function b(x){let O=x.userOptions,z=O&&O.grid||{},j=z.columns;z.enabled&&j&&N(!0,this.options,j[0])}function l(){(this.grid.columns||[]).forEach(x=>x.setScale())}function n(x){let{horiz:O,maxLabelDimensions:z,options:{grid:j={}}}=this;if(j.enabled&&z){let J=2*this.options.labels.distance,y=O?j.cellHeight||J+z.height:J+z.width;L(x.tickSize)?x.tickSize[0]=y:x.tickSize=[y,0]}}function o(){this.axes.forEach(x=>{(x.grid&&x.grid.columns||[]).forEach(O=>{O.setAxisSize(),O.setAxisTranslation()})})}function h(x){let{grid:O}=this;(O.columns||[]).forEach(z=>z.destroy(x.keepEvents)),O.columns=void 0}function d(x){let O=x.userOptions||{},z=O.grid||{};z.enabled&&Q(z.borderColor)&&(O.tickColor=O.lineColor=z.borderColor),this.grid||(this.grid=new U(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function c(x){let O=this.label,z=this.axis,j=z.reversed,J=z.chart,y=z.options.grid||{},w=z.options.labels,E=w.align,X=ve[z.side],m=x.tickmarkOffset,F=z.tickPositions,R=this.pos-m,_=W(F[x.index+1])?F[x.index+1]-m:(z.max||0)+m,G=z.tickSize("tick"),K=G?G[0]:0,oe=G?G[1]/2:0;if(!0===y.enabled){let ae,ue,be,Se;if("top"===X?ue=(ae=z.top+z.offset)-K:"bottom"===X?ae=(ue=J.chartHeight-z.bottom+z.offset)+K:(ae=z.top+z.len-(z.translate(j?_:R)||0),ue=z.top+z.len-(z.translate(j?R:_)||0)),"right"===X?Se=(be=J.chartWidth-z.right+z.offset)+K:"left"===X?be=(Se=z.left+z.offset)-K:(be=Math.round(z.left+(z.translate(j?_:R)||0))-oe,Se=Math.min(Math.round(z.left+(z.translate(j?R:_)||0))-oe,z.left+z.len)),this.slotWidth=Se-be,x.pos.x="left"===E?be:"right"===E?Se:be+(Se-be)/2,x.pos.y=ue+(ae-ue)/2,O){let ie=J.renderer.fontMetrics(O),q=O.getBBox().height;if(w.useHTML)x.pos.y+=ie.b+-q/2;else{let re=Math.round(q/ie.h);x.pos.y+=(ie.b-(ie.h-ie.f))/2+-(re-1)*ie.h/2}}x.pos.x+=z.horiz&&w.x||0}}function f(x){let{axis:O,value:z}=x;if(O.options.grid&&O.options.grid.enabled){let j,J=O.tickPositions,y=(O.linkedParent||O).series[0],w=z===J[0],E=z===J[J.length-1],X=y&&ee(y.options.data,function(m){return m[O.isXAxis?"x":"y"]===z});X&&y.is("gantt")&&(j=N(X),ce.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(j)),x.isFirst=w,x.isLast=E,x.point=j}}function u(){let x=this.options,O=x.grid||{},z=this.categories,j=this.tickPositions,J=j[0],y=j[1],w=j[j.length-1],E=j[j.length-2],F=this.linkedParent&&this.linkedParent.min||this.min,R=this.linkedParent&&this.linkedParent.max||this.max,_=this.tickInterval,G=W(F)&&F>=J+_&&F<y,K=W(F)&&J<F&&J+_>F,oe=W(R)&&w>R&&w-_<R,ae=W(R)&&R<=w-_&&R>E;!0===O.enabled&&!z&&(this.isXAxis||this.isLinked)&&((K||G)&&!x.startOnTick&&(j[0]=F),(oe||ae)&&!x.endOnTick&&(j[j.length-1]=R))}function M(x){let{options:{grid:z={}}}=this;return!0===z.enabled&&this.categories?this.tickInterval:x.apply(this,Array.prototype.slice.call(arguments,1))}(me=ve||(ve={}))[me.top=0]="top",me[me.right=1]="right",me[me.bottom=2]="bottom",me[me.left=3]="left";class U{constructor(O){this.axis=O}isOuterAxis(){let O=this.axis,z=O.chart,j=O.grid.columnIndex,J=O.linkedParent?.grid.columns||O.grid.columns||[],y=j?O.linkedParent:O,w=-1,E=0;return 3===O.side&&!z.inverted&&J.length?!O.linkedParent:((z[O.coll]||[]).forEach((X,m)=>{X.side!==O.side||X.options.isInternal||(E=m,X!==y||(w=m))}),E===w&&(!W(j)||J.length===j))}renderBorder(O){let z=this.axis,j=z.chart.renderer,J=z.options,y=j.path(O).addClass("highcharts-axis-line").add(z.axisGroup);return j.styledMode||y.attr({stroke:J.lineColor,"stroke-width":J.lineWidth,zIndex:7}),y}}return de.E=function(x){return this.dateFormat("%a",x,!0).charAt(0)},de.W=function(x){let O=this,z=new this.Date(x);["Hours","Milliseconds","Minutes","Seconds"].forEach(function(w){O.set(w,z,0)});let j=(this.get("Day",z)+6)%7,J=new this.Date(z.valueOf());this.set("Date",J,this.get("Date",z)-j+3);let y=new this.Date(this.get("FullYear",J),0,1);return 4!==this.get("Day",y)&&(this.set("Month",z,0),this.set("Date",z,1+(11-this.get("Day",y))%7)),(1+Math.floor((J.valueOf()-y.valueOf())/6048e5)).toString()},{compose:function(x,O,z){return x.keepProps.includes("grid")||(x.keepProps.push("grid"),x.prototype.getMaxLabelDimensions=P,A(x.prototype,"unsquish",M),A(x.prototype,"getOffset",v),he(x,"init",d),he(x,"afterGetTitlePosition",T),he(x,"afterInit",H),he(x,"afterRender",B),he(x,"afterSetAxisTranslation",S),he(x,"afterSetOptions",p),he(x,"afterSetOptions",b),he(x,"afterSetScale",l),he(x,"afterTickSize",n),he(x,"trimTicks",u),he(x,"destroy",h),he(O,"afterSetChartSize",o),he(z,"afterGetLabelPosition",c),he(z,"labelFormat",f)),x}}}),Ne(Y,"Gantt/Tree.js",[Y["Core/Utilities.js"]],function(Z){let{extend:ce,isNumber:xe,pick:ve}=Z;function me(de,he,Q,te,ee,L){let D,P,W=L&&L.after,N=L&&L.before,I={data:te,depth:Q-1,id:de,level:Q,parent:he||""},C=0,A=0;"function"==typeof N&&N(I,L);let v=(ee[de]||[]).map(T=>{let H=me(T.id,de,Q+1,T,ee,L),B=T.start||NaN,S=!0===T.milestone?B:T.end||NaN;return D=!xe(D)||B<D?B:D,P=!xe(P)||S>P?S:P,C=C+1+H.descendants,A=Math.max(H.height+1,A),H});return te&&(te.start=ve(te.start,D),te.end=ve(te.end,P)),ce(I,{children:v,descendants:C,height:A}),"function"==typeof W&&W(I,L),I}return{getNode:me,getTree:function(de,he){return me("",null,1,null,function(Q){let te=[],ee=Q.reduce((L,W)=>{let{parent:N="",id:I}=W;return void 0===L[N]&&(L[N]=[]),L[N].push(W),I&&te.push(I),L},{});return Object.keys(ee).forEach(L=>{if(""!==L&&-1===te.indexOf(L)){let W=ee[L].map(function(N){let{...I}=N;return I});ee[""].push(...W),delete ee[L]}}),ee}(de),he)}}}),Ne(Y,"Core/Axis/TreeGrid/TreeGridTick.js",[Y["Core/Utilities.js"]],function(Z){let{addEvent:ce,removeEvent:xe,isObject:ve,isNumber:me,pick:de,wrap:he}=Z;function Q(){this.treeGrid||(this.treeGrid=new L(this))}function te(W,N,I,C,A,D,P,v,T){let H,B,S,p=de(this.options&&this.options.labels,D),b=this.pos,l=this.axis,n="treegrid"===l.type,o=W.apply(this,[N,I,C,A,p,P,v,T]);if(n){let{width:h=0,padding:d=(l.linkedParent?0:5)}=p&&ve(p.symbol,!0)?p.symbol:{},c=p&&me(p.indentation)?p.indentation:0;S=(B=(H=l.treeGrid.mapOfPosToGridNode)&&H[b])&&B.depth||1,o.x+=h+2*d+(S-1)*c}return o}function ee(W){let N,I,C,{pos:A,axis:D,label:P,treeGrid:v,options:T}=this,H=v?.labelIcon,B=P?.element,{treeGrid:S,options:p,chart:b,tickPositions:l}=D,n=S.mapOfPosToGridNode,o=de(T?.labels,p?.labels),h=o&&ve(o.symbol,!0)?o.symbol:{},d=n&&n[A],{descendants:c,depth:f}=d||{},u=d&&c&&c>0,M="treegrid"===D.type&&B,U=l.indexOf(A)>-1,x="highcharts-treegrid-node-",O=x+"level-",z=b.styledMode;M&&d&&P.removeClass(RegExp(O+".*")).addClass(O+f),W.apply(this,Array.prototype.slice.call(arguments,1)),M&&u?(N=S.isCollapsed(d),function(j,J){let y=j.treeGrid,w=!y.labelIcon,E=J.renderer,X=J.xy,m=J.options,F=m.width||0,R=m.height||0,G={x:X.x-F/2-(m.padding??j.axis.linkedParent?0:5),y:X.y-R/2},K=J.collapsed?90:180,oe=J.show&&me(G.y),ae=y.labelIcon;ae||(y.labelIcon=ae=E.path(E.symbols[m.type](m.x||0,m.y||0,F,R)).addClass("highcharts-label-icon").add(J.group)),ae[oe?"show":"hide"](),E.styledMode||ae.attr({cursor:"pointer",fill:de(J.color,"#666666"),"stroke-width":1,stroke:m.lineColor,strokeWidth:m.lineWidth||0}),ae[w?"attr":"animate"]({translateX:G.x,translateY:G.y,rotation:K})}(this,{color:!z&&P.styles.color||"",collapsed:N,group:P.parentGroup,options:h,renderer:P.renderer,show:U,xy:P.xy}),I=x+(N?"collapsed":"expanded"),C=x+(N?"expanded":"collapsed"),P.addClass(I).removeClass(C),z||P.css({cursor:"pointer"}),[P,H].forEach(j=>{j&&!j.attachedTreeGridEvents&&(ce(j.element,"mouseover",function(){P.addClass("highcharts-treegrid-node-active"),P.renderer.styledMode||P.css({textDecoration:"underline"})}),ce(j.element,"mouseout",function(){!function(J,y){let w=ve(y.style)?y.style:{};J.removeClass("highcharts-treegrid-node-active"),J.renderer.styledMode||J.css({textDecoration:w.textDecoration||"none"})}(P,o)}),ce(j.element,"click",function(){v.toggleCollapse()}),j.attachedTreeGridEvents=!0)})):H&&(xe(B),P?.css({cursor:"default"}),H.destroy())}class L{static compose(N){let I=N.prototype;I.toggleCollapse||(ce(N,"init",Q),he(I,"getLabelPosition",te),he(I,"renderLabel",ee),I.collapse=function(C){this.treeGrid.collapse(C)},I.expand=function(C){this.treeGrid.expand(C)},I.toggleCollapse=function(C){this.treeGrid.toggleCollapse(C)})}constructor(N){this.tick=N}collapse(N){let I=this.tick,C=I.axis,A=C.brokenAxis;if(A&&C.treeGrid.mapOfPosToGridNode){let v=C.treeGrid.collapse(C.treeGrid.mapOfPosToGridNode[I.pos]);A.setBreaks(v,de(N,!0))}}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(N){let{pos:I,axis:C}=this.tick,{treeGrid:A,brokenAxis:D}=C,P=A.mapOfPosToGridNode;if(D&&P){let T=A.expand(P[I]);D.setBreaks(T,de(N,!0))}}toggleCollapse(N){let I=this.tick,C=I.axis,A=C.brokenAxis;if(A&&C.treeGrid.mapOfPosToGridNode){let v=C.treeGrid.toggleCollapse(C.treeGrid.mapOfPosToGridNode[I.pos]);A.setBreaks(v,de(N,!0))}}}return L}),Ne(Y,"Series/TreeUtilities.js",[Y["Core/Color/Color.js"],Y["Core/Utilities.js"]],function(Z,ce){let{extend:xe,isArray:ve,isNumber:me,isObject:de,merge:he,pick:Q,relativeLength:te}=ce;return{getColor:function(ee,L){let W,N,I,C,A,D,P=L.index,T=L.parentColor,H=L.parentColorIndex,B=L.series,S=L.colors,p=L.siblings;return ee&&(W=B.points[ee.i],N=L.mapOptionsToLevel[ee.level]||{},W&&N.colorByPoint&&(C=W.index%(S?S.length:B.chart.options.chart.colorCount),I=S&&S[C]),B.chart.styledMode||(A=Q(W&&W.options.color,N&&N.color,I,T&&(n=>{let o=N&&N.colorVariation;return o&&"brightness"===o.key&&P&&p?Z.parse(n).brighten(o.to*(P/p)).get():n})(T),B.color)),D=Q(W&&W.options.colorIndex,N&&N.colorIndex,C,H,L.colorIndex)),{color:A,colorIndex:D}},getLevelOptions:function(ee){let L,W,N,I,C,A,D={};if(de(ee))for(I=me(ee.from)?ee.from:1,A=ee.levels,W={},L=de(ee.defaults)?ee.defaults:{},ve(A)&&(W=A.reduce((P,v)=>{let T,H,B;return de(v)&&me(v.level)&&(H=Q((B=he({},v)).levelIsConstant,L.levelIsConstant),delete B.levelIsConstant,delete B.level,de(P[T=v.level+(H?0:I-1)])?he(!0,P[T],B):P[T]=B),P},{})),C=me(ee.to)?ee.to:1,N=0;N<=C;N++)D[N]=he({},L,de(W[N])?W[N]:{});return D},getNodeWidth:function(ee,L){let{chart:W,options:N}=ee,{nodeDistance:I=0,nodeWidth:C=0}=N,{plotSizeX:A=1}=W;if("auto"===C){if("string"==typeof I&&/%$/.test(I))return A/(L+parseFloat(I)/100*(L-1));let D=Number(I);return(A+D)/(L||1)-D}return te(C,A)},setTreeValues:function ee(L,W){let N=W.before,I=W.idRoot,D=W.points[L.i],P=D&&D.options||{},v=[],T=0;L.levelDynamic=L.level-(!1!==W.levelIsConstant?0:W.mapIdToNode[I].level),L.name=Q(D&&D.name,""),L.visible=I===L.id||!0===W.visible,"function"==typeof N&&(L=N(L,W)),L.children.forEach((B,S)=>{let p=xe({},W);xe(p,{index:S,siblings:L.children.length,visible:L.visible}),B=ee(B,p),v.push(B),B.visible&&(T+=B.val)});let H=Q(P.value,T);return L.visible=H>=0&&(T>0||L.visible),L.children=v,L.childrenTotal=T,L.isLeaf=L.visible&&!T,L.val=H,L},updateRootId:function(ee){let L,W;return de(ee)&&(W=de(ee.options)?ee.options:{},L=Q(ee.rootNode,W.rootId,""),de(ee.userOptions)&&(ee.userOptions.rootId=L),ee.rootNode=L),L}}}),Ne(Y,"Core/Axis/TreeGrid/TreeGridAxis.js",[Y["Core/Axis/BrokenAxis.js"],Y["Core/Axis/GridAxis.js"],Y["Gantt/Tree.js"],Y["Core/Axis/TreeGrid/TreeGridTick.js"],Y["Series/TreeUtilities.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de){let he,{getLevelOptions:Q}=me,{addEvent:te,find:ee,fireEvent:L,isArray:W,isObject:N,isString:I,merge:C,pick:A,removeEvent:D,wrap:P}=de;function v(n,o){let h=n.collapseEnd||0,d=n.collapseStart||0;return h>=o&&(d-=.5),{from:d,to:h,showPoints:!1}}function T(n,o,h){let d=[],c=[],f={},u=o||!1,M={},U=-1,x=xe.getTree(n,{after:function(O){let z=M[O.pos],j=0,J=0;z.children.forEach(function(y){J+=(y.descendants||0)+1,j=Math.max((y.height||0)+1,j)}),z.descendants=J,z.height=j,z.collapsed&&c.push(z)},before:function(O){let z,j,J=N(O.data,!0)?O.data:{},y=I(J.name)?J.name:"",w=f[O.parent],E=N(w,!0)?M[w.pos]:null;u&&N(E,!0)&&(z=ee(E.children,function(X){return X.name===y}))?(j=z.pos,z.nodes.push(O)):j=U++,!M[j]&&(M[j]=z={depth:E?E.depth+1:0,name:y,id:J.id,nodes:[O],children:[],pos:j},-1!==j&&d.push(y),N(E,!0)&&E.children.push(z)),I(O.id)&&(f[O.id]=O),z&&!0===J.collapsed&&(z.collapsed=!0),O.pos=j}});return{categories:d,mapOfIdToNode:f,mapOfPosToGridNode:M=function(O,z){let j=function(J,y,w){let X=y+(-1===y?0:z-1),m=(X-y)/2,F=y+m;return J.nodes.forEach(function(R){let _=R.data;N(_,!0)&&(_.y=y+(_.seriesIndex||0),delete _.seriesIndex),R.pos=F}),w[F]=J,J.pos=F,J.tickmarkOffset=m+.5,J.collapseStart=X+.5,J.children.forEach(function(R){j(R,X+1,w),X=(R.collapseEnd||0)-.5}),J.collapseEnd=X+.5,w};return j(O[-1],-1,{})}(M,h),collapsedNodes:c,tree:x}}function H(n){n.target.axes.filter(o=>"treegrid"===o.type).forEach(function(o){let U,x,h=o.options||{},d=h.labels,c=o.uniqueNames,f=h.max,u=!o.treeGrid.mapOfPosToGridNode||o.series.some(function(O){return!O.hasRendered||O.isDirtyData||O.isDirty}),M=0;if(u){if(U=o.series.reduce(function(O,z){return z.visible&&((z.options.data||[]).forEach(function(j){z.options.keys&&z.options.keys.length&&(j=z.pointClass.prototype.optionsToObject.call({series:z},j),z.pointClass.setGanttPointAliases(j)),N(j,!0)&&(j.seriesIndex=M,O.push(j))}),!0===c&&M++),O},[]),f&&U.length<f)for(let O=U.length;O<=f;O++)U.push({name:O+"\u200b"});x=T(U,c||!1,!0===c?M:1),o.categories=x.categories,o.treeGrid.mapOfPosToGridNode=x.mapOfPosToGridNode,o.hasNames=!0,o.treeGrid.tree=x.tree,o.series.forEach(function(O){let z=(O.options.data||[]).map(function(j){return W(j)&&O.options.keys&&O.options.keys.length&&U.forEach(function(J){j.indexOf(J.x)>=0&&j.indexOf(J.x2)>=0&&(j=J)}),N(j,!0)?C(j):j});O.visible&&O.setData(z,!1)}),o.treeGrid.mapOptionsToLevel=Q({defaults:d,from:1,levels:d&&d.levels,to:o.treeGrid.tree&&o.treeGrid.tree.height}),"beforeRender"===n.type&&(o.treeGrid.collapsedNodes=x.collapsedNodes)}})}function B(n,o){let u,M,U,c=this.ticks,f=c[o];"treegrid"===this.type&&this.treeGrid.mapOfPosToGridNode?((u=(this.treeGrid.mapOptionsToLevel||{})[(U=this.treeGrid.mapOfPosToGridNode[o]).depth])&&(M={labels:u}),!f&&he?c[o]=f=new he(this,o,void 0,void 0,{category:U.name,tickmarkOffset:U.tickmarkOffset,options:M}):(f.parameters.category=U.name,f.options=M,f.addLabel())):n.apply(this,Array.prototype.slice.call(arguments,1))}function S(n,o,h,d){let c=this,f="treegrid"===h.type;c.treeGrid||(c.treeGrid=new l(c)),f&&(te(o,"beforeRender",H),te(o,"beforeRedraw",H),te(o,"addSeries",function(u){if(u.options.data){let M=T(u.options.data,h.uniqueNames||!1,1);c.treeGrid.collapsedNodes=(c.treeGrid.collapsedNodes||[]).concat(M.collapsedNodes)}}),te(c,"foundExtremes",function(){c.treeGrid.collapsedNodes&&c.treeGrid.collapsedNodes.forEach(function(u){let M=c.treeGrid.collapse(u);c.brokenAxis&&(c.brokenAxis.setBreaks(M,!1),c.treeGrid.collapsedNodes&&(c.treeGrid.collapsedNodes=c.treeGrid.collapsedNodes.filter(U=>u.collapseStart!==U.collapseStart||u.collapseEnd!==U.collapseEnd)))})}),te(c,"afterBreaks",function(){"yAxis"===c.coll&&!c.staticScale&&c.chart.options.chart.height&&(c.isDirty=!0)}),h=C({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:!1},h,{reversed:!0})),n.apply(c,[o,h,d]),f&&(c.hasNames=!0,c.options.showLastLabel=!0)}function p(n){let o=this.options,h="number"==typeof o.linkedTo?this.chart[this.coll]?.[o.linkedTo]:void 0;if("treegrid"===this.type){if(this.min=A(this.userMin,o.min,this.dataMin),this.max=A(this.userMax,o.max,this.dataMax),L(this,"foundExtremes"),this.setAxisTranslation(),this.tickInterval=1,this.tickmarkOffset=.5,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[],h){let d=h.getExtremes();this.min=A(d.min,d.dataMin),this.max=A(d.max,d.dataMax),this.tickPositions=h.tickPositions}this.linkedParent=h}else n.apply(this,Array.prototype.slice.call(arguments,1))}function b(n){let o=this;"treegrid"===this.type&&o.visible&&o.tickPositions.forEach(function(h){let d=o.ticks[h];d.label&&d.label.attachedTreeGridEvents&&(D(d.label.element),d.label.attachedTreeGridEvents=!1)}),n.apply(o,Array.prototype.slice.call(arguments,1))}class l{static compose(o,h,d,c){if(!o.keepProps.includes("treeGrid")){let f=o.prototype;o.keepProps.push("treeGrid"),P(f,"generateTick",B),P(f,"init",S),P(f,"setTickInterval",p),P(f,"redraw",b),f.utils={getNode:xe.getNode},he||(he=c)}return ce.compose(o,h,c),Z.compose(o,d),ve.compose(c),o}constructor(o){this.axis=o}setCollapsedStatus(o){let h=this.axis,d=h.chart;h.series.forEach(function(c){let f=c.options.data;if(o.id&&f){let u=d.get(o.id),M=f[c.data.indexOf(u)];u&&M&&(u.collapsed=o.collapsed,M.collapsed=o.collapsed)}})}collapse(o){let h=this.axis,d=h.options.breaks||[],c=v(o,h.max);return d.push(c),o.collapsed=!0,h.treeGrid.setCollapsedStatus(o),d}expand(o){let h=this.axis,d=h.options.breaks||[],c=v(o,h.max);return o.collapsed=!1,h.treeGrid.setCollapsedStatus(o),d.reduce(function(f,u){return(u.to!==c.to||u.from!==c.from)&&f.push(u),f},[])}getTickPositions(){let o=this.axis,h=Math.floor(o.min/o.tickInterval)*o.tickInterval,d=Math.ceil(o.max/o.tickInterval)*o.tickInterval;return Object.keys(o.treeGrid.mapOfPosToGridNode||{}).reduce(function(c,f){let u=+f;return u>=h&&u<=d&&!(o.brokenAxis&&o.brokenAxis.isInAnyBreak(u))&&c.push(u),c},[])}isCollapsed(o){let h=this.axis,d=h.options.breaks||[],c=v(o,h.max);return d.some(function(f){return f.from===c.from&&f.to===c.to})}toggleCollapse(o){return this.isCollapsed(o)?this.expand(o):this.collapse(o)}}return l}),Ne(Y,"Series/Gantt/GanttSeries.js",[Y["Series/Gantt/GanttPoint.js"],Y["Series/Gantt/GanttSeriesDefaults.js"],Y["Gantt/Pathfinder.js"],Y["Core/Series/SeriesRegistry.js"],Y["Extensions/StaticScale.js"],Y["Core/Axis/TreeGrid/TreeGridAxis.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he){let{series:Q,seriesTypes:{xrange:te}}=ve,{extend:ee,isNumber:L,merge:W}=he;class N extends te{static compose(C,A,D,P){te.compose(C),A&&(me.compose(C,A),D)&&(xe.compose(A,D.prototype.pointClass),P&&de.compose(C,A,D,P))}drawPoint(C,A){let p,D=this.options,P=this.chart.renderer,v=C.shapeArgs,H=C.selected&&"select",B=D.stacking&&!D.borderRadius,S=C.graphic;C.options.milestone?L(C.plotY)&&null!==C.y&&!1!==C.visible?(p=P.symbols.diamond(v.x||0,v.y||0,v.width||0,v.height||0),S?S[A]({d:p}):C.graphic=S=P.path(p).addClass(C.getClassName(),!0).add(C.group||this.group),this.chart.styledMode||C.graphic.attr(this.pointAttribs(C,H)).shadow(D.shadow,null,B)):S&&(C.graphic=S.destroy()):super.drawPoint(C,A)}translatePoint(C){let A,D;super.translatePoint(C),C.options.milestone&&(D=(A=C.shapeArgs).height||0,C.shapeArgs={x:(A.x||0)-D/2,y:A.y,width:D,height:D})}}return N.defaultOptions=W(te.defaultOptions,ce),ee(N.prototype,{pointArrayMap:["start","end","y"],pointClass:Z,setData:Q.prototype.setData}),ve.registerSeriesType("gantt",N),N}),Ne(Y,"masters/modules/gantt.src.js",[Y["Core/Globals.js"],Y["Extensions/ArrowSymbols.js"],Y["Gantt/Connection.js"],Y["Extensions/CurrentDateIndication.js"],Y["Core/Chart/GanttChart.js"],Y["Stock/Navigator/Navigator.js"],Y["Stock/RangeSelector/RangeSelector.js"],Y["Stock/Scrollbar/Scrollbar.js"],Y["Series/Gantt/GanttSeries.js"]],function(Z,ce,xe,ve,me,de,he,Q,te){return Z.Connection=Z.Connection||xe,Z.GanttChart=Z.GanttChart||me,Z.Navigator=Z.Navigator||de,Z.RangeSelector=Z.RangeSelector||he,Z.Scrollbar=Z.Scrollbar||Q,Z.ganttChart=Z.GanttChart.ganttChart,ce.compose(Z.SVGRenderer),ve.compose(Z.Axis,Z.PlotLineOrBand),te.compose(Z.Axis,Z.Chart,Z.Series,Z.Tick),Z.Navigator.compose(Z.Chart,Z.Axis,Z.Series),Z.RangeSelector.compose(Z.Axis,Z.Chart),Z.Scrollbar.compose(Z.Axis),Z}),Ne(Y,"masters/highcharts-gantt.src.js",[Y["masters/highcharts.src.js"]],function(Z){return Z.product="Highcharts Gantt",Z}),Y["masters/highcharts-gantt.src.js"]._modules=Y,Y["masters/highcharts-gantt.src.js"]},Zi.exports?(Y.default=Y,Zi.exports=Qt&&Qt.document?Y(Qt):Y):void 0!==(ji=function(){return Y(Qt)}.call(Gs,mi,Gs,Zi))&&(Zi.exports=ji)},1264:function(Zi,Gs,mi){var ji,Qt,Y;Qt=typeof window<"u"?window:this,Y=function(Qt){"use strict";var Y={};function Ne(Z,ce,xe,ve){!Z.hasOwnProperty(ce)&&(Z[ce]=ve.apply(null,xe),Qt&&"function"==typeof CustomEvent&&Qt.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:ce,module:Z[ce]}})))}return Ne(Y,"Core/Globals.js",[],function(){var Z,ce;return(ce=Z||(Z={})).SVG_NS="http://www.w3.org/2000/svg",ce.product="Highcharts",ce.version="11.4.8",ce.win=void 0!==Qt?Qt:{},ce.doc=ce.win.document,ce.svg=ce.doc&&ce.doc.createElementNS&&!!ce.doc.createElementNS(ce.SVG_NS,"svg").createSVGRect,ce.userAgent=ce.win.navigator&&ce.win.navigator.userAgent||"",ce.isChrome=ce.win.chrome,ce.isFirefox=-1!==ce.userAgent.indexOf("Firefox"),ce.isMS=/(edge|msie|trident)/i.test(ce.userAgent)&&!ce.win.opera,ce.isSafari=!ce.isChrome&&-1!==ce.userAgent.indexOf("Safari"),ce.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(ce.userAgent),ce.isWebKit=-1!==ce.userAgent.indexOf("AppleWebKit"),ce.deg2rad=2*Math.PI/360,ce.hasBidiBug=ce.isFirefox&&4>parseInt(ce.userAgent.split("Firefox/")[1],10),ce.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],ce.noop=function(){},ce.supportsPassiveEvents=function(){let xe=!1;if(!ce.isMS){let ve=Object.defineProperty({},"passive",{get:function(){xe=!0}});ce.win.addEventListener&&ce.win.removeEventListener&&(ce.win.addEventListener("testPassive",ce.noop,ve),ce.win.removeEventListener("testPassive",ce.noop,ve))}return xe}(),ce.charts=[],ce.composed=[],ce.dateFormats={},ce.seriesTypes={},ce.symbolSizes={},ce.chartCount=0,Z}),Ne(Y,"Core/Utilities.js",[Y["Core/Globals.js"]],function(Z){let ce,{charts:xe,doc:ve,win:me}=Z;function de(n,o,h,d){let c=o?"Highcharts error":"Highcharts warning";32===n&&(n=`${c}: Deprecated member`);let f=N(n),u=f?`${c} #${n}: www.highcharts.com/errors/${n}/`:n.toString();if(void 0!==d){let M="";f&&(u+="?"),S(d,function(U,x){M+=`\n - ${x}: ${U}`,f&&(u+=encodeURI(x)+"="+encodeURI(U))}),u+=M}b(Z,"displayError",{chart:h,code:n,message:u,params:d},function(){if(o)throw Error(u);me.console&&-1===de.messages.indexOf(u)&&console.warn(u)}),de.messages.push(u)}function he(n,o){return parseInt(n,o||10)}function Q(n){return"string"==typeof n}function te(n){let o=Object.prototype.toString.call(n);return"[object Array]"===o||"[object Array Iterator]"===o}function ee(n,o){return!(!n||"object"!=typeof n||o&&te(n))}function L(n){return ee(n)&&"number"==typeof n.nodeType}function W(n){let o=n&&n.constructor;return!(!ee(n,!0)||L(n)||!o||!o.name||"Object"===o.name)}function N(n){return"number"==typeof n&&!isNaN(n)&&n<1/0&&n>-1/0}function I(n){return null!=n}function C(n,o,h){let d,c=Q(o)&&!I(h),f=(u,M)=>{I(u)?n.setAttribute(M,u):c?(d=n.getAttribute(M))||"class"!==M||(d=n.getAttribute(M+"Name")):n.removeAttribute(M)};return Q(o)?f(h,o):S(o,f),d}function A(n){return te(n)?n:[n]}function D(n,o){let h;for(h in n||(n={}),o)n[h]=o[h];return n}function P(){let n=arguments,o=n.length;for(let h=0;h<o;h++){let d=n[h];if(null!=d)return d}}function v(n,o){D(n.style,o)}function T(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))}function H(n,o){return n>1e14?n:parseFloat(n.toPrecision(o||14))}(de||(de={})).messages=[],Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};let B=Array.prototype.find?function(n,o){return n.find(o)}:function(n,o){let h,d=n.length;for(h=0;h<d;h++)if(o(n[h],h))return n[h]};function S(n,o,h){for(let d in n)Object.hasOwnProperty.call(n,d)&&o.call(h||n[d],n[d],d,n)}function p(n,o,h){function d(u,M){let U=n.removeEventListener;U&&U.call(n,u,M,!1)}function c(u){let M,U;n.nodeName&&(o?(M={})[o]=!0:M=u,S(M,function(x,O){if(u[O])for(U=u[O].length;U--;)d(O,u[O][U].fn)}))}let f="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(f,"hcEvents")){let u=f.hcEvents;o?h?(u[o]=(u[o]||[]).filter(function(U){return h!==U.fn}),d(o,h)):(c(u),u[o]=[]):(c(u),delete f.hcEvents)}}function b(n,o,h,d){if(h=h||{},ve.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==Z)){let c=ve.createEvent("Events");c.initEvent(o,!0,!0),h=D(c,h),n.dispatchEvent?n.dispatchEvent(h):n.fireEvent(o,h)}else if(n.hcEvents){h.target||D(h,{preventDefault:function(){h.defaultPrevented=!0},target:n,type:o});let c=[],f=n,u=!1;for(;f.hcEvents;)Object.hasOwnProperty.call(f,"hcEvents")&&f.hcEvents[o]&&(c.length&&(u=!0),c.unshift.apply(c,f.hcEvents[o])),f=Object.getPrototypeOf(f);u&&c.sort((M,U)=>M.order-U.order),c.forEach(M=>{!1===M.fn.call(n,h)&&h.preventDefault()})}d&&!h.defaultPrevented&&d.call(n,h)}S({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,o){Z[o]=function(h){return de(32,!1,void 0,{[`Highcharts.${o}`]:`use Array.${n}`}),Array.prototype[n].apply(h,[].slice.call(arguments,1))}});let l=function(){let n=Math.random().toString(36).substring(2,9)+"-",o=0;return function(){return"highcharts-"+(ce?"":n)+o++}}();return me.jQuery&&(me.jQuery.fn.highcharts=function(){let n=[].slice.call(arguments);if(this[0])return n[0]?(new(Z[Q(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):xe[C(this[0],"data-highcharts-chart")]}),{addEvent:function(n,o,h,d={}){let c="function"==typeof n&&n.prototype||n;Object.hasOwnProperty.call(c,"hcEvents")||(c.hcEvents={});let f=c.hcEvents;Z.Point&&n instanceof Z.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);let u=n.addEventListener;return u&&u.call(n,o,h,!!Z.supportsPassiveEvents&&{passive:void 0===d.passive?-1!==o.indexOf("touch"):d.passive,capture:!1}),f[o]||(f[o]=[]),f[o].push({fn:h,order:"number"==typeof d.order?d.order:1/0}),f[o].sort((U,x)=>U.order-x.order),function(){p(n,o,h)}},arrayMax:function(n){let o=n.length,h=n[0];for(;o--;)n[o]>h&&(h=n[o]);return h},arrayMin:function(n){let o=n.length,h=n[0];for(;o--;)n[o]<h&&(h=n[o]);return h},attr:C,clamp:function(n,o,h){return n>o?n<h?n:h:o},clearTimeout:function(n){I(n)&&clearTimeout(n)},correctFloat:H,createElement:function(n,o,h,d,c){let f=ve.createElement(n);return o&&D(f,o),c&&v(f,{padding:"0",border:"none",margin:"0"}),h&&v(f,h),d&&d.appendChild(f),f},crisp:(n,o=0,h)=>{let d=o%2/2,c=h?-1:1;return(Math.round(n*c-d)+d)*c},css:v,defined:I,destroyObjectProperties:function(n,o,h){S(n,function(d,c){d!==o&&d?.destroy&&d.destroy(),(d?.destroy||!h)&&delete n[c]})},diffObjects:function(n,o,h,d){let c={};return function f(u,M,U,x){let O=h?M:u;S(u,function(z,j){if(!x&&d&&d.indexOf(j)>-1&&M[j]){z=A(z),U[j]=[];for(let J=0;J<Math.max(z.length,M[j].length);J++)M[j][J]&&(void 0===z[J]?U[j][J]=M[j][J]:(U[j][J]={},f(z[J],M[j][J],U[j][J],x+1)))}else ee(z,!0)&&!z.nodeType?(U[j]=te(z)?[]:{},f(z,M[j]||{},U[j],x+1),0!==Object.keys(U[j]).length||"colorAxis"===j&&0===x||delete U[j]):(u[j]!==M[j]||j in u&&!(j in M))&&"__proto__"!==j&&"constructor"!==j&&(U[j]=O[j])})}(n,o,c,0),c},discardElement:function(n){n&&n.parentElement&&n.parentElement.removeChild(n)},erase:function(n,o){let h=n.length;for(;h--;)if(n[h]===o){n.splice(h,1);break}},error:de,extend:D,extendClass:function(n,o){let h=function(){};return D(h.prototype=new n,o),h},find:B,fireEvent:b,getClosestDistance:function(n,o){let h,d,c,f,u=!o;return n.forEach(M=>{if(M.length>1)for(f=d=M.length-1;f>0;f--)(c=M[f]-M[f-1])<0&&!u?(o?.(),o=void 0):c&&(void 0===h||c<h)&&(h=c)}),h},getMagnitude:T,getNestedProperty:function(n,o){let h=n.split(".");for(;h.length&&I(o);){let d=h.shift();if(void 0===d||"__proto__"===d)return;if("this"===d){let f;return ee(o)&&(f=o["@this"]),f??o}let c=o[d];if(!I(c)||"function"==typeof c||"number"==typeof c.nodeType||c===me)return;o=c}return o},getStyle:function n(o,h,d){let c;if("width"===h){let u=Math.min(o.offsetWidth,o.scrollWidth),M=o.getBoundingClientRect&&o.getBoundingClientRect().width;return M<u&&M>=u-1&&(u=Math.floor(M)),Math.max(0,u-(n(o,"padding-left",!0)||0)-(n(o,"padding-right",!0)||0))}if("height"===h)return Math.max(0,Math.min(o.offsetHeight,o.scrollHeight)-(n(o,"padding-top",!0)||0)-(n(o,"padding-bottom",!0)||0));let f=me.getComputedStyle(o,void 0);return f&&(c=f.getPropertyValue(h),P(d,"opacity"!==h)&&(c=he(c))),c},inArray:function(n,o,h){return de(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),o.indexOf(n,h)},insertItem:function(n,o){let h,d=n.options.index,c=o.length;for(h=n.options.isInternal?c:0;h<c+1;h++)if(!o[h]||N(d)&&d<P(o[h].options.index,o[h]._i)||o[h].options.isInternal){o.splice(h,0,n);break}return h},isArray:te,isClass:W,isDOMElement:L,isFunction:function(n){return"function"==typeof n},isNumber:N,isObject:ee,isString:Q,keys:function(n){return de(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)},merge:function(){let n,o=arguments,h={},d=function(f,u){return"object"!=typeof f&&(f={}),S(u,function(M,U){"__proto__"!==U&&"constructor"!==U&&(f[U]=!ee(M,!0)||W(M)||L(M)?u[U]:d(f[U]||{},M))}),f};!0===o[0]&&(h=o[1],o=Array.prototype.slice.call(o,2));let c=o.length;for(n=0;n<c;n++)h=d(h,o[n]);return h},normalizeTickInterval:function(n,o,h,d,c){let f,u=n,M=n/(h=P(h,T(n)));for(!o&&(o=c?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===d&&(1===h?o=o.filter(function(U){return U%1==0}):h<=.1&&(o=[1/h]))),f=0;f<o.length&&(u=o[f],(!c||!(u*h>=n))&&(c||!(M<=(o[f]+(o[f+1]||o[f]))/2)));f++);return H(u*h,-Math.round(Math.log(.001)/Math.LN10))},objectEach:S,offset:function(n){let o=ve.documentElement,h=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:h.top+(me.pageYOffset||o.scrollTop)-(o.clientTop||0),left:h.left+(me.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:h.width,height:h.height}},pad:function(n,o,h){return Array((o||2)+1-String(n).replace("-","").length).join(h||"0")+n},pick:P,pInt:he,pushUnique:function(n,o){return 0>n.indexOf(o)&&!!n.push(o)},relativeLength:function(n,o,h){return/%$/.test(n)?o*parseFloat(n)/100+(h||0):parseFloat(n)},removeEvent:p,replaceNested:function(n,...o){let h,d;do{for(d of(h=n,o))n=n.replace(d[0],d[1])}while(n!==h);return n},splat:A,stableSort:function(n,o){let h,d,c=n.length;for(d=0;d<c;d++)n[d].safeI=d;for(n.sort(function(f,u){return 0===(h=o(f,u))?f.safeI-u.safeI:h}),d=0;d<c;d++)delete n[d].safeI},syncTimeout:function(n,o,h){return o>0?setTimeout(n,o,h):(n.call(0,h),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:l,useSerialIds:function(n){return ce=P(n,ce)},wrap:function(n,o,h){let d=n[o];n[o]=function(){let c=arguments,f=this;return h.apply(this,[function(){return d.apply(f,arguments.length?arguments:c)}].concat([].slice.call(arguments)))}}}}),Ne(Y,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),Ne(Y,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),Ne(Y,"Core/Time.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{win:xe}=Z,{defined:ve,error:me,extend:de,isNumber:he,isObject:Q,merge:te,objectEach:ee,pad:L,pick:W,splat:N,timeUnits:I}=ce,C=Z.isSafari&&xe.Intl&&xe.Intl.DateTimeFormat.prototype.formatRange,A=Z.isSafari&&xe.Intl&&!xe.Intl.DateTimeFormat.prototype.formatRange;class D{constructor(v){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=xe.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(v)}get(v,T){if(this.variableTimezone||this.timezoneOffset){let H=T.getTime(),B=H-this.getTimezoneOffset(T);T.setTime(B);let S=T["getUTC"+v]();return T.setTime(H),S}return this.useUTC?T["getUTC"+v]():T["get"+v]()}set(v,T,H){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===v||"Seconds"===v||"Minutes"===v&&this.getTimezoneOffset(T)%36e5==0)return T["setUTC"+v](H);let B=this.getTimezoneOffset(T),S=T.getTime()-B;T.setTime(S),T["setUTC"+v](H);let p=this.getTimezoneOffset(T);return S=T.getTime()+p,T.setTime(S)}return this.useUTC||C&&"FullYear"===v?T["setUTC"+v](H):T["set"+v](H)}update(v={}){let T=W(v.useUTC,!0);this.options=v=te(!0,this.options,v),this.Date=v.Date||xe.Date||Date,this.useUTC=T,this.timezoneOffset=T&&v.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=T&&!(!v.getTimezoneOffset&&!v.timezone)}makeTime(v,T,H,B,S,p){let b,l,n;return this.useUTC?(b=this.Date.UTC.apply(0,arguments),l=this.getTimezoneOffset(b),b+=l,l!==(n=this.getTimezoneOffset(b))?b+=n-l:l-36e5!==this.getTimezoneOffset(b-36e5)||A||(b-=36e5)):b=new this.Date(v,T,W(H,1),W(B,0),W(S,0),W(p,0)).getTime(),b}timezoneOffsetFunction(){let v=this,T=this.options,H=T.getTimezoneOffset;return this.useUTC?T.timezone?B=>{try{let S=`shortOffset,${T.timezone||""}`,[p,b,l,n,o=0]=(D.formatCache[S]=D.formatCache[S]||Intl.DateTimeFormat("en",{timeZone:T.timezone,timeZoneName:"shortOffset"})).format(B).split(/(GMT|:)/).map(Number),h=-36e5*(l+o/60);if(he(h))return h}catch{me(34)}return 0}:this.useUTC&&H?B=>6e4*H(B.valueOf()):()=>6e4*(v.timezoneOffset||0):B=>6e4*new Date(B.toString()).getTimezoneOffset()}dateFormat(v,T,H){if(!ve(T)||isNaN(T))return Z.defaultOptions.lang&&Z.defaultOptions.lang.invalidDate||"";v=W(v,"%Y-%m-%d %H:%M:%S");let B=this,S=new this.Date(T),p=this.get("Hours",S),b=this.get("Day",S),l=this.get("Date",S),n=this.get("Month",S),o=this.get("FullYear",S),h=Z.defaultOptions.lang,d=h&&h.weekdays,c=h&&h.shortWeekdays;return ee(de({a:c?c[b]:d[b].substr(0,3),A:d[b],d:L(l),e:L(l,2," "),w:b,b:h.shortMonths[n],B:h.months[n],m:L(n+1),o:n+1,y:o.toString().substr(2,2),Y:o,H:L(p),k:p,I:L(p%12||12),l:p%12||12,M:L(this.get("Minutes",S)),p:p<12?"AM":"PM",P:p<12?"am":"pm",S:L(this.get("Seconds",S)),L:L(Math.floor(T%1e3),3)},Z.dateFormats),function(f,u){for(;-1!==v.indexOf("%"+u);)v=v.replace("%"+u,"function"==typeof f?f.call(B,T):f)}),H?v.substr(0,1).toUpperCase()+v.substr(1):v}resolveDTLFormat(v){return Q(v,!0)?v:{main:(v=N(v))[0],from:v[1],to:v[2]}}getTimeTicks(v,T,H,B){let S,p,b,l,n=this,h=[],d={},c=new(0,n.Date)(T),f=v.unitRange,u=v.count||1;if(B=W(B,1),ve(T)){n.set("Milliseconds",c,f>=I.second?0:u*Math.floor(n.get("Milliseconds",c)/u)),f>=I.second&&n.set("Seconds",c,f>=I.minute?0:u*Math.floor(n.get("Seconds",c)/u)),f>=I.minute&&n.set("Minutes",c,f>=I.hour?0:u*Math.floor(n.get("Minutes",c)/u)),f>=I.hour&&n.set("Hours",c,f>=I.day?0:u*Math.floor(n.get("Hours",c)/u)),f>=I.day&&n.set("Date",c,f>=I.month?1:Math.max(1,u*Math.floor(n.get("Date",c)/u))),f>=I.month&&(n.set("Month",c,f>=I.year?0:u*Math.floor(n.get("Month",c)/u)),p=n.get("FullYear",c)),f>=I.year&&(p-=p%u,n.set("FullYear",c,p)),f===I.week&&(l=n.get("Day",c),n.set("Date",c,n.get("Date",c)-l+B+(l<B?-7:0))),p=n.get("FullYear",c);let M=n.get("Month",c),U=n.get("Date",c),x=n.get("Hours",c);T=c.getTime(),(n.variableTimezone||!n.useUTC)&&ve(H)&&(b=H-T>4*I.month||n.getTimezoneOffset(T)!==n.getTimezoneOffset(H));let O=c.getTime();for(S=1;O<H;)h.push(O),f===I.year?O=n.makeTime(p+S*u,0):f===I.month?O=n.makeTime(p,M+S*u):!b||f!==I.day&&f!==I.week?b&&f===I.hour&&u>1?O=n.makeTime(p,M,U,x+S*u):O+=f*u:O=n.makeTime(p,M,U+S*u*(f===I.day?1:7)),S++;h.push(O),f<=I.hour&&h.length<1e4&&h.forEach(function(z){z%18e5==0&&"000000000"===n.dateFormat("%H%M%S%L",z)&&(d[z]="day")})}return h.info=de(v,{higherRanks:d,totalRange:f*u}),h}getDateFormat(v,T,H,B){let S=this.dateFormat("%m-%d %H:%M:%S.%L",T),p="01-01 00:00:00.000",b={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond",n=l;for(l in I){if(v===I.week&&+this.dateFormat("%w",T)===H&&S.substr(6)===p.substr(6)){l="week";break}if(I[l]>v){l=n;break}if(b[l]&&S.substr(b[l])!==p.substr(b[l]))break;"week"!==l&&(n=l)}return this.resolveDTLFormat(B[l]).main}}return D.formatCache={},D}),Ne(Y,"Core/Defaults.js",[Y["Core/Chart/ChartDefaults.js"],Y["Core/Globals.js"],Y["Core/Color/Palettes.js"],Y["Core/Time.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{isTouchDevice:de}=ce,{fireEvent:he,merge:Q}=me,te={colors:xe.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:Z,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:L=>Math.sqrt(1-Math.pow(L-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:de?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};te.chart.styledMode=!1;let ee=new ve(te.time);return{defaultOptions:te,defaultTime:ee,getOptions:function(){return te},setOptions:function(L){return he(ce,"setOptions",{options:L}),Q(!0,te,L),(L.time||L.global)&&(ce.time?ce.time.update(Q(te.global,te.time,L.global,L.time)):ce.time=ee),te}}}),Ne(Y,"Core/Color/Color.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{isNumber:xe,merge:ve,pInt:me}=ce;class de{static parse(Q){return Q?new de(Q):de.None}constructor(Q){let te,ee,L,W;this.rgba=[NaN,NaN,NaN,NaN],this.input=Q;let N=Z.Color;if(N&&N!==de)return new N(Q);if("object"==typeof Q&&void 0!==Q.stops)this.stops=Q.stops.map(I=>new de(I[1]));else if("string"==typeof Q){if(this.input=Q=de.names[Q.toLowerCase()]||Q,"#"===Q.charAt(0)){let I=Q.length,C=parseInt(Q.substr(1),16);7===I?ee=[(16711680&C)>>16,(65280&C)>>8,255&C,1]:4===I&&(ee=[(3840&C)>>4|(3840&C)>>8,(240&C)>>4|240&C,(15&C)<<4|15&C,1])}if(!ee)for(L=de.parsers.length;L--&&!ee;)(te=(W=de.parsers[L]).regex.exec(Q))&&(ee=W.parse(te))}ee&&(this.rgba=ee)}get(Q){let te=this.input,ee=this.rgba;if("object"==typeof te&&void 0!==this.stops){let L=ve(te);return L.stops=[].slice.call(L.stops),this.stops.forEach((W,N)=>{L.stops[N]=[L.stops[N][0],W.get(Q)]}),L}return ee&&xe(ee[0])?"rgb"===Q||!Q&&1===ee[3]?"rgb("+ee[0]+","+ee[1]+","+ee[2]+")":"a"===Q?`${ee[3]}`:"rgba("+ee.join(",")+")":te}brighten(Q){let te=this.rgba;if(this.stops)this.stops.forEach(function(ee){ee.brighten(Q)});else if(xe(Q)&&0!==Q)for(let ee=0;ee<3;ee++)te[ee]+=me(255*Q),te[ee]<0&&(te[ee]=0),te[ee]>255&&(te[ee]=255);return this}setOpacity(Q){return this.rgba[3]=Q,this}tweenTo(Q,te){let ee=this.rgba,L=Q.rgba;if(!xe(ee[0])||!xe(L[0]))return Q.input||"none";let W=1!==L[3]||1!==ee[3];return(W?"rgba(":"rgb(")+Math.round(L[0]+(ee[0]-L[0])*(1-te))+","+Math.round(L[1]+(ee[1]-L[1])*(1-te))+","+Math.round(L[2]+(ee[2]-L[2])*(1-te))+(W?","+(L[3]+(ee[3]-L[3])*(1-te)):"")+")"}}return de.names={white:"#ffffff",black:"#000000"},de.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(he){return[me(he[1]),me(he[2]),me(he[3]),parseFloat(he[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(he){return[me(he[1]),me(he[2]),me(he[3]),1]}}],de.None=new de(""),de}),Ne(Y,"Core/Animation/Fx.js",[Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{parse:ve}=Z,{win:me}=ce,{isNumber:de,objectEach:he}=xe;class Q{constructor(ee,L,W){this.pos=NaN,this.options=L,this.elem=ee,this.prop=W}dSetter(){let ee=this.paths,L=ee&&ee[0],W=ee&&ee[1],N=this.now||0,I=[];if(1!==N&&L&&W)if(L.length===W.length&&N<1)for(let C=0;C<W.length;C++){let A=L[C],D=W[C],P=[];for(let v=0;v<D.length;v++){let T=A[v],H=D[v];P[v]=de(T)&&de(H)&&("A"!==D[0]||4!==v&&5!==v)?T+N*(H-T):H}I.push(P)}else I=W;else I=this.toD||[];this.elem.attr("d",I,void 0,!0)}update(){let ee=this.elem,L=this.prop,W=this.now,N=this.options.step;this[L+"Setter"]?this[L+"Setter"]():ee.attr?ee.element&&ee.attr(L,W,null,!0):ee.style[L]=W+this.unit,N&&N.call(ee,W,this)}run(ee,L,W){let N=this,I=N.options,C=function(P){return!C.stopped&&N.step(P)},A=me.requestAnimationFrame||function(P){setTimeout(P,13)},D=function(){for(let P=0;P<Q.timers.length;P++)Q.timers[P]()||Q.timers.splice(P--,1);Q.timers.length&&A(D)};ee!==L||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=ee,this.end=L,this.unit=W,this.now=this.start,this.pos=0,C.elem=this.elem,C.prop=this.prop,C()&&1===Q.timers.push(C)&&A(D)):(delete I.curAnim[this.prop],I.complete&&0===Object.keys(I.curAnim).length&&I.complete.call(this.elem))}step(ee){let L,W,N=+new Date,I=this.options,C=this.elem,A=I.complete,D=I.duration,P=I.curAnim;return C.attr&&!C.element?L=!1:ee||N>=D+this.startTime?(this.now=this.end,this.pos=1,this.update(),P[this.prop]=!0,W=!0,he(P,function(v){!0!==v&&(W=!1)}),W&&A&&A.call(C),L=!1):(this.pos=I.easing((N-this.startTime)/D),this.now=this.start+(this.end-this.start)*this.pos,this.update(),L=!0),L}initPath(ee,L,W){let v,T,H,B,N=ee.startX,I=ee.endX,C=W.slice(),A=ee.isArea,D=A?2:1,P=L&&W.length>L.length&&W.hasStackedCliffs,S=L&&L.slice();if(!S||P)return[C,C];function p(l,n){for(;l.length<T;){let o=l[0],h=n[T-l.length];if(h&&"M"===o[0]&&(l[0]="C"===h[0]?["C",o[1],o[2],o[1],o[2],o[1],o[2]]:["L",o[1],o[2]]),l.unshift(o),A){let d=l.pop();l.push(l[l.length-1],d)}}}function b(l){for(;l.length<T;){let n=l[Math.floor(l.length/D)-1].slice();if("C"===n[0]&&(n[1]=n[5],n[2]=n[6]),A){let o=l[Math.floor(l.length/D)].slice();l.splice(l.length/2,0,n,o)}else l.push(n)}}if(N&&I&&I.length){for(H=0;H<N.length;H++){if(N[H]===I[0]){v=H;break}if(N[0]===I[I.length-N.length+H]){v=H,B=!0;break}if(N[N.length-1]===I[I.length-N.length+H]){v=N.length-H;break}}void 0===v&&(S=[])}return S.length&&de(v)&&(T=C.length+v*D,B?(p(S,C),b(C)):(p(C,S),b(S))),[S,C]}fillSetter(){Q.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,ve(this.start).tweenTo(ve(this.end),this.pos),void 0,!0)}}return Q.timers=[],Q}),Ne(Y,"Core/Animation/AnimationUtilities.js",[Y["Core/Animation/Fx.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defined:xe,getStyle:ve,isArray:me,isNumber:de,isObject:he,merge:Q,objectEach:te,pick:ee}=ce;function L(N){return he(N)?Q({duration:500,defer:0},N):{duration:N?500:0,defer:0}}function W(N,I){let C=Z.timers.length;for(;C--;)Z.timers[C].elem!==N||I&&I!==Z.timers[C].prop||(Z.timers[C].stopped=!0)}return{animate:function(N,I,C){let A,P,v,T,D="";he(C)||(T=arguments,C={duration:T[2],easing:T[3],complete:T[4]}),de(C.duration)||(C.duration=400),C.easing="function"==typeof C.easing?C.easing:Math[C.easing]||Math.easeInOutSine,C.curAnim=Q(I),te(I,function(H,B){W(N,B),v=new Z(N,C,B),P=void 0,"d"===B&&me(I.d)?(v.paths=v.initPath(N,N.pathArray,I.d),v.toD=I.d,A=0,P=1):N.attr?A=N.attr(B):(A=parseFloat(ve(N,B))||0,"opacity"!==B&&(D="px")),P||(P=H),"string"==typeof P&&P.match("px")&&(P=P.replace(/px/g,"")),v.run(A,P,D)})},animObject:L,getDeferredAnimation:function(N,I,C){let A=L(I),P=0,v=0;return(C?[C]:N.series).forEach(T=>{let H=L(T.options.animation);P=he(I)&&xe(I.defer)?A.defer:Math.max(P,H.duration+H.defer),v=Math.min(A.duration,H.duration)}),N.renderer.forExport&&(P=0),{defer:Math.max(0,P-v),duration:Math.min(P,v)}},setAnimation:function(N,I){I.renderer.globalAnimation=ee(N,I.options.chart.animation,!0)},stop:W}}),Ne(Y,"Core/Renderer/HTML/AST.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{SVG_NS:xe,win:ve}=Z,{attr:me,createElement:de,css:he,error:Q,isFunction:te,isString:ee,objectEach:L,splat:W}=ce,{trustedTypes:N}=ve,I=N&&te(N.createPolicy)&&N.createPolicy("highcharts",{createHTML:P=>P}),C=I?I.createHTML(""):"",A=function(){try{return!!(new DOMParser).parseFromString(C,"text/html")}catch{return!1}}();class D{static filterUserAttributes(v){return L(v,(T,H)=>{let B=!0;-1===D.allowedAttributes.indexOf(H)&&(B=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(H)&&(B=ee(T)&&D.allowedReferences.some(S=>0===T.indexOf(S))),B||(Q(33,!1,void 0,{"Invalid attribute in config":`${H}`}),delete v[H]),ee(T)&&v[H]&&(v[H]=T.replace(/</g,"&lt;"))}),v}static parseStyle(v){return v.split(";").reduce((T,H)=>{let B=H.split(":").map(p=>p.trim()),S=B.shift();return S&&B.length&&(T[S.replace(/-([a-z])/g,p=>p[1].toUpperCase())]=B.join(":")),T},{})}static setElementHTML(v,T){v.innerHTML=D.emptyHTML,T&&new D(T).addToDOM(v)}constructor(v){this.nodes="string"==typeof v?this.parseMarkup(v):v}addToDOM(v){return function T(H,B){let S;return W(H).forEach(function(p){let b,l=p.tagName,n=p.textContent?Z.doc.createTextNode(p.textContent):void 0,o=D.bypassHTMLFiltering;if(l)if("#text"===l)b=n;else if(-1!==D.allowedTags.indexOf(l)||o){let d=Z.doc.createElementNS("svg"===l?xe:B.namespaceURI||xe,l),c=p.attributes||{};L(p,function(f,u){"tagName"!==u&&"attributes"!==u&&"children"!==u&&"style"!==u&&"textContent"!==u&&(c[u]=f)}),me(d,o?c:D.filterUserAttributes(c)),p.style&&he(d,p.style),n&&d.appendChild(n),T(p.children||[],d),b=d}else Q(33,!1,void 0,{"Invalid tagName in config":l});b&&B.appendChild(b),S=b}),S}(this.nodes,v)}parseMarkup(v){let T,H=[];if(v=v.trim().replace(/ style=(["'])/g," data-style=$1"),A)T=(new DOMParser).parseFromString(I?I.createHTML(v):v,"text/html");else{let S=de("div");S.innerHTML=v,T={body:S}}let B=(S,p)=>{let b=S.nodeName.toLowerCase(),l={tagName:b};"#text"===b&&(l.textContent=S.textContent||"");let n=S.attributes;if(n){let o={};[].forEach.call(n,h=>{"data-style"===h.name?l.style=D.parseStyle(h.value):o[h.name]=h.value}),l.attributes=o}if(S.childNodes.length){let o=[];[].forEach.call(S.childNodes,h=>{B(h,o)}),o.length&&(l.children=o)}p.push(l)};return[].forEach.call(T.body.childNodes,S=>B(S,H)),H}}return D.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],D.allowedReferences=["https://","http://","mailto:","/","../","./","#"],D.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],D.emptyHTML=C,D.bypassHTMLFiltering=!1,D}),Ne(Y,"Core/Templating.js",[Y["Core/Defaults.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defaultOptions:xe,defaultTime:ve}=Z,{extend:me,getNestedProperty:de,isArray:he,isNumber:Q,isObject:te,pick:ee,pInt:L}=ce,W={add:(C,A)=>C+A,divide:(C,A)=>0!==A?C/A:"",eq:(C,A)=>C==A,each:function(C){let A=arguments[arguments.length-1];return!!he(C)&&C.map((D,P)=>N(A.body,me(te(D)?D:{"@this":D},{"@index":P,"@first":0===P,"@last":P===C.length-1}))).join("")},ge:(C,A)=>C>=A,gt:(C,A)=>C>A,if:C=>!!C,le:(C,A)=>C<=A,lt:(C,A)=>C<A,multiply:(C,A)=>C*A,ne:(C,A)=>C!=A,subtract:(C,A)=>C-A,unless:C=>!C};function N(C="",A,D){let n,o,d,P=/\{([\w\:\.\,;\-\/<>%@"'\u2019= #\(\)]+)\}/g,v=/\(([\w\:\.\,;\-\/<>%@"'= ]+)\)/g,T=[],H=/f$/,B=/\.(\d)/,S=xe.lang,p=D&&D.time||ve,b=D&&D.numberFormatter||I,l=(c="")=>{let f;return"true"===c||"false"!==c&&((f=Number(c)).toString()===c?f:de(c,A))},h=0;for(;null!==(n=P.exec(C));){let c=v.exec(n[1]);c&&(n=c,d=!0),o&&o.isBlock||(o={ctx:A,expression:n[1],find:n[0],isBlock:"#"===n[1].charAt(0),start:n.index,startInner:n.index+n[0].length,length:n[0].length});let f=n[1].split(" ")[0].replace("#","");W[f]&&(o.isBlock&&f===o.fn&&h++,o.fn||(o.fn=f));let u="else"===n[1];if(o.isBlock&&o.fn&&(n[1]===`/${o.fn}`||u))if(h)!u&&h--;else{let M=o.startInner,U=C.substr(M,n.index-M);void 0===o.body?(o.body=U,o.startInner=n.index+n[0].length):o.elseBody=U,o.find+=U+n[0],u||(T.push(o),o=void 0)}else o.isBlock||T.push(o);if(c&&!o?.isBlock)break}return T.forEach(c=>{let f,u,{body:M,elseBody:U,expression:x,fn:O}=c;if(O){let z=[c],j=x.split(" ");for(u=W[O].length;u--;)z.unshift(l(j[u+1]));f=W[O].apply(A,z),c.isBlock&&"boolean"==typeof f&&(f=N(f?M:U,A,D))}else{let z=x.split(":");if(f=l(z.shift()||""),z.length&&"number"==typeof f){let j=z.join(":");if(H.test(j)){let J=parseInt((j.match(B)||["","-1"])[1],10);null!==f&&(f=b(f,J,S.decimalPoint,j.indexOf(",")>-1?S.thousandsSep:""))}else f=p.dateFormat(j,f)}}C=C.replace(c.find,ee(f,""))}),d?N(C,A,D):C}function I(C,A,D,P){let v,T;A=+A;let H=xe.lang,B=((C=+C||0).toString().split(".")[1]||"").split("e")[0].length,S=C.toString().split("e"),p=A;-1===A?A=Math.min(B,20):Q(A)?A&&S[1]&&S[1]<0&&((T=A+ +S[1])>=0?(S[0]=(+S[0]).toExponential(T).split("e")[0],A=T):(S[0]=S[0].split(".")[0]||0,C=A<20?(S[0]*Math.pow(10,S[1])).toFixed(A):0,S[1]=0)):A=2;let b=(Math.abs(S[1]?S[0]:C)+Math.pow(10,-Math.max(A,B)-1)).toFixed(A),l=String(L(b)),n=l.length>3?l.length%3:0;return D=ee(D,H.decimalPoint),P=ee(P,H.thousandsSep),v=(C<0?"-":"")+(n?l.substr(0,n)+P:""),0>+S[1]&&!p?v="0":v+=l.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+P),A?v+=D+b.slice(-A):0==+v&&(v="0"),S[1]&&0!=+v&&(v+="e"+S[1]),v}return{dateFormat:function(C,A,D){return ve.dateFormat(C,A,D)},format:N,helpers:W,numberFormat:I}}),Ne(Y,"Core/Renderer/RendererRegistry.js",[Y["Core/Globals.js"]],function(Z){var ce,xe;let ve;return(xe=ce||(ce={})).rendererTypes={},xe.getRendererType=function(me=ve){return xe.rendererTypes[me]||xe.rendererTypes[ve]},xe.registerRendererType=function(me,de,he){xe.rendererTypes[me]=de,(!ve||he)&&(ve=me,Z.Renderer=de)},ce}),Ne(Y,"Core/Renderer/RendererUtilities.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{clamp:xe,pick:ve,pushUnique:me,stableSort:de}=Z;return(ce||(ce={})).distribute=function he(Q,te,ee){let P,v,T,B,S,b,L=Q,W=L.reducedLen||te,N=(l,n)=>l.target-n.target,I=[],C=Q.length,A=[],D=I.push,H=!0,p=0;for(P=C;P--;)p+=Q[P].size;if(p>W){for(de(Q,(l,n)=>(n.rank||0)-(l.rank||0)),T=(b=Q[0].rank===Q[Q.length-1].rank)?C/2:-1,v=b?T:C-1;T&&p>W;)B=Q[P=Math.floor(v)],me(A,P)&&(p-=B.size),v+=T,b&&v>=Q.length&&(T/=2,v=T);A.sort((l,n)=>n-l).forEach(l=>D.apply(I,Q.splice(l,1)))}for(de(Q,N),Q=Q.map(l=>({size:l.size,targets:[l.target],align:ve(l.align,.5)}));H;){for(P=Q.length;P--;)B=Q[P],S=(Math.min.apply(0,B.targets)+Math.max.apply(0,B.targets))/2,B.pos=xe(S-B.size*B.align,0,te-B.size);for(P=Q.length,H=!1;P--;)P>0&&Q[P-1].pos+Q[P-1].size>Q[P].pos&&(Q[P-1].size+=Q[P].size,Q[P-1].targets=Q[P-1].targets.concat(Q[P].targets),Q[P-1].align=.5,Q[P-1].pos+Q[P-1].size>te&&(Q[P-1].pos=te-Q[P-1].size),Q.splice(P,1),H=!0)}return D.apply(L,I),P=0,Q.some(l=>{let n=0;return(l.targets||[]).some(()=>(L[P].pos=l.pos+n,void 0!==ee&&Math.abs(L[P].pos-L[P].target)>ee?(L.slice(0,P+1).forEach(o=>delete o.pos),L.reducedLen=(L.reducedLen||te)-.1*te,L.reducedLen>.1*te&&he(L,te,ee),!0):(n+=L[P].size,P++,!1)))}),de(L,N),L},ce}),Ne(Y,"Core/Renderer/SVG/SVGElement.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{animate:me,animObject:de,stop:he}=Z,{deg2rad:Q,doc:te,svg:ee,SVG_NS:L,win:W}=xe,{addEvent:N,attr:I,createElement:C,crisp:A,css:D,defined:P,erase:v,extend:T,fireEvent:H,isArray:B,isFunction:S,isObject:p,isString:b,merge:l,objectEach:n,pick:o,pInt:h,pushUnique:d,replaceNested:c,syncTimeout:f,uniqueKey:u}=ve;class M{_defaultGetter(x){let O=o(this[x+"Value"],this[x],this.element?this.element.getAttribute(x):null,0);return/^-?[\d\.]+$/.test(O)&&(O=parseFloat(O)),O}_defaultSetter(x,O,z){z.setAttribute(O,x)}add(x){let O,z=this.renderer,j=this.element;return x&&(this.parentGroup=x),void 0!==this.textStr&&"text"===this.element.nodeName&&z.buildText(this),this.added=!0,(!x||x.handleZ||this.zIndex)&&(O=this.zIndexSetter()),O||(x?x.element:z.box).appendChild(j),this.onAdd&&this.onAdd(),this}addClass(x,O){let z=O?"":this.attr("class")||"";return(x=(x||"").split(/ /g).reduce(function(j,J){return-1===z.indexOf(J)&&j.push(J),j},z?[z]:[]).join(" "))!==z&&this.attr("class",x),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(x,O,z,j=!0){let J,y,w,E,X={},m=this.renderer,F=m.alignedObjects,R=!!x;x?(this.alignOptions=x,this.alignByTranslate=O,this.alignTo=z):(x=this.alignOptions||{},O=this.alignByTranslate,z=this.alignTo);let _=!z||b(z)?z||"renderer":void 0;_&&(R&&d(F,this),z=void 0);let G=o(z,m[_],m),K=x.align,oe=x.verticalAlign;return J=(G.x||0)+(x.x||0),y=(G.y||0)+(x.y||0),"right"===K?w=1:"center"===K&&(w=2),w&&(J+=((G.width||0)-(x.width||0))/w),X[O?"translateX":"x"]=Math.round(J),"bottom"===oe?E=1:"middle"===oe&&(E=2),E&&(y+=((G.height||0)-(x.height||0))/E),X[O?"translateY":"y"]=Math.round(y),j&&(this[this.placed?"animate":"attr"](X),this.placed=!0),this.alignAttr=X,this}alignSetter(x){let O={left:"start",center:"middle",right:"end"};O[x]&&(this.alignValue=x,this.element.setAttribute("text-anchor",O[x]))}animate(x,O,z){let j=de(o(O,this.renderer.globalAnimation,!0)),J=j.defer;return te.hidden&&(j.duration=0),0!==j.duration?(z&&(j.complete=z),f(()=>{this.element&&me(this,x,j)},J)):(this.attr(x,void 0,z||j.complete),n(x,function(y,w){j.step&&j.step.call(this,y,{prop:w,pos:1,elem:this})},this)),this}applyTextOutline(x){let O=this.element;-1!==x.indexOf("contrast")&&(x=x.replace(/contrast/g,this.renderer.getContrast(O.style.fill)));let z=x.split(" "),j=z[z.length-1],J=z[0];if(J&&"none"!==J&&xe.svg){this.fakeTS=!0,J=J.replace(/(^[\d\.]+)(.*?)$/g,function(m,F,R){return 2*Number(F)+R}),this.removeTextOutline();let y=te.createElementNS(L,"tspan");I(y,{class:"highcharts-text-outline",fill:j,stroke:j,"stroke-width":J,"stroke-linejoin":"round"});let w=O.querySelector("textPath")||O;[].forEach.call(w.childNodes,m=>{let F=m.cloneNode(!0);F.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(R=>F.removeAttribute(R)),y.appendChild(F)});let E=0;[].forEach.call(w.querySelectorAll("text tspan"),m=>{E+=Number(m.getAttribute("dy"))});let X=te.createElementNS(L,"tspan");X.textContent="\u200b",I(X,{x:Number(O.getAttribute("x")),dy:-E}),y.appendChild(X),w.insertBefore(y,w.firstChild)}}attr(x,O,z,j){let w,E,m,{element:J}=this,y=M.symbolCustomAttribs,X=this;return"string"==typeof x&&void 0!==O&&(w=x,(x={})[w]=O),"string"==typeof x?X=(this[x+"Getter"]||this._defaultGetter).call(this,x,J):(n(x,function(F,R){m=!1,j||he(this,R),this.symbolName&&-1!==y.indexOf(R)&&(E||(this.symbolAttr(x),E=!0),m=!0),this.rotation&&("x"===R||"y"===R)&&(this.doTransform=!0),m||(this[R+"Setter"]||this._defaultSetter).call(this,F,R,J)},this),this.afterSetters()),z&&z.call(this),X}clip(x){if(x&&!x.clipPath){let O=u()+"-",z=this.renderer.createElement("clipPath").attr({id:O}).add(this.renderer.defs);T(x,{clipPath:z,id:O,count:0}),x.add(z)}return this.attr("clip-path",x?`url(${this.renderer.url}#${x.id})`:"none")}crisp(x,O){O=Math.round(O||x.strokeWidth||0);let z=x.x||this.x||0,j=x.y||this.y||0,J=(x.width||this.width||0)+z,y=(x.height||this.height||0)+j,w=A(z,O),E=A(j,O);return T(x,{x:w,y:E,width:A(J,O)-w,height:A(y,O)-E}),P(x.strokeWidth)&&(x.strokeWidth=O),x}complexColor(x,O,z){let J,y,w,E,X,m,F,R,_,G,oe,j=this.renderer,K=[];H(this.renderer,"complexColor",{args:arguments},function(){if(x.radialGradient?y="radialGradient":x.linearGradient&&(y="linearGradient"),y){if(w=x[y],X=j.gradients,m=x.stops,_=z.radialReference,B(w)&&(x[y]=w={x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===y&&_&&!P(w.gradientUnits)&&(E=w,w=l(w,j.getRadialAttr(_,E),{gradientUnits:"userSpaceOnUse"})),n(w,function(ae,ue){"id"!==ue&&K.push(ue,ae)}),n(m,function(ae){K.push(ae)}),X[K=K.join(",")])G=X[K].attr("id");else{w.id=G=u();let ae=X[K]=j.createElement(y).attr(w).add(j.defs);ae.radAttr=E,ae.stops=[],m.forEach(function(ue){0===ue[1].indexOf("rgba")?(F=(J=ce.parse(ue[1])).get("rgb"),R=J.get("a")):(F=ue[1],R=1);let be=j.createElement("stop").attr({offset:ue[0],"stop-color":F,"stop-opacity":R}).add(ae);ae.stops.push(be)})}oe="url("+j.url+"#"+G+")",z.setAttribute(O,oe),z.gradient=K,x.toString=function(){return oe}}})}css(x){let J,O=this.styles,z={},j=this.element,y=!O;if(O&&n(x,function(w,E){O&&O[E]!==w&&(z[E]=w,y=!0)}),y){O&&(x=T(O,z)),null===x.width||"auto"===x.width?delete this.textWidth:"text"===j.nodeName.toLowerCase()&&x.width&&(J=this.textWidth=h(x.width)),T(this.styles,x),J&&!ee&&this.renderer.forExport&&delete x.width;let w=l(x);j.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(E=>w&&delete w[E]),w.color&&(w.fill=w.color)),D(j,w)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),x.textOutline&&this.applyTextOutline(x.textOutline)),this}dashstyleSetter(x){let O,z=this["stroke-width"];if("inherit"===z&&(z=1),x=x&&x.toLowerCase()){let j=x.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(O=j.length;O--;)j[O]=""+h(j[O])*o(z,NaN);x=j.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",x)}}destroy(){let y,w,x=this,O=x.element||{},z=x.renderer,j=O.ownerSVGElement,J="SPAN"===O.nodeName&&x.parentGroup||void 0;if(O.onclick=O.onmouseout=O.onmouseover=O.onmousemove=O.point=null,he(x),x.clipPath&&j){let E=x.clipPath;[].forEach.call(j.querySelectorAll("[clip-path],[CLIP-PATH]"),function(X){X.getAttribute("clip-path").indexOf(E.element.id)>-1&&X.removeAttribute("clip-path")}),x.clipPath=E.destroy()}if(x.connector=x.connector?.destroy(),x.stops){for(w=0;w<x.stops.length;w++)x.stops[w].destroy();x.stops.length=0,x.stops=void 0}for(x.safeRemoveChild(O);J&&J.div&&0===J.div.childNodes.length;)y=J.parentGroup,x.safeRemoveChild(J.div),delete J.div,J=y;x.alignOptions&&v(z.alignedObjects,x),n(x,function(E,X){x[X]&&x[X].parentGroup===x&&x[X].destroy&&x[X].destroy(),delete x[X]})}dSetter(x,O,z){B(x)&&("string"==typeof x[0]&&(x=this.renderer.pathToSegments(x)),this.pathArray=x,x=x.reduce((j,J,y)=>J&&J.join?(y?j+" ":"")+J.join(" "):(J||"").toString(),"")),/(NaN| {2}|^$)/.test(x)&&(x="M 0 0"),this[O]!==x&&(z.setAttribute(O,x),this[O]=x)}fillSetter(x,O,z){"string"==typeof x?z.setAttribute(O,x):x&&this.complexColor(x,O,z)}hrefSetter(x,O,z){z.setAttributeNS("http://www.w3.org/1999/xlink",O,x)}getBBox(x,O){let z,j,J,y,{alignValue:w,element:E,renderer:X,styles:m,textStr:F}=this,{cache:R,cacheKeys:_}=X,G=E.namespaceURI===this.SVG_NS,K=o(O,this.rotation,0),oe=X.styledMode?E&&M.prototype.getStyle.call(E,"font-size"):m.fontSize;if(P(F)&&(-1===(y=F.toString()).indexOf("<")&&(y=y.replace(/\d/g,"0")),y+=["",X.rootFontSize,oe,K,this.textWidth,w,m.textOverflow,m.fontWeight].join(",")),y&&!x&&(z=R[y]),!z||z.polygon){if(G||X.forExport){try{J=this.fakeTS&&function(ue){let be=E.querySelector(".highcharts-text-outline");be&&D(be,{display:ue})},S(J)&&J("none"),z=E.getBBox?T({},E.getBBox()):{width:E.offsetWidth,height:E.offsetHeight,x:0,y:0},S(J)&&J("")}catch{}(!z||z.width<0)&&(z={x:0,y:0,width:0,height:0})}else z=this.htmlGetBBox();j=z.height,G&&(z.height=j={"11px,17":14,"13px,20":16}[`${oe||""},${Math.round(j)}`]||j),K&&(z=this.getRotatedBox(z,K));let ae={bBox:z};H(this,"afterGetBBox",ae),z=ae.bBox}if(y&&(""===F||z.height>0)){for(;_.length>250;)delete R[_.shift()];R[y]||_.push(y),R[y]=z}return z}getRotatedBox(x,O){let{x:z,y:j,width:J,height:y}=x,{alignValue:w,translateY:E,rotationOriginX:X=0,rotationOriginY:m=0}=this,F={right:1,center:.5}[w||0]||0,R=Number(this.element.getAttribute("y")||0)-(E?0:j),_=O*Q,G=(O-90)*Q,K=Math.cos(_),oe=Math.sin(_),ae=J*K,ue=J*oe,be=Math.cos(G),Se=Math.sin(G),[[ie,q],[re,le]]=[X,m].map(it=>[it-it*K,it*oe]),pe=z+F*(J-ae)+ie+le+R*be,ge=pe+ae,we=ge-y*be,ye=we-ae,Me=j+R-F*ue-q+re+R*Se,Pe=Me+ue,Re=Pe-y*Se,Fe=Re-ue,De=Math.min(pe,ge,we,ye),He=Math.min(Me,Pe,Re,Fe);return{x:De,y:He,width:Math.max(pe,ge,we,ye)-De,height:Math.max(Me,Pe,Re,Fe)-He,polygon:[[pe,Me],[ge,Pe],[we,Re],[ye,Fe]]}}getStyle(x){return W.getComputedStyle(this.element||this,"").getPropertyValue(x)}hasClass(x){return-1!==(""+this.attr("class")).split(" ").indexOf(x)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(x,O){this.onEvents={},this.opacity=1,this.SVG_NS=L,this.element="span"===O||"body"===O?C(O):te.createElementNS(this.SVG_NS,O),this.renderer=x,this.styles={},H(this,"afterInit")}on(x,O){let{onEvents:z}=this;return z[x]&&z[x](),z[x]=N(this.element,x,O),this}opacitySetter(x,O,z){let j=Number(Number(x).toFixed(3));this.opacity=j,z.setAttribute(O,j)}reAlign(){this.alignOptions?.width&&"left"!==this.alignOptions.align&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(x){return this.attr("class",(""+this.attr("class")).replace(b(x)?RegExp(`(^| )${x}( |$)`):x," ").replace(/ +/g," ").trim())}removeTextOutline(){let x=this.element.querySelector("tspan.highcharts-text-outline");x&&this.safeRemoveChild(x)}safeRemoveChild(x){let O=x.parentNode;O&&O.removeChild(x)}setRadialReference(x){let O=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=x,O&&O.radAttr&&O.animate(this.renderer.getRadialAttr(x,O.radAttr)),this}shadow(x){let{renderer:O}=this,z=l(90===this.parentGroup?.rotation?{offsetX:-1,offsetY:-1}:{},p(x)?x:{}),j=O.shadowDefinition(z);return this.attr({filter:x?`url(${O.url}#${j})`:"none"})}show(x=!0){return this.attr({visibility:x?"inherit":"visible"})}"stroke-widthSetter"(x,O,z){this[O]=x,z.setAttribute(O,x)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let z,x=this.getStyle("stroke-width"),O=0;return/px$/.test(x)?O=h(x):""!==x&&(I(z=te.createElementNS(L,"rect"),{width:x,"stroke-width":0}),this.element.parentNode.appendChild(z),O=z.getBBox().width,z.parentNode.removeChild(z)),O}symbolAttr(x){let O=this;M.symbolCustomAttribs.forEach(function(z){O[z]=o(x[z],O[z])}),O.attr({d:O.renderer.symbols[O.symbolName](O.x,O.y,O.width,O.height,O)})}textSetter(x){x!==this.textStr&&(delete this.textPxLength,this.textStr=x,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(x){let O=this.element,z=O.getElementsByTagName("title")[0]||te.createElementNS(this.SVG_NS,"title");O.insertBefore?O.insertBefore(z,O.firstChild):O.appendChild(z),z.textContent=c(o(x,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let x=this.element;return x.parentNode.appendChild(x),this}translate(x,O){return this.attr({translateX:x,translateY:O})}updateTransform(x="transform"){let{element:O,matrix:z,rotation:j=0,rotationOriginX:J,rotationOriginY:y,scaleX:w,scaleY:E,translateX:X=0,translateY:m=0}=this,F=["translate("+X+","+m+")"];P(z)&&F.push("matrix("+z.join(",")+")"),j&&(F.push("rotate("+j+" "+o(J,O.getAttribute("x"),0)+" "+o(y,O.getAttribute("y")||0)+")"),"SPAN"===this.text?.element.tagName&&this.text.attr({rotation:j,rotationOriginX:(J||0)-this.padding,rotationOriginY:(y||0)-this.padding})),(P(w)||P(E))&&F.push("scale("+o(w,1)+" "+o(E,1)+")"),F.length&&!(this.text||this).textPath&&O.setAttribute(x,F.join(" "))}visibilitySetter(x,O,z){"inherit"===x?z.removeAttribute(O):this[O]!==x&&z.setAttribute(O,x),this[O]=x}xGetter(x){return"circle"===this.element.nodeName&&("x"===x?x="cx":"y"===x&&(x="cy")),this._defaultGetter(x)}zIndexSetter(x,O){let E,X,m,R,G,z=this.renderer,j=this.parentGroup,J=(j||z).element||z.box,y=this.element,w=J===z.box,F=!1,_=this.added;if(P(x)?(y.setAttribute("data-z-index",x),this[O]===(x=+x)&&(_=!1)):P(this[O])&&y.removeAttribute("data-z-index"),this[O]=x,_){for((x=this.zIndex)&&j&&(j.handleZ=!0),G=(E=J.childNodes).length-1;G>=0&&!F;G--)R=!P(m=(X=E[G]).getAttribute("data-z-index")),X!==y&&(x<0&&R&&!w&&!G?(J.insertBefore(y,E[G]),F=!0):(h(m)<=x||R&&(!P(x)||x>=0))&&(J.insertBefore(y,E[G+1]),F=!0));F||(J.insertBefore(y,E[w?3:0]),F=!0)}return F}}return M.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],M.prototype.strokeSetter=M.prototype.fillSetter,M.prototype.yGetter=M.prototype.xGetter,M.prototype.matrixSetter=M.prototype.rotationOriginXSetter=M.prototype.rotationOriginYSetter=M.prototype.rotationSetter=M.prototype.scaleXSetter=M.prototype.scaleYSetter=M.prototype.translateXSetter=M.prototype.translateYSetter=M.prototype.verticalAlignSetter=function(U,x){this[x]=U,this.doTransform=!0},M}),Ne(Y,"Core/Renderer/SVG/SVGLabel.js",[Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defined:xe,extend:ve,isNumber:me,merge:de,pick:he,removeEvent:Q}=ce;class te extends Z{constructor(L,W,N,I,C,A,D,P,v,T){let H;super(L,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=W,this.x=N,this.y=I,this.anchorX=A,this.anchorY=D,this.baseline=v,this.className=T,this.addClass("button"===T?"highcharts-no-tooltip":"highcharts-label"),T&&this.addClass("highcharts-"+T),this.text=L.text(void 0,0,0,P).attr({zIndex:1}),"string"==typeof C&&((H=/^url\((.*?)\)$/.test(C))||this.renderer.symbols[C])&&(this.symbolKey=C),this.bBox=te.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=L.styledMode||H,this.deferredAttr={},this.alignFactor=0}alignSetter(L){let W={left:0,center:.5,right:1}[L];W!==this.alignFactor&&(this.alignFactor=W,this.bBox&&me(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(L,W){this.anchorX=L,this.boxAttr(W,Math.round(L)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(L,W){this.anchorY=L,this.boxAttr(W,L-this.ySetting)}boxAttr(L,W){this.box?this.box.attr(L,W):this.deferredAttr[L]=W}css(L){if(L){let W={};L=de(L),te.textProps.forEach(N=>{void 0!==L[N]&&(W[N]=L[N],delete L[N])}),this.text.css(W),"fontSize"in W||"fontWeight"in W?this.updateTextPadding():("width"in W||"textOverflow"in W)&&this.updateBoxSize()}return Z.prototype.css.call(this,L)}destroy(){Q(this.element,"mouseenter"),Q(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Z.prototype.destroy.call(this)}fillSetter(L,W){L&&(this.needsBox=!0),this.fill=L,this.boxAttr(W,L)}getBBox(L,W){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();let{padding:N,height:I=0,translateX:C=0,translateY:A=0,width:D=0}=this,P=he(this.paddingLeft,N),v=W??(this.rotation||0),T={width:D,height:I,x:C+this.bBox.x-P,y:A+this.bBox.y-N+this.baselineOffset};return v&&(T=this.getRotatedBox(T,v)),T}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(L){this.heightSetting=L,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:he(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&xe(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(L,W){me(L)?L!==this[W]&&(this[W]=L,this.updateTextPadding()):this[W]=void 0}rSetter(L,W){this.boxAttr(W,L)}strokeSetter(L,W){this.stroke=L,this.boxAttr(W,L)}"stroke-widthSetter"(L,W){L&&(this.needsBox=!0),this["stroke-width"]=L,this.boxAttr(W,L)}"text-alignSetter"(L){this.textAlign=L}textSetter(L){void 0!==L&&this.text.attr({text:L}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let L,W=this.text,N={},I=this.padding,C=this.bBox=me(this.widthSetting)&&me(this.heightSetting)&&!this.textAlign||!xe(W.textStr)?te.emptyBBox:W.getBBox(void 0,0);this.width=this.getPaddedWidth(),this.height=(this.heightSetting||C.height||0)+2*I;let A=this.renderer.fontMetrics(W);if(this.baselineOffset=I+Math.min((this.text.firstLineMetrics||A).b,C.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-A.h)/2),this.needsBox&&!W.textPath){if(!this.box){let D=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();D.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),D.add(this)}L=this.getCrispAdjust(),N.x=L,N.y=(this.baseline?-this.baselineOffset:0)+L,N.width=Math.round(this.width),N.height=Math.round(this.height),this.box.attr(ve(N,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let L=this.text;if(!L.textPath){this.updateBoxSize();let W=this.baseline?0:this.baselineOffset,N=he(this.paddingLeft,this.padding);xe(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(N+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(N!==L.x||W!==L.y)&&(L.attr("x",N),L.hasBoxWidthChanged&&(this.bBox=L.getBBox(!0)),void 0!==W&&L.attr("y",W)),L.x=N,L.y=W}}widthSetter(L){this.widthSetting=me(L)?L:void 0,this.doUpdate=!0}getPaddedWidth(){let L=this.padding,W=he(this.paddingLeft,L),N=he(this.paddingRight,L);return(this.widthSetting||this.bBox.width||0)+W+N}xSetter(L){this.x=L,this.alignFactor&&(L-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(L),this.attr("translateX",this.xSetting)}ySetter(L){this.ySetting=this.y=Math.round(L),this.attr("translateY",this.ySetting)}}return te.emptyBBox={width:0,height:0,x:0,y:0},te.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],te}),Ne(Y,"Core/Renderer/SVG/Symbols.js",[Y["Core/Utilities.js"]],function(Z){let{defined:ce,isNumber:xe,pick:ve}=Z;function me(Q,te,ee,L,W){let N=[];if(W){let I=W.start||0,C=ve(W.r,ee),A=ve(W.r,L||ee),D=2e-4/(W.borderRadius?1:Math.max(C,1)),P=Math.abs((W.end||0)-I-2*Math.PI)<D,v=(W.end||0)-(P?D:0),T=W.innerR,H=ve(W.open,P),B=Math.cos(I),S=Math.sin(I),p=Math.cos(v),b=Math.sin(v),l=ve(W.longArc,v-I-Math.PI<D?0:1),n=["A",C,A,0,l,ve(W.clockwise,1),Q+C*p,te+A*b];n.params={start:I,end:v,cx:Q,cy:te},N.push(["M",Q+C*B,te+A*S],n),ce(T)&&((n=["A",T,T,0,l,ce(W.clockwise)?1-W.clockwise:0,Q+T*B,te+T*S]).params={start:v,end:I,cx:Q,cy:te},N.push(H?["M",Q+T*p,te+T*b]:["L",Q+T*p,te+T*b],n)),H||N.push(["Z"])}return N}function de(Q,te,ee,L,W){return W&&W.r?he(Q,te,ee,L,W):[["M",Q,te],["L",Q+ee,te],["L",Q+ee,te+L],["L",Q,te+L],["Z"]]}function he(Q,te,ee,L,W){let N=W?.r||0;return[["M",Q+N,te],["L",Q+ee-N,te],["A",N,N,0,0,1,Q+ee,te+N],["L",Q+ee,te+L-N],["A",N,N,0,0,1,Q+ee-N,te+L],["L",Q+N,te+L],["A",N,N,0,0,1,Q,te+L-N],["L",Q,te+N],["A",N,N,0,0,1,Q+N,te],["Z"]]}return{arc:me,callout:function(Q,te,ee,L,W){let N=Math.min(W&&W.r||0,ee,L),I=N+6,C=W&&W.anchorX,A=W&&W.anchorY||0,D=he(Q,te,ee,L,{r:N});if(!xe(C)||C<ee&&C>0&&A<L&&A>0)return D;if(Q+C>ee-I)if(A>te+I&&A<te+L-I)D.splice(3,1,["L",Q+ee,A-6],["L",Q+ee+6,A],["L",Q+ee,A+6],["L",Q+ee,te+L-N]);else if(C<ee){let P=A<te+I;D.splice(P?2:5,0,["L",C,A],["L",Q+ee-N,P?te:te+L])}else D.splice(3,1,["L",Q+ee,L/2],["L",C,A],["L",Q+ee,L/2],["L",Q+ee,te+L-N]);else if(Q+C<I)if(A>te+I&&A<te+L-I)D.splice(7,1,["L",Q,A+6],["L",Q-6,A],["L",Q,A-6],["L",Q,te+N]);else if(C>0){let P=A<te+I;D.splice(P?1:6,0,["L",C,A],["L",Q+N,P?te:te+L])}else D.splice(7,1,["L",Q,L/2],["L",C,A],["L",Q,L/2],["L",Q,te+N]);else A>L&&C<ee-I?D.splice(5,1,["L",C+6,te+L],["L",C,te+L+6],["L",C-6,te+L],["L",Q+N,te+L]):A<0&&C>I&&D.splice(1,1,["L",C-6,te],["L",C,te-6],["L",C+6,te],["L",ee-N,te]);return D},circle:function(Q,te,ee,L){return me(Q+ee/2,te+L/2,ee/2,L/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(Q,te,ee,L){return[["M",Q+ee/2,te],["L",Q+ee,te+L/2],["L",Q+ee/2,te+L],["L",Q,te+L/2],["Z"]]},rect:de,roundedRect:he,square:de,triangle:function(Q,te,ee,L){return[["M",Q+ee/2,te],["L",Q+ee,te+L],["L",Q,te+L],["Z"]]},"triangle-down":function(Q,te,ee,L){return[["M",Q,te],["L",Q+ee,te],["L",Q+ee/2,te+L],["Z"]]}}}),Ne(Y,"Core/Renderer/SVG/TextBuilder.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{doc:ve,SVG_NS:me,win:de}=ce,{attr:he,extend:Q,fireEvent:te,isString:ee,objectEach:L,pick:W}=xe;return class{constructor(N){let I=N.styles;this.renderer=N.renderer,this.svgElement=N,this.width=N.textWidth,this.textLineHeight=I&&I.lineHeight,this.textOutline=I&&I.textOutline,this.ellipsis=!(!I||"ellipsis"!==I.textOverflow),this.noWrap=!(!I||"nowrap"!==I.whiteSpace)}buildSVG(){let N=this.svgElement,I=N.element,C=N.renderer,A=W(N.textStr,"").toString(),D=-1!==A.indexOf("<"),P=I.childNodes,v=!N.added&&C.box,T=[A,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,N.getStyle("font-size"),this.width].join(",");if(T!==N.textCache){N.textCache=T,delete N.actualWidth;for(let H=P.length;H--;)I.removeChild(P[H]);if(D||this.ellipsis||this.width||N.textPath||-1!==A.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(A))){if(""!==A){v&&v.appendChild(I);let H=new Z(A);this.modifyTree(H.nodes),H.addToDOM(I),this.modifyDOM(),this.ellipsis&&-1!==(I.textContent||"").indexOf("\u2026")&&N.attr("title",this.unescapeEntities(N.textStr||"",["&lt;","&gt;"])),v&&v.removeChild(I)}}else I.appendChild(ve.createTextNode(this.unescapeEntities(A)));ee(this.textOutline)&&N.applyTextOutline&&N.applyTextOutline(this.textOutline)}}modifyDOM(){let N,I=this.svgElement,C=he(I.element,"x");for(I.firstLineMetrics=void 0;(N=I.element.firstChild)&&/^[\s\u200B]*$/.test(N.textContent||" ");)I.element.removeChild(N);[].forEach.call(I.element.querySelectorAll("tspan.highcharts-br"),(v,T)=>{v.nextSibling&&v.previousSibling&&(0===T&&1===v.previousSibling.nodeType&&(I.firstLineMetrics=I.renderer.fontMetrics(v.previousSibling)),he(v,{dy:this.getLineHeight(v.nextSibling),x:C}))});let A=this.width||0;if(!A)return;let D=(v,T)=>{let H=v.textContent||"",B=H.replace(/([^\^])-/g,"$1- ").split(" "),S=!this.noWrap&&(B.length>1||I.element.childNodes.length>1),p=this.getLineHeight(T),b=0,l=I.actualWidth;if(this.ellipsis)H&&this.truncate(v,H,void 0,0,Math.max(0,A-.8*p),(n,o)=>n.substring(0,o)+"\u2026");else if(S){let n=[],o=[];for(;T.firstChild&&T.firstChild!==v;)o.push(T.firstChild),T.removeChild(T.firstChild);for(;B.length;)B.length&&!this.noWrap&&b>0&&(n.push(v.textContent||""),v.textContent=B.join(" ").replace(/- /g,"-")),this.truncate(v,void 0,B,0===b&&l||0,A,(h,d)=>B.slice(0,d).join(" ").replace(/- /g,"-")),l=I.actualWidth,b++;o.forEach(h=>{T.insertBefore(h,v)}),n.forEach(h=>{T.insertBefore(ve.createTextNode(h),v);let d=ve.createElementNS(me,"tspan");d.textContent="\u200b",he(d,{dy:p,x:C}),T.insertBefore(d,v)})}},P=v=>{[].slice.call(v.childNodes).forEach(T=>{T.nodeType===de.Node.TEXT_NODE?D(T,v):(-1!==T.className.baseVal.indexOf("highcharts-br")&&(I.actualWidth=0),P(T))})};P(I.element)}getLineHeight(N){let I=N.nodeType===de.Node.TEXT_NODE?N.parentElement:N;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(I||this.svgElement.element).h}modifyTree(N){let I=(C,A)=>{let{attributes:D={},children:P,style:v={},tagName:T}=C,H=this.renderer.styledMode;if("b"===T||"strong"===T?H?D.class="highcharts-strong":v.fontWeight="bold":("i"===T||"em"===T)&&(H?D.class="highcharts-emphasized":v.fontStyle="italic"),v&&v.color&&(v.fill=v.color),"br"===T){D.class="highcharts-br",C.textContent="\u200b";let B=N[A+1];B&&B.textContent&&(B.textContent=B.textContent.replace(/^ +/gm,""))}else"a"===T&&P&&P.some(B=>"#text"===B.tagName)&&(C.children=[{children:P,tagName:"tspan"}]);"#text"!==T&&"a"!==T&&(C.tagName="tspan"),Q(C,{attributes:D,style:v}),P&&P.filter(B=>"#text"!==B.tagName).forEach(I)};N.forEach(I),te(this.svgElement,"afterModifyTree",{nodes:N})}truncate(N,I,C,A,D,P){let v,T,H=this.svgElement,{rotation:B}=H,S=[],p=C?1:0,b=(I||C||"").length,l=b,n=function(o,h){let d=h||o,c=N.parentNode;if(c&&void 0===S[d]&&c.getSubStringLength)try{S[d]=A+c.getSubStringLength(0,C?d+1:d)}catch{}return S[d]};if(H.rotation=0,A+(T=n(N.textContent.length))>D){for(;p<=b;)l=Math.ceil((p+b)/2),C&&(v=P(C,l)),T=n(l,v&&v.length-1),p===b?p=b+1:T>D?b=l-1:p=l;0===b?N.textContent="":I&&b===I.length-1||(N.textContent=v||P(I||C,l))}C&&C.splice(0,l),H.actualWidth=T,H.rotation=B}unescapeEntities(N,I){return L(this.renderer.escapes,function(C,A){I&&-1!==I.indexOf(C)||(N=N.toString().replace(RegExp(C,"g"),A))}),N}}}),Ne(Y,"Core/Renderer/SVG/SVGRenderer.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Defaults.js"],Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Renderer/SVG/SVGLabel.js"],Y["Core/Renderer/SVG/Symbols.js"],Y["Core/Renderer/SVG/TextBuilder.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee){let L,{defaultOptions:W}=ce,{charts:N,deg2rad:I,doc:C,isFirefox:A,isMS:D,isWebKit:P,noop:v,SVG_NS:T,symbolSizes:H,win:B}=ve,{addEvent:S,attr:p,createElement:b,crisp:l,css:n,defined:o,destroyObjectProperties:h,extend:d,isArray:c,isNumber:f,isObject:u,isString:M,merge:U,pick:x,pInt:O,replaceNested:z,uniqueKey:j}=ee;class J{constructor(w,E,X,m,F,R,_){let G,K,oe=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ae=oe.element;_||oe.css(this.getStyle(m||{})),w.appendChild(ae),p(w,"dir","ltr"),-1===w.innerHTML.indexOf("xmlns")&&p(ae,"xmlns",this.SVG_NS),this.box=ae,this.boxWrapper=oe,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(C.createTextNode("Created with Highcharts 11.4.8")),this.defs=this.createElement("defs").add(),this.allowHTML=R,this.forExport=F,this.styledMode=_,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=oe.getStyle("font-size"),this.setSize(E,X,!1),A&&w.getBoundingClientRect&&((G=function(){n(w,{left:0,top:0}),K=w.getBoundingClientRect(),n(w,{left:Math.ceil(K.left)-K.left+"px",top:Math.ceil(K.top)-K.top+"px"})})(),this.unSubPixelFix=S(B,"resize",G))}definition(w){return new Z([w]).addToDOM(this.defs.element)}getReferenceURL(){if((A||P)&&C.getElementsByTagName("base").length){if(!o(L)){let w=j(),E=new Z([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:w},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${w})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(C.body);n(E,{position:"fixed",top:0,left:0,zIndex:9e5});let X=C.elementFromPoint(6,6);L="hitme"===(X&&X.id),C.body.removeChild(E)}if(L)return z(B.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(w){return this.style=d({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},w),this.style}setStyle(w){this.boxWrapper.css(this.getStyle(w))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let w=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,this.defs=w.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(w){return new this.Element(this,w)}getRadialAttr(w,E){return{cx:w[0]-w[2]/2+(E.cx||0)*w[2],cy:w[1]-w[2]/2+(E.cy||0)*w[2],r:(E.r||0)*w[2]}}shadowDefinition(w){let E=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(w).map(m=>`${m}-${w[m]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),X=U({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},w);return this.defs.element.querySelector(`#${E}`)||this.definition({tagName:"filter",attributes:{id:E,filterUnits:X.filterUnits},children:this.getShadowFilterContent(X)}),E}getShadowFilterContent(w){return[{tagName:"feDropShadow",attributes:{dx:w.offsetX,dy:w.offsetY,"flood-color":w.color,"flood-opacity":Math.min(5*w.opacity,1),stdDeviation:w.width/2}}]}buildText(w){new te(w).buildSVG()}getContrast(w){let E=xe.parse(w).rgba.map(m=>{let F=m/255;return F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4)}),X=.2126*E[0]+.7152*E[1]+.0722*E[2];return 1.05/(X+.05)>(X+.05)/.05?"#FFFFFF":"#000000"}button(w,E,X,m,F={},R,_,G,K,oe){let ae=this.label(w,E,X,K,void 0,void 0,oe,void 0,"button"),ue=this.styledMode,be=arguments,Se=0;F=U(W.global.buttonTheme,F),ue&&(delete F.fill,delete F.stroke,delete F["stroke-width"]);let ie=F.states||{},q=F.style||{};delete F.states,delete F.style;let re=[Z.filterUserAttributes(F)],le=[q];return ue||["hover","select","disabled"].forEach((pe,ge)=>{re.push(U(re[0],Z.filterUserAttributes(be[ge+5]||ie[pe]||{}))),le.push(re[ge+1].style),delete re[ge+1].style}),S(ae.element,D?"mouseover":"mouseenter",function(){3!==Se&&ae.setState(1)}),S(ae.element,D?"mouseout":"mouseleave",function(){3!==Se&&ae.setState(Se)}),ae.setState=(pe=0)=>{if(1!==pe&&(ae.state=Se=pe),ae.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][pe]),!ue){ae.attr(re[pe]);let ge=le[pe];u(ge)&&ae.css(ge)}},ae.attr(re[0]),!ue&&(ae.css(d({cursor:"default"},q)),oe&&ae.text.css({pointerEvents:"none"})),ae.on("touchstart",pe=>pe.stopPropagation()).on("click",function(pe){3!==Se&&m.call(ae,pe)})}crispLine(w,E){let[X,m]=w;return o(X[1])&&X[1]===m[1]&&(X[1]=m[1]=l(X[1],E)),o(X[2])&&X[2]===m[2]&&(X[2]=m[2]=l(X[2],E)),w}path(w){let E=this.styledMode?{}:{fill:"none"};return c(w)?E.d=w:u(w)&&d(E,w),this.createElement("path").attr(E)}circle(w,E,X){let m=u(w)?w:void 0===w?{}:{x:w,y:E,r:X},F=this.createElement("circle");return F.xSetter=F.ySetter=function(R,_,G){G.setAttribute("c"+_,R)},F.attr(m)}arc(w,E,X,m,F,R){let _;u(w)?(E=(_=w).y,X=_.r,m=_.innerR,F=_.start,R=_.end,w=_.x):_={innerR:m,start:F,end:R};let G=this.symbol("arc",w,E,X,X,_);return G.r=X,G}rect(w,E,X,m,F,R){let _=u(w)?w:void 0===w?{}:{x:w,y:E,r:F,width:Math.max(X||0,0),height:Math.max(m||0,0)},G=this.createElement("rect");return this.styledMode||(void 0!==R&&(_["stroke-width"]=R,d(_,G.crisp(_))),_.fill="none"),G.rSetter=function(K,oe,ae){G.r=K,p(ae,{rx:K,ry:K})},G.rGetter=function(){return G.r||0},G.attr(_)}roundedRect(w){return this.symbol("roundedRect").attr(w)}setSize(w,E,X){this.width=w,this.height=E,this.boxWrapper.animate({width:w,height:E},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:x(X,!0)?void 0:0}),this.alignElements()}g(w){let E=this.createElement("g");return w?E.attr({class:"highcharts-"+w}):E}image(w,E,X,m,F,R){let _={preserveAspectRatio:"none"};f(E)&&(_.x=E),f(X)&&(_.y=X),f(m)&&(_.width=m),f(F)&&(_.height=F);let G=this.createElement("image").attr(_),K=function(oe){G.attr({href:w}),R.call(G,oe)};if(R){G.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let oe=new B.Image;S(oe,"load",K),oe.src=w,oe.complete&&K({})}else G.attr({href:w});return G}symbol(w,E,X,m,F,R){let _,G,K,oe,ae=this,ue=/^url\((.*?)\)$/,be=ue.test(w),Se=!be&&(this.symbols[w]?w:"circle"),ie=Se&&this.symbols[Se];if(ie)"number"==typeof E&&(G=ie.call(this.symbols,E||0,X||0,m||0,F||0,R)),_=this.path(G),ae.styledMode||_.attr("fill","none"),d(_,{symbolName:Se||void 0,x:E,y:X,width:m,height:F}),R&&d(_,R);else if(be){K=w.match(ue)[1];let q=_=this.image(K);q.imgwidth=x(R&&R.width,H[K]&&H[K].width),q.imgheight=x(R&&R.height,H[K]&&H[K].height),oe=re=>re.attr({width:re.width,height:re.height}),["width","height"].forEach(re=>{q[`${re}Setter`]=function(le,pe){this[pe]=le;let{alignByTranslate:ge,element:we,width:ye,height:Me,imgwidth:Pe,imgheight:Re}=this,Fe="width"===pe?Pe:Re,De=1;R&&"within"===R.backgroundSize&&ye&&Me&&Pe&&Re?(De=Math.min(ye/Pe,Me/Re),p(we,{width:Math.round(Pe*De),height:Math.round(Re*De)})):we&&Fe&&we.setAttribute(pe,Fe),!ge&&Pe&&Re&&this.translate(((ye||0)-Pe*De)/2,((Me||0)-Re*De)/2)}}),o(E)&&q.attr({x:E,y:X}),q.isImg=!0,q.symbolUrl=w,o(q.imgwidth)&&o(q.imgheight)?oe(q):(q.attr({width:0,height:0}),b("img",{onload:function(){let re=N[ae.chartIndex];0===this.width&&(n(this,{position:"absolute",top:"-999em"}),C.body.appendChild(this)),H[K]={width:this.width,height:this.height},q.imgwidth=this.width,q.imgheight=this.height,q.element&&oe(q),this.parentNode&&this.parentNode.removeChild(this),ae.imgCount--,ae.imgCount||!re||re.hasLoaded||re.onload()},src:K}),this.imgCount++)}return _}clipRect(w,E,X,m){return this.rect(w,E,X,m,0)}text(w,E,X,m){let F={};if(m&&(this.allowHTML||!this.forExport))return this.html(w,E,X);F.x=Math.round(E||0),X&&(F.y=Math.round(X)),o(w)&&(F.text=w);let R=this.createElement("text").attr(F);return m&&(!this.forExport||this.allowHTML)||(R.xSetter=function(_,G,K){let oe=K.getElementsByTagName("tspan"),ae=K.getAttribute(G);for(let be,ue=0;ue<oe.length;ue++)(be=oe[ue]).getAttribute(G)===ae&&be.setAttribute(G,_);K.setAttribute(G,_)}),R}fontMetrics(w){let E=O(de.prototype.getStyle.call(w,"font-size")||0),X=E<24?E+3:Math.round(1.2*E);return{h:X,b:Math.round(.8*X),f:E}}rotCorr(w,E,X){let m=w;return E&&X&&(m=Math.max(m*Math.cos(E*I),4)),{x:-w/3*Math.sin(E*I),y:m}}pathToSegments(w){let E=[],X=[],m={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let F=0;F<w.length;F++)M(X[0])&&f(w[F])&&X.length===m[X[0].toUpperCase()]&&w.splice(F,0,X[0].replace("M","L").replace("m","l")),"string"==typeof w[F]&&(X.length&&E.push(X.slice(0)),X.length=0),X.push(w[F]);return E.push(X.slice(0)),E}label(w,E,X,m,F,R,_,G,K){return new he(this,w,E,X,m,F,R,_,G,K)}alignElements(){this.alignedObjects.forEach(w=>w.align())}}return d(J.prototype,{Element:de,SVG_NS:T,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Q,draw:v}),me.registerRendererType("svg",J,!0),J}),Ne(Y,"Core/Renderer/HTML/HTMLElement.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Globals.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{composed:me}=ce,{attr:de,css:he,createElement:Q,defined:te,extend:ee,pInt:L,pushUnique:W}=ve;function N(D,P,v){let T=this.div?.style||v.style;xe.prototype[`${P}Setter`].call(this,D,P,v),T&&(T[P]=D)}let I=(D,P)=>{if(!D.div){let v=de(D.element,"class"),T=D.css,H=Q("div",v?{className:v}:void 0,{position:"absolute",left:`${D.translateX||0}px`,top:`${D.translateY||0}px`,...D.styles,display:D.display,opacity:D.opacity,visibility:D.visibility},D.parentGroup?.div||P);D.classSetter=(B,S,p)=>{p.setAttribute("class",B),H.className=B},D.translateXSetter=D.translateYSetter=(B,S)=>{D[S]=B,H.style["translateX"===S?"left":"top"]=`${B}px`,D.doTransform=!0},D.opacitySetter=D.visibilitySetter=N,D.css=B=>(T.call(D,B),B.cursor&&(H.style.cursor=B.cursor),B.pointerEvents&&(H.style.pointerEvents=B.pointerEvents),D),D.on=function(){return xe.prototype.on.apply({element:H,onEvents:D.onEvents},arguments),D},D.div=H}return D.div};class C extends xe{static compose(P){W(me,this.compose)&&(P.prototype.html=function(v,T,H){return new C(this,"span").attr({text:v,x:Math.round(T),y:Math.round(H)})})}constructor(P,v){super(P,v),this.css({position:"absolute",...P.styledMode?{}:{fontFamily:P.style.fontFamily,fontSize:P.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(P,v,T){this.xCorr=-P*T,this.yCorr=-v}css(P){let v,{element:T}=this,H="SPAN"===T.tagName&&P&&"width"in P,B=H&&P.width;return H&&(delete P.width,this.textWidth=L(B)||void 0,v=!0),"ellipsis"===P?.textOverflow&&(P.whiteSpace="nowrap",P.overflow="hidden"),ee(this.styles,P),he(T,P),v&&this.updateTransform(),this}htmlGetBBox(){let{element:P}=this;return{x:P.offsetLeft,y:P.offsetTop,width:P.offsetWidth,height:P.offsetHeight}}updateTransform(){if(!this.added)return void(this.alignOnAdd=!0);let{element:P,renderer:v,rotation:T,rotationOriginX:H,rotationOriginY:B,styles:S,textAlign:p="left",textWidth:b,translateX:l=0,translateY:n=0,x:o=0,y:h=0}=this,d={left:0,center:.5,right:1}[p],c=S.whiteSpace;if(he(P,{marginLeft:`${l}px`,marginTop:`${n}px`}),"SPAN"===P.tagName){let M,f=[T,p,P.innerHTML,b,this.textAlign].join(","),u=-1*this.parentGroup?.padding||0,U=!1;if(b!==this.oldTextWidth){let J=this.textPxLength?this.textPxLength:(he(P,{width:"",whiteSpace:c||"nowrap"}),P.offsetWidth),y=b||0;(y>this.oldTextWidth||J>y)&&(/[ \-]/.test(P.textContent||P.innerText)||"ellipsis"===P.style.textOverflow)&&(he(P,{width:J>y||T?b+"px":"auto",display:"block",whiteSpace:c||"normal"}),this.oldTextWidth=b,U=!0)}this.hasBoxWidthChanged=U,f!==this.cTT&&(M=v.fontMetrics(P).b,te(T)&&(T!==(this.oldRotation||0)||p!==this.oldAlign)&&this.setSpanRotation(T,u,u),this.getSpanCorrection(!te(T)&&this.textPxLength||P.offsetWidth,M,d));let{xCorr:x=0,yCorr:O=0}=this;he(P,{left:`${o+x}px`,top:`${h+O}px`,transformOrigin:`${(H??o)-x-o-u}px ${(B??h)-O-h-u}px`}),this.cTT=f,this.oldRotation=T,this.oldAlign=p}}setSpanRotation(P,v,T){he(this.element,{transform:`rotate(${P}deg)`,transformOrigin:`${v}% ${T}px`})}add(P){let v,T=this.renderer.box.parentNode,H=[];if(this.parentGroup=P,P&&!(v=P.div)){let B=P;for(;B;)H.push(B),B=B.parentGroup;for(let S of H.reverse())v=I(S,T)}return(v||T).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(P){P!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Z.setElementHTML(this.element,P??""),this.textStr=P,this.doTransform=!0)}alignSetter(P){this.alignValue=this.textAlign=P,this.doTransform=!0}xSetter(P,v){this[v]=P,this.doTransform=!0}}let A=C.prototype;return A.visibilitySetter=A.opacitySetter=N,A.ySetter=A.rotationSetter=A.rotationOriginXSetter=A.rotationOriginYSetter=A.xSetter,C}),Ne(Y,"Core/Axis/AxisDefaults.js",[],function(){var Z,ce;return(ce=Z||(Z={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},ce.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:xe}=this.axis.chart;return xe(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},Z}),Ne(Y,"Core/Foundation.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,isFunction:ve,objectEach:me,removeEvent:de}=Z;return(ce||(ce={})).registerEventOptions=function(he,Q){he.eventOptions=he.eventOptions||{},me(Q.events,function(te,ee){he.eventOptions[ee]!==te&&(he.eventOptions[ee]&&(de(he,ee,he.eventOptions[ee]),delete he.eventOptions[ee]),ve(te)&&(he.eventOptions[ee]=te,xe(he,ee,te,{order:0})))})},ce}),Ne(Y,"Core/Axis/Tick.js",[Y["Core/Templating.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{deg2rad:ve}=ce,{clamp:me,correctFloat:de,defined:he,destroyObjectProperties:Q,extend:te,fireEvent:ee,isNumber:L,merge:W,objectEach:N,pick:I}=xe;return class{constructor(C,A,D,P,v){this.isNew=!0,this.isNewLabel=!0,this.axis=C,this.pos=A,this.type=D||"",this.parameters=v||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,ee(this,"init"),D||P||this.addLabel()}addLabel(){let d,c,f,C=this,A=C.axis,D=A.options,P=A.chart,v=A.categories,T=A.logarithmic,H=A.names,B=C.pos,S=I(C.options&&C.options.labels,D.labels),p=A.tickPositions,b=B===p[0],l=B===p[p.length-1],n=(!S.step||1===S.step)&&1===A.tickInterval,o=p.info,h=C.label,u=this.parameters.category||(v?I(v[B],H[B],B):B);T&&L(u)&&(u=de(T.lin2log(u))),A.dateTime&&(o?d=(c=P.time.resolveDTLFormat(D.dateTimeLabelFormats[!D.grid&&o.higherRanks[B]||o.unitName])).main:L(u)&&(d=A.dateTime.getXDateFormat(u,D.dateTimeLabelFormats||{}))),C.isFirst=b,C.isLast=l;let M={axis:A,chart:P,dateTimeLabelFormat:d,isFirst:b,isLast:l,pos:B,tick:C,tickPositionInfo:o,value:u};ee(this,"labelFormat",M);let U=z=>S.formatter?S.formatter.call(z,z):S.format?(z.text=A.defaultLabelFormatter.call(z),Z.format(S.format,z,P)):A.defaultLabelFormatter.call(z),x=U.call(M,M),O=c&&c.list;C.shortenLabel=O?function(){for(f=0;f<O.length;f++)if(te(M,{dateTimeLabelFormat:O[f]}),h.attr({text:U.call(M,M)}),h.getBBox().width<A.getSlotWidth(C)-2*(S.padding||0))return;h.attr({text:""})}:void 0,n&&A._addedPlotLB&&C.moveLabel(x,S),he(h)||C.movedLabel?h&&h.textStr!==x&&!n&&(!h.textWidth||S.style.width||h.styles.width||h.css({width:null}),h.attr({text:x}),h.textPxLength=h.getBBox().width):(C.label=h=C.createLabel(x,S),C.rotation=0)}createLabel(C,A,D){let P=this.axis,v=P.chart,T=he(C)&&A.enabled?v.renderer.text(C,D?.x,D?.y,A.useHTML).add(P.labelGroup):void 0;return T&&(v.styledMode||T.css(W(A.style)),T.textPxLength=T.getBBox().width),T}destroy(){Q(this,this.axis)}getPosition(C,A,D,P){let v=this.axis,T=v.chart,H=P&&T.oldChartHeight||T.chartHeight,B={x:C?de(v.translate(A+D,void 0,void 0,P)+v.transB):v.left+v.offset+(v.opposite?(P&&T.oldChartWidth||T.chartWidth)-v.right-v.left:0),y:C?H-v.bottom+v.offset-(v.opposite?v.height:0):de(H-v.translate(A+D,void 0,void 0,P)-v.transB)};return B.y=me(B.y,-1e9,1e9),ee(this,"afterGetPosition",{pos:B}),B}getLabelPosition(C,A,D,P,v,T,H,B){let S,p,b=this.axis,l=b.transA,n=b.isLinked&&b.linkedParent?b.linkedParent.reversed:b.reversed,o=b.staggerLines,h=b.tickRotCorr||{x:0,y:0},d=P||b.reserveSpaceDefault?0:-b.labelOffset*("center"===b.labelAlign?.5:1),c=v.distance,f={};return S=0===b.side?D.rotation?-c:-D.getBBox().height:2===b.side?h.y+c:Math.cos(D.rotation*ve)*(h.y-D.getBBox(!1,0).height/2),he(v.y)&&(S=0===b.side&&b.horiz?v.y+S:v.y),C=C+I(v.x,[0,1,0,-1][b.side]*c)+d+h.x-(T&&P?T*l*(n?-1:1):0),A=A+S-(T&&!P?T*l*(n?1:-1):0),o&&(p=H/(B||1)%o,b.opposite&&(p=o-p-1),A+=p*(b.labelOffset/o)),f.x=C,f.y=Math.round(A),ee(this,"afterGetLabelPosition",{pos:f,tickmarkOffset:T,index:H}),f}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(C,A,D,P,v=!1,T){return T.crispLine([["M",C,A],["L",C+(v?0:-D),A+(v?D:0)]],P)}handleOverflow(C){let c,f,u,A=this.axis,D=A.options.labels,P=C.x,v=A.chart.chartWidth,T=A.chart.spacing,H=I(A.labelLeft,Math.min(A.pos,T[3])),B=I(A.labelRight,Math.max(A.isRadial?0:A.pos+A.len,v-T[1])),S=this.label,p=this.rotation,b={left:0,center:.5,right:1}[A.labelAlign||S.attr("align")],l=S.getBBox().width,n=A.getSlotWidth(this),o={},h=n,d=1;p||"justify"!==D.overflow?p<0&&P-b*l<H?u=Math.round(P/Math.cos(p*ve)-H):p>0&&P+b*l>B&&(u=Math.round((v-P)/Math.cos(p*ve))):(c=P-b*l,f=P+(1-b)*l,c<H?h=C.x+h*(1-b)-H:f>B&&(h=B-C.x+h*b,d=-1),(h=Math.min(n,h))<n&&"center"===A.labelAlign&&(C.x+=d*(n-h-b*(n-Math.min(l,h)))),(l>h||A.autoRotation&&(S.styles||{}).width)&&(u=h)),u&&(this.shortenLabel?this.shortenLabel():(o.width=Math.floor(u)+"px",(D.style||{}).textOverflow||(o.textOverflow="ellipsis"),S.css(o)))}moveLabel(C,A){let H,D=this,P=D.label,v=D.axis,T=!1;P&&P.textStr===C?(D.movedLabel=P,T=!0,delete D.label):N(v.ticks,function(B){T||B.isNew||B===D||!B.label||B.label.textStr!==C||(D.movedLabel=B.label,T=!0,B.labelPos=D.movedLabel.xy,delete B.label)}),!T&&(D.labelPos||P)&&(H=D.labelPos||P.xy,D.movedLabel=D.createLabel(C,A,H),D.movedLabel&&D.movedLabel.attr({opacity:0}))}render(C,A,D){let P=this.axis,v=P.horiz,T=this.pos,H=I(this.tickmarkOffset,P.tickmarkOffset),B=this.getPosition(v,T,H,A),b=P.pos,l=b+P.len,n=v?B.x:B.y;!P.chart.polar&&this.isNew&&(de(n)<b||n>l)&&(D=0);let o=I(D,this.label&&this.label.newOpacity,1);D=I(D,1),this.isActive=!0,this.renderGridLine(A,D),this.renderMark(B,D),this.renderLabel(B,A,o,C),this.isNew=!1,ee(this,"afterRender")}renderGridLine(C,A){let b,D=this.axis,P=D.options,v={},T=this.pos,H=this.type,B=I(this.tickmarkOffset,D.tickmarkOffset),S=D.chart.renderer,p=this.gridLine,l=P.gridLineWidth,n=P.gridLineColor,o=P.gridLineDashStyle;"minor"===this.type&&(l=P.minorGridLineWidth,n=P.minorGridLineColor,o=P.minorGridLineDashStyle),p||(D.chart.styledMode||(v.stroke=n,v["stroke-width"]=l||0,v.dashstyle=o),H||(v.zIndex=1),C&&(A=0),this.gridLine=p=S.path().attr(v).addClass("highcharts-"+(H?H+"-":"")+"grid-line").add(D.gridGroup)),p&&(b=D.getPlotLinePath({value:T+B,lineWidth:p.strokeWidth(),force:"pass",old:C,acrossPanes:!1}))&&p[C||this.isNew?"attr":"animate"]({d:b,opacity:A})}renderMark(C,A){let D=this.axis,P=D.options,v=D.chart.renderer,T=this.type,H=D.tickSize(T?T+"Tick":"tick"),B=C.x,S=C.y,p=I(P["minor"!==T?"tickWidth":"minorTickWidth"],!T&&D.isXAxis?1:0),b=P["minor"!==T?"tickColor":"minorTickColor"],l=this.mark,n=!l;H&&(D.opposite&&(H[0]=-H[0]),l||(this.mark=l=v.path().addClass("highcharts-"+(T?T+"-":"")+"tick").add(D.axisGroup),D.chart.styledMode||l.attr({stroke:b,"stroke-width":p})),l[n?"attr":"animate"]({d:this.getMarkPath(B,S,H[0],l.strokeWidth(),D.horiz,v),opacity:A}))}renderLabel(C,A,D,P){let v=this.axis,T=v.horiz,H=v.options,B=this.label,S=H.labels,p=S.step,b=I(this.tickmarkOffset,v.tickmarkOffset),l=C.x,n=C.y,o=!0;B&&L(l)&&(B.xy=C=this.getLabelPosition(l,n,B,T,S,b,P,p),this.isFirst&&!this.isLast&&!H.showFirstLabel||this.isLast&&!this.isFirst&&!H.showLastLabel?o=!1:!T||S.step||S.rotation||A||0===D||this.handleOverflow(C),p&&P%p&&(o=!1),o&&L(C.y)?(C.opacity=D,B[this.isNewLabel?"attr":"animate"](C).show(!0),this.isNewLabel=!1):(B.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let C=this.label,A=this.axis;C&&!this.isNew&&(C.animate({opacity:0},void 0,C.destroy),delete this.label),A.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),Ne(Y,"Core/Axis/Axis.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/AxisDefaults.js"],Y["Core/Color/Color.js"],Y["Core/Defaults.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Axis/Tick.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){let{animObject:te}=Z,{xAxis:ee,yAxis:L}=ce,{defaultOptions:W}=ve,{registerEventOptions:N}=me,{deg2rad:I}=de,{arrayMax:C,arrayMin:A,clamp:D,correctFloat:P,defined:v,destroyObjectProperties:T,erase:H,error:B,extend:S,fireEvent:p,getClosestDistance:b,insertItem:l,isArray:n,isNumber:o,isString:h,merge:d,normalizeTickInterval:c,objectEach:f,pick:u,relativeLength:M,removeEvent:U,splat:x,syncTimeout:O}=Q,z=(J,y)=>c(y,void 0,void 0,u(J.options.allowDecimals,y<.5||void 0!==J.tickAmount),!!J.tickAmount);S(W,{xAxis:ee,yAxis:d(ee,L)});class j{constructor(y,w,E){this.init(y,w,E)}init(y,w,E=this.coll){let X="xAxis"===E,m=this.isZAxis||(y.inverted?!X:X);this.chart=y,this.horiz=m,this.isXAxis=X,this.coll=E,p(this,"init",{userOptions:w}),this.opposite=u(w.opposite,this.opposite),this.side=u(w.side,this.side,m?this.opposite?0:2:this.opposite?1:3),this.setOptions(w);let F=this.options,R=F.labels;this.type??(this.type=F.type||"linear"),this.uniqueNames??(this.uniqueNames=F.uniqueNames??!0),p(this,"afterSetType"),this.userOptions=w,this.minPixelPadding=0,this.reversed=u(F.reversed,this.reversed),this.visible=F.visible,this.zoomEnabled=F.zoomEnabled,this.hasNames="category"===this.type||!0===F.categories,this.categories=n(F.categories)&&F.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=v(F.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=F.minRange||F.maxZoom,this.range=F.range,this.offset=F.offset||0,this.max=void 0,this.min=void 0;let _=u(F.crosshair,x(y.options.tooltip.crosshairs)[X?0:1]);this.crosshair=!0===_?{}:_,-1===y.axes.indexOf(this)&&(X?y.axes.splice(y.xAxis.length,0,this):y.axes.push(this),l(this,y[this.coll])),y.orderItems(this.coll),this.series=this.series||[],y.inverted&&!this.isZAxis&&X&&!v(this.reversed)&&(this.reversed=!0),this.labelRotation=o(R.rotation)?R.rotation:void 0,N(this,F),p(this,"afterInit")}setOptions(y){this.options=d(this.horiz?{labels:{autoRotation:[-45],padding:4},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}},W[this.coll],y),p(this,"afterSetOptions",{userOptions:y})}defaultLabelFormatter(){let ae,ue,y=this.axis,{numberFormatter:w}=this.chart,E=o(this.value)?this.value:NaN,X=y.chart.time,m=y.categories,F=this.dateTimeLabelFormat,R=W.lang,_=R.numericSymbols,G=R.numericSymbolMagnitude||1e3,K=y.logarithmic?Math.abs(E):y.tickInterval,oe=_&&_.length;if(m)ue=`${this.value}`;else if(F)ue=X.dateFormat(F,E);else if(oe&&_&&K>=1e3)for(;oe--&&void 0===ue;)K>=(ae=Math.pow(G,oe+1))&&10*E%ae==0&&null!==_[oe]&&0!==E&&(ue=w(E/ae,-1)+_[oe]);return void 0===ue&&(ue=Math.abs(E)>=1e4?w(E,-1):w(E,-1,void 0,"")),ue}getSeriesExtremes(){let y,w=this;p(this,"getSeriesExtremes",null,function(){w.hasVisibleSeries=!1,w.dataMin=w.dataMax=w.threshold=void 0,w.softThreshold=!w.isXAxis,w.series.forEach(E=>{if(E.reserveSpace()){let m,R,_,X=E.options,F=X.threshold;if(w.hasVisibleSeries=!0,w.positiveValuesOnly&&0>=(F||0)&&(F=void 0),w.isXAxis)(m=E.xData)&&m.length&&(m=w.logarithmic?m.filter(G=>G>0):m,R=(y=E.getXExtremes(m)).min,_=y.max,o(R)||R instanceof Date||(m=m.filter(o),R=(y=E.getXExtremes(m)).min,_=y.max),m.length&&(w.dataMin=Math.min(u(w.dataMin,R),R),w.dataMax=Math.max(u(w.dataMax,_),_)));else{let G=E.applyExtremes();o(G.dataMin)&&(R=G.dataMin,w.dataMin=Math.min(u(w.dataMin,R),R)),o(G.dataMax)&&(_=G.dataMax,w.dataMax=Math.max(u(w.dataMax,_),_)),v(F)&&(w.threshold=F),(!X.softThreshold||w.positiveValuesOnly)&&(w.softThreshold=!1)}}})}),p(this,"afterGetSeriesExtremes")}translate(y,w,E,X,m,F){let R=this.linkedParent||this,_=X&&R.old?R.old.min:R.min;if(!o(_))return NaN;let G=R.minPixelPadding,K=(R.isOrdinal||R.brokenAxis?.hasBreaks||R.logarithmic&&m)&&R.lin2val,oe=1,ae=0,ue=X&&R.old?R.old.transA:R.transA,be=0;return ue||(ue=R.transA),E&&(oe*=-1,ae=R.len),R.reversed&&(oe*=-1,ae-=oe*(R.sector||R.len)),w?(be=(y=y*oe+ae-G)/ue+_,K&&(be=R.lin2val(be))):(K&&(y=R.val2lin(y)),be=oe*(y-_)*ue+ae+oe*G+(o(F)?ue*F:0),R.isRadial||(be=P(be))),be}toPixels(y,w){return this.translate(y,!1,!this.horiz,void 0,!0)+(w?0:this.pos)}toValue(y,w){return this.translate(y-(w?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(y){let be,Se,ie,q,re,w=this,E=w.chart,X=w.left,m=w.top,F=y.old,R=y.value,_=y.lineWidth,G=F&&E.oldChartHeight||E.chartHeight,K=F&&E.oldChartWidth||E.chartWidth,oe=w.transB,ae=y.translatedValue,ue=y.force;function le(ge,we,ye){return"pass"!==ue&&(ge<we||ge>ye)&&(ue?ge=D(ge,we,ye):re=!0),ge}let pe={value:R,lineWidth:_,old:F,force:ue,acrossPanes:y.acrossPanes,translatedValue:ae};return p(this,"getPlotLinePath",pe,function(ge){be=ie=(ae=D(ae=u(ae,w.translate(R,void 0,void 0,F)),-1e9,1e9))+oe,Se=q=G-ae-oe,o(ae)?w.horiz?(Se=m,q=G-w.bottom+(w.options.isInternal?0:E.scrollablePixelsY||0),be=ie=le(be,X,X+w.width)):(be=X,ie=K-w.right+(E.scrollablePixelsX||0),Se=q=le(Se,m,m+w.height)):(re=!0,ue=!1),ge.path=re&&!ue?void 0:E.renderer.crispLine([["M",be,Se],["L",ie,q]],_||1)}),pe.path}getLinearTickPositions(y,w,E){let X,m,F,R=P(Math.floor(w/y)*y),_=P(Math.ceil(E/y)*y),G=[];if(P(R+y)===R&&(F=20),this.single)return[w];for(X=R;X<=_&&(G.push(X),(X=P(X+y,F))!==m);)m=X;return G}getMinorTickInterval(){let{minorTicks:y,minorTickInterval:w}=this.options;return!0===y?u(w,"auto"):!1!==y?w:void 0}getMinorTickPositions(){let G,y=this.options,w=this.tickPositions,E=this.minorTickInterval,X=this.pointRangePadding||0,m=(this.min||0)-X,F=(this.max||0)+X,R=F-m,_=[];if(R&&R/E<this.len/3){let K=this.logarithmic;if(K)this.paddedTicks.forEach(function(oe,ae,ue){ae&&_.push.apply(_,K.getLogTickPositions(E,ue[ae-1],ue[ae],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())_=_.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(E),m,F,y.startOfWeek));else for(G=m+(w[0]-m)%E;G<=F&&G!==_[0];G+=E)_.push(G)}return 0!==_.length&&this.trimTicks(_),_}adjustForMinRange(){let F,R,_,G,y=this.options,w=this.logarithmic,{max:E,min:X,minRange:m}=this;this.isXAxis&&void 0===m&&!w&&(m=v(y.min)||v(y.max)||v(y.floor)||v(y.ceiling)?null:Math.min(5*(b(this.series.map(K=>(K.xIncrement?K.xData?.slice(0,2):K.xData)||[]))||0),this.dataMax-this.dataMin)),o(E)&&o(X)&&o(m)&&E-X<m&&(R=this.dataMax-this.dataMin>=m,F=(m-E+X)/2,_=[X-F,u(y.min,X-F)],R&&(_[2]=w?w.log2lin(this.dataMin):this.dataMin),G=[(X=C(_))+m,u(y.max,X+m)],R&&(G[2]=w?w.log2lin(this.dataMax):this.dataMax),(E=A(G))-X<m&&(_[0]=E-m,_[1]=u(y.min,E-m),X=C(_))),this.minRange=m,this.min=X,this.max=E}getClosest(){let y,w;if(this.categories)w=1;else{let E=[];this.series.forEach(function(X){let m=X.closestPointRange;1===X.xData?.length?E.push(X.xData[0]):!X.noSharedTooltip&&v(m)&&X.reserveSpace()&&(w=v(w)?Math.min(w,m):m)}),E.length&&(E.sort((X,m)=>X-m),y=b([E]))}return y&&w?Math.min(y,w):y||w}nameToX(y){let m,w=n(this.options.categories),E=w?this.categories:this.names,X=y.options.x;return y.series.requireSorting=!1,v(X)||(X=this.uniqueNames&&E?w?E.indexOf(y.name):u(E.keys[y.name],-1):y.series.autoIncrement()),-1===X?!w&&E&&(m=E.length):m=X,void 0!==m?(this.names[m]=y.name,this.names.keys[y.name]=m):y.x&&(m=y.x),m}updateNames(){let y=this,w=this.names;w.length>0&&(Object.keys(w.keys).forEach(function(E){delete w.keys[E]}),w.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(E=>{E.xIncrement=null,(!E.points||E.isDirtyData)&&(y.max=Math.max(y.max,E.xData.length-1),E.processData(),E.generatePoints()),E.data.forEach(function(X,m){let F;X?.options&&void 0!==X.name&&void 0!==(F=y.nameToX(X))&&F!==X.x&&(X.x=F,E.xData[m]=F)})}))}setAxisTranslation(){let R,K,y=this,w=y.max-y.min,E=y.linkedParent,X=!!y.categories,m=y.isXAxis,F=y.axisPointRange||0,_=0,G=0,oe=y.transA;(m||X||F)&&(R=y.getClosest(),E?(_=E.minPointOffset,G=E.pointRangePadding):y.series.forEach(function(ae){let ue=X?1:m?u(ae.options.pointRange,R,0):y.axisPointRange||0,be=ae.options.pointPlacement;if(F=Math.max(F,ue),!y.single||X){let Se=ae.is("xrange")?!m:m;_=Math.max(_,Se&&h(be)?0:ue/2),G=Math.max(G,Se&&"on"===be?0:ue)}}),K=y.ordinal&&y.ordinal.slope&&R?y.ordinal.slope/R:1,y.minPointOffset=_*=K,y.pointRangePadding=G*=K,y.pointRange=Math.min(F,y.single&&X?1:w),m&&R&&(y.closestPointRange=R)),y.translationSlope=y.transA=oe=y.staticScale||y.len/(w+G||1),y.transB=y.horiz?y.left:y.bottom,y.minPixelPadding=oe*_,p(this,"afterSetAxisTranslation")}minFromRange(){let{max:y,min:w}=this;return o(y)&&o(w)&&y-w||void 0}setTickInterval(y){let ye,Pe,Re,Fe,De,{categories:w,chart:E,dataMax:X,dataMin:m,dateTime:F,isXAxis:R,logarithmic:_,options:G,softThreshold:K}=this,oe=o(this.threshold)?this.threshold:void 0,ae=this.minRange||0,{ceiling:ue,floor:be,linkedTo:Se,softMax:ie,softMin:q}=G,re=o(Se)&&E[this.coll]?.[Se],le=G.tickPixelInterval,pe=G.maxPadding,ge=G.minPadding,we=0,Me=o(G.tickInterval)&&G.tickInterval>=0?G.tickInterval:void 0;if(F||w||re||this.getTickAmount(),Fe=u(this.userMin,G.min),De=u(this.userMax,G.max),re?(this.linkedParent=re,ye=re.getExtremes(),this.min=u(ye.min,ye.dataMin),this.max=u(ye.max,ye.dataMax),this.type!==re.type&&B(11,!0,E)):(K&&v(oe)&&o(X)&&o(m)&&(m>=oe?(Pe=oe,ge=0):X<=oe&&(Re=oe,pe=0)),this.min=u(Fe,Pe,m),this.max=u(De,Re,X)),o(this.max)&&o(this.min)&&(_&&(this.positiveValuesOnly&&!y&&0>=Math.min(this.min,u(m,this.min))&&B(10,!0,E),this.min=P(_.log2lin(this.min),16),this.max=P(_.log2lin(this.max),16)),this.range&&o(m)&&(this.userMin=this.min=Fe=Math.max(m,this.minFromRange()||0),this.userMax=De=this.max,this.range=void 0)),p(this,"foundExtremes"),this.adjustForMinRange(),o(this.min)&&o(this.max)){if(!o(this.userMin)&&o(q)&&q<this.min&&(this.min=Fe=q),!o(this.userMax)&&o(ie)&&ie>this.max&&(this.max=De=ie),w||this.axisPointRange||this.stacking?.usePercentage||re||!(we=this.max-this.min)||(!v(Fe)&&ge&&(this.min-=we*ge),v(De)||!pe||(this.max+=we*pe)),!o(this.userMin)&&o(be)&&(this.min=Math.max(this.min,be)),!o(this.userMax)&&o(ue)&&(this.max=Math.min(this.max,ue)),K&&o(m)&&o(X)){let ze=oe||0;!v(Fe)&&this.min<ze&&m>=ze?this.min=G.minRange?Math.min(ze,this.max-ae):ze:!v(De)&&this.max>ze&&X<=ze&&(this.max=G.minRange?Math.max(ze,this.min+ae):ze)}!E.polar&&this.min>this.max&&(v(G.min)?this.max=this.min:v(G.max)&&(this.min=this.max)),we=this.max-this.min}if(this.tickInterval=this.min!==this.max&&o(this.min)&&o(this.max)?re&&!Me&&le===re.options.tickPixelInterval?Me=re.tickInterval:u(Me,this.tickAmount?we/Math.max(this.tickAmount-1,1):void 0,w?1:we*le/Math.max(this.len,le)):1,R&&!y){let ze=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Oe){Oe.forceCrop=Oe.forceCropping?.(),Oe.processData(ze)}),p(this,"postProcessData",{hasExtremesChanged:ze})}this.setAxisTranslation(),p(this,"initialAxisTranslation"),this.pointRange&&!Me&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let He=u(G.minTickInterval,F&&!this.series.some(ze=>ze.noSharedTooltip)?this.closestPointRange:0);!Me&&this.tickInterval<He&&(this.tickInterval=He),F||_||Me||(this.tickInterval=z(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let G,y=this.options,w=y.tickPositions,E=y.tickPositioner,X=this.getMinorTickInterval(),m=!this.isPanning,F=m&&y.startOnTick,R=m&&y.endOnTick,_=[];if(this.tickmarkOffset=this.categories&&"between"===y.tickmarkPlacement&&1===this.tickInterval?.5:0,this.single=this.min===this.max&&v(this.min)&&!this.tickAmount&&(this.min%1==0||!1!==y.allowDecimals),w)_=w.slice();else if(o(this.min)&&o(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))_=[this.min,this.max],B(19,!1,this.chart);else if(this.dateTime)_=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,y.units),this.min,this.max,y.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)_=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let K=this.tickInterval,oe=K;for(;oe<=2*K&&(_=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&_.length>this.tickAmount);)this.tickInterval=z(this,oe*=1.1)}_.length>this.len&&(_=[_[0],_[_.length-1]])[0]===_[1]&&(_.length=1),E&&(this.tickPositions=_,(G=E.apply(this,[this.min,this.max]))&&(_=G))}this.tickPositions=_,this.minorTickInterval="auto"===X&&this.tickInterval?this.tickInterval/y.minorTicksPerMajor:X,this.paddedTicks=_.slice(0),this.trimTicks(_,F,R),!this.isLinked&&o(this.min)&&o(this.max)&&(this.single&&_.length<2&&!this.categories&&!this.series.some(K=>K.is("heatmap")&&"between"===K.options.pointPlacement)&&(this.min-=.5,this.max+=.5),w||G||this.adjustTickAmount()),p(this,"afterSetTickPositions")}trimTicks(y,w,E){let X=y[0],m=y[y.length-1],F=!this.isOrdinal&&this.minPointOffset||0;if(p(this,"trimTicks"),!this.isLinked){if(w&&X!==-1/0)this.min=X;else for(;this.min-F>y[0];)y.shift();if(E)this.max=m;else for(;this.max+F<y[y.length-1];)y.pop();0===y.length&&v(X)&&!this.options.tickPositions&&y.push((m+X)/2)}}alignToOthers(){let y,w=this,E=w.chart,X=[this],m=w.options,F=E.options.chart,R="yAxis"===this.coll&&F.alignThresholds,_=[];if(w.thresholdAlignment=void 0,(!1!==F.alignTicks&&m.alignTicks||R)&&!1!==m.startOnTick&&!1!==m.endOnTick&&!w.logarithmic){let G=oe=>{let{horiz:ae,options:ue}=oe;return[ae?ue.left:ue.top,ue.width,ue.height,ue.pane].join(",")},K=G(this);E[this.coll].forEach(function(oe){let{series:ae}=oe;ae.length&&ae.some(ue=>ue.visible)&&oe!==w&&G(oe)===K&&(y=!0,X.push(oe))})}if(y&&R){X.forEach(K=>{let oe=K.getThresholdAlignment(w);o(oe)&&_.push(oe)});let G=_.length>1?_.reduce((K,oe)=>K+oe,0)/_.length:void 0;X.forEach(K=>{K.thresholdAlignment=G})}return y}getThresholdAlignment(y){if((!o(this.dataMin)||this!==y&&this.series.some(w=>w.isDirty||w.isDirtyData))&&this.getSeriesExtremes(),o(this.threshold)){let w=D((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(w=1-w),w}}getTickAmount(){let y=this.options,w=y.tickPixelInterval,E=y.tickAmount;v(y.tickInterval)||E||!(this.len<w)||this.isRadial||this.logarithmic||!y.startOnTick||!y.endOnTick||(E=2),!E&&this.alignToOthers()&&(E=Math.ceil(this.len/w)+1),E<4&&(this.finalTickAmt=E,E=5),this.tickAmount=E}adjustTickAmount(){let oe,ae,be,y=this,{finalTickAmt:w,max:E,min:X,options:m,tickPositions:F,tickAmount:R,thresholdAlignment:_}=y,G=F?.length,K=u(y.threshold,y.softThreshold?0:null),ue=y.tickInterval,Se=()=>F.push(P(F[F.length-1]+ue)),ie=()=>F.unshift(P(F[0]-ue));if(o(_)&&(be=_<.5?Math.ceil(_*(R-1)):Math.floor(_*(R-1)),m.reversed&&(be=R-1-be)),y.hasData()&&o(X)&&o(E)){let q=()=>{y.transA*=(G-1)/(R-1),y.min=m.startOnTick?F[0]:Math.min(X,F[0]),y.max=m.endOnTick?F[F.length-1]:Math.max(E,F[F.length-1])};if(o(be)&&o(y.threshold)){for(;F[be]!==K||F.length!==R||F[0]>X||F[F.length-1]<E;){for(F.length=0,F.push(y.threshold);F.length<R;)void 0===F[be]||F[be]>y.threshold?ie():Se();if(ue>8*y.tickInterval)break;ue*=2}q()}else if(G<R){for(;F.length<R;)F.length%2||X===K?Se():ie();q()}if(v(w)){for(ae=oe=F.length;ae--;)(3===w&&ae%2==1||w<=2&&ae>0&&ae<oe-1)&&F.splice(ae,1);y.finalTickAmt=void 0}}}setScale(){let{coll:y,stacking:w}=this,E=!1,X=!1;this.series.forEach(F=>{E=E||F.isDirtyData||F.isDirty,X=X||F.xAxis&&F.xAxis.isDirty||!1}),this.setAxisSize();let m=this.len!==(this.old&&this.old.len);m||E||X||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(w&&"yAxis"===y&&w.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),w&&"xAxis"===y&&w.buildStacks(),this.isDirty||(this.isDirty=m||this.min!==this.old?.min||this.max!==this.old?.max)):w&&w.cleanStacks(),E&&delete this.allExtremes,p(this,"afterSetScale")}setExtremes(y,w,E=!0,X,m){this.series.forEach(F=>{delete F.kdTree}),p(this,"setExtremes",m=S(m,{min:y,max:w}),F=>{this.userMin=F.min,this.userMax=F.max,this.eventArgs=F,E&&this.chart.redraw(X)})}setAxisSize(){let y=this.chart,w=this.options,E=w.offsets||[0,0,0,0],X=this.horiz,m=this.width=Math.round(M(u(w.width,y.plotWidth-E[3]+E[1]),y.plotWidth)),F=this.height=Math.round(M(u(w.height,y.plotHeight-E[0]+E[2]),y.plotHeight)),R=this.top=Math.round(M(u(w.top,y.plotTop+E[0]),y.plotHeight,y.plotTop)),_=this.left=Math.round(M(u(w.left,y.plotLeft+E[3]),y.plotWidth,y.plotLeft));this.bottom=y.chartHeight-F-R,this.right=y.chartWidth-m-_,this.len=Math.max(X?m:F,0),this.pos=X?_:R}getExtremes(){let y=this.logarithmic;return{min:y?P(y.lin2log(this.min)):this.min,max:y?P(y.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(y){let w=this.logarithmic,E=w?w.lin2log(this.min):this.min,X=w?w.lin2log(this.max):this.max;return null===y||y===-1/0?y=E:y===1/0?y=X:E>y?y=E:X<y&&(y=X),this.translate(y,0,1,0,1)}autoLabelAlign(y){let w=(u(y,0)-90*this.side+720)%360,E={align:"center"};return p(this,"autoLabelAlign",E,function(X){w>15&&w<165?X.align="right":w>195&&w<345&&(X.align="left")}),E.align}tickSize(y){let m,w=this.options,E=u(w["tick"===y?"tickWidth":"minorTickWidth"],"tick"===y&&this.isXAxis&&!this.categories?1:0),X=w["tick"===y?"tickLength":"minorTickLength"];E&&X&&("inside"===w[y+"Position"]&&(X=-X),m=[X,E]);let F={tickSize:m};return p(this,"afterTickSize",F),F.tickSize}labelMetrics(){let y=this.chart.renderer,w=this.ticks,E=w[Object.keys(w)[0]]||{};return this.chart.renderer.fontMetrics(E.label||E.movedLabel||y.box)}unsquish(){let oe,ue,y=this.options.labels,w=y.padding||0,E=this.horiz,X=this.tickInterval,m=this.len/(((this.categories?1:0)+this.max-this.min)/X),F=y.rotation,R=P(.8*this.labelMetrics().h),_=Math.max(this.max-this.min,0),G=function(be){let Se=(be+2*w)/(m||1);return(Se=Se>1?Math.ceil(Se):1)*X>_&&be!==1/0&&m!==1/0&&_&&(Se=Math.ceil(_/X)),P(Se*X)},K=X,ae=Number.MAX_VALUE;if(E){if(!y.staggerLines&&(o(F)?ue=[F]:m<y.autoRotationLimit&&(ue=y.autoRotation)),ue){let be,Se;for(let ie of ue)(ie===F||ie&&ie>=-90&&ie<=90)&&(Se=(be=G(Math.abs(R/Math.sin(I*ie))))+Math.abs(ie/360))<ae&&(ae=Se,oe=ie,K=be)}}else K=G(.75*R);return this.autoRotation=ue,this.labelRotation=u(oe,o(F)?F:0),y.step?X:K}getSlotWidth(y){let w=this.chart,E=this.horiz,X=this.options.labels,m=Math.max(this.tickPositions.length-(this.categories?0:1),1),F=w.margin[3];if(y&&o(y.slotWidth))return y.slotWidth;if(E&&X.step<2)return X.rotation?0:(this.staggerLines||1)*this.len/m;if(!E){let R=X.style.width;if(void 0!==R)return parseInt(String(R),10);if(F)return F-w.spacing[3]}return.33*w.chartWidth}renderUnsquish(){let ue,be,ie,q,y=this.chart,w=y.renderer,E=this.tickPositions,X=this.ticks,m=this.options.labels,F=m.style,R=this.horiz,_=this.getSlotWidth(),G=Math.max(1,Math.round(_-(R?2*(m.padding||0):m.distance||0))),K={},oe=this.labelMetrics(),ae=F.textOverflow,Se=0;if(h(m.rotation)||(K.rotation=m.rotation||0),E.forEach(function(re){let le=X[re];le.movedLabel&&le.replaceMovedLabel(),le&&le.label&&le.label.textPxLength>Se&&(Se=le.label.textPxLength)}),this.maxLabelLength=Se,this.autoRotation)Se>G&&Se>oe.h?K.rotation=this.labelRotation:this.labelRotation=0;else if(_&&(ue=G,!ae))for(be="clip",q=E.length;!R&&q--;)(ie=X[E[q]].label)&&("ellipsis"===ie.styles.textOverflow?ie.css({textOverflow:"clip"}):ie.textPxLength>_&&ie.css({width:_+"px"}),ie.getBBox().height>this.len/E.length-(oe.h-oe.f)&&(ie.specificTextOverflow="ellipsis"));K.rotation&&(ue=Se>.5*y.chartHeight?.33*y.chartHeight:Se,ae||(be="ellipsis")),this.labelAlign=m.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(K.align=this.labelAlign),E.forEach(function(re){let le=X[re],pe=le&&le.label,ge=F.width,we={};pe&&(pe.attr(K),le.shortenLabel?le.shortenLabel():ue&&!ge&&"nowrap"!==F.whiteSpace&&(ue<pe.textPxLength||"SPAN"===pe.element.tagName)?(we.width=ue+"px",ae||(we.textOverflow=pe.specificTextOverflow||be),pe.css(we)):!pe.styles.width||we.width||ge||pe.css({width:null}),delete pe.specificTextOverflow,le.rotation=K.rotation)},this),this.tickRotCorr=w.rotCorr(oe.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some(function(y){return y.hasData()})||this.options.showEmpty&&v(this.min)&&v(this.max)}addTitle(y){let w,m=this.opposite,F=this.options.title,R=this.chart.styledMode;this.axisTitle||((w=F.textAlign)||(w=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:m?"right":"left",middle:"center",high:m?"left":"right"})[F.align]),this.axisTitle=this.chart.renderer.text(F.text||"",0,0,F.useHTML).attr({zIndex:7,rotation:F.rotation||0,align:w}).addClass("highcharts-axis-title"),R||this.axisTitle.css(d(F.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),R||F.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[y?"show":"hide"](y)}generateTick(y){let w=this.ticks;w[y]?w[y].addLabel():w[y]=new he(this,y)}createGroups(){let{axisParent:y,chart:w,coll:E,options:X}=this,m=w.renderer,F=(R,_,G)=>m.g(R).attr({zIndex:G}).addClass(`highcharts-${E.toLowerCase()}${_} `+(this.isRadial?`highcharts-radial-axis${_} `:"")+(X.className||"")).add(y);this.axisGroup||(this.gridGroup=F("grid","-grid",X.gridZIndex),this.axisGroup=F("axis","",X.zIndex),this.labelGroup=F("axis-labels","-labels",X.labels.zIndex))}getOffset(){let q,le,we,ye,y=this,{chart:w,horiz:E,options:X,side:m,ticks:F,tickPositions:R,coll:_}=y,G=w.inverted&&!y.isZAxis?[1,0,3,2][m]:m,K=y.hasData(),oe=X.title,ae=X.labels,ue=o(X.crossing),be=w.axisOffset,Se=w.clipOffset,ie=[-1,1,1,-1][m],re=0,pe=0,ge=0;if(y.showAxis=q=K||X.showEmpty,y.staggerLines=y.horiz&&ae.staggerLines||void 0,y.createGroups(),K||y.isLinked?(R.forEach(function(Me){y.generateTick(Me)}),y.renderUnsquish(),y.reserveSpaceDefault=0===m||2===m||{1:"left",3:"right"}[m]===y.labelAlign,u(ae.reserveSpace,!ue&&null,"center"===y.labelAlign||null,y.reserveSpaceDefault)&&R.forEach(function(Me){ge=Math.max(F[Me].getLabelSize(),ge)}),y.staggerLines&&(ge*=y.staggerLines),y.labelOffset=ge*(y.opposite?-1:1)):f(F,function(Me,Pe){Me.destroy(),delete F[Pe]}),oe?.text&&!1!==oe.enabled&&(y.addTitle(q),q&&!ue&&!1!==oe.reserveSpace&&(y.titleOffset=re=y.axisTitle.getBBox()[E?"height":"width"],pe=v(le=oe.offset)?0:u(oe.margin,E?5:10))),y.renderLine(),y.offset=ie*u(X.offset,be[m]?be[m]+(X.margin||0):0),y.tickRotCorr=y.tickRotCorr||{x:0,y:0},ye=0===m?-y.labelMetrics().h:2===m?y.tickRotCorr.y:0,we=Math.abs(ge)+pe,ge&&(we-=ye,we+=ie*(E?u(ae.y,y.tickRotCorr.y+ie*ae.distance):u(ae.x,ie*ae.distance))),y.axisTitleMargin=u(le,we),y.getMaxLabelDimensions&&(y.maxLabelDimensions=y.getMaxLabelDimensions(F,R)),"colorAxis"!==_&&Se){let Me=this.tickSize("tick");be[m]=Math.max(be[m],(y.axisTitleMargin||0)+re+ie*y.offset,we,R&&R.length&&Me?Me[0]+ie*y.offset:0);let Pe=!y.axisLine||X.offset?0:y.axisLine.strokeWidth()/2;Se[G]=Math.max(Se[G],Pe)}p(this,"afterGetOffset")}getLinePath(y){let w=this.chart,E=this.opposite,X=this.offset,m=this.horiz,F=this.left+(E?this.width:0)+X,R=w.chartHeight-this.bottom-(E?this.height:0)+X;return E&&(y*=-1),w.renderer.crispLine([["M",m?this.left:F,m?R:this.top],["L",m?w.chartWidth-this.right:F,m?R:w.chartHeight-this.bottom]],y)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(y){let w=this.horiz,E=this.left,X=this.top,m=this.len,F=this.options.title,R=w?E:X,_=this.opposite,G=this.offset,K=F.x,oe=F.y,ae=this.chart.renderer.fontMetrics(y),ue=y?Math.max(y.getBBox(!1,0).height-ae.h-1,0):0,be={low:R+(w?0:m),middle:R+m/2,high:R+(w?m:0)}[F.align],Se=(w?X+this.height:E)+(w?1:-1)*(_?-1:1)*(this.axisTitleMargin||0)+[-ue,ue,ae.f,-ue][this.side],ie={x:w?be+K:Se+(_?this.width:0)+G+K,y:w?Se+oe-(_?this.height:0)+G:be+oe};return p(this,"afterGetTitlePosition",{titlePosition:ie}),ie}renderMinorTick(y,w){let E=this.minorTicks;E[y]||(E[y]=new he(this,y,"minor")),w&&E[y].isNew&&E[y].render(null,!0),E[y].render(null,!1,1)}renderTick(y,w,E){let m=this.ticks;(!this.isLinked||y>=this.min&&y<=this.max||this.grid&&this.grid.isColumn)&&(m[y]||(m[y]=new he(this,y)),E&&m[y].isNew&&m[y].render(w,!0,-1),m[y].render(w))}render(){let y,w,E=this,X=E.chart,m=E.logarithmic,R=E.options,_=E.isLinked,G=E.tickPositions,K=E.axisTitle,oe=E.ticks,ae=E.minorTicks,ue=E.alternateBands,be=R.stackLabels,Se=R.alternateGridColor,ie=R.crossing,q=E.tickmarkOffset,re=E.axisLine,le=E.showAxis,pe=te(X.renderer.globalAnimation);if(E.labelEdge.length=0,E.overlap=!1,[oe,ae,ue].forEach(function(ge){f(ge,function(we){we.isActive=!1})}),o(ie)){let ge=this.isXAxis?X.yAxis[0]:X.xAxis[0],we=[1,-1,-1,1][this.side];if(ge){let ye=ge.toPixels(ie,!0);E.horiz&&(ye=ge.len-ye),E.offset=we*ye}}if(E.hasData()||_){let ge=E.chart.hasRendered&&E.old&&o(E.old.min);E.minorTickInterval&&!E.categories&&E.getMinorTickPositions().forEach(function(we){E.renderMinorTick(we,ge)}),G.length&&(G.forEach(function(we,ye){E.renderTick(we,ye,ge)}),q&&(0===E.min||E.single)&&(oe[-1]||(oe[-1]=new he(E,-1,null,!0)),oe[-1].render(-1))),Se&&G.forEach(function(we,ye){w=void 0!==G[ye+1]?G[ye+1]+q:E.max-q,ye%2==0&&we<E.max&&w<=E.max+(X.polar?-q:q)&&(ue[we]||(ue[we]=new de.PlotLineOrBand(E,{})),y=we+q,ue[we].options={from:m?m.lin2log(y):y,to:m?m.lin2log(w):w,color:Se,className:"highcharts-alternate-grid"},ue[we].render(),ue[we].isActive=!0)}),E._addedPlotLB||(E._addedPlotLB=!0,(R.plotLines||[]).concat(R.plotBands||[]).forEach(function(we){E.addPlotBandOrLine(we)}))}[oe,ae,ue].forEach(function(ge){let we=[],ye=pe.duration;f(ge,function(Me,Pe){Me.isActive||(Me.render(Pe,!1,0),Me.isActive=!1,we.push(Pe))}),O(function(){let Me=we.length;for(;Me--;)ge[we[Me]]&&!ge[we[Me]].isActive&&(ge[we[Me]].destroy(),delete ge[we[Me]])},ge!==ue&&X.hasRendered&&ye?ye:0)}),re&&(re[re.isPlaced?"animate":"attr"]({d:this.getLinePath(re.strokeWidth())}),re.isPlaced=!0,re[le?"show":"hide"](le)),K&&le&&(K[K.isNew?"attr":"animate"](E.getTitlePosition(K)),K.isNew=!1),be&&be.enabled&&E.stacking&&E.stacking.renderStackTotals(),E.old={len:E.len,max:E.max,min:E.min,transA:E.transA,userMax:E.userMax,userMin:E.userMin},E.isDirty=!1,p(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(y){y.render()})),this.series.forEach(function(y){y.isDirty=!0})}getKeepProps(){return this.keepProps||j.keepProps}destroy(y){let w=this,E=w.plotLinesAndBands,X=this.eventOptions;if(p(this,"destroy",{keepEvents:y}),y||U(w),[w.ticks,w.minorTicks,w.alternateBands].forEach(function(m){T(m)}),E){let m=E.length;for(;m--;)E[m].destroy()}for(let m in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(F){w[F]&&(w[F]=w[F].destroy())}),w.plotLinesAndBandsGroups)w.plotLinesAndBandsGroups[m]=w.plotLinesAndBandsGroups[m].destroy();f(w,function(m,F){-1===w.getKeepProps().indexOf(F)&&delete w[F]}),this.eventOptions=X}drawCrosshair(y,w){let F,R,_,K,E=this.crosshair,X=u(E&&E.snap,!0),m=this.chart,G=this.cross;if(p(this,"drawCrosshair",{e:y,point:w}),y||(y=this.cross&&this.cross.e),E&&!1!==(v(w)||!X)){if(X?v(w)&&(R=u("colorAxis"!==this.coll?w.crosshairPos:null,this.isXAxis?w.plotX:this.len-w.plotY)):R=y&&(this.horiz?y.chartX-this.pos:this.len-y.chartY+this.pos),v(R)&&(K={value:w&&(this.isXAxis?w.x:u(w.stackY,w.y)),translatedValue:R},m.polar&&S(K,{isCrosshair:!0,chartX:y&&y.chartX,chartY:y&&y.chartY,point:w}),F=this.getPlotLinePath(K)||null),!v(F))return void this.hideCrosshair();_=this.categories&&!this.isRadial,G||(this.cross=G=m.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(_?"category ":"thin ")+(E.className||"")).attr({zIndex:u(E.zIndex,2)}).add(),!m.styledMode&&(G.attr({stroke:E.color||(_?xe.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":u(E.width,1)}).css({"pointer-events":"none"}),E.dashStyle&&G.attr({dashstyle:E.dashStyle}))),G.show().attr({d:F}),_&&!E.width&&G.attr({"stroke-width":this.transA}),this.cross.e=y}else this.hideCrosshair();p(this,"afterDrawCrosshair",{e:y,point:w})}hideCrosshair(){this.cross&&this.cross.hide(),p(this,"afterHideCrosshair")}update(y,w){let E=this.chart;y=d(this.userOptions,y),this.destroy(!0),this.init(E,y),E.isDirtyBox=!0,u(w,!0)&&E.redraw()}remove(y){let w=this.chart,E=this.coll,X=this.series,m=X.length;for(;m--;)X[m]&&X[m].remove(!1);H(w.axes,this),H(w[E]||[],this),w.orderItems(E),this.destroy(),w.isDirtyBox=!0,u(y,!0)&&w.redraw()}setTitle(y,w){this.update({title:y},w)}setCategories(y,w){this.update({categories:y},w)}}return j.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],j}),Ne(Y,"Core/Axis/DateTimeAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,getMagnitude:ve,normalizeTickInterval:me,timeUnits:de}=Z;return function(he){function Q(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function te(){"datetime"===this.type?this.dateTime||(this.dateTime=new ee(this)):this.dateTime=void 0}he.compose=function(L){return L.keepProps.includes("dateTime")||(L.keepProps.push("dateTime"),L.prototype.getTimeTicks=Q,xe(L,"afterSetType",te)),L};class ee{constructor(W){this.axis=W}normalizeTimeTickInterval(W,N){let P,I=N||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],C=I[I.length-1],A=de[C[0]],D=C[1];for(P=0;P<I.length&&(A=de[(C=I[P])[0]],D=C[1],!(I[P+1]&&W<=(A*D[D.length-1]+de[I[P+1][0]])/2));P++);return A===de.year&&W<5*A&&(D=[1,2,5]),{unitRange:A,count:me(W/A,D,"year"===C[0]?Math.max(ve(W/A),1):1),unitName:C[0]}}getXDateFormat(W,N){let{axis:I}=this,C=I.chart.time;return I.closestPointRange?C.getDateFormat(I.closestPointRange,W,I.options.startOfWeek,N)||C.resolveDTLFormat(N.year).main:C.resolveDTLFormat(N.day).main}}he.Additions=ee}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/LogarithmicAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,normalizeTickInterval:ve,pick:me}=Z;return function(de){function he(){"logarithmic"!==this.type?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new te(this))}function Q(){let ee=this.logarithmic;ee&&(this.lin2val=function(L){return ee.lin2log(L)},this.val2lin=function(L){return ee.log2lin(L)})}de.compose=function(ee){return ee.keepProps.includes("logarithmic")||(ee.keepProps.push("logarithmic"),xe(ee,"afterSetType",he),xe(ee,"afterInit",Q)),ee};class te{constructor(L){this.axis=L}getLogTickPositions(L,W,N,I){let C=this.axis,A=C.len,D=C.options,P=[];if(I||(this.minorAutoInterval=void 0),L>=.5)L=Math.round(L),P=C.getLinearTickPositions(L,W,N);else if(L>=.08){let v,T,H,B,S,p,b;for(v=L>.3?[1,2,4]:L>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],T=Math.floor(W);T<N+1&&!b;T++)for(H=0,B=v.length;H<B&&!b;H++)(S=this.log2lin(this.lin2log(T)*v[H]))>W&&(!I||p<=N)&&void 0!==p&&P.push(p),p>N&&(b=!0),p=S}else{let v=this.lin2log(W),T=this.lin2log(N),H=I?C.getMinorTickInterval():D.tickInterval;L=ve(L=me("auto"===H?null:H,this.minorAutoInterval,D.tickPixelInterval/(I?5:1)*(T-v)/((I?A/C.tickPositions.length:A)||1))),P=C.getLinearTickPositions(L,v,T).map(this.log2lin),I||(this.minorAutoInterval=L/5)}return I||(C.tickInterval=L),P}lin2log(L){return Math.pow(10,L)}log2lin(L){return Math.log(L)/Math.LN10}}de.Additions=te}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{erase:xe,extend:ve,isNumber:me}=Z;return function(de){let he;function Q(C){return this.addPlotBandOrLine(C,"plotBands")}function te(C,A){let D=this.userOptions,P=new he(this,C);if(this.visible&&(P=P.render()),P){if(this._addedPlotLB||(this._addedPlotLB=!0,(D.plotLines||[]).concat(D.plotBands||[]).forEach(v=>{this.addPlotBandOrLine(v)})),A){let v=D[A]||[];v.push(C),D[A]=v}this.plotLinesAndBands.push(P)}return P}function ee(C){return this.addPlotBandOrLine(C,"plotLines")}function L(C,A,D){let S,b,P=this.getPlotLinePath({value:A,force:!0,acrossPanes:(D=D||this.options).acrossPanes}),v=[],T=this.horiz,H=!me(this.min)||!me(this.max)||C<this.min&&A<this.min||C>this.max&&A>this.max,B=this.getPlotLinePath({value:C,force:!0,acrossPanes:D.acrossPanes}),p=1;if(B&&P)for(H&&(b=B.toString()===P.toString(),p=0),S=0;S<B.length;S+=2){let l=B[S],n=B[S+1],o=P[S],h=P[S+1];("M"===l[0]||"L"===l[0])&&("M"===n[0]||"L"===n[0])&&("M"===o[0]||"L"===o[0])&&("M"===h[0]||"L"===h[0])&&(T&&o[1]===l[1]?(o[1]+=p,h[1]+=p):T||o[2]!==l[2]||(o[2]+=p,h[2]+=p),v.push(["M",l[1],l[2]],["L",n[1],n[2]],["L",h[1],h[2]],["L",o[1],o[2]],["Z"])),v.isFlat=b}return v}function W(C){this.removePlotBandOrLine(C)}function N(C){let A=this.plotLinesAndBands,D=this.options,P=this.userOptions;if(A){let v=A.length;for(;v--;)A[v].id===C&&A[v].destroy();[D.plotLines||[],P.plotLines||[],D.plotBands||[],P.plotBands||[]].forEach(function(T){for(v=T.length;v--;)(T[v]||{}).id===C&&xe(T,T[v])})}}function I(C){this.removePlotBandOrLine(C)}de.compose=function(C,A){let D=A.prototype;return D.addPlotBand||(he=C,ve(D,{addPlotBand:Q,addPlotLine:ee,addPlotBandOrLine:te,getPlotBandPath:L,removePlotBand:W,removePlotLine:I,removePlotBandOrLine:N})),A}}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[Y["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],Y["Core/Utilities.js"]],function(Z,ce){let{addEvent:xe,arrayMax:ve,arrayMin:me,defined:de,destroyObjectProperties:he,erase:Q,fireEvent:te,merge:ee,objectEach:L,pick:W}=ce;class N{static compose(C,A){return xe(C,"afterInit",function(){this.labelCollectors.push(()=>{let D=[];for(let P of this.axes)for(let{label:v,options:T}of P.plotLinesAndBands)v&&!T?.label?.allowOverlap&&D.push(v);return D})}),Z.compose(N,A)}constructor(C,A){this.axis=C,this.options=A,this.id=A.id}render(){te(this,"render");let f,{axis:C,options:A}=this,{horiz:D,logarithmic:P}=C,{color:v,events:T,zIndex:H=0}=A,B={},S=C.chart.renderer,p=A.to,b=A.from,l=A.value,n=A.borderWidth,o=A.label,{label:h,svgElem:d}=this,c=[],u=de(b)&&de(p),M=de(l),U=!d,x={class:"highcharts-plot-"+(u?"band ":"line ")+(A.className||"")},O=u?"bands":"lines";if(!C.chart.styledMode&&(M?(x.stroke=v||"#999999",x["stroke-width"]=W(A.width,1),A.dashStyle&&(x.dashstyle=A.dashStyle)):u&&(x.fill=v||"#e6e9ff",n&&(x.stroke=A.borderColor,x["stroke-width"]=n))),B.zIndex=H,O+="-"+H,(f=C.plotLinesAndBandsGroups[O])||(C.plotLinesAndBandsGroups[O]=f=S.g("plot-"+O).attr(B).add()),d||(this.svgElem=d=S.path().attr(x).add(f)),de(l))c=C.getPlotLinePath({value:P?.log2lin(l)??l,lineWidth:d.strokeWidth(),acrossPanes:A.acrossPanes});else{if(!de(b)||!de(p))return;c=C.getPlotBandPath(P?.log2lin(b)??b,P?.log2lin(p)??p,A)}return!this.eventsAdded&&T&&(L(T,(z,j)=>{d?.on(j,J=>{T[j].apply(this,[J])})}),this.eventsAdded=!0),!U&&d.d||!c?.length?d&&(c?(d.show(),d.animate({d:c})):d.d&&(d.hide(),h&&(this.label=h=h.destroy()))):d.attr({d:c}),o&&(de(o.text)||de(o.formatter))&&c?.length&&C.width>0&&C.height>0&&!c.isFlat?(o=ee({align:D&&u?"center":void 0,x:D?!u&&4:10,verticalAlign:!D&&u?"middle":void 0,y:D?u?16:10:u?6:-4,rotation:D&&!u?90:0,...u?{inside:!0}:{}},o),this.renderLabel(o,c,u,H)):h&&h.hide(),this}renderLabel(C,A,D,P){let v=this.axis,H=C.inside,B=this.label;B||(this.label=B=v.chart.renderer.text(this.getLabelText(C),0,0,C.useHTML).attr({align:C.textAlign||C.align,rotation:C.rotation,class:"highcharts-plot-"+(D?"band":"line")+"-label "+(C.className||""),zIndex:P}),v.chart.styledMode||B.css(ee({fontSize:"0.8em",textOverflow:D&&!H?"":"ellipsis"},C.style)),B.add());let S=A.xBounds||[A[0][1],A[1][1],D?A[2][1]:A[0][1]],p=A.yBounds||[A[0][2],A[1][2],D?A[2][2]:A[0][2]],b=me(S),l=me(p),n=ve(S)-b;B.align(C,!1,{x:b,y:l,width:n,height:ve(p)-l}),(!B.alignValue||"left"===B.alignValue||de(H))&&B.css({width:(C.style?.width||(D&&H?n:90===B.rotation?v.height-(B.alignAttr.y-v.top):(C.clip?v.width:v.chart.chartWidth)-(B.alignAttr.x-v.left)))+"px"}),B.show(!0)}getLabelText(C){return de(C.formatter)?C.formatter.call(this):C.text}destroy(){Q(this.axis.plotLinesAndBands,this),delete this.axis,he(this)}}return N}),Ne(Y,"Core/Tooltip.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Templating.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de){var he;let{animObject:Q}=Z,{format:te}=ce,{composed:ee,doc:L,isSafari:W}=xe,{distribute:N}=ve,{addEvent:I,clamp:C,css:A,discardElement:D,extend:P,fireEvent:v,isArray:T,isNumber:H,isString:B,merge:S,pick:p,pushUnique:b,splat:l,syncTimeout:n}=de;class o{constructor(d,c,f){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=d,this.init(d,c),this.pointer=f}bodyFormatter(d){return d.map(function(c){let f=c.series.tooltipOptions;return(f[(c.point.formatPrefix||"point")+"Formatter"]||c.point.tooltipFormatter).call(c.point,f[(c.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(d){this.chart.series.forEach(function(c){let f=c&&c.tt;f&&(!f.isActive||d?c.tt=f.destroy():f.isActive=!1)})}defaultFormatter(d){let c,f=this.points||l(this);return(c=(c=[d.tooltipFooterHeaderFormatter(f[0])]).concat(d.bodyFormatter(f))).push(d.tooltipFooterHeaderFormatter(f[0],!0)),c}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),D(this.container)),de.clearTimeout(this.hideTimer)}getAnchor(d,c){let f,{chart:u,pointer:M}=this,U=u.inverted,x=u.plotTop,O=u.plotLeft;if((d=l(d))[0].series&&d[0].series.yAxis&&!d[0].series.yAxis.options.reversedStacks&&(d=d.slice().reverse()),this.followPointer&&c)void 0===c.chartX&&(c=M.normalize(c)),f=[c.chartX-O,c.chartY-x];else if(d[0].tooltipPos)f=d[0].tooltipPos;else{let z=0,j=0;d.forEach(function(J){let y=J.pos(!0);y&&(z+=y[0],j+=y[1])}),z/=d.length,j/=d.length,this.shared&&d.length>1&&c&&(U?z=c.chartX:j=c.chartY),f=[z-O,j-x]}return f.map(Math.round)}getClassName(d,c,f){let M=d.series,U=M.options;return[this.options.className,"highcharts-label",f&&"highcharts-tooltip-header",c?"highcharts-tooltip-box":"highcharts-tooltip",!f&&"highcharts-color-"+p(d.colorIndex,M.colorIndex),U&&U.className].filter(B).join(" ")}getLabel({anchorX:d,anchorY:c}={anchorX:0,anchorY:0}){let f=this,u=this.chart.styledMode,M=this.options,U=this.split&&this.allowShared,x=this.container,O=this.chart.renderer;if(this.label){let z=!this.label.hasClass("highcharts-label");(!U&&z||U&&!z)&&this.destroy()}if(!this.label){if(this.outside){let z=this.chart.options.chart.style,j=me.getRendererType();this.container=x=xe.doc.createElement("div"),x.className="highcharts-tooltip-container",A(x,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(z&&z.zIndex||0)+3)}),this.renderer=O=new j(x,0,0,z,void 0,void 0,O.styledMode)}if(U?this.label=O.g("tooltip"):(this.label=O.label("",d,c,M.shape,void 0,void 0,M.useHTML,void 0,"tooltip").attr({padding:M.padding,r:M.borderRadius}),u||this.label.attr({fill:M.backgroundColor,"stroke-width":M.borderWidth||0}).css(M.style).css({pointerEvents:M.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),f.outside){let z=this.label;[z.xSetter,z.ySetter].forEach((j,J)=>{z[J?"ySetter":"xSetter"]=y=>{j.call(z,f.distance),z[J?"y":"x"]=y,x&&(x.style[J?"top":"left"]=`${y}px`)}})}this.label.attr({zIndex:8}).shadow(M.shadow).add()}return x&&!x.parentElement&&xe.doc.body.appendChild(x),this.label}getPlayingField(){let{body:d,documentElement:c}=L,{chart:f,distance:u,outside:M}=this;return{width:M?Math.max(d.scrollWidth,c.scrollWidth,d.offsetWidth,c.offsetWidth,c.clientWidth)-2*u:f.chartWidth,height:M?Math.max(d.scrollHeight,c.scrollHeight,d.offsetHeight,c.offsetHeight,c.clientHeight):f.chartHeight}}getPosition(d,c,f){let ue,{distance:u,chart:M,outside:U,pointer:x}=this,{inverted:O,plotLeft:z,plotTop:j,polar:J}=M,{plotX:y=0,plotY:w=0}=f,E={},X=O&&f.h||0,{height:m,width:F}=this.getPlayingField(),R=x.getChartPosition(),_=pe=>pe*R.scaleX,G=pe=>pe*R.scaleY,K=pe=>{let ge="x"===pe;return[pe,ge?F:m,ge?d:c].concat(U?[ge?_(d):G(c),ge?R.left-u+_(y+z):R.top-u+G(w+j),0,ge?F:m]:[ge?d:c,ge?y+z:w+j,ge?z:j,ge?z+M.plotWidth:j+M.plotHeight])},oe=K("y"),ae=K("x"),be=!!f.negative;!J&&M.hoverSeries?.yAxis?.reversed&&(be=!be);let Se=!this.followPointer&&p(f.ttBelow,!J&&!O===be),ie=function(pe,ge,we,ye,Me,Pe,Re){let Fe=U?"y"===pe?G(u):_(u):u,De=(we-ye)/2,He=ye<Me-u,ze=Me+u+ye<ge,Oe=Me-Fe-we+De,it=Me+Fe-De;if(Se&&ze)E[pe]=it;else if(!Se&&He)E[pe]=Oe;else if(He)E[pe]=Math.min(Re-ye,Oe-X<0?Oe:Oe-X);else{if(!ze)return!1;E[pe]=Math.max(Pe,it+X+we>ge?it:it+X)}},q=function(pe,ge,we,ye,Me){if(Me<u||Me>ge-u)return!1;E[pe]=Me<we/2?1:Me>ge-ye/2?ge-ye-2:Me-we/2},re=function(pe){[oe,ae]=[ae,oe],ue=pe},le=()=>{!1!==ie.apply(0,oe)?!1!==q.apply(0,ae)||ue||(re(!0),le()):ue?E.x=E.y=0:(re(!0),le())};return(O&&!J||this.len>1)&&re(),le(),E}hide(d){let c=this;de.clearTimeout(this.hideTimer),d=p(d,this.options.hideDelay),this.isHidden||(this.hideTimer=n(function(){let f=c.getLabel();c.getLabel().animate({opacity:0},{duration:d&&150,complete:()=>{f.hide(),c.container&&c.container.remove()}}),c.isHidden=!0},d))}init(d,c){this.chart=d,this.options=c,this.crosshairs=[],this.isHidden=!0,this.split=c.split&&!d.inverted&&!d.polar,this.shared=c.shared||this.split,this.outside=p(c.outside,!(!d.scrollablePixelsX&&!d.scrollablePixelsY))}shouldStickOnContact(d){return!(this.followPointer||!this.options.stickOnContact||d&&!this.pointer.inClass(d.target,"highcharts-tooltip"))}move(d,c,f,u){let M=this,U=Q(!M.isHidden&&M.options.animation),O={x:d,y:c};M.followPointer||(M.len||0)>1||(O.anchorX=f,O.anchorY=u),U.step=()=>M.drawTracker(),M.getLabel().animate(O,U)}refresh(d,c){let{chart:f,options:u,pointer:M,shared:U}=this,x=l(d),O=x[0],z=[],j=u.format,J=u.formatter||this.defaultFormatter,y=f.styledMode,w={},E=this.allowShared;if(!u.enabled||!O.series)return;de.clearTimeout(this.hideTimer),this.allowShared=!(!T(d)&&d.series&&d.series.noSharedTooltip),E=E&&!this.allowShared,this.followPointer=!this.split&&O.series.tooltipOptions.followPointer;let X=this.getAnchor(d,c),m=X[0],F=X[1];U&&this.allowShared?(M.applyInactiveState(x),x.forEach(function(G){G.setState("hover"),z.push(G.getLabelConfig())}),(w=O.getLabelConfig()).points=z):w=O.getLabelConfig(),this.len=z.length;let R=B(j)?te(j,w,f):J.call(w,this),_=O.series;if(this.distance=p(_.tooltipOptions.distance,16),!1===R)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(R,x);else{let G=m,K=F;if(c&&M.isDirectTouch&&(G=c.chartX-f.plotLeft,K=c.chartY-f.plotTop),!f.polar&&!1!==_.options.clip&&!x.some(oe=>M.isDirectTouch||oe.series.shouldShowTooltip(G,K)))return void this.hide();{let oe=this.getLabel(E&&this.tt||{});(!u.style.width||y)&&oe.css({width:(this.outside?this.getPlayingField():f.spacingBox).width+"px"}),oe.attr({class:this.getClassName(O),text:R&&R.join?R.join(""):R}),this.outside&&oe.attr({x:C(oe.x||0,0,this.getPlayingField().width-(oe.width||0))}),y||oe.attr({stroke:u.borderColor||O.color||_.color||"#666666"}),this.updatePosition({plotX:m,plotY:F,negative:O.negative,ttBelow:O.ttBelow,h:X[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}v(this,"refresh")}renderSplit(d,c){let f=this,{chart:u,chart:{chartWidth:M,chartHeight:U,plotHeight:x,plotLeft:O,plotTop:z,scrollablePixelsY:j=0,scrollablePixelsX:J,styledMode:y},distance:w,options:E,options:{positioner:X},pointer:m}=f,{scrollLeft:F=0,scrollTop:R=0}=u.scrollablePlotArea?.scrollingContainer||{},_=f.outside&&"number"!=typeof J?L.documentElement.getBoundingClientRect():{left:F,right:F+M,top:R,bottom:R+U},G=f.getLabel(),K=this.renderer||u.renderer,oe=!(!u.xAxis[0]||!u.xAxis[0].opposite),{left:ae,top:ue}=m.getChartPosition(),be=z+R,Se=0,ie=x-j;function q(ye,Me,Pe,Re,Fe=!0){let De,He;return Pe?(De=oe?0:ie,He=C(ye-Re/2,_.left,_.right-Re-(f.outside?ae:0))):(De=Me-be,He=C(He=Fe?ye-Re-w:ye+w,Fe?He:_.left,_.right)),{x:He,y:De}}B(d)&&(d=[!1,d]);let re=d.slice(0,c.length+1).reduce(function(ye,Me,Pe){if(!1!==Me&&""!==Me){let Re=c[Pe-1]||{isHeader:!0,plotX:c[0].plotX,plotY:x,series:{}},Fe=Re.isHeader,De=Fe?f:Re.series,He=De.tt=function(rt,bt,Ht){let zt=rt,{isHeader:yt,series:hi}=bt;if(!zt){let Zt={padding:E.padding,r:E.borderRadius};y||(Zt.fill=E.backgroundColor,Zt["stroke-width"]=E.borderWidth??1),zt=K.label("",0,0,E[yt?"headerShape":"shape"],void 0,void 0,E.useHTML).addClass(f.getClassName(bt,!0,yt)).attr(Zt).add(G)}return zt.isActive=!0,zt.attr({text:Ht}),y||zt.css(E.style).attr({stroke:E.borderColor||bt.color||hi.color||"#333333"}),zt}(De.tt,Re,Me.toString()),ze=He.getBBox(),Oe=ze.width+He.strokeWidth();Fe&&(Se=ze.height,ie+=Se,oe&&(be-=Se));let{anchorX:it,anchorY:ot}=function(rt){let bt,Ht,{isHeader:zt,plotX:yt=0,plotY:hi=0,series:Zt}=rt;if(zt)bt=Math.max(O+yt,O),Ht=z+x/2;else{let{xAxis:Ei,yAxis:_t}=Zt;bt=Ei.pos+C(yt,-w,Ei.len+w),Zt.shouldShowTooltip(0,_t.pos-z+hi,{ignoreX:!0})&&(Ht=_t.pos+hi)}return{anchorX:bt=C(bt,_.left-w,_.right+w),anchorY:Ht}}(Re);if("number"==typeof ot){let rt=ze.height+1,bt=X?X.call(f,Oe,rt,Re):q(it,ot,Fe,Oe);ye.push({align:X?0:void 0,anchorX:it,anchorY:ot,boxWidth:Oe,point:Re,rank:p(bt.rank,Fe?1:0),size:rt,target:bt.y,tt:He,x:bt.x})}else He.isActive=!1}return ye},[]);!X&&re.some(ye=>{let{outside:Me}=f,Pe=(Me?ae:0)+ye.anchorX;return Pe<_.left&&Pe+ye.boxWidth<_.right||Pe<ae-_.left+ye.boxWidth&&_.right-Pe>Pe})&&(re=re.map(ye=>{let{x:Me,y:Pe}=q(ye.anchorX,ye.anchorY,ye.point.isHeader,ye.boxWidth,!1);return P(ye,{target:Pe,x:Me})})),f.cleanSplit(),N(re,ie);let le={left:ae,right:ae};re.forEach(function(ye){let{x:Me,boxWidth:Pe,isHeader:Re}=ye;!Re&&(f.outside&&ae+Me<le.left&&(le.left=ae+Me),!Re&&f.outside&&le.left+Pe>le.right&&(le.right=ae+Me))}),re.forEach(function(ye){let{x:Me,anchorX:Pe,anchorY:Re,pos:Fe,point:{isHeader:De}}=ye,He={visibility:void 0===Fe?"hidden":"inherit",x:Me,y:(Fe||0)+be,anchorX:Pe,anchorY:Re};if(f.outside&&Me<Pe){let ze=ae-le.left;ze>0&&(De||(He.x=Me+ze,He.anchorX=Pe+ze),De&&(He.x=(le.right-le.left)/2,He.anchorX=Pe+ze))}ye.tt.attr(He)});let{container:pe,outside:ge,renderer:we}=f;if(ge&&pe&&we){let{width:ye,height:Me,x:Pe,y:Re}=G.getBBox();we.setSize(ye+Pe,Me+Re,!1),pe.style.left=le.left+"px",pe.style.top=ue+"px"}W&&G.attr({opacity:1===G.opacity?.999:1})}drawTracker(){if(!this.shouldStickOnContact())return void(this.tracker&&(this.tracker=this.tracker.destroy()));let d=this.chart,c=this.label,f=this.shared?d.hoverPoints:d.hoverPoint;if(!c||!f)return;let u={x:0,y:0,width:0,height:0},M=this.getAnchor(f),U=c.getBBox();M[0]+=d.plotLeft-(c.translateX||0),M[1]+=d.plotTop-(c.translateY||0),u.x=Math.min(0,M[0]),u.y=Math.min(0,M[1]),u.width=M[0]<0?Math.max(Math.abs(M[0]),U.width-M[0]):Math.max(Math.abs(M[0]),U.width),u.height=M[1]<0?Math.max(Math.abs(M[1]),U.height-Math.abs(M[1])):Math.max(Math.abs(M[1]),U.height),this.tracker?this.tracker.attr(u):(this.tracker=c.renderer.rect(u).addClass("highcharts-tracker").add(c),d.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(d){return d.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(d,c){let f=d.series,u=f.tooltipOptions,M=f.xAxis,U=M&&M.dateTime,x={isFooter:c,labelConfig:d},O=u.xDateFormat,z=u[c?"footerFormat":"headerFormat"];return v(this,"headerFormatter",x,function(j){U&&!O&&H(d.key)&&(O=U.getXDateFormat(d.key,u.dateTimeLabelFormats)),U&&O&&(d.point&&d.point.tooltipDateKeys||["key"]).forEach(function(J){z=z.replace("{point."+J+"}","{point."+J+":"+O+"}")}),f.chart.styledMode&&(z=this.styledModeFormat(z)),j.text=te(z,{point:d,series:f},this.chart)}),x.text}update(d){this.destroy(),this.init(this.chart,S(!0,this.options,d))}updatePosition(d){let F,{chart:c,container:f,distance:u,options:M,pointer:U,renderer:x}=this,{height:O=0,width:z=0}=this.getLabel(),{left:j,top:J,scaleX:y,scaleY:w}=U.getChartPosition(),E=(M.positioner||this.getPosition).call(this,z,O,d),X=(d.plotX||0)+c.plotLeft,m=(d.plotY||0)+c.plotTop;x&&f&&(M.positioner&&(E.x+=j-u,E.y+=J-u),F=(M.borderWidth||0)+2*u+2,x.setSize(z+F,O+F,!1),(1!==y||1!==w)&&(A(f,{transform:`scale(${y}, ${w})`}),X*=y,m*=w),X+=j-E.x,m+=J-E.y),this.move(Math.round(E.x),Math.round(E.y||0),X,m)}}return(he=o||(o={})).compose=function(h){b(ee,"Core.Tooltip")&&I(h,"afterInit",function(){let d=this.chart;d.options.tooltip&&(d.tooltip=new he(d,d.options.tooltip,this))})},o}),Ne(Y,"Core/Series/Point.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Animation/AnimationUtilities.js"],Y["Core/Defaults.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{animObject:de}=ce,{defaultOptions:he}=xe,{format:Q}=ve,{addEvent:te,crisp:ee,erase:L,extend:W,fireEvent:N,getNestedProperty:I,isArray:C,isFunction:A,isNumber:D,isObject:P,merge:v,pick:T,syncTimeout:H,removeEvent:B,uniqueKey:S}=me;class p{animateBeforeDestroy(){let l=this,n={x:l.startXPos,opacity:0},o=l.getGraphicalProps();o.singular.forEach(function(h){l[h]=l[h].animate("dataLabel"===h?{x:l[h].startXPos,y:l[h].startYPos,opacity:0}:n)}),o.plural.forEach(function(h){l[h].forEach(function(d){d.element&&d.animate(W({x:l.startXPos},d.startYPos?{x:d.startXPos,y:d.startYPos}:{}))})})}applyOptions(l,n){let o=this.series,h=o.options.pointValKey||o.pointValKey;return W(this,l=p.prototype.optionsToObject.call(this,l)),this.options=this.options?W(this.options,l):l,l.group&&delete this.group,l.dataLabels&&delete this.dataLabels,h&&(this.y=p.prototype.getNestedProperty.call(this,h)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&o.xAxis&&o.xAxis.hasNames&&(this.x=o.xAxis.nameToX(this)),void 0===this.x&&o?this.x=n??o.autoIncrement():D(l.x)&&o.options.relativeXValue&&(this.x=o.autoIncrement(l.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let l=this,n=l.series,o=n.chart,h=n.options.dataSorting,d=o.hoverPoints,c=de(l.series.chart.renderer.globalAnimation),f=()=>{for(let u in(l.graphic||l.graphics||l.dataLabel||l.dataLabels)&&(B(l),l.destroyElements()),l)delete l[u]};l.legendItem&&o.legend.destroyItem(l),d&&(l.setState(),L(d,l),d.length||(o.hoverPoints=null)),l===o.hoverPoint&&l.onMouseOut(),h&&h.enabled?(this.animateBeforeDestroy(),H(f,c.duration)):f(),o.pointCount--}this.destroyed=!0}destroyElements(l){let n=this,o=n.getGraphicalProps(l);o.singular.forEach(function(h){n[h]=n[h].destroy()}),o.plural.forEach(function(h){n[h].forEach(function(d){d&&d.element&&d.destroy()}),delete n[h]})}firePointEvent(l,n,o){let h=this,d=this.series.options;h.manageEvent(l),"click"===l&&d.allowPointSelect&&(o=function(c){!h.destroyed&&h.select&&h.select(null,c.ctrlKey||c.metaKey||c.shiftKey)}),N(h,l,n,o)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(l){let n,o,h=this,d=[],c={singular:[],plural:[]};for((l=l||{graphic:1,dataLabel:1}).graphic&&d.push("graphic","connector"),l.dataLabel&&d.push("dataLabel","dataLabelPath","dataLabelUpper"),o=d.length;o--;)h[n=d[o]]&&c.singular.push(n);return["graphic","dataLabel"].forEach(function(f){let u=f+"s";l[f]&&h[u]&&c.plural.push(u)}),c}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(l){return l?0===l.indexOf("custom.")?I(l,this.options):this[l]:void 0}getZone(){let h,l=this.series,n=l.zones,o=l.zoneAxis||"y",d=0;for(h=n[0];this[o]>=h.value;)h=n[++d];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=h&&h.color&&!this.options.color?h.color:this.nonZonedColor,h}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(l,n,o){this.formatPrefix="point",this.visible=!0,this.series=l,this.applyOptions(n,o),this.id??(this.id=S()),this.resolveColor(),l.chart.pointCount++,N(this,"afterInit")}isValid(){return(D(this.x)||this.x instanceof Date)&&D(this.y)}optionsToObject(l){let f,n=this.series,o=n.options.keys,h=o||n.pointArrayMap||["y"],d=h.length,c={},u=0,M=0;if(D(l)||null===l)c[h[0]]=l;else if(C(l))for(!o&&l.length>d&&("string"==(f=typeof l[0])?c.name=l[0]:"number"===f&&(c.x=l[0]),u++);M<d;)o&&void 0===l[u]||(h[M].indexOf(".")>0?p.prototype.setNestedProperty(c,l[u],h[M]):c[h[M]]=l[u]),u++,M++;else"object"==typeof l&&(c=l,l.dataLabels&&(n.hasDataLabels=()=>!0),l.marker&&(n._hasPointMarkers=!0));return c}pos(l,n=this.plotY){if(!this.destroyed){let{plotX:o,series:h}=this,{chart:d,xAxis:c,yAxis:f}=h,u=0,M=0;if(D(o)&&D(n))return l&&(u=c?c.pos:d.plotLeft,M=f?f.pos:d.plotTop),d.inverted&&c&&f?[f.len-n+M,c.len-o+u]:[o+u,n+M]}}resolveColor(){let h,d,f,l=this.series,o=l.chart.styledMode,c=l.chart.options.chart.colorCount;delete this.nonZonedColor,l.options.colorByPoint?(o||(h=(d=l.options.colors||l.chart.options.colors)[l.colorCounter],c=d.length),f=l.colorCounter,l.colorCounter++,l.colorCounter===c&&(l.colorCounter=0)):(o||(h=l.color),f=l.colorIndex),this.colorIndex=T(this.options.colorIndex,f),this.color=T(this.options.color,h)}setNestedProperty(l,n,o){return o.split(".").reduce(function(h,d,c,f){return h[d]=f.length-1===c?n:P(h[d],!0)?h[d]:{},h[d]},l),l}shouldDraw(){return!this.isNull}tooltipFormatter(l){let n=this.series,o=n.tooltipOptions,h=T(o.valueDecimals,""),d=o.valuePrefix||"",c=o.valueSuffix||"";return n.chart.styledMode&&(l=n.chart.tooltip.styledModeFormat(l)),(n.pointArrayMap||["y"]).forEach(function(f){f="{point."+f,(d||c)&&(l=l.replace(RegExp(f+"}","g"),d+f+"}"+c)),l=l.replace(RegExp(f+"}","g"),f+":,."+h+"f}")}),Q(l,{point:this,series:this.series},n.chart)}update(l,n,o,h){let d,c=this,f=c.series,u=c.graphic,M=f.chart,U=f.options;function x(){c.applyOptions(l);let O=u&&c.hasMockGraphic;u&&(null===c.y?!O:O)&&(c.graphic=u.destroy(),delete c.hasMockGraphic),P(l,!0)&&(u&&u.element&&l&&l.marker&&void 0!==l.marker.symbol&&(c.graphic=u.destroy()),l?.dataLabels&&c.dataLabel&&(c.dataLabel=c.dataLabel.destroy())),d=c.index,f.updateParallelArrays(c,d),U.data[d]=P(U.data[d],!0)||P(l,!0)?c.options:T(l,U.data[d]),f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(M.isDirtyBox=!0),"point"===U.legendType&&(M.isDirtyLegend=!0),n&&M.redraw(o)}n=T(n,!0),!1===h?x():c.firePointEvent("update",{options:l},x)}remove(l,n){this.series.removePoint(this.series.data.indexOf(this),l,n)}select(l,n){let o=this,h=o.series,d=h.chart;l=T(l,!o.selected),this.selectedStaging=l,o.firePointEvent(l?"select":"unselect",{accumulate:n},function(){o.selected=o.options.selected=l,h.options.data[h.data.indexOf(o)]=o.options,o.setState(l&&"select"),n||d.getSelectedPoints().forEach(function(c){let f=c.series;c.selected&&c!==o&&(c.selected=c.options.selected=!1,f.options.data[f.data.indexOf(c)]=c.options,c.setState(d.hoverPoints&&f.options.inactiveOtherPoints?"inactive":""),c.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(l){let{inverted:n,pointer:o}=this.series.chart;o&&(l=l?o.normalize(l):o.getChartCoordinatesFromPoint(this,n),o.runPointActions(l,this))}onMouseOut(){let l=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(l.hoverPoints||[]).forEach(function(n){n.setState()}),l.hoverPoints=l.hoverPoint=null}manageEvent(l){let n=v(this.series.options.point,this.options),o=n.events?.[l];!A(o)||this.hcEvents?.[l]&&-1!==this.hcEvents?.[l]?.map(h=>h.fn).indexOf(o)?this.importedUserEvent&&!o&&this.hcEvents?.[l]&&(B(this,l),delete this.hcEvents[l],Object.keys(this.hcEvents)||delete this.importedUserEvent):(this.importedUserEvent?.(),this.importedUserEvent=te(this,l,o))}setState(l,n){let j,J,y,E,o=this.series,h=this.state,d=o.options.states[l||"normal"]||{},c=he.plotOptions[o.type].marker&&o.options.marker,u=c&&c.states&&c.states[l||"normal"]||{},U=this.marker||{},x=o.chart,O=c&&o.markerAttribs,z=o.halo,w=o.stateMarkerGraphic;if((l=l||"")===this.state&&!n||this.selected&&"select"!==l||!1===d.enabled||l&&(!1===u.enabled||c&&!1===c.enabled&&!1===u.enabled)||l&&U.states&&U.states[l]&&!1===U.states[l].enabled)return;if(this.state=l,O&&(j=o.markerAttribs(this,l)),this.graphic&&!this.hasMockGraphic){if(h&&this.graphic.removeClass("highcharts-point-"+h),l&&this.graphic.addClass("highcharts-point-"+l),!x.styledMode){J=o.pointAttribs(this,l),y=T(x.options.chart.animation,d.animation);let R=J.opacity;o.options.inactiveOtherPoints&&D(R)&&(this.dataLabels||[]).forEach(function(_){_&&!_.hasClass("highcharts-data-label-hidden")&&(_.animate({opacity:R},y),_.connector&&_.connector.animate({opacity:R},y))}),this.graphic.animate(J,y)}j&&this.graphic.animate(j,T(x.options.chart.animation,u.animation,c.animation)),w&&w.hide()}else l&&u&&(E=U.symbol||o.symbol,w&&w.currentSymbol!==E&&(w=w.destroy()),j&&(w?w[n?"animate":"attr"]({x:j.x,y:j.y}):E&&(o.stateMarkerGraphic=w=x.renderer.symbol(E,j.x,j.y,j.width,j.height).add(o.markerGroup),w.currentSymbol=E)),!x.styledMode&&w&&"inactive"!==this.state&&w.attr(o.pointAttribs(this,l))),w&&(w[l&&this.isInside?"show":"hide"](),w.element.point=this,w.addClass(this.getClassName(),!0));let X=d.halo,m=this.graphic||w,F=m&&m.visibility||"inherit";X&&X.size&&m&&"hidden"!==F&&!this.isCluster?(z||(o.halo=z=x.renderer.path().add(m.parentGroup)),z.show()[n?"animate":"attr"]({d:this.haloPath(X.size)}),z.attr({class:"highcharts-halo highcharts-color-"+T(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),visibility:F,zIndex:-1}),z.point=this,x.styledMode||z.attr(W({fill:this.color||o.color,"fill-opacity":X.opacity},Z.filterUserAttributes(X.attributes||{})))):z?.point?.haloPath&&!z.point.destroyed&&z.animate({d:z.point.haloPath(0)},null,z.hide),N(this,"afterSetState",{state:l})}haloPath(l){let n=this.pos();return n?this.series.chart.renderer.symbols.circle(ee(n[0],1)-l,n[1]-l,2*l,2*l):[]}}return p}),Ne(Y,"Core/Pointer.js",[Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{parse:me}=Z,{charts:de,composed:he,isTouchDevice:Q}=ce,{addEvent:te,attr:ee,css:L,extend:W,find:N,fireEvent:I,isNumber:C,isObject:A,objectEach:D,offset:P,pick:v,pushUnique:T,splat:H}=xe;class B{applyInactiveState(p){let l,b=[];(p||[]).forEach(function(n){l=n.series,b.push(l),l.linkedParent&&b.push(l.linkedParent),l.linkedSeries&&(b=b.concat(l.linkedSeries)),l.navigatorSeries&&b.push(l.navigatorSeries)}),this.chart.series.forEach(function(n){-1===b.indexOf(n)?n.setState("inactive",!0):n.options.inactiveOtherPoints&&n.setAllPointsToState("inactive")})}destroy(){let p=this;this.eventsToUnbind.forEach(b=>b()),this.eventsToUnbind=[],!ce.chartCount&&(B.unbindDocumentMouseUp&&B.unbindDocumentMouseUp.forEach(b=>b()),B.unbindDocumentTouchEnd&&(B.unbindDocumentTouchEnd=B.unbindDocumentTouchEnd())),clearInterval(p.tooltipTimeout),D(p,function(b,l){p[l]=void 0})}getSelectionMarkerAttrs(p,b){let l={args:{chartX:p,chartY:b},attrs:{},shapeType:"rect"};return I(this,"getSelectionMarkerAttrs",l,n=>{let o,{chart:h,zoomHor:d,zoomVert:c}=this,{mouseDownX:f=0,mouseDownY:u=0}=h,M=n.attrs;M.x=h.plotLeft,M.y=h.plotTop,M.width=d?1:h.plotWidth,M.height=c?1:h.plotHeight,d&&(o=p-f,M.width=Math.max(1,Math.abs(o)),M.x=(o>0?0:o)+f),c&&(o=b-u,M.height=Math.max(1,Math.abs(o)),M.y=(o>0?0:o)+u)}),l}drag(p){let j,{chart:b}=this,{mouseDownX:l=0,mouseDownY:n=0}=b,{panning:o,panKey:h,selectionMarkerFill:d}=b.options.chart,c=b.plotLeft,f=b.plotTop,u=b.plotWidth,M=b.plotHeight,U=A(o)?o.enabled:o,x=h&&p[`${h}Key`],O=p.chartX,z=p.chartY,J=this.selectionMarker;if((!J||!J.touch)&&(O<c?O=c:O>c+u&&(O=c+u),z<f?z=f:z>f+M&&(z=f+M),this.hasDragged=Math.sqrt(Math.pow(l-O,2)+Math.pow(n-z,2)),this.hasDragged>10)){j=b.isInsidePlot(l-c,n-f,{visiblePlotOnly:!0});let{shapeType:y,attrs:w}=this.getSelectionMarkerAttrs(O,z);(b.hasCartesianSeries||b.mapView)&&this.hasZoom&&j&&!x&&!J&&(this.selectionMarker=J=b.renderer[y](),J.attr({class:"highcharts-selection-marker",zIndex:7}).add(),b.styledMode||J.attr({fill:d||me("#334eff").setOpacity(.25).get()})),J&&J.attr(w),j&&!J&&U&&b.pan(p,o)}}dragStart(p){let b=this.chart;b.mouseIsDown=p.type,b.cancelClick=!1,b.mouseDownX=p.chartX,b.mouseDownY=p.chartY}getSelectionBox(p){let b={args:{marker:p},result:p.getBBox()};return I(this,"getSelectionBox",b),b.result}drop(p){let b,{chart:l,selectionMarker:n}=this;for(let o of l.axes)o.isPanning&&(o.isPanning=!1,(o.options.startOnTick||o.options.endOnTick||o.series.some(h=>h.boosted))&&(o.forceRedraw=!0,o.setExtremes(o.userMin,o.userMax,!1),b=!0));if(b&&l.redraw(),n&&p){if(this.hasDragged){let o=this.getSelectionBox(n);l.transform({axes:l.axes.filter(h=>h.zoomEnabled&&("xAxis"===h.coll&&this.zoomX||"yAxis"===h.coll&&this.zoomY)),selection:{originalEvent:p,xAxis:[],yAxis:[],...o},from:o})}C(l.index)&&(this.selectionMarker=n.destroy())}l&&C(l.index)&&(L(l.container,{cursor:l._cursor}),l.cancelClick=this.hasDragged>10,l.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(p,b,l){let n;return p.forEach(function(o){let h=!(o.noSharedTooltip&&b)&&0>o.options.findNearestPointBy.indexOf("y"),d=o.searchPoint(l,h);A(d,!0)&&d.series&&(!A(n,!0)||function(c,f){let u=c.distX-f.distX,M=c.dist-f.dist,U=f.series.group?.zIndex-c.series.group?.zIndex;return 0!==u&&b?u:0!==M?M:0!==U?U:c.series.index>f.series.index?-1:1}(n,d)>0)&&(n=d)}),n}getChartCoordinatesFromPoint(p,b){let{xAxis:l,yAxis:n}=p.series,o=p.shapeArgs;if(l&&n){let h=p.clientX??p.plotX??0,d=p.plotY||0;return p.isNode&&o&&C(o.x)&&C(o.y)&&(h=o.x,d=o.y),b?{chartX:n.len+n.pos-d,chartY:l.len+l.pos-h}:{chartX:h+l.pos,chartY:d+n.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:p}=this.chart,b=P(p);this.chartPosition={left:b.left,top:b.top,scaleX:1,scaleY:1};let{offsetHeight:l,offsetWidth:n}=p;return n>2&&l>2&&(this.chartPosition.scaleX=b.width/n,this.chartPosition.scaleY=b.height/l),this.chartPosition}getCoordinates(p){let b={xAxis:[],yAxis:[]};for(let l of this.chart.axes)b[l.isXAxis?"xAxis":"yAxis"].push({axis:l,value:l.toValue(p[l.horiz?"chartX":"chartY"])});return b}getHoverData(p,b,l,n,o,h){let u,d=[],c=function(x){return x.visible&&!(!o&&x.directTouch)&&v(x.options.enableMouseTracking,!0)},f=b,M={chartX:h?h.chartX:void 0,chartY:h?h.chartY:void 0,shared:o};I(this,"beforeGetHoverData",M),u=f&&!f.stickyTracking?[f]:l.filter(x=>x.stickyTracking&&(M.filter||c)(x));let U=n&&p||!h?p:this.findNearestKDPoint(u,o,h);return f=U&&U.series,U&&(o&&!f.noSharedTooltip?(u=l.filter(function(x){return M.filter?M.filter(x):c(x)&&!x.noSharedTooltip})).forEach(function(x){let O=N(x.points,function(z){return z.x===U.x&&!z.isNull});A(O)&&(x.boosted&&x.boost&&(O=x.boost.getPoint(O)),d.push(O))}):d.push(U)),I(this,"afterGetHoverData",M={hoverPoint:U}),{hoverPoint:M.hoverPoint,hoverSeries:f,hoverPoints:d}}getPointFromEvent(p){let l,b=p.target;for(;b&&!l;)l=b.point,b=b.parentNode;return l}onTrackerMouseOut(p){let l=p.relatedTarget,n=this.chart.hoverSeries;this.isDirectTouch=!1,!n||!l||n.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+n.index)&&this.inClass(l,"highcharts-tracker")||n.onMouseOut()}inClass(p,b){let n,l=p;for(;l;){if(n=ee(l,"class")){if(-1!==n.indexOf(b))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}l=l.parentElement}}constructor(p,b){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=b,this.chart=p,this.runChartClick=!!b.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),I(this,"afterInit")}normalize(p,b){let l=p.touches,n=l?l.length?l.item(0):v(l.changedTouches,p.changedTouches)[0]:p;b||(b=this.getChartPosition());let o=n.pageX-b.left,h=n.pageY-b.top;return W(p,{chartX:Math.round(o/=b.scaleX),chartY:Math.round(h/=b.scaleY)})}onContainerClick(p){let b=this.chart,l=b.hoverPoint,n=this.normalize(p),o=b.plotLeft,h=b.plotTop;!b.cancelClick&&(l&&this.inClass(n.target,"highcharts-tracker")?(I(l.series,"click",W(n,{point:l})),b.hoverPoint&&l.firePointEvent("click",n)):(W(n,this.getCoordinates(n)),b.isInsidePlot(n.chartX-o,n.chartY-h,{visiblePlotOnly:!0})&&I(b,"click",n)))}onContainerMouseDown(p){let b=1==(1&(p.buttons||p.button));p=this.normalize(p),ce.isFirefox&&0!==p.button&&this.onContainerMouseMove(p),(void 0===p.button||b)&&(this.zoomOption(p),b&&p.preventDefault?.(),this.dragStart(p))}onContainerMouseLeave(p){let{pointer:b}=de[v(B.hoverChartIndex,-1)]||{};p=this.normalize(p),this.onContainerMouseMove(p),b&&!this.inClass(p.relatedTarget,"highcharts-tooltip")&&(b.reset(),b.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(p){let b=this.chart,l=b.tooltip,n=this.normalize(p);this.setHoverChartIndex(p),("mousedown"===b.mouseIsDown||this.touchSelect(n))&&this.drag(n),!b.openMenu&&(this.inClass(n.target,"highcharts-tracker")||b.isInsidePlot(n.chartX-b.plotLeft,n.chartY-b.plotTop,{visiblePlotOnly:!0}))&&(!l||!l.shouldStickOnContact(n))&&(this.inClass(n.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(n))}onDocumentTouchEnd(p){this.onDocumentMouseUp(p)}onContainerTouchMove(p){this.touchSelect(p)?this.onContainerMouseMove(p):this.touch(p)}onContainerTouchStart(p){this.touchSelect(p)?this.onContainerMouseDown(p):(this.zoomOption(p),this.touch(p,!0))}onDocumentMouseMove(p){let b=this.chart,l=b.tooltip,n=this.chartPosition,o=this.normalize(p,n);!n||b.isInsidePlot(o.chartX-b.plotLeft,o.chartY-b.plotTop,{visiblePlotOnly:!0})||l&&l.shouldStickOnContact(o)||o.target!==b.container.ownerDocument&&this.inClass(o.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(p){de[v(B.hoverChartIndex,-1)]?.pointer?.drop(p)}pinch(p){let b=this,{chart:l,hasZoom:n,lastTouches:o}=b,h=[].map.call(p.touches||[],M=>b.normalize(M)),d=h.length,c=1===d&&(b.inClass(p.target,"highcharts-tracker")&&l.runTrackerClick||b.runChartClick),f=l.tooltip,u=1===d&&v(f?.options.followTouchMove,!0);d>1?b.initiated=!0:u&&(b.initiated=!1),n&&b.initiated&&!c&&!1!==p.cancelable&&p.preventDefault(),"touchstart"===p.type?(b.pinchDown=h,b.res=!0,l.mouseDownX=p.chartX):u?this.runPointActions(b.normalize(p)):o&&(I(l,"touchpan",{originalEvent:p,touches:h},()=>{let M=U=>{let x=U[0],O=U[1]||x;return{x:x.chartX,y:x.chartY,width:O.chartX-x.chartX,height:O.chartY-x.chartY}};l.transform({axes:l.axes.filter(U=>U.zoomEnabled&&(this.zoomHor&&U.horiz||this.zoomVert&&!U.horiz)),to:M(h),from:M(o),trigger:p.type})}),b.res&&(b.res=!1,this.reset(!1,0))),b.lastTouches=h}reset(p,b){let l=this.chart,n=l.hoverSeries,o=l.hoverPoint,h=l.hoverPoints,d=l.tooltip,c=d&&d.shared?h:o;p&&c&&H(c).forEach(function(f){f.series.isCartesian&&void 0===f.plotX&&(p=!1)}),p?d&&c&&H(c).length&&(d.refresh(c),d.shared&&h?h.forEach(function(f){f.setState(f.state,!0),f.series.isCartesian&&(f.series.xAxis.crosshair&&f.series.xAxis.drawCrosshair(null,f),f.series.yAxis.crosshair&&f.series.yAxis.drawCrosshair(null,f))}):o&&(o.setState(o.state,!0),l.axes.forEach(function(f){f.crosshair&&o.series[f.coll]===f&&f.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),h&&h.forEach(function(f){f.setState()}),n&&n.onMouseOut(),d&&d.hide(b),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l.axes.forEach(function(f){f.hideCrosshair()}),l.hoverPoints=l.hoverPoint=void 0)}runPointActions(p,b,l){let n=this.chart,h=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,d=!!h&&h.shared,c=b||n.hoverPoint,f=c&&c.series||n.hoverSeries,M=this.getHoverData(c,f,n.series,(!p||"touchmove"!==p.type)&&(!!b||f&&f.directTouch&&this.isDirectTouch),d,p);c=M.hoverPoint,f=M.hoverSeries;let U=M.hoverPoints,x=f&&f.tooltipOptions.followPointer&&!f.tooltipOptions.split,O=d&&f&&!f.noSharedTooltip;if(c&&(l||c!==n.hoverPoint||h&&h.isHidden)){if((n.hoverPoints||[]).forEach(function(z){-1===U.indexOf(z)&&z.setState()}),n.hoverSeries!==f&&f.onMouseOver(),this.applyInactiveState(U),(U||[]).forEach(function(z){z.setState("hover")}),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!c.series)return;n.hoverPoints=U,n.hoverPoint=c,c.firePointEvent("mouseOver",void 0,()=>{h&&c&&h.refresh(O?U:c,p)})}else if(x&&h&&!h.isHidden){let z=h.getAnchor([{}],p);n.isInsidePlot(z[0],z[1],{visiblePlotOnly:!0})&&h.updatePosition({plotX:z[0],plotY:z[1]})}this.unDocMouseMove||(this.unDocMouseMove=te(n.container.ownerDocument,"mousemove",z=>de[B.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(z)),this.eventsToUnbind.push(this.unDocMouseMove)),n.axes.forEach(function(z){let j,J=v((z.crosshair||{}).snap,!0);!J||(j=n.hoverPoint)&&j.series[z.coll]===z||(j=N(U,y=>y.series&&y.series[z.coll]===z)),j||!J?z.drawCrosshair(p,j):z.hideCrosshair()})}setDOMEvents(){let p=this.chart.container,b=p.ownerDocument;p.onmousedown=this.onContainerMouseDown.bind(this),p.onmousemove=this.onContainerMouseMove.bind(this),p.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(te(p,"mouseenter",this.onContainerMouseEnter.bind(this)),te(p,"mouseleave",this.onContainerMouseLeave.bind(this))),B.unbindDocumentMouseUp||(B.unbindDocumentMouseUp=[]),B.unbindDocumentMouseUp.push(te(b,"mouseup",this.onDocumentMouseUp.bind(this)));let l=this.chart.renderTo.parentElement;for(;l&&"BODY"!==l.tagName;)this.eventsToUnbind.push(te(l,"scroll",()=>{delete this.chartPosition})),l=l.parentElement;this.eventsToUnbind.push(te(p,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),te(p,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),B.unbindDocumentTouchEnd||(B.unbindDocumentTouchEnd=te(b,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),te(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Q)return;let p=this.pointerCaptureEventsToUnbind,b=this.chart,l=b.container,n=v(b.options.tooltip?.followTouchMove,!0)&&b.series.some(o=>o.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&n?(p.push(te(l,"pointerdown",o=>{o.target?.hasPointerCapture(o.pointerId)&&o.target?.releasePointerCapture(o.pointerId)}),te(l,"pointermove",o=>{b.pointer?.getPointFromEvent(o)?.onMouseOver(o)})),b.styledMode||L(l,{"touch-action":"none"}),l.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!n&&(p.forEach(o=>o()),p.length=0,b.styledMode||L(l,{"touch-action":v(b.options.chart.style?.["touch-action"],"manipulation")}),l.className=l.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(p){let b=this.chart,l=ce.charts[v(B.hoverChartIndex,-1)];if(l&&l!==b){let n={relatedTarget:b.container};p&&!p?.relatedTarget&&(p={...n,...p}),l.pointer?.onContainerMouseLeave(p||n)}l&&l.mouseIsDown||(B.hoverChartIndex=b.index)}touch(p,b){let l,{chart:n,pinchDown:o=[]}=this;this.setHoverChartIndex(),1===(p=this.normalize(p)).touches.length?n.isInsidePlot(p.chartX-n.plotLeft,p.chartY-n.plotTop,{visiblePlotOnly:!0})&&!n.openMenu?(b&&this.runPointActions(p),"touchmove"===p.type&&(l=!!o[0]&&Math.pow(o[0].chartX-p.chartX,2)+Math.pow(o[0].chartY-p.chartY,2)>=16),v(l,!0)&&this.pinch(p)):b&&this.reset():2===p.touches.length&&this.pinch(p)}touchSelect(p){return!(!this.chart.zooming.singleTouch||!p.touches||1!==p.touches.length)}zoomOption(p){let o,h,b=this.chart,l=b.inverted,n=b.zooming.type||"";/touch/.test(p.type)&&(n=v(b.zooming.pinchType,n)),this.zoomX=o=/x/.test(n),this.zoomY=h=/y/.test(n),this.zoomHor=o&&!l||h&&l,this.zoomVert=h&&!l||o&&l,this.hasZoom=o||h}}return(ve=B||(B={})).compose=function(S){T(he,"Core.Pointer")&&te(S,"beforeRender",function(){this.pointer=new ve(this,this.options)})},B}),Ne(Y,"Core/Legend/LegendSymbol.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{extend:xe,merge:ve,pick:me}=Z;return function(de){function he(Q,te,ee){let S,L=this.legendItem=this.legendItem||{},{chart:W,options:N}=this,{baseline:I=0,symbolWidth:C,symbolHeight:A}=Q,D=this.symbol||"circle",P=A/2,v=W.renderer,T=L.group,H=I-Math.round((Q.fontMetrics?.b||A)*(ee?.4:.3)),B={},p=N.marker,b=0;if(W.styledMode||(B["stroke-width"]=Math.min(N.lineWidth||0,24),N.dashStyle?B.dashstyle=N.dashStyle:"square"===N.linecap||(B["stroke-linecap"]="round")),L.line=v.path().addClass("highcharts-graph").attr(B).add(T),ee&&(L.area=v.path().addClass("highcharts-area").add(T)),B["stroke-linecap"]&&(b=Math.min(L.line.strokeWidth(),C)/2),C){let l=[["M",b,H],["L",C-b,H]];L.line.attr({d:l}),L.area?.attr({d:[...l,["L",C-b,I],["L",b,I]]})}if(p&&!1!==p.enabled&&C){let l=Math.min(me(p.radius,P),P);0===D.indexOf("url")&&(p=ve(p,{width:A,height:A}),l=0),L.symbol=S=v.symbol(D,C/2-l,H-l,2*l,2*l,xe({context:"legend"},p)).addClass("highcharts-point").add(T),S.isMarker=!0}}de.areaMarker=function(Q,te){he.call(this,Q,te,!0)},de.lineMarker=he,de.rectangle=function(Q,te){let ee=te.legendItem||{},W=Q.symbolHeight,N=Q.options.squareSymbol;ee.symbol=this.chart.renderer.rect(N?(Q.symbolWidth-W)/2:0,Q.baseline-W+1,N?W:Q.symbolWidth,W,me(Q.options.symbolRadius,W/2)).addClass("highcharts-point").attr({zIndex:3}).add(ee.group)}}(ce||(ce={})),ce}),Ne(Y,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:Z}=this.series.chart;return"number"!=typeof this.y?"":Z(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),Ne(Y,"Core/Series/SeriesRegistry.js",[Y["Core/Globals.js"],Y["Core/Defaults.js"],Y["Core/Series/Point.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{defaultOptions:de}=ce,{extend:he,extendClass:Q,merge:te}=ve;return function(ee){function L(W,N){let I=de.plotOptions||{},C=N.defaultOptions,A=N.prototype;return A.type=W,A.pointClass||(A.pointClass=xe),!ee.seriesTypes[W]&&(C&&(I[W]=C),ee.seriesTypes[W]=N,!0)}ee.seriesTypes=Z.seriesTypes,ee.registerSeriesType=L,ee.seriesType=function(W,N,I,C,A){let D=de.plotOptions||{};if(D[W]=te(D[N=N||""],I),delete ee.seriesTypes[W],L(W,Q(ee.seriesTypes[N]||function(){},C)),ee.seriesTypes[W].prototype.type=W,A){class P extends xe{}he(P.prototype,A),ee.seriesTypes[W].prototype.pointClass=P}return ee.seriesTypes[W]}}(me||(me={})),me}),Ne(Y,"Core/Series/Series.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Defaults.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Legend/LegendSymbol.js"],Y["Core/Series/Point.js"],Y["Core/Series/SeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee){let{animObject:L,setAnimation:W}=Z,{defaultOptions:N}=ce,{registerEventOptions:I}=xe,{svg:C,win:A}=ve,{seriesTypes:D}=Q,{arrayMax:P,arrayMin:v,clamp:T,correctFloat:H,crisp:B,defined:S,destroyObjectProperties:p,diffObjects:b,erase:l,error:n,extend:o,find:h,fireEvent:d,getClosestDistance:c,getNestedProperty:f,insertItem:u,isArray:M,isNumber:U,isString:x,merge:O,objectEach:z,pick:j,removeEvent:J,splat:y,syncTimeout:w}=ee;class E{constructor(){this.zoneAxis="y"}init(m,F){let R;d(this,"init",{options:F});let _=this,G=m.series;this.eventsToUnbind=[],_.chart=m,_.options=_.setOptions(F);let K=_.options,oe=!1!==K.visible;_.linkedSeries=[],_.bindAxes(),o(_,{name:K.name,state:"",visible:oe,selected:!0===K.selected}),I(this,K);let ae=K.events;(ae&&ae.click||K.point&&K.point.events&&K.point.events.click||K.allowPointSelect)&&(m.runTrackerClick=!0),_.getColor(),_.getSymbol(),_.parallelArrays.forEach(function(ue){_[ue+"Data"]||(_[ue+"Data"]=[])}),_.isCartesian&&(m.hasCartesianSeries=!0),G.length&&(R=G[G.length-1]),_._i=j(R&&R._i,-1)+1,_.opacity=_.options.opacity,m.orderItems("series",u(this,G)),K.dataSorting&&K.dataSorting.enabled?_.setDataSortingOptions():_.points||_.data||_.setData(K.data,!1),d(this,"afterInit")}is(m){return D[m]&&this instanceof D[m]}bindAxes(){let m,F=this,R=F.options,_=F.chart;d(this,"bindAxes",null,function(){(F.axisTypes||[]).forEach(function(G){(_[G]||[]).forEach(function(K){m=K.options,(j(R[G],0)===K.index||void 0!==R[G]&&R[G]===m.id)&&(u(F,K.series),F[G]=K,K.isDirty=!0)}),F[G]||F.optionalAxis===G||n(18,!0,_)})}),d(this,"afterBindAxes")}updateParallelArrays(m,F,R){let _=m.series,G=U(F)?function(K){let oe="y"===K&&_.toYData?_.toYData(m):m[K];_[K+"Data"][F]=oe}:function(K){Array.prototype[F].apply(_[K+"Data"],R)};_.parallelArrays.forEach(G)}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(m,F){let R=m.marker,_=F.marker||{};return R&&(_.enabled&&!R.enabled||_.symbol!==R.symbol||_.height!==R.height||_.width!==R.width)}autoIncrement(m){let oe,ae,F=this.options,R=F.pointIntervalUnit,_=F.relativeXValue,G=this.chart.time,K=this.xIncrement;return K=j(K,F.pointStart,0),this.pointInterval=ae=j(this.pointInterval,F.pointInterval,1),_&&U(m)&&(ae*=m),R&&(oe=new G.Date(K),"day"===R?G.set("Date",oe,G.get("Date",oe)+ae):"month"===R?G.set("Month",oe,G.get("Month",oe)+ae):"year"===R&&G.set("FullYear",oe,G.get("FullYear",oe)+ae),ae=oe.getTime()-K),_&&U(m)?K+ae:(this.xIncrement=K+ae,K)}setDataSortingOptions(){let m=this.options;o(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),S(m.pointRange)||(m.pointRange=1)}setOptions(m){let F,R=this.chart,_=R.options.plotOptions,G=R.userOptions||{},K=O(m),oe=R.styledMode,ae={plotOptions:_,userOptions:K};d(this,"setOptions",ae);let ue=ae.plotOptions[this.type],be=G.plotOptions||{},Se=be.series||{},ie=N.plotOptions[this.type]||{},q=be[this.type]||{};this.userOptions=ae.userOptions;let re=O(ue,_.series,q,K);this.tooltipOptions=O(N.tooltip,N.plotOptions.series?.tooltip,ie?.tooltip,R.userOptions.tooltip,be.series?.tooltip,q.tooltip,K.tooltip),this.stickyTracking=j(K.stickyTracking,q.stickyTracking,Se.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||re.stickyTracking),null===ue.marker&&delete re.marker,this.zoneAxis=re.zoneAxis||"y";let le=this.zones=(re.zones||[]).map(pe=>({...pe}));return(re.negativeColor||re.negativeFillColor)&&!re.zones&&(F={value:re[this.zoneAxis+"Threshold"]||re.threshold||0,className:"highcharts-negative"},oe||(F.color=re.negativeColor,F.fillColor=re.negativeFillColor),le.push(F)),le.length&&S(le[le.length-1].value)&&le.push(oe?{}:{color:this.color,fillColor:this.fillColor}),d(this,"afterSetOptions",{options:re}),re}getName(){return j(this.options.name,"Series "+(this.index+1))}getCyclic(m,F,R){let _,G,K=this.chart,oe=`${m}Index`,ae=`${m}Counter`,ue=R?.length||K.options.chart.colorCount;!F&&(S(G=j("color"===m?this.options.colorIndex:void 0,this[oe]))?_=G:(K.series.length||(K[ae]=0),_=K[ae]%ue,K[ae]+=1),R&&(F=R[_])),void 0!==_&&(this[oe]=_),this[m]=F}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||N.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(m,F){let R,_,G,K=m.id,oe=m.x,ae=this.points,ue=this.options.dataSorting;if(K){let be=this.chart.get(K);be instanceof de&&(R=be)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let be=Se=>!Se.touched&&Se.index===m.index;if(ue&&ue.matchByName?be=Se=>!Se.touched&&Se.name===m.name:this.options.relativeXValue&&(be=Se=>!Se.touched&&Se.options.x===m.x),!(R=h(ae,be)))return}return R&&void 0!==(G=R&&R.index)&&(_=!0),void 0===G&&U(oe)&&(G=this.xData.indexOf(oe,F)),-1!==G&&void 0!==G&&this.cropped&&(G=G>=this.cropStart?G-this.cropStart:G),!_&&U(G)&&ae[G]&&ae[G].touched&&(G=void 0),G}updateData(m,F){let ue,be,Se,ie,R=this.options,_=R.dataSorting,G=this.points,K=[],oe=this.requireSorting,ae=m.length===G.length,q=!0;if(this.xIncrement=null,m.forEach(function(re,le){let pe,ge=S(re)&&this.pointClass.prototype.optionsToObject.call({series:this},re)||{};ge.id||U(ge.x)?(-1===(pe=this.findPointIndex(ge,ie))||void 0===pe?K.push(re):G[pe]&&re!==R.data[pe]?(G[pe].update(re,!1,null,!1),G[pe].touched=!0,oe&&(ie=pe+1)):G[pe]&&(G[pe].touched=!0),(!ae||le!==pe||_&&_.enabled||this.hasDerivedData)&&(ue=!0)):K.push(re)},this),ue)for(be=G.length;be--;)(Se=G[be])&&!Se.touched&&Se.remove&&Se.remove(!1,F);else!ae||_&&_.enabled?q=!1:(m.forEach(function(re,le){re===G[le].y||G[le].destroyed||G[le].update(re,!1,null,!1)}),K.length=0);return G.forEach(function(re){re&&(re.touched=!1)}),!!q&&(K.forEach(function(re){this.addPoint(re,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=P(this.xData),this.autoIncrement()),!0)}setData(m,F=!0,R,_){let we,ye,Me,Fe,G=this,K=G.points,oe=K&&K.length||0,ae=G.options,ue=G.chart,be=ae.dataSorting,Se=G.xAxis,ie=ae.turboThreshold,q=this.xData,re=this.yData,le=G.pointArrayMap,pe=le&&le.length,ge=ae.keys,Pe=0,Re=1;ue.options.chart.allowMutatingData||(ae.data&&delete G.options.data,G.userOptions.data&&delete G.userOptions.data,Fe=O(!0,m));let De=(m=Fe||m||[]).length;if(be&&be.enabled&&(m=this.sortData(m)),ue.options.chart.allowMutatingData&&!1!==_&&De&&oe&&!G.cropped&&!G.hasGroupedData&&G.visible&&!G.boosted&&(Me=this.updateData(m,R)),!Me){G.xIncrement=null,G.colorCounter=0,this.parallelArrays.forEach(function(ze){G[ze+"Data"].length=0});let He=ie&&De>ie;if(He){let ze=G.getFirstValidPoint(m),Oe=G.getFirstValidPoint(m,De-1,-1),it=ot=>!(!M(ot)||!ge&&!U(ot[0]));if(U(ze)&&U(Oe))for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we];else if(it(ze)&&it(Oe))if(pe)if(ze.length===pe)for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we];else for(we=0;we<De;we++)ye=m[we],q[we]=ye[0],re[we]=ye.slice(1,pe+1);else if(ge&&(Pe=ge.indexOf("x"),Re=ge.indexOf("y"),Pe=Pe>=0?Pe:0,Re=Re>=0?Re:1),1===ze.length&&(Re=0),Pe===Re)for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we][Re];else for(we=0;we<De;we++)ye=m[we],q[we]=ye[Pe],re[we]=ye[Re];else He=!1}if(!He)for(we=0;we<De;we++)ye={series:G},G.pointClass.prototype.applyOptions.apply(ye,[m[we]]),G.updateParallelArrays(ye,we);for(re&&x(re[0])&&n(14,!0,ue),G.data=[],G.options.data=G.userOptions.data=m,we=oe;we--;)K[we]?.destroy();Se&&(Se.minRange=Se.userMinRange),G.isDirty=ue.isDirtyBox=!0,G.isDirtyData=!!K,R=!1}"point"===ae.legendType&&(this.processData(),this.generatePoints()),F&&ue.redraw(R)}sortData(m){let F=this,R=F.options.dataSorting.sortKey||"y",_=function(G,K){return S(K)&&G.pointClass.prototype.optionsToObject.call({series:G},K)||{}};return m.forEach(function(G,K){m[K]=_(F,G),m[K].index=K},this),m.concat().sort((G,K)=>{let oe=f(R,G),ae=f(R,K);return ae<oe?-1:ae>oe?1:0}).forEach(function(G,K){G.x=K},this),F.linkedSeries&&F.linkedSeries.forEach(function(G){let K=G.options,oe=K.data;K.dataSorting&&K.dataSorting.enabled||!oe||(oe.forEach(function(ae,ue){oe[ue]=_(G,ae),m[ue]&&(oe[ue].x=m[ue].x,oe[ue].index=ue)}),G.setData(oe,!1))}),m}getProcessedData(m){let oe,ae,be,Se,ie,F=this,R=F.xAxis,_=F.options.cropThreshold,G=R?.logarithmic,K=F.isCartesian,ue=0,q=F.xData,re=F.yData,le=!1,pe=q.length;R&&(Se=(be=R.getExtremes()).min,ie=be.max,le=!(!R.categories||R.names.length)),K&&F.sorted&&!m&&(!_||pe>_||F.forceCrop)&&(q[pe-1]<Se||q[0]>ie?(q=[],re=[]):F.yData&&(q[0]<Se||q[pe-1]>ie)&&(q=(oe=this.cropData(F.xData,F.yData,Se,ie)).xData,re=oe.yData,ue=oe.start,ae=!0));let ge=c([G?q.map(G.log2lin):q],()=>F.requireSorting&&!le&&n(15,!1,F.chart));return{xData:q,yData:re,cropped:ae,cropStart:ue,closestPointRange:ge}}processData(m){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!m)return!1;let R=this.getProcessedData();this.cropped=R.cropped,this.cropStart=R.cropStart,this.processedXData=R.xData,this.processedYData=R.yData,this.closestPointRange=this.basePointRange=R.closestPointRange,d(this,"afterProcessData")}cropData(m,F,R,_){let K,oe,G=m.length,ae=0,ue=G;for(K=0;K<G;K++)if(m[K]>=R){ae=Math.max(0,K-1);break}for(oe=K;oe<G;oe++)if(m[oe]>_){ue=oe+1;break}return{xData:m.slice(ae,ue),yData:F.slice(ae,ue),start:ae,end:ue}}generatePoints(){let ie,q,re,le,m=this.options,F=this.processedData||m.data,R=this.processedXData,_=this.processedYData,G=this.pointClass,K=R.length,oe=this.cropStart||0,ae=this.hasGroupedData,ue=m.keys,be=[],Se=m.dataGrouping&&m.dataGrouping.groupAll?oe:0,pe=this.data;if(!pe&&!ae){let ge=[];ge.length=F.length,pe=this.data=ge}for(ue&&ae&&(this.options.keys=!1),le=0;le<K;le++)q=oe+le,ae?((re=new G(this,[R[le]].concat(y(_[le])))).dataGroup=this.groupMap[Se+le],re.dataGroup.options&&(re.options=re.dataGroup.options,o(re,re.dataGroup.options),delete re.dataLabels)):(re=pe[q])||void 0===F[q]||(pe[q]=re=new G(this,F[q],R[le])),re&&(re.index=ae?Se+le:q,be[le]=re);if(this.options.keys=ue,pe&&(K!==(ie=pe.length)||ae))for(le=0;le<ie;le++)le!==oe||ae||(le+=K),pe[le]&&(pe[le].destroyElements(),pe[le].plotX=void 0);this.data=pe,this.points=be,d(this,"afterGeneratePoints")}getXExtremes(m){return{min:v(m),max:P(m)}}getExtremes(m,F){let Se,ie,q,re,le,pe,ge,R=this.xAxis,_=this.yAxis,G=[],K=this.requireSorting&&!this.is("column")?1:0,oe=!!_&&_.positiveValuesOnly,ae=F||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:ue,processedYData:be}=this,we=0,ye=0,Me=0;if(this.cropped&&ae){let De=this.getProcessedData(!0);ue=De.xData,be=De.yData}let Pe=(m=m||this.stackedYData||be||[]).length,Re=ue||this.xData;for(R&&(we=(Se=R.getExtremes()).min,ye=Se.max),pe=0;pe<Pe;pe++)if(re=Re[pe],ie=(U(le=m[pe])||M(le))&&((U(le)?le>0:le.length)||!oe),q=F||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!R||(Re[pe+K]||re)>=we&&(Re[pe-K]||re)<=ye,ie&&q)if(ge=le.length)for(;ge--;)U(le[ge])&&(G[Me++]=le[ge]);else G[Me++]=le;let Fe={activeYData:G,dataMin:v(G),dataMax:P(G)};return d(this,"afterGetExtremes",{dataExtremes:Fe}),Fe}applyExtremes(){let m=this.getExtremes();return this.dataMin=m.dataMin,this.dataMax=m.dataMax,m}getFirstValidPoint(m,F=0,R=1){let _=m.length,G=F;for(;G>=0&&G<_;){if(S(m[G]))return m[G];G+=R}}translate(){this.processedXData||this.processData(),this.generatePoints();let q,re,le,pe,m=this.options,F=m.stacking,R=this.xAxis,_=R.categories,G=this.enabledDataSorting,K=this.yAxis,oe=this.points,ae=oe.length,ue=this.pointPlacementToXValue(),be=!!ue,Se=m.threshold,ie=m.startFromThreshold?Se:0,ge=Number.MAX_VALUE;function we(ye){return T(ye,-1e9,1e9)}for(q=0;q<ae;q++){let ye,Re,Fe,Me=oe[q],Pe=Me.x,De=Me.y,He=Me.low,ze=F&&K.stacking?.stacks[(this.negStacks&&De<(ie?0:Se)?"-":"")+this.stackKey];re=R.translate(Pe,!1,!1,!1,!0,ue),Me.plotX=U(re)?H(we(re)):void 0,F&&this.visible&&ze&&ze[Pe]&&(pe=this.getStackIndicator(pe,Pe,this.index),!Me.isNull&&pe.key&&(Fe=(Re=ze[Pe]).points[pe.key]),Re&&M(Fe)&&(He=Fe[0],De=Fe[1],He===ie&&pe.key===ze[Pe].base&&(He=j(U(Se)?Se:K.min)),K.positiveValuesOnly&&S(He)&&He<=0&&(He=void 0),Me.total=Me.stackTotal=j(Re.total),Me.percentage=S(Me.y)&&Re.total?Me.y/Re.total*100:void 0,Me.stackY=De,this.irregularWidths||Re.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Me.yBottom=S(He)?we(K.translate(He,!1,!0,!1,!0)):void 0,this.dataModify&&(De=this.dataModify.modifyValue(De,q)),U(De)&&void 0!==Me.plotX&&(ye=U(ye=K.translate(De,!1,!0,!1,!0))?we(ye):void 0),Me.plotY=ye,Me.isInside=this.isPointInside(Me),Me.clientX=be?H(R.translate(Pe,!1,!1,!1,!0,ue)):re,Me.negative=(Me.y||0)<(Se||0),Me.category=j(_&&_[Me.x],Me.x),Me.isNull||!1===Me.visible||(void 0!==le&&(ge=Math.min(ge,Math.abs(re-le))),le=re),Me.zone=this.zones.length?Me.getZone():void 0,!Me.graphic&&this.group&&G&&(Me.isNew=!0)}this.closestPointRangePx=ge,d(this,"afterTranslate")}getValidPoints(m,F,R){let _=this.chart;return(m||this.points||[]).filter(function(G){let{plotX:K,plotY:oe}=G;return!(!(R||!G.isNull&&U(oe))||F&&!_.isInsidePlot(K,oe,{inverted:_.inverted}))&&!1!==G.visible})}getClipBox(){let{chart:m,xAxis:F,yAxis:R}=this,{x:_,y:G,width:K,height:oe}=O(m.clipBox);return F&&F.len!==m.plotSizeX&&(K=F.len),R&&R.len!==m.plotSizeY&&(oe=R.len),m.inverted&&!this.invertible&&([K,oe]=[oe,K]),{x:_,y:G,width:K,height:oe}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:m,group:F,markerGroup:R}=this,_=m.sharedClips,G=m.renderer,K=this.getClipBox(),oe=this.getSharedClipKey(),ae=_[oe];ae?ae.animate(K):_[oe]=ae=G.clipRect(K),F&&F.clip(!1===this.options.clip?void 0:ae),R&&R.clip()}animate(m){let{chart:F,group:R,markerGroup:_}=this,G=F.inverted,K=L(this.options.animation),oe=[this.getSharedClipKey(),K.duration,K.easing,K.defer].join(","),ae=F.sharedClips[oe],ue=F.sharedClips[oe+"m"];if(m&&R){let be=this.getClipBox();ae?ae.attr("height",be.height):(be.width=0,G&&(be.x=F.plotHeight),ae=F.renderer.clipRect(be),F.sharedClips[oe]=ae,ue=F.renderer.clipRect({x:-99,y:-99,width:G?F.plotWidth+199:99,height:G?99:F.plotHeight+199}),F.sharedClips[oe+"m"]=ue),R.clip(ae),_?.clip(ue)}else if(ae&&!ae.hasClass("highcharts-animating")){let be=this.getClipBox(),Se=K.step;(_?.element.childNodes.length||F.series.length>1)&&(K.step=function(ie,q){Se&&Se.apply(q,arguments),"width"===q.prop&&ue?.element&&ue.attr(G?"height":"width",ie+99)}),ae.addClass("highcharts-animating").animate(be,K)}}afterAnimate(){this.setClip(),z(this.chart.sharedClips,(m,F,R)=>{m&&!this.chart.container.querySelector(`[clip-path="url(#${m.id})"]`)&&(m.destroy(),delete R[F])}),this.finishedAnimating=!0,d(this,"afterAnimate")}drawPoints(m=this.points){let F,R,_,G,K,oe,ae,ue=this.chart,be=ue.styledMode,{colorAxis:Se,options:ie}=this,q=ie.marker,re=this[this.specialGroup||"markerGroup"],le=this.xAxis,pe=j(q.enabled,!le||!!le.isRadial||null,this.closestPointRangePx>=q.enabledThreshold*q.radius);if(!1!==q.enabled||this._hasPointMarkers)for(F=0;F<m.length;F++)if(G=(_=(R=m[F]).graphic)?"animate":"attr",K=R.marker||{},oe=!!R.marker,(pe&&void 0===K.enabled||K.enabled)&&!R.isNull&&!1!==R.visible){let ge=j(K.symbol,this.symbol,"rect");ae=this.markerAttribs(R,R.selected&&"select"),this.enabledDataSorting&&(R.startXPos=le.reversed?-(ae.width||0):le.width);let we=!1!==R.isInside;if(!_&&we&&((ae.width||0)>0||R.hasImage)&&(R.graphic=_=ue.renderer.symbol(ge,ae.x,ae.y,ae.width,ae.height,oe?K:q).add(re),this.enabledDataSorting&&ue.hasRendered&&(_.attr({x:R.startXPos}),G="animate")),_&&"animate"===G&&_[we?"show":"hide"](we).animate(ae),_){let ye=this.pointAttribs(R,be||!R.selected?void 0:"select");be?Se&&_.css({fill:ye.fill}):_[G](ye)}_&&_.addClass(R.getClassName(),!0)}else _&&(R.graphic=_.destroy())}markerAttribs(m,F){let ae,ue,R=this.options,_=R.marker,G=m.marker||{},K=G.symbol||_.symbol,oe={},be=j(G.radius,_&&_.radius);F&&(ae=_.states[F],be=j((ue=G.states&&G.states[F])&&ue.radius,ae&&ae.radius,be&&be+(ae&&ae.radiusPlus||0))),m.hasImage=K&&0===K.indexOf("url"),m.hasImage&&(be=0);let Se=m.pos();return U(be)&&Se&&(R.crisp&&(Se[0]=B(Se[0],m.hasImage?0:"rect"===K?_?.lineWidth||0:1)),oe.x=Se[0]-be,oe.y=Se[1]-be),be&&(oe.width=oe.height=2*be),oe}pointAttribs(m,F){let ue,be,ie,q,R=this.options.marker,_=m&&m.options,G=_&&_.marker||{},K=_&&_.color,oe=m&&m.color,ae=m&&m.zone&&m.zone.color,Se=this.color,re=j(G.lineWidth,R.lineWidth),le=1;return Se=K||ae||oe||Se,ie=G.fillColor||R.fillColor||Se,q=G.lineColor||R.lineColor||Se,ue=R.states[F=F||"normal"]||{},re=j((be=G.states&&G.states[F]||{}).lineWidth,ue.lineWidth,re+j(be.lineWidthPlus,ue.lineWidthPlus,0)),ie=be.fillColor||ue.fillColor||ie,{stroke:q=be.lineColor||ue.lineColor||q,"stroke-width":re,fill:ie,opacity:le=j(be.opacity,ue.opacity,le)}}destroy(m){let F,R,_,G=this,K=G.chart,oe=/AppleWebKit\/533/.test(A.navigator.userAgent),ae=G.data||[];for(d(G,"destroy",{keepEventsForUpdate:m}),this.removeEvents(m),(G.axisTypes||[]).forEach(function(ue){(_=G[ue])&&_.series&&(l(_.series,G),_.isDirty=_.forceRedraw=!0)}),G.legendItem&&G.chart.legend.destroyItem(G),F=ae.length;F--;)(R=ae[F])&&R.destroy&&R.destroy();for(let ue of G.zones)p(ue,void 0,!0);ee.clearTimeout(G.animationTimeout),z(G,function(ue,be){ue instanceof te&&!ue.survive&&ue[oe&&"group"===be?"hide":"destroy"]()}),K.hoverSeries===G&&(K.hoverSeries=void 0),l(K.series,G),K.orderItems("series"),z(G,function(ue,be){m&&"hcEvents"===be||delete G[be]})}applyZones(){let{area:m,chart:F,graph:R,zones:_,points:G,xAxis:K,yAxis:oe,zoneAxis:ae}=this,{inverted:ue,renderer:be}=F,Se=this[`${ae}Axis`],{isXAxis:ie,len:q=0}=Se||{},re=(R?.strokeWidth()||0)/2+1,le=(pe,ge=0,we=0)=>{ue&&(we=q-we);let{translated:ye=0,lineClip:Me}=pe,Pe=we-ye;Me?.push(["L",ge,Math.abs(Pe)<re?we-re*(Pe<=0?-1:1):ye])};if(_.length&&(R||m)&&Se&&U(Se.min)){let pe=Se.getExtremes().max,ge=Me=>{Me.forEach((Pe,Re)=>{("M"===Pe[0]||"L"===Pe[0])&&(Me[Re]=[Pe[0],ie?q-Pe[1]:Pe[1],ie?Pe[2]:q-Pe[2]])})};if(_.forEach(Me=>{Me.lineClip=[],Me.translated=T(Se.toPixels(j(Me.value,pe),!0)||0,0,q)}),R&&!this.showLine&&R.hide(),m&&m.hide(),"y"===ae&&G.length<K.len)for(let Me of G){let{plotX:Pe,plotY:Re,zone:Fe}=Me,De=Fe&&_[_.indexOf(Fe)-1];Fe&&le(Fe,Pe,Re),De&&le(De,Pe,Re)}let we=[],ye=Se.toPixels(Se.getExtremes().min,!0);_.forEach(Me=>{let Pe=Me.lineClip||[],Re=Math.round(Me.translated||0);K.reversed&&Pe.reverse();let{clip:Fe,simpleClip:De}=Me,He=0,ze=0,Oe=K.len,it=oe.len;ie?(He=Re,Oe=ye):(ze=Re,it=ye);let ot=[["M",He,ze],["L",Oe,ze],["L",Oe,it],["L",He,it],["Z"]],rt=[ot[0],...Pe,ot[1],ot[2],...we,ot[3],ot[4]];we=Pe.reverse(),ye=Re,ue&&(ge(rt),m&&ge(ot)),Fe?(Fe.animate({d:rt}),De?.animate({d:ot})):(Fe=Me.clip=be.path(rt),m&&(De=Me.simpleClip=be.path(ot))),R&&Me.graph?.clip(Fe),m&&Me.area?.clip(De)})}else this.visible&&(R&&R.show(),m&&m.show())}plotGroup(m,F,R,_,G){let K=this[m],oe=!K,ae={visibility:R,zIndex:_||.1};return S(this.opacity)&&!this.chart.styledMode&&"inactive"!==this.state&&(ae.opacity=this.opacity),K||(this[m]=K=this.chart.renderer.g().add(G)),K.addClass("highcharts-"+F+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(S(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(K.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),K.attr(ae)[oe?"attr":"animate"](this.getPlotBox(F)),K}getPlotBox(m){let F=this.xAxis,R=this.yAxis,_=this.chart,G=_.inverted&&!_.polar&&F&&this.invertible&&"series"===m;return _.inverted&&(F=R,R=this.xAxis),{translateX:F?F.left:_.plotLeft,translateY:R?R.top:_.plotTop,rotation:G?90:0,rotationOriginX:G?(F.len-R.len)/2:0,rotationOriginY:G?(F.len+R.len)/2:0,scaleX:G?-1:1,scaleY:1}}removeEvents(m){let{eventsToUnbind:F}=this;m||J(this),F.length&&(F.forEach(R=>{R()}),F.length=0)}render(){let m=this,{chart:F,options:R,hasRendered:_}=m,G=L(R.animation),K=m.visible?"inherit":"hidden",oe=R.zIndex,ae=F.seriesGroup,ue=m.finishedAnimating?0:G.duration;d(this,"render"),m.plotGroup("group","series",K,oe,ae),m.markerGroup=m.plotGroup("markerGroup","markers",K,oe,ae),!1!==R.clip&&m.setClip(),ue&&m.animate?.(!0),m.drawGraph&&(m.drawGraph(),m.applyZones()),m.visible&&m.drawPoints(),m.drawDataLabels?.(),m.redrawPoints?.(),R.enableMouseTracking&&m.drawTracker?.(),ue&&m.animate?.(),_||(ue&&G.defer&&(ue+=G.defer),m.animationTimeout=w(()=>{m.afterAnimate()},ue||0)),m.isDirty=!1,m.hasRendered=!0,d(m,"afterRender")}redraw(){let m=this.isDirty||this.isDirtyData;this.translate(),this.render(),m&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(m,F){let{xAxis:R,yAxis:_}=this,G=this.chart.inverted;return this.searchKDTree({clientX:G?R.len-m.chartY+R.pos:m.chartX-R.pos,plotY:G?_.len-m.chartX+_.pos:m.chartY-_.pos},F,m)}buildKDTree(m){this.buildingKdTree=!0;let F=this,R=F.options.findNearestPointBy.indexOf("y")>-1?2:1;delete F.kdTree,w(function(){F.kdTree=function _(G,K,oe){let ae,ue,be=G?.length;if(be)return ae=F.kdAxisArray[K%oe],G.sort((Se,ie)=>(Se[ae]||0)-(ie[ae]||0)),{point:G[ue=Math.floor(be/2)],left:_(G.slice(0,ue),K+1,oe),right:_(G.slice(ue+1),K+1,oe)}}(F.getValidPoints(void 0,!F.directTouch),R,R),F.buildingKdTree=!1},F.options.kdNow||"touchstart"===m?.type?0:1)}searchKDTree(m,F,R){let _=this,[G,K]=this.kdAxisArray,oe=F?"distX":"dist",ae=(_.options.findNearestPointBy||"").indexOf("y")>-1?2:1,ue=!!_.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(R),this.kdTree)return function be(Se,ie,q,re){let ge,we,le=ie.point,pe=_.kdAxisArray[q%re],ye=le;!function(Fe,De){let He=Fe[G],ze=De[G],Oe=S(He)&&S(ze)?He-ze:null,it=Fe[K],ot=De[K],rt=S(it)&&S(ot)?it-ot:0,bt=ue&&De.marker?.radius||0;De.dist=Math.sqrt((Oe&&Oe*Oe||0)+rt*rt)-bt,De.distX=S(Oe)?Math.abs(Oe)-bt:Number.MAX_VALUE}(Se,le);let Me=(Se[pe]||0)-(le[pe]||0)+(ue&&le.marker?.radius||0),Pe=Me<0?"left":"right",Re=Me<0?"right":"left";return ie[Pe]&&(ye=(ge=be(Se,ie[Pe],q+1,re))[oe]<ye[oe]?ge:le),ie[Re]&&Math.sqrt(Me*Me)<ye[oe]&&(ye=(we=be(Se,ie[Re],q+1,re))[oe]<ye[oe]?we:ye),ye}(m,this.kdTree,ae,ae)}pointPlacementToXValue(){let{options:m,xAxis:F}=this,R=m.pointPlacement;return"between"===R&&(R=F.reversed?-.5:.5),U(R)?R*(m.pointRange||F.pointRange):0}isPointInside(m){let{chart:F,xAxis:R,yAxis:_}=this,{plotX:G=-1,plotY:K=-1}=m;return K>=0&&K<=(_?_.len:F.plotHeight)&&G>=0&&G<=(R?R.len:F.plotWidth)}drawTracker(){let m=this,F=m.options,R=F.trackByArea,_=[].concat((R?m.areaPath:m.graphPath)||[]),G=m.chart,K=G.pointer,oe=G.renderer,ae=G.options.tooltip?.snap||0,ue=()=>{F.enableMouseTracking&&G.hoverSeries!==m&&m.onMouseOver()},be="rgba(192,192,192,"+(C?1e-4:.002)+")",Se=m.tracker;Se?Se.attr({d:_}):m.graph&&(m.tracker=Se=oe.path(_).attr({visibility:m.visible?"inherit":"hidden",zIndex:2}).addClass(R?"highcharts-tracker-area":"highcharts-tracker-line").add(m.group),G.styledMode||Se.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:be,fill:R?be:"none","stroke-width":m.graph.strokeWidth()+(R?0:2*ae)}),[m.tracker,m.markerGroup,m.dataLabelsGroup].forEach(ie=>{ie&&(ie.addClass("highcharts-tracker").on("mouseover",ue).on("mouseout",q=>{K?.onTrackerMouseOut(q)}),F.cursor&&!G.styledMode&&ie.css({cursor:F.cursor}),ie.on("touchstart",ue))})),d(this,"afterDrawTracker")}addPoint(m,F,R,_,G){let K,oe,ae=this.options,ue=this.data,be=this.chart,Se=this.xAxis,ie=Se&&Se.hasNames&&Se.names,q=ae.data,re=this.xData;F=j(F,!0);let le={series:this};this.pointClass.prototype.applyOptions.apply(le,[m]);let pe=le.x;if(oe=re.length,this.requireSorting&&pe<re[oe-1])for(K=!0;oe&&re[oe-1]>pe;)oe--;this.updateParallelArrays(le,"splice",[oe,0,0]),this.updateParallelArrays(le,oe),ie&&le.name&&(ie[pe]=le.name),q.splice(oe,0,m),(K||this.processedData)&&(this.data.splice(oe,0,null),this.processData()),"point"===ae.legendType&&this.generatePoints(),R&&(ue[0]&&ue[0].remove?ue[0].remove(!1):(ue.shift(),this.updateParallelArrays(le,"shift"),q.shift())),!1!==G&&d(this,"addPoint",{point:le}),this.isDirty=!0,this.isDirtyData=!0,F&&be.redraw(_)}removePoint(m,F,R){let _=this,G=_.data,K=G[m],oe=_.points,ae=_.chart,ue=function(){oe&&oe.length===G.length&&oe.splice(m,1),G.splice(m,1),_.options.data.splice(m,1),_.updateParallelArrays(K||{series:_},"splice",[m,1]),K&&K.destroy(),_.isDirty=!0,_.isDirtyData=!0,F&&ae.redraw()};W(R,ae),F=j(F,!0),K?K.firePointEvent("remove",null,ue):ue()}remove(m,F,R,_){let G=this,K=G.chart;function oe(){G.destroy(_),K.isDirtyLegend=K.isDirtyBox=!0,K.linkSeries(_),j(m,!0)&&K.redraw(F)}!1!==R?d(G,"remove",null,oe):oe()}update(m,F){d(this,"update",{options:m=b(m,this.userOptions)});let Se,ie,R=this,_=R.chart,G=R.userOptions,K=R.initialType||R.type,oe=_.options.plotOptions,ae=D[K].prototype,ue=R.finishedAnimating&&{animation:!1},be={},q=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],re=m.type||G.type||_.options.chart.type,le=!(this.hasDerivedData||re&&re!==this.type||void 0!==m.pointStart||void 0!==m.pointInterval||void 0!==m.relativeXValue||m.joinBy||m.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(ge=>R.hasOptionChanged(ge)));re=re||K,le&&(q.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),!1!==m.visible&&q.push("area","graph"),R.parallelArrays.forEach(function(ge){q.push(ge+"Data")}),m.data&&(m.dataSorting&&o(R.options.dataSorting,m.dataSorting),this.setData(m.data,!1))),m=O(G,{index:void 0===G.index?R.index:G.index,pointStart:oe?.series?.pointStart??G.pointStart??R.xData?.[0]},!le&&{data:R.options.data},m,ue),le&&m.data&&(m.data=R.options.data),(q=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(q)).forEach(function(ge){q[ge]=R[ge],delete R[ge]});let pe=!1;if(D[re]){if(pe=re!==R.type,R.remove(!1,!1,!1,!0),pe)if(_.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(R,D[re].prototype);else{let ge=Object.hasOwnProperty.call(R,"hcEvents")&&R.hcEvents;for(ie in ae)R[ie]=void 0;o(R,D[re].prototype),ge?R.hcEvents=ge:delete R.hcEvents}}else n(17,!0,_,{missingModuleFor:re});if(q.forEach(function(ge){R[ge]=q[ge]}),R.init(_,m),le&&this.points)for(let ge of(!1===(Se=R.options).visible?(be.graphic=1,be.dataLabel=1):(this.hasMarkerChanged(Se,G)&&(be.graphic=1),R.hasDataLabels?.()||(be.dataLabel=1)),this.points))ge&&ge.series&&(ge.resolveColor(),Object.keys(be).length&&ge.destroyElements(be),!1===Se.showInLegend&&ge.legendItem&&_.legend.destroyItem(ge));R.initialType=K,_.linkSeries(),_.setSortedData(),pe&&R.linkedSeries.length&&(R.isDirtyData=!0),d(this,"afterUpdate"),j(F,!0)&&_.redraw(!!le&&void 0)}setName(m){this.name=this.options.name=this.userOptions.name=m,this.chart.isDirtyLegend=!0}hasOptionChanged(m){let R=this.options[m],_=this.chart.options.plotOptions,G=this.userOptions[m],K=j(_?.[this.type]?.[m],_?.series?.[m]);return G&&!S(K)?R!==G:R!==j(K,R)}onMouseOver(){let m=this.chart,F=m.hoverSeries;m.pointer?.setHoverChartIndex(),F&&F!==this&&F.onMouseOut(),this.options.events.mouseOver&&d(this,"mouseOver"),this.setState("hover"),m.hoverSeries=this}onMouseOut(){let m=this.options,F=this.chart,R=F.tooltip,_=F.hoverPoint;F.hoverSeries=null,_&&_.onMouseOut(),this&&m.events.mouseOut&&d(this,"mouseOut"),R&&!this.stickyTracking&&(!R.shared||this.noSharedTooltip)&&R.hide(),F.series.forEach(function(G){G.setState("",!0)})}setState(m,F){let R=this,_=R.options,G=R.graph,K=_.inactiveOtherPoints,oe=_.states,ae=j(oe[m||"normal"]&&oe[m||"normal"].animation,R.chart.options.chart.animation),ue=_.lineWidth,be=_.opacity;if(R.state!==(m=m||"")&&([R.group,R.markerGroup,R.dataLabelsGroup].forEach(function(Se){Se&&(R.state&&Se.removeClass("highcharts-series-"+R.state),m&&Se.addClass("highcharts-series-"+m))}),R.state=m,!R.chart.styledMode)){if(oe[m]&&!1===oe[m].enabled)return;if(m&&(ue=oe[m].lineWidth||ue+(oe[m].lineWidthPlus||0),be=j(oe[m].opacity,be)),G&&!G.dashstyle&&U(ue))for(let Se of[G,...this.zones.map(ie=>ie.graph)])Se?.animate({"stroke-width":ue},ae);K||[R.group,R.markerGroup,R.dataLabelsGroup,R.labelBySeries].forEach(function(Se){Se&&Se.animate({opacity:be},ae)})}F&&K&&R.points&&R.setAllPointsToState(m||void 0)}setAllPointsToState(m){this.points.forEach(function(F){F.setState&&F.setState(m)})}setVisible(m,F){let R=this,_=R.chart,G=_.options.chart.ignoreHiddenSeries;R.visible=m=R.options.visible=R.userOptions.visible=void 0===m?!R.visible:m;let oe=m?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(ae=>{R[ae]?.[oe]()}),(_.hoverSeries===R||_.hoverPoint?.series===R)&&R.onMouseOut(),R.legendItem&&_.legend.colorizeItem(R,m),R.isDirty=!0,R.options.stacking&&_.series.forEach(ae=>{ae.options.stacking&&ae.visible&&(ae.isDirty=!0)}),R.linkedSeries.forEach(ae=>{ae.setVisible(m,!1)}),G&&(_.isDirtyBox=!0),d(R,oe),!1!==F&&_.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(m){this.selected=m=this.options.selected=void 0===m?!this.selected:m,this.checkbox&&(this.checkbox.checked=m),d(this,m?"select":"unselect")}shouldShowTooltip(m,F,R={}){return R.series=this,R.visiblePlotOnly=!0,this.chart.isInsidePlot(m,F,R)}drawLegendSymbol(m,F){me[this.options.legendSymbol||"rectangle"]?.call(this,m,F)}}return E.defaultOptions=he,E.types=Q.seriesTypes,E.registerType=Q.registerSeriesType,o(E.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:de,requireSorting:!0,sorted:!0}),Q.series=E,E}),Ne(Y,"Core/Legend/Legend.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Series/Point.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){var te;let{animObject:ee,setAnimation:L}=Z,{registerEventOptions:W}=ce,{composed:N,marginNames:I}=xe,{distribute:C}=de,{format:A}=he,{addEvent:D,createElement:P,css:v,defined:T,discardElement:H,find:B,fireEvent:S,isNumber:p,merge:b,pick:l,pushUnique:n,relativeLength:o,stableSort:h,syncTimeout:d}=Q;class c{constructor(u,M){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=u,this.setOptions(M),M.enabled&&(this.render(),W(this,M),D(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),D(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(u){let M=l(u.padding,8);this.options=u,this.chart.styledMode||(this.itemStyle=u.itemStyle,this.itemHiddenStyle=b(this.itemStyle,u.itemHiddenStyle)),this.itemMarginTop=u.itemMarginTop,this.itemMarginBottom=u.itemMarginBottom,this.padding=M,this.initialItemY=M-5,this.symbolWidth=l(u.symbolWidth,16),this.pages=[],this.proximate="proximate"===u.layout&&!this.chart.inverted,this.baseline=void 0}update(u,M){let U=this.chart;this.setOptions(b(!0,this.options,u)),"events"in this.options&&W(this,this.options),this.destroy(),U.isDirtyLegend=U.isDirtyBox=!0,l(M,!0)&&U.redraw(),S(this,"afterUpdate",{redraw:M})}colorizeItem(u,M){let{area:U,group:x,label:O,line:z,symbol:j}=u.legendItem||{};if(x?.[M?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:J={}}=this,y=J.color,{fillColor:w,fillOpacity:E,lineColor:X,marker:m}=u.options,F=R=>(!M&&(R.fill&&(R.fill=y),R.stroke&&(R.stroke=y)),R);O?.css(b(M?this.itemStyle:J)),z?.attr(F({stroke:X||u.color})),j&&j.attr(F(m&&j.isMarker?u.pointAttribs():{fill:u.color})),U?.attr(F({fill:w||u.color,"fill-opacity":w?1:E??.75}))}S(this,"afterColorizeItem",{item:u,visible:M})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(u){let{group:M,x:U=0,y:x=0}=u.legendItem||{},O=this.options,J=u.checkbox;if(M&&M.element){let y={translateX:O.rtl?this.legendWidth-U-2*O.symbolPadding-4:U,translateY:x};M[T(M.translateY)?"animate":"attr"](y,void 0,()=>{S(this,"afterPositionItem",{item:u})})}J&&(J.x=U,J.y=x)}destroyItem(u){let M=u.checkbox,U=u.legendItem||{};for(let x of["group","label","line","symbol"])U[x]&&(U[x]=U[x].destroy());M&&H(M),u.legendItem=void 0}destroy(){for(let u of this.getAllItems())this.destroyItem(u);for(let u of["clipRect","up","down","pager","nav","box","title","group"])this[u]&&(this[u]=this[u].destroy());this.display=null}positionCheckboxes(){let u,M=this.group&&this.group.alignAttr,U=this.clipHeight||this.legendHeight,x=this.titleHeight;M&&(u=M.translateY,this.allItems.forEach(function(O){let z,j=O.checkbox;j&&(z=u+x+j.y+(this.scrollOffset||0)+3,v(j,{left:M.translateX+O.checkboxOffset+j.x-20+"px",top:z+"px",display:this.proximate||z>u-6&&z<u+U-6?"":"none"}))},this))}renderTitle(){let x,u=this.options,M=this.padding,U=u.title,O=0;U.text&&(this.title||(this.title=this.chart.renderer.label(U.text,M-3,M-4,void 0,void 0,void 0,u.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(U.style),this.title.add(this.group)),U.width||this.title.css({width:this.maxLegendWidth+"px"}),O=(x=this.title.getBBox()).height,this.offsetWidth=x.width,this.contentGroup.attr({translateY:O})),this.titleHeight=O}setText(u){let M=this.options;u.legendItem.label.attr({text:M.labelFormat?A(M.labelFormat,u,this.chart):M.labelFormatter.call(u)})}renderItem(u){let M=u.legendItem=u.legendItem||{},U=this.chart,x=U.renderer,O=this.options,j=this.symbolWidth,J=O.symbolPadding||0,y=this.itemStyle,w=this.itemHiddenStyle,E="horizontal"===O.layout?l(O.itemDistance,20):0,X=!O.rtl,m=!u.series,F=!m&&u.series.drawLegendSymbol?u.series:u,R=F.options,_=!!this.createCheckboxForItem&&R&&R.showCheckbox,G=O.useHTML,K=u.options.className,oe=M.label,ae=j+J+E+(_?20:0);!oe&&(M.group=x.g("legend-item").addClass("highcharts-"+F.type+"-series highcharts-color-"+u.colorIndex+(K?" "+K:"")+(m?" highcharts-series-"+u.index:"")).attr({zIndex:1}).add(this.scrollGroup),M.label=oe=x.text("",X?j+J:-J,this.baseline||0,G),U.styledMode||oe.css(b(u.visible?y:w)),oe.attr({align:X?"left":"right",zIndex:2}).add(M.group),!this.baseline&&(this.fontMetrics=x.fontMetrics(oe),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,oe.attr("y",this.baseline),this.symbolHeight=l(O.symbolHeight,this.fontMetrics.f),O.squareSymbol&&(this.symbolWidth=l(O.symbolWidth,Math.max(this.symbolHeight,16)),ae=this.symbolWidth+J+E+(_?20:0),X&&oe.attr("x",this.symbolWidth+J))),F.drawLegendSymbol(this,u),this.setItemEvents&&this.setItemEvents(u,oe,G)),_&&!u.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(u),this.colorizeItem(u,u.visible),(U.styledMode||!y.width)&&oe.css({width:(O.itemWidth||this.widthOption||U.spacingBox.width)-ae+"px"}),this.setText(u);let ue=oe.getBBox(),be=this.fontMetrics&&this.fontMetrics.h||0;u.itemWidth=u.checkboxOffset=O.itemWidth||M.labelWidth||ue.width+ae,this.maxItemWidth=Math.max(this.maxItemWidth,u.itemWidth),this.totalItemWidth+=u.itemWidth,this.itemHeight=u.itemHeight=Math.round(M.labelHeight||(ue.height>1.5*be?ue.height:be))}layoutItem(u){let M=this.options,U=this.padding,x="horizontal"===M.layout,O=u.itemHeight,z=this.itemMarginBottom,j=this.itemMarginTop,J=x?l(M.itemDistance,20):0,y=this.maxLegendWidth,w=M.alignColumns&&this.totalItemWidth>y?this.maxItemWidth:u.itemWidth,E=u.legendItem||{};x&&this.itemX-U+w>y&&(this.itemX=U,this.lastLineHeight&&(this.itemY+=j+this.lastLineHeight+z),this.lastLineHeight=0),this.lastItemY=j+this.itemY+z,this.lastLineHeight=Math.max(O,this.lastLineHeight),E.x=this.itemX,E.y=this.itemY,x?this.itemX+=w:(this.itemY+=j+O+z,this.lastLineHeight=O),this.offsetWidth=this.widthOption||Math.max((x?this.itemX-U-(u.checkbox?0:J):w)+U,this.offsetWidth)}getAllItems(){let u=[];return this.chart.series.forEach(function(M){let U=M&&M.options;M&&l(U.showInLegend,!T(U.linkedTo)&&void 0,!0)&&(u=u.concat((M.legendItem||{}).labels||("point"===U.legendType?M.data:M)))}),S(this,"afterGetAllItems",{allItems:u}),u}getAlignment(){let u=this.options;return this.proximate?u.align.charAt(0)+"tv":u.floating?"":u.align.charAt(0)+u.verticalAlign.charAt(0)+u.layout.charAt(0)}adjustMargins(u,M){let U=this.chart,x=this.options,O=this.getAlignment();O&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(z,j){z.test(O)&&!T(u[j])&&(U[I[j]]=Math.max(U[I[j]],U.legend[(j+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][j]*x[j%2?"x":"y"]+l(x.margin,12)+M[j]+(U.titleOffset[j]||0)))})}proximatePositions(){let u,M=this.chart,U=[],x="left"===this.options.align;for(let O of(this.allItems.forEach(function(z){let j,J,w,E,y=x;z.yAxis&&(z.xAxis.options.reversed&&(y=!y),z.points&&(j=B(y?z.points:z.points.slice(0).reverse(),function(X){return p(X.plotY)})),J=this.itemMarginTop+z.legendItem.label.getBBox().height+this.itemMarginBottom,E=z.yAxis.top-M.plotTop,w=z.visible?(j?j.plotY:z.yAxis.height)+(E-.3*J):E+z.yAxis.height,U.push({target:w,size:J,item:z}))},this),C(U,M.plotHeight)))u=O.item.legendItem||{},p(O.pos)&&(u.y=M.plotTop-M.spacing[0]+O.pos)}render(){let z,j,J,w,u=this.chart,M=u.renderer,U=this.options,x=this.padding,O=this.getAllItems(),y=this.group,E=this.box;this.itemX=x,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=o(U.width,u.spacingBox.width-x),w=u.spacingBox.width-2*x-U.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(w/=2),this.maxLegendWidth=this.widthOption||w,y||(this.group=y=M.g("legend").addClass(U.className||"").attr({zIndex:7}).add(),this.contentGroup=M.g().attr({zIndex:1}).add(y),this.scrollGroup=M.g().add(this.contentGroup)),this.renderTitle(),h(O,(X,m)=>(X.options&&X.options.legendIndex||0)-(m.options&&m.options.legendIndex||0)),U.reversed&&O.reverse(),this.allItems=O,this.display=z=!!O.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,O.forEach(this.renderItem,this),O.forEach(this.layoutItem,this),j=(this.widthOption||this.offsetWidth)+x,J=this.lastItemY+this.lastLineHeight+this.titleHeight,J=this.handleOverflow(J)+x,E||(this.box=E=M.rect().addClass("highcharts-legend-box").attr({r:U.borderRadius}).add(y)),u.styledMode||E.attr({stroke:U.borderColor,"stroke-width":U.borderWidth||0,fill:U.backgroundColor||"none"}).shadow(U.shadow),j>0&&J>0&&E[E.placed?"animate":"attr"](E.crisp.call({},{x:0,y:0,width:j,height:J},E.strokeWidth())),y[z?"show":"hide"](),u.styledMode&&"none"===y.getStyle("display")&&(j=J=0),this.legendWidth=j,this.legendHeight=J,z&&this.align(),this.proximate||this.positionItems(),S(this,"afterRender")}align(u=this.chart.spacingBox){let M=this.chart,U=this.options,x=u.y;/(lth|ct|rth)/.test(this.getAlignment())&&M.titleOffset[0]>0?x+=M.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&M.titleOffset[2]>0&&(x-=M.titleOffset[2]),x!==u.y&&(u=b(u,{y:x})),M.hasRendered||(this.group.placed=!1),this.group.align(b(U,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":U.verticalAlign}),!0,u)}handleOverflow(u){let G,K,oe,M=this,U=this.chart,x=U.renderer,O=this.options,z=O.y,j="top"===O.verticalAlign,J=this.padding,y=O.maxHeight,w=O.navigation,E=l(w.animation,!0),X=w.arrowSize||12,m=this.pages,F=this.allItems,R=function(Se){"number"==typeof Se?be.attr({height:Se}):be&&(M.clipRect=be.destroy(),M.contentGroup.clip()),M.contentGroup.div&&(M.contentGroup.div.style.clip=Se?"rect("+J+"px,9999px,"+(J+Se)+"px,0)":"auto")},_=function(Se){return M[Se]=x.circle(0,0,1.3*X).translate(X/2,X/2).add(ue),U.styledMode||M[Se].attr("fill","rgba(0,0,0,0.0001)"),M[Se]},ae=U.spacingBox.height+(j?-z:z)-J,ue=this.nav,be=this.clipRect;return"horizontal"!==O.layout||"middle"===O.verticalAlign||O.floating||(ae/=2),y&&(ae=Math.min(ae,y)),m.length=0,u&&ae>0&&u>ae&&!1!==w.enabled?(this.clipHeight=G=Math.max(ae-20-this.titleHeight-J,0),this.currentPage=l(this.currentPage,1),this.fullHeight=u,F.forEach((Se,ie)=>{let q=(oe=Se.legendItem||{}).y||0,re=Math.round(oe.label.getBBox().height),le=m.length;(!le||q-m[le-1]>G&&(K||q)!==m[le-1])&&(m.push(K||q),le++),oe.pageIx=le-1,K&&((F[ie-1].legendItem||{}).pageIx=le-1),ie===F.length-1&&q+re-m[le-1]>G&&q>m[le-1]&&(m.push(q),oe.pageIx=le),q!==K&&(K=q)}),be||(be=M.clipRect=x.clipRect(0,J-2,9999,0),M.contentGroup.clip(be)),R(G),ue||(this.nav=ue=x.g().attr({zIndex:1}).add(this.group),this.up=x.symbol("triangle",0,0,X,X).add(ue),_("upTracker").on("click",function(){M.scroll(-1,E)}),this.pager=x.text("",15,10).addClass("highcharts-legend-navigation"),!U.styledMode&&w.style&&this.pager.css(w.style),this.pager.add(ue),this.down=x.symbol("triangle-down",0,0,X,X).add(ue),_("downTracker").on("click",function(){M.scroll(1,E)})),M.scroll(0),u=ae):ue&&(R(),this.nav=ue.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),u}scroll(u,M){let U=this.chart,x=this.pages,O=x.length,z=this.clipHeight,j=this.options.navigation,J=this.pager,y=this.padding,w=this.currentPage+u;w>O&&(w=O),w>0&&(void 0!==M&&L(M,U),this.nav.attr({translateX:y,translateY:z+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(E){E.attr({class:1===w?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),J.attr({text:w+"/"+O}),[this.down,this.downTracker].forEach(function(E){E.attr({x:18+this.pager.getBBox().width,class:w===O?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),U.styledMode||(this.up.attr({fill:1===w?j.inactiveColor:j.activeColor}),this.upTracker.css({cursor:1===w?"default":"pointer"}),this.down.attr({fill:w===O?j.inactiveColor:j.activeColor}),this.downTracker.css({cursor:w===O?"default":"pointer"})),this.scrollOffset=-x[w-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=w,this.positionCheckboxes(),d(()=>{S(this,"afterScroll",{currentPage:w})},ee(l(M,U.renderer.globalAnimation,!0)).duration))}setItemEvents(u,M,U){let x=this,O=u.legendItem||{},z=x.chart.renderer.boxWrapper,j=u instanceof me,J=u instanceof ve,y="highcharts-legend-"+(j?"point":"series")+"-active",w=x.chart.styledMode,E=U?[M,O.symbol]:[O.group],X=m=>{x.allItems.forEach(F=>{u!==F&&[F].concat(F.linkedSeries||[]).forEach(R=>{R.setState(m,!j)})})};for(let m of E)m&&m.on("mouseover",function(){u.visible&&X("inactive"),u.setState("hover"),u.visible&&z.addClass(y),w||M.css(x.options.itemHoverStyle)}).on("mouseout",function(){x.chart.styledMode||M.css(b(u.visible?x.itemStyle:x.itemHiddenStyle)),X(""),z.removeClass(y),u.setState()}).on("click",function(F){z.removeClass(y),S(x,"itemClick",{browserEvent:F,legendItem:u},function(){u.setVisible&&u.setVisible(),X(u.visible?"inactive":"")}),j?u.firePointEvent("legendItemClick",{browserEvent:F}):J&&S(u,"legendItemClick",{browserEvent:F})})}createCheckboxForItem(u){u.checkbox=P("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:u.selected,defaultChecked:u.selected},this.options.itemCheckboxStyle,this.chart.container),D(u.checkbox,"click",function(M){S(u.series||u,"checkboxClick",{checked:M.target.checked,item:u},function(){u.select()})})}}return(te=c||(c={})).compose=function(f){n(N,"Core.Legend")&&D(f,"beforeMargins",function(){this.legend=new te(this,this.options.legend)})},c}),Ne(Y,"Core/Chart/Chart.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/Axis.js"],Y["Core/Defaults.js"],Y["Core/Templating.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Time.js"],Y["Core/Utilities.js"],Y["Core/Renderer/HTML/AST.js"],Y["Core/Axis/Tick.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee,L,W,N,I){let{animate:C,animObject:A,setAnimation:D}=Z,{defaultOptions:P,defaultTime:v}=xe,{numberFormat:T}=ve,{registerEventOptions:H}=me,{charts:B,doc:S,marginNames:p,svg:b,win:l}=de,{seriesTypes:n}=te,{addEvent:o,attr:h,createElement:d,css:c,defined:f,diffObjects:u,discardElement:M,erase:U,error:x,extend:O,find:z,fireEvent:j,getStyle:J,isArray:y,isNumber:w,isObject:E,isString:X,merge:m,objectEach:F,pick:R,pInt:_,relativeLength:G,removeEvent:K,splat:oe,syncTimeout:ae,uniqueKey:ue}=W;class be{static chart(ie,q,re){return new be(ie,q,re)}constructor(ie,q,re){this.sharedClips={};let le=[...arguments];(X(ie)||ie.nodeName)&&(this.renderTo=le.shift()),this.init(le[0],le[1])}setZoomOptions(){let ie=this.options.chart,q=ie.zooming;this.zooming={...q,type:R(ie.zoomType,q.type),key:R(ie.zoomKey,q.key),pinchType:R(ie.pinchType,q.pinchType),singleTouch:R(ie.zoomBySingleTouch,q.singleTouch,!1),resetButton:m(q.resetButton,ie.resetZoomButton)}}init(ie,q){j(this,"init",{args:arguments},function(){let re=m(P,ie),le=re.chart;this.userOptions=O({},ie),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=q,this.isResizing=0,this.options=re,this.axes=[],this.series=[],this.time=ie.time&&Object.keys(ie.time).length?new L(ie.time):de.time,this.numberFormatter=le.numberFormatter||T,this.styledMode=le.styledMode,this.hasCartesianSeries=le.showAxes,this.index=B.length,B.push(this),de.chartCount++,H(this,le),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),j(this,"afterInit"),this.firstRender()})}initSeries(ie){let re=ie.type||this.options.chart.type,le=n[re];le||x(17,!0,this,{missingModuleFor:re});let pe=new le;return"function"==typeof pe.init&&pe.init(this,ie),pe}setSortedData(){this.getSeriesOrderByLinks().forEach(function(ie){ie.points||ie.data||!ie.enabledDataSorting||ie.setData(ie.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(ie,q){return ie.linkedSeries.length||q.linkedSeries.length?q.linkedSeries.length-ie.linkedSeries.length:0})}orderItems(ie,q=0){let re=this[ie],le=this.options[ie]=oe(this.options[ie]).slice(),pe=this.userOptions[ie]=this.userOptions[ie]?oe(this.userOptions[ie]).slice():[];if(this.hasRendered&&(le.splice(q),pe.splice(q)),re)for(let ge=q,we=re.length;ge<we;++ge){let ye=re[ge];ye&&(ye.index=ge,ye instanceof Q&&(ye.name=ye.getName()),ye.options.isInternal||(le[ge]=ye.options,pe[ge]=ye.userOptions))}}isInsidePlot(ie,q,re={}){let{inverted:le,plotBox:pe,plotLeft:ge,plotTop:we,scrollablePlotBox:ye}=this,{scrollLeft:Me=0,scrollTop:Pe=0}=re.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},Re=re.series,Fe=re.visiblePlotOnly&&ye||pe,De=re.inverted?q:ie,He=re.inverted?ie:q,ze={x:De,y:He,isInsidePlot:!0,options:re};if(!re.ignoreX){let Oe=Re&&(le&&!this.polar?Re.yAxis:Re.xAxis)||{pos:ge,len:1/0},it=re.paneCoordinates?Oe.pos+De:ge+De;it>=Math.max(Me+ge,Oe.pos)&&it<=Math.min(Me+ge+Fe.width,Oe.pos+Oe.len)||(ze.isInsidePlot=!1)}if(!re.ignoreY&&ze.isInsidePlot){let Oe=!le&&re.axis&&!re.axis.isXAxis&&re.axis||Re&&(le?Re.xAxis:Re.yAxis)||{pos:we,len:1/0},it=re.paneCoordinates?Oe.pos+He:we+He;it>=Math.max(Pe+we,Oe.pos)&&it<=Math.min(Pe+we+Fe.height,Oe.pos+Oe.len)||(ze.isInsidePlot=!1)}return j(this,"afterIsInsidePlot",ze),ze.isInsidePlot}redraw(ie){j(this,"beforeRedraw");let Pe,Re,Fe,ze,q=this.hasCartesianSeries?this.axes:this.colorAxis||[],re=this.series,le=this.pointer,pe=this.legend,ge=this.userOptions.legend,we=this.renderer,ye=we.isHidden(),Me=[],De=this.isDirtyBox,He=this.isDirtyLegend;for(we.rootFontSize=we.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),D(!!this.hasRendered&&ie,this),ye&&this.temporaryDisplay(),this.layOutTitles(!1),Fe=re.length;Fe--;)if(((ze=re[Fe]).options.stacking||ze.options.centerInCategory)&&(Re=!0,ze.isDirty)){Pe=!0;break}if(Pe)for(Fe=re.length;Fe--;)(ze=re[Fe]).options.stacking&&(ze.isDirty=!0);re.forEach(function(Oe){Oe.isDirty&&("point"===Oe.options.legendType?("function"==typeof Oe.updateTotals&&Oe.updateTotals(),He=!0):ge&&(ge.labelFormatter||ge.labelFormat)&&(He=!0)),Oe.isDirtyData&&j(Oe,"updatedData")}),He&&pe&&pe.options.enabled&&(pe.render(),this.isDirtyLegend=!1),Re&&this.getStacks(),q.forEach(function(Oe){Oe.updateNames(),Oe.setScale()}),this.getMargins(),q.forEach(function(Oe){Oe.isDirty&&(De=!0)}),q.forEach(function(Oe){let it=Oe.min+","+Oe.max;Oe.extKey!==it&&(Oe.extKey=it,Me.push(function(){j(Oe,"afterSetExtremes",O(Oe.eventArgs,Oe.getExtremes())),delete Oe.eventArgs})),(De||Re)&&Oe.redraw()}),De&&this.drawChartBox(),j(this,"predraw"),re.forEach(function(Oe){(De||Oe.isDirty)&&Oe.visible&&Oe.redraw(),Oe.isDirtyData=!1}),le&&le.reset(!0),we.draw(),j(this,"redraw"),j(this,"render"),ye&&this.temporaryDisplay(!0),Me.forEach(function(Oe){Oe.call()})}get(ie){let q=this.series;function re(pe){return pe.id===ie||pe.options&&pe.options.id===ie}let le=z(this.axes,re)||z(this.series,re);for(let pe=0;!le&&pe<q.length;pe++)le=z(q[pe].points||[],re);return le}getAxes(){let ie=this.userOptions;for(let q of(j(this,"getAxes"),["xAxis","yAxis"]))for(let re of ie[q]=oe(ie[q]||{}))new ce(this,re,q);j(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((ie,q)=>(q.getPointsCollection().forEach(re=>{R(re.selectedStaging,re.selected)&&ie.push(re)}),ie),[])}getSelectedSeries(){return this.series.filter(function(ie){return ie.selected})}setTitle(ie,q,re){this.applyDescription("title",ie),this.applyDescription("subtitle",q),this.applyDescription("caption",void 0),this.layOutTitles(re)}applyDescription(ie,q){let re=this,le=this.options[ie]=m(this.options[ie],q),pe=this[ie];pe&&q&&(this[ie]=pe=pe.destroy()),le&&!pe&&((pe=this.renderer.text(le.text,0,0,le.useHTML).attr({align:le.align,class:"highcharts-"+ie,zIndex:le.zIndex||4}).add()).update=function(ge,we){re.applyDescription(ie,ge),re.layOutTitles(we)},this.styledMode||pe.css(O("title"===ie?{fontSize:this.options.isStock?"1em":"1.2em"}:{},le.style)),this[ie]=pe)}layOutTitles(ie=!0){let q=[0,0,0],re=this.renderer,le=this.spacingBox;["title","subtitle","caption"].forEach(function(ge){let we=this[ge],ye=this.options[ge],Me=ye.verticalAlign||"top",Pe="title"===ge?"top"===Me?-3:0:"top"===Me?q[0]+2:0;if(we){we.css({width:(ye.width||le.width+(ye.widthAdjust||0))+"px"});let Re=re.fontMetrics(we).b,Fe=Math.round(we.getBBox(ye.useHTML).height);we.align(O({y:"bottom"===Me?Re:Pe+Re,height:Fe},ye),!1,"spacingBox"),ye.floating||("top"===Me?q[0]=Math.ceil(q[0]+Fe):"bottom"===Me&&(q[2]=Math.ceil(q[2]+Fe)))}},this),q[0]&&"top"===(this.options.title.verticalAlign||"top")&&(q[0]+=this.options.title.margin),q[2]&&"bottom"===this.options.caption.verticalAlign&&(q[2]+=this.options.caption.margin);let pe=!this.titleOffset||this.titleOffset.join(",")!==q.join(",");this.titleOffset=q,j(this,"afterLayOutTitles"),!this.isDirtyBox&&pe&&(this.isDirtyBox=this.isDirtyLegend=pe,this.hasRendered&&ie&&this.isDirtyBox&&this.redraw())}getContainerBox(){let ie=[].map.call(this.renderTo.children,re=>{if(re!==this.container){let le=re.style.display;return re.style.display="none",[re,le]}}),q={width:J(this.renderTo,"width",!0)||0,height:J(this.renderTo,"height",!0)||0};return ie.filter(Boolean).forEach(([re,le])=>{re.style.display=le}),q}getChartSize(){let ie=this.options.chart,q=ie.width,re=ie.height,le=this.getContainerBox(),pe=le.height>1&&!(!this.renderTo.parentElement?.style.height&&"100%"===this.renderTo.style.height);this.chartWidth=Math.max(0,q||le.width||600),this.chartHeight=Math.max(0,G(re,this.chartWidth)||(pe?le.height:400)),this.containerBox=le}temporaryDisplay(ie){let re,q=this.renderTo;if(ie)for(;q&&q.style;)q.hcOrigStyle&&(c(q,q.hcOrigStyle),delete q.hcOrigStyle),q.hcOrigDetached&&(S.body.removeChild(q),q.hcOrigDetached=!1),q=q.parentNode;else for(;q&&q.style&&(S.body.contains(q)||q.parentNode||(q.hcOrigDetached=!0,S.body.appendChild(q)),("none"===J(q,"display",!1)||q.hcOricDetached)&&(q.hcOrigStyle={display:q.style.display,height:q.style.height,overflow:q.style.overflow},re={display:"block",overflow:"hidden"},q!==this.renderTo&&(re.height=0),c(q,re),q.offsetWidth||q.style.setProperty("display","block","important")),(q=q.parentNode)!==S.body););}setClassName(ie){this.container.className="highcharts-container "+(ie||"")}getContainer(){let pe,ie=this.options,q=ie.chart,re="data-highcharts-chart",le=ue(),ge=this.renderTo;ge||(this.renderTo=ge=q.renderTo),X(ge)&&(this.renderTo=ge=S.getElementById(ge)),ge||x(13,!0,this);let we=_(h(ge,re));w(we)&&B[we]&&B[we].hasRendered&&B[we].destroy(),h(ge,re,this.index),ge.innerHTML=N.emptyHTML,q.skipClone||ge.offsetWidth||this.temporaryDisplay(),this.getChartSize();let ye=this.chartHeight,Me=this.chartWidth;c(ge,{overflow:"hidden"}),this.styledMode||(pe=O({position:"relative",overflow:"hidden",width:Me+"px",height:ye+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},q.style||{}));let Pe=d("div",{id:le},pe,ge);this.container=Pe,this.getChartSize(),Me===this.chartWidth||(Me=this.chartWidth,this.styledMode||c(Pe,{width:R(q.style?.width,Me+"px")})),this.containerBox=this.getContainerBox(),this._cursor=Pe.style.cursor;let Re=q.renderer||!b?he.getRendererType(q.renderer):ee;if(this.renderer=new Re(Pe,Me,ye,void 0,q.forExport,ie.exporting&&ie.exporting.allowHTML,this.styledMode),D(void 0,this),this.setClassName(q.className),this.styledMode)for(let Fe in ie.defs)this.renderer.definition(ie.defs[Fe]);else this.renderer.setStyle(q.style);this.renderer.chartIndex=this.index,j(this,"afterGetContainer")}getMargins(ie){let{spacing:q,margin:re,titleOffset:le}=this;this.resetMargins(),le[0]&&!f(re[0])&&(this.plotTop=Math.max(this.plotTop,le[0]+q[0])),le[2]&&!f(re[2])&&(this.marginBottom=Math.max(this.marginBottom,le[2]+q[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(re,q),j(this,"getMargins"),ie||this.getAxisMargins()}getAxisMargins(){let ie=this,q=ie.axisOffset=[0,0,0,0],re=ie.colorAxis,le=ie.margin,pe=function(ge){ge.forEach(function(we){we.visible&&we.getOffset()})};ie.hasCartesianSeries?pe(ie.axes):re&&re.length&&pe(re),p.forEach(function(ge,we){f(le[we])||(ie[ge]+=q[we])}),ie.setChartSize()}getOptions(){return u(this.userOptions,P)}reflow(ie){let q=this,re=q.containerBox,le=q.getContainerBox();delete q.pointer?.chartPosition,!q.isPrinting&&!q.isResizing&&re&&le.width&&((le.width!==re.width||le.height!==re.height)&&(W.clearTimeout(q.reflowTimeout),q.reflowTimeout=ae(function(){q.container&&q.setSize(void 0,void 0,!1)},ie?100:0)),q.containerBox=le)}setReflow(){let ie=this,q=re=>{ie.options?.chart.reflow&&ie.hasLoaded&&ie.reflow(re)};if("function"==typeof ResizeObserver)new ResizeObserver(q).observe(ie.renderTo);else{let re=o(l,"resize",q);o(this,"destroy",re)}}setSize(ie,q,re){let le=this,pe=le.renderer;le.isResizing+=1,D(re,le);let ge=pe.globalAnimation;le.oldChartHeight=le.chartHeight,le.oldChartWidth=le.chartWidth,void 0!==ie&&(le.options.chart.width=ie),void 0!==q&&(le.options.chart.height=q),le.getChartSize();let{chartWidth:we,chartHeight:ye,scrollablePixelsX:Me=0,scrollablePixelsY:Pe=0}=le;(le.isDirtyBox||we!==le.oldChartWidth||ye!==le.oldChartHeight)&&(le.styledMode||(ge?C:c)(le.container,{width:`${we+Me}px`,height:`${ye+Pe}px`},ge),le.setChartSize(!0),pe.setSize(we,ye,ge),le.axes.forEach(function(Re){Re.isDirty=!0,Re.setScale()}),le.isDirtyLegend=!0,le.isDirtyBox=!0,le.layOutTitles(),le.getMargins(),le.redraw(ge),le.oldChartHeight=void 0,j(le,"resize"),setTimeout(()=>{le&&j(le,"endResize")},A(ge).duration)),le.isResizing-=1}setChartSize(ie){let q,re,le,pe,{chartHeight:ge,chartWidth:we,inverted:ye,spacing:Me,renderer:Pe}=this,Re=this.clipOffset,Fe=Math[ye?"floor":"round"];this.plotLeft=q=Math.round(this.plotLeft),this.plotTop=re=Math.round(this.plotTop),this.plotWidth=le=Math.max(0,Math.round(we-q-this.marginRight)),this.plotHeight=pe=Math.max(0,Math.round(ge-re-this.marginBottom)),this.plotSizeX=ye?pe:le,this.plotSizeY=ye?le:pe,this.spacingBox=Pe.spacingBox={x:Me[3],y:Me[0],width:we-Me[3]-Me[1],height:ge-Me[0]-Me[2]},this.plotBox=Pe.plotBox={x:q,y:re,width:le,height:pe},Re&&(this.clipBox={x:Fe(Re[3]),y:Fe(Re[0]),width:Fe(this.plotSizeX-Re[1]-Re[3]),height:Fe(this.plotSizeY-Re[0]-Re[2])}),ie||(this.axes.forEach(function(De){De.setAxisSize(),De.setAxisTranslation()}),Pe.alignElements()),j(this,"afterSetChartSize",{skipAxes:ie})}resetMargins(){j(this,"resetMargins");let ie=this,q=ie.options.chart,re=q.plotBorderWidth||0,le=re/2;["margin","spacing"].forEach(function(pe){let ge=q[pe],we=E(ge)?ge:[ge,ge,ge,ge];["Top","Right","Bottom","Left"].forEach(function(ye,Me){ie[pe][Me]=R(q[pe+ye],we[Me])})}),p.forEach(function(pe,ge){ie[pe]=R(ie.margin[ge],ie.spacing[ge])}),ie.axisOffset=[0,0,0,0],ie.clipOffset=[le,le,le,le],ie.plotBorderWidth=re}drawChartBox(){let bt,Ht,zt,ie=this.options.chart,q=this.renderer,re=this.chartWidth,le=this.chartHeight,pe=this.styledMode,ge=this.plotBGImage,we=ie.backgroundColor,ye=ie.plotBackgroundColor,Me=ie.plotBackgroundImage,Pe=this.plotLeft,Re=this.plotTop,Fe=this.plotWidth,De=this.plotHeight,He=this.plotBox,ze=this.clipRect,Oe=this.clipBox,it=this.chartBackground,ot=this.plotBackground,rt=this.plotBorder,yt="animate";it||(this.chartBackground=it=q.rect().addClass("highcharts-background").add(),yt="attr"),pe?bt=Ht=it.strokeWidth():(Ht=(bt=ie.borderWidth||0)+(ie.shadow?8:0),zt={fill:we||"none"},(bt||it["stroke-width"])&&(zt.stroke=ie.borderColor,zt["stroke-width"]=bt),it.attr(zt).shadow(ie.shadow)),it[yt]({x:Ht/2,y:Ht/2,width:re-Ht-bt%2,height:le-Ht-bt%2,r:ie.borderRadius}),yt="animate",ot||(yt="attr",this.plotBackground=ot=q.rect().addClass("highcharts-plot-background").add()),ot[yt](He),!pe&&(ot.attr({fill:ye||"none"}).shadow(ie.plotShadow),Me&&(ge?(Me!==ge.attr("href")&&ge.attr("href",Me),ge.animate(He)):this.plotBGImage=q.image(Me,Pe,Re,Fe,De).add())),ze?ze.animate({width:Oe.width,height:Oe.height}):this.clipRect=q.clipRect(Oe),yt="animate",rt||(yt="attr",this.plotBorder=rt=q.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),pe||rt.attr({stroke:ie.plotBorderColor,"stroke-width":ie.plotBorderWidth||0,fill:"none"}),rt[yt](rt.crisp({x:Pe,y:Re,width:Fe,height:De},-rt.strokeWidth())),this.isDirtyBox=!1,j(this,"afterDrawChartBox")}propFromSeries(){let ie,q,re,le=this,pe=le.options.chart,ge=le.options.series;["inverted","angular","polar"].forEach(function(we){for(q=n[pe.type],re=pe[we]||q&&q.prototype[we],ie=ge&&ge.length;!re&&ie--;)(q=n[ge[ie].type])&&q.prototype[we]&&(re=!0);le[we]=re})}linkSeries(ie){let q=this,re=q.series;re.forEach(function(le){le.linkedSeries.length=0}),re.forEach(function(le){let{linkedTo:pe}=le.options;if(X(pe)){let ge;(ge=":previous"===pe?q.series[le.index-1]:q.get(pe))&&ge.linkedParent!==le&&(ge.linkedSeries.push(le),le.linkedParent=ge,ge.enabledDataSorting&&le.setDataSortingOptions(),le.visible=R(le.options.visible,ge.options.visible,le.visible))}}),j(this,"afterLinkSeries",{isUpdating:ie})}renderSeries(){this.series.forEach(function(ie){ie.translate(),ie.render()})}render(){let ye,ie=this.axes,q=this.colorAxis,re=this.renderer,le=this.options.chart.axisLayoutRuns||2,pe=Pe=>{Pe.forEach(Re=>{Re.visible&&Re.render()})},ge=0,we=!0,Me=0;for(let Pe of(this.setTitle(),j(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),ie)){let{options:Re}=Pe,{labels:Fe}=Re;if(this.hasCartesianSeries&&Pe.horiz&&Pe.visible&&Fe.enabled&&Pe.series.length&&"colorAxis"!==Pe.coll&&!this.polar){ge=Re.tickLength,Pe.createGroups();let De=new I(Pe,0,"",!0),He=De.createLabel("x",Fe);if(De.destroy(),He&&R(Fe.reserveSpace,!w(Re.crossing))&&(ge=He.getBBox().height+Fe.distance+Math.max(Re.offset||0,0)),ge){He?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-ge,0);(we||ye||le>1)&&Me<le;){let Pe=this.plotWidth,Re=this.plotHeight;for(let Fe of ie)0===Me?Fe.setScale():(Fe.horiz&&we||!Fe.horiz&&ye)&&Fe.setTickInterval(!0);0===Me?this.getAxisMargins():this.getMargins(),we=Pe/this.plotWidth>(Me?1:1.1),ye=Re/this.plotHeight>(Me?1:1.05),Me++}this.drawChartBox(),this.hasCartesianSeries?pe(ie):q&&q.length&&pe(q),this.seriesGroup||(this.seriesGroup=re.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(ie){let q=this,re=m(!0,this.options.credits,ie);re.enabled&&!this.credits&&(this.credits=this.renderer.text(re.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){re.href&&(l.location.href=re.href)}).attr({align:re.position.align,zIndex:8}),q.styledMode||this.credits.css(re.style),this.credits.add().align(re.position),this.credits.update=function(le){q.credits=q.credits.destroy(),q.addCredits(le)})}destroy(){let ie,q=this,re=q.axes,le=q.series,pe=q.container,ge=pe&&pe.parentNode;for(j(q,"destroy"),q.renderer.forExport?U(B,q):B[q.index]=void 0,de.chartCount--,q.renderTo.removeAttribute("data-highcharts-chart"),K(q),ie=re.length;ie--;)re[ie]=re[ie].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ie=le.length;ie--;)le[ie]=le[ie].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(we){let ye=q[we];ye&&ye.destroy&&(q[we]=ye.destroy())}),pe&&(pe.innerHTML=N.emptyHTML,K(pe),ge&&M(pe)),F(q,function(we,ye){delete q[ye]})}firstRender(){let ie=this,q=ie.options;ie.getContainer(),ie.resetMargins(),ie.setChartSize(),ie.propFromSeries(),ie.getAxes();let re=y(q.series)?q.series:[];q.series=[],re.forEach(function(le){ie.initSeries(le)}),ie.linkSeries(),ie.setSortedData(),j(ie,"beforeRender"),ie.render(),ie.pointer?.getChartPosition(),ie.renderer.imgCount||ie.hasLoaded||ie.onload(),ie.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(ie){ie&&void 0!==this.index&&ie.apply(this,[this])},this),j(this,"load"),j(this,"render"),f(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:ie,title:q}=this;!ie||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(q&&q.element.textContent||"").replace(/</g,"&lt;")}),ie.accessibility&&!1===ie.accessibility.enabled||x('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(ie,q,re){let le,pe=this;return ie&&(q=R(q,!0),j(pe,"addSeries",{options:ie},function(){le=pe.initSeries(ie),pe.isDirtyLegend=!0,pe.linkSeries(),le.enabledDataSorting&&le.setData(ie.data,!1),j(pe,"afterAddSeries",{series:le}),q&&pe.redraw(re)})),le}addAxis(ie,q,re,le){return this.createAxis(q?"xAxis":"yAxis",{axis:ie,redraw:re,animation:le})}addColorAxis(ie,q,re){return this.createAxis("colorAxis",{axis:ie,redraw:q,animation:re})}createAxis(ie,q){let re=new ce(this,q.axis,ie);return R(q.redraw,!0)&&this.redraw(q.animation),re}showLoading(ie){let q=this,re=q.options,le=re.loading,pe=function(){ge&&c(ge,{left:q.plotLeft+"px",top:q.plotTop+"px",width:q.plotWidth+"px",height:q.plotHeight+"px"})},ge=q.loadingDiv,we=q.loadingSpan;ge||(q.loadingDiv=ge=d("div",{className:"highcharts-loading highcharts-loading-hidden"},null,q.container)),we||(q.loadingSpan=we=d("span",{className:"highcharts-loading-inner"},null,ge),o(q,"redraw",pe)),ge.className="highcharts-loading",N.setElementHTML(we,R(ie,re.lang.loading,"")),q.styledMode||(c(ge,O(le.style,{zIndex:10})),c(we,le.labelStyle),q.loadingShown||(c(ge,{opacity:0,display:""}),C(ge,{opacity:le.style.opacity||.5},{duration:le.showDuration||0}))),q.loadingShown=!0,pe()}hideLoading(){let ie=this.options,q=this.loadingDiv;q&&(q.className="highcharts-loading highcharts-loading-hidden",this.styledMode||C(q,{opacity:0},{duration:ie.loading.hideDuration||100,complete:function(){c(q,{display:"none"})}})),this.loadingShown=!1}update(ie,q,re,le){let pe,ge,we,ye=this,Me={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Pe=ie.isResponsiveOptions,Re=[];j(ye,"update",{options:ie}),Pe||ye.setResponsive(!1,!0),ie=u(ie,ye.options),ye.userOptions=m(ye.userOptions,ie);let Fe=ie.chart;Fe&&(m(!0,ye.options.chart,Fe),this.setZoomOptions(),"className"in Fe&&ye.setClassName(Fe.className),("inverted"in Fe||"polar"in Fe||"type"in Fe)&&(ye.propFromSeries(),pe=!0),"alignTicks"in Fe&&(pe=!0),"events"in Fe&&H(this,Fe),F(Fe,function(ze,Oe){-1!==ye.propsRequireUpdateSeries.indexOf("chart."+Oe)&&(ge=!0),-1!==ye.propsRequireDirtyBox.indexOf(Oe)&&(ye.isDirtyBox=!0),-1===ye.propsRequireReflow.indexOf(Oe)||(ye.isDirtyBox=!0,Pe||(we=!0))}),!ye.styledMode&&Fe.style&&ye.renderer.setStyle(ye.options.chart.style||{})),!ye.styledMode&&ie.colors&&(this.options.colors=ie.colors),ie.time&&(this.time===v&&(this.time=new L(ie.time)),m(!0,ye.options.time,ie.time)),F(ie,function(ze,Oe){ye[Oe]&&"function"==typeof ye[Oe].update?ye[Oe].update(ze,!1):"function"==typeof ye[Me[Oe]]?ye[Me[Oe]](ze):"colors"!==Oe&&-1===ye.collectionsWithUpdate.indexOf(Oe)&&m(!0,ye.options[Oe],ie[Oe]),"chart"!==Oe&&-1!==ye.propsRequireUpdateSeries.indexOf(Oe)&&(ge=!0)}),this.collectionsWithUpdate.forEach(function(ze){ie[ze]&&(oe(ie[ze]).forEach(function(Oe,it){let ot,rt=f(Oe.id);rt&&(ot=ye.get(Oe.id)),!ot&&ye[ze]&&(ot=ye[ze][R(Oe.index,it)])&&(rt&&f(ot.options.id)||ot.options.isInternal)&&(ot=void 0),ot&&ot.coll===ze&&(ot.update(Oe,!1),re&&(ot.touched=!0)),!ot&&re&&ye.collectionsWithInit[ze]&&(ye.collectionsWithInit[ze][0].apply(ye,[Oe].concat(ye.collectionsWithInit[ze][1]||[]).concat([!1])).touched=!0)}),re&&ye[ze].forEach(function(Oe){Oe.touched||Oe.options.isInternal?delete Oe.touched:Re.push(Oe)}))}),Re.forEach(function(ze){ze.chart&&ze.remove&&ze.remove(!1)}),pe&&ye.axes.forEach(function(ze){ze.update({},!1)}),ge&&ye.getSeriesOrderByLinks().forEach(function(ze){ze.chart&&ze.update({},!1)},this);let De=Fe&&Fe.width,He=Fe&&(X(Fe.height)?G(Fe.height,De||ye.chartWidth):Fe.height);we||w(De)&&De!==ye.chartWidth||w(He)&&He!==ye.chartHeight?ye.setSize(De,He,le):R(q,!0)&&ye.redraw(le),j(ye,"afterUpdate",{options:ie,redraw:q,animation:le})}setSubtitle(ie,q){this.applyDescription("subtitle",ie),this.layOutTitles(q)}setCaption(ie,q){this.applyDescription("caption",ie),this.layOutTitles(q)}showResetZoom(){let ie=this,q=P.lang,re=ie.zooming.resetButton,le=re.theme,pe="chart"===re.relativeTo||"spacingBox"===re.relativeTo?null:"plotBox";function ge(){ie.zoomOut()}j(this,"beforeShowResetZoom",null,function(){ie.resetZoomButton=ie.renderer.button(q.resetZoom,null,null,ge,le).attr({align:re.position.align,title:q.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(re.position,!1,pe)}),j(this,"afterShowResetZoom")}zoomOut(){j(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(ie,q){let re=this,le="object"==typeof q?q:{enabled:q,type:"x"},pe=le.type,ge=pe&&re[{x:"xAxis",xy:"axes",y:"yAxis"}[pe]].filter(ye=>ye.options.panningEnabled&&!ye.options.isInternal),we=re.options.chart;we?.panning&&(we.panning=le),j(this,"pan",{originalEvent:ie},()=>{re.transform({axes:ge,event:ie,to:{x:ie.chartX-(re.mouseDownX||0),y:ie.chartY-(re.mouseDownY||0)},trigger:"pan"}),c(re.container,{cursor:"move"})})}transform(ie){let Re,Fe,{axes:q=this.axes,event:re,from:le={},reset:pe,selection:ge,to:we={},trigger:ye}=ie,{inverted:Me}=this,Pe=!1;for(let De of(this.hoverPoints?.forEach(He=>He.setState()),q)){let{horiz:He,len:ze,minPointOffset:Oe=0,options:it,reversed:ot}=De,rt=He?"width":"height",bt=He?"x":"y",Ht=R(we[rt],De.len),zt=R(le[rt],De.len),yt=10>Math.abs(Ht)?1:Ht/zt,hi=(le[bt]||0)+zt/2-De.pos,Zt=hi-((we[bt]??De.pos)+Ht/2-De.pos)/yt,Ei=ot&&!Me||!ot&&Me?-1:1;if(!pe&&(hi<0||hi>De.len))continue;let _t=De.toValue(Zt,!0)+(ge||De.isOrdinal?0:Oe*Ei),Ut=De.toValue(Zt+ze/yt,!0)-(ge||De.isOrdinal?0:Oe*Ei||0),si=De.allExtremes;if(_t>Ut&&([_t,Ut]=[Ut,_t]),1===yt&&!pe&&"yAxis"===De.coll&&!si){for(let Ks of De.series){let Ni=Ks.getExtremes(Ks.getProcessedData(!0).yData,!0);si??(si={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),w(Ni.dataMin)&&w(Ni.dataMax)&&(si.dataMin=Math.min(Ni.dataMin,si.dataMin),si.dataMax=Math.max(Ni.dataMax,si.dataMax))}De.allExtremes=si}let{dataMin:Wr,dataMax:jr,min:cs,max:ss}=O(De.getExtremes(),si||{}),Ys=Wr??it.min,$s=jr??it.max,Fi=Ut-_t,zs=De.categories?0:Math.min(Fi,$s-Ys),ds=Ys-zs*(f(it.min)?0:it.minPadding),us=$s+zs*(f(it.max)?0:it.maxPadding),_s=De.allowZoomOutside||1===yt||"zoom"!==ye&&yt>1,Bi=Math.min(it.min??ds,ds,_s?cs:ds),Vi=Math.max(it.max??us,us,_s?ss:us);(!De.isOrdinal||De.options.overscroll||1!==yt||pe)&&(_t<Bi&&(_t=Bi,yt>=1&&(Ut=_t+Fi)),Ut>Vi&&(Ut=Vi,yt>=1&&(_t=Ut-Fi)),(pe||De.series.length&&(_t!==cs||Ut!==ss)&&_t>=Bi&&Ut<=Vi)&&(ge?ge[De.coll].push({axis:De,min:_t,max:Ut}):(De.isPanning="zoom"!==ye,De.isPanning&&(Fe=!0),De.setExtremes(pe?void 0:_t,pe?void 0:Ut,!1,!1,{move:Zt,trigger:ye,scale:yt}),!pe&&(_t>Bi||Ut<Vi)&&"mousewheel"!==ye&&(Re=!0)),Pe=!0),re&&(this[He?"mouseDownX":"mouseDownY"]=re[He?"chartX":"chartY"]))}return Pe&&(ge?j(this,"selection",ge,()=>{delete ie.selection,ie.trigger="zoom",this.transform(ie)}):(!Re||Fe||this.resetZoomButton?!Re&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw("zoom"===ye&&(this.options.chart.animation??this.pointCount<100)))),Pe}}return O(be.prototype,{callbacks:[],collectionsWithInit:{xAxis:[be.prototype.addAxis,[!0]],yAxis:[be.prototype.addAxis,[!1]],series:[be.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),be}),Ne(Y,"Extensions/ScrollablePlotArea.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{stop:me}=Z,{composed:de}=ce,{addEvent:he,createElement:Q,css:te,defined:ee,merge:L,pushUnique:W}=ve;function N(){let A=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!A&&(this.scrollablePlotArea=A=new C(this)),A?.applyFixed()}function I(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class C{static compose(D,P,v){W(de,this.compose)&&(he(D,"afterInit",I),he(P,"afterSetChartSize",T=>this.afterSetSize(T.target,T)),he(P,"render",N),he(v,"show",I))}static afterSetSize(D,P){let v,T,H,{minWidth:B,minHeight:S}=D.options.chart.scrollablePlotArea||{},{clipBox:p,plotBox:b,inverted:l,renderer:n}=D;if(!n.forExport&&(B?(D.scrollablePixelsX=v=Math.max(0,B-D.chartWidth),v&&(D.scrollablePlotBox=L(D.plotBox),b.width=D.plotWidth+=v,p[l?"height":"width"]+=v,H=!0)):S&&(D.scrollablePixelsY=T=Math.max(0,S-D.chartHeight),ee(T)&&(D.scrollablePlotBox=L(D.plotBox),b.height=D.plotHeight+=T,p[l?"width":"height"]+=T,H=!1)),ee(H)&&!P.skipAxes))for(let o of D.axes)o.horiz===H&&(o.setAxisSize(),o.setAxisTranslation())}constructor(D){let P,v=D.options.chart,T=xe.getRendererType(),H=v.scrollablePlotArea||{},B=this.moveFixedElements.bind(this),S={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};D.scrollablePixelsX&&(S.overflowX="auto"),D.scrollablePixelsY&&(S.overflowY="auto"),this.chart=D;let p=this.parentDiv=Q("div",{className:"highcharts-scrolling-parent"},{position:"relative"},D.renderTo),b=this.scrollingContainer=Q("div",{className:"highcharts-scrolling"},S,p),l=this.innerContainer=Q("div",{className:"highcharts-inner-container"},void 0,b),n=this.fixedDiv=Q("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(v.style?.zIndex||0)+2,top:0},void 0,!0),o=this.fixedRenderer=new T(n,D.chartWidth,D.chartHeight,v.style);this.mask=o.path().attr({fill:v.backgroundColor||"#fff","fill-opacity":H.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),b.parentNode.insertBefore(n,b),te(D.renderTo,{overflow:"visible"}),he(D,"afterShowResetZoom",B),he(D,"afterApplyDrilldown",B),he(D,"afterLayOutTitles",B),he(b,"scroll",()=>{let{pointer:h,hoverPoint:d}=D;h&&(delete h.chartPosition,d&&(P=d),h.runPointActions(void 0,P,!0))}),l.appendChild(D.container)}applyFixed(){let{chart:D,fixedRenderer:P,isDirty:v,scrollingContainer:T}=this,{axisOffset:H,chartWidth:B,chartHeight:S,container:p,plotHeight:b,plotLeft:l,plotTop:n,plotWidth:o,scrollablePixelsX:h=0,scrollablePixelsY:d=0}=D,{scrollPositionX:c=0,scrollPositionY:f=0}=D.options.chart.scrollablePlotArea||{},u=B+h,M=S+d;P.setSize(B,S),(v??!0)&&(this.isDirty=!1,this.moveFixedElements()),me(D.container),te(p,{width:`${u}px`,height:`${M}px`}),D.renderer.boxWrapper.attr({width:u,height:M,viewBox:[0,0,u,M].join(" ")}),D.chartBackground?.attr({width:u,height:M}),te(T,{width:`${B}px`,height:`${S}px`}),ee(v)||(T.scrollLeft=h*c,T.scrollTop=d*f);let U=n-H[0]-1,x=l-H[3]-1,O=n+b+H[2]+1,z=l+o+H[1]+1,j=l+o-h,J=n+b-d,y=[["M",0,0]];h?y=[["M",0,U],["L",l-1,U],["L",l-1,O],["L",0,O],["Z"],["M",j,U],["L",B,U],["L",B,O],["L",j,O],["Z"]]:d&&(y=[["M",x,0],["L",x,n-1],["L",z,n-1],["L",z,0],["Z"],["M",x,J],["L",x,S],["L",z,S],["L",z,J],["Z"]]),"adjustHeight"!==D.redrawTrigger&&this.mask.attr({d:y})}moveFixedElements(){let D,{container:P,inverted:v,scrollablePixelsX:T,scrollablePixelsY:H}=this.chart,B=this.fixedRenderer,S=C.fixedSelectors;for(let p of(T&&!v?D=".highcharts-yaxis":T&&v||H&&!v?D=".highcharts-xaxis":H&&v&&(D=".highcharts-yaxis"),D&&S.push(`${D}:not(.highcharts-radial-axis)`,`${D}-labels:not(.highcharts-radial-axis-labels)`),S))[].forEach.call(P.querySelectorAll(p),b=>{(b.namespaceURI===B.SVG_NS?B.box:B.box.parentNode).appendChild(b),b.style.pointerEvents="auto"})}}return C.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],C}),Ne(Y,"Core/Axis/Stacking/StackItem.js",[Y["Core/Templating.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{format:ve}=Z,{series:me}=ce,{destroyObjectProperties:de,fireEvent:he,isNumber:Q,pick:te}=xe;return class{constructor(ee,L,W,N,I){let C=ee.chart.inverted,A=ee.reversed;this.axis=ee;let D=this.isNegative=!!W!=!!A;this.options=L=L||{},this.x=N,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=I,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:L.align||(C?D?"left":"right":"center"),verticalAlign:L.verticalAlign||(C?"middle":D?"bottom":"top"),y:L.y,x:L.x},this.textAlign=L.textAlign||(C?D?"right":"left":"center")}destroy(){de(this,this.axis)}render(ee){let L=this.axis.chart,W=this.options,N=W.format,I=N?ve(N,this,L):W.formatter.call(this);if(this.label)this.label.attr({text:I,visibility:"hidden"});else{this.label=L.renderer.label(I,null,void 0,W.shape,void 0,void 0,W.useHTML,!1,"stack-labels");let C={r:W.borderRadius||0,text:I,padding:te(W.padding,5),visibility:"hidden"};L.styledMode||(C.fill=W.backgroundColor,C.stroke=W.borderColor,C["stroke-width"]=W.borderWidth,this.label.css(W.style||{})),this.label.attr(C),this.label.added||this.label.add(ee)}this.label.labelrank=L.plotSizeY,he(this,"afterRender")}setOffset(ee,L,W,N,I,C){let{alignOptions:A,axis:D,label:P,options:v,textAlign:T}=this,H=D.chart,B=this.getStackBox({xOffset:ee,width:L,boxBottom:W,boxTop:N,defaultX:I,xAxis:C}),{verticalAlign:S}=A;if(P&&B){let n,p=P.getBBox(void 0,0),b=P.padding,l="justify"===te(v.overflow,"justify");A.x=v.x||0,A.y=v.y||0;let{x:o,y:h}=this.adjustStackPosition({labelBox:p,verticalAlign:S,textAlign:T});B.x-=o,B.y-=h,P.align(A,!1,B),(n=H.isInsidePlot(P.alignAttr.x+A.x+o,P.alignAttr.y+A.y+h))||(l=!1),l&&me.prototype.justifyDataLabel.call(D,P,A,P.alignAttr,p,B),P.attr({x:P.alignAttr.x,y:P.alignAttr.y,rotation:v.rotation,rotationOriginX:p.width*{left:0,center:.5,right:1}[v.textAlign||"center"],rotationOriginY:p.height/2}),te(!l&&v.crop,!0)&&(n=Q(P.x)&&Q(P.y)&&H.isInsidePlot(P.x-b+(P.width||0),P.y)&&H.isInsidePlot(P.x+b,P.y)),P[n?"show":"hide"]()}he(this,"afterSetOffset",{xOffset:ee,width:L})}adjustStackPosition({labelBox:ee,verticalAlign:L,textAlign:W}){let N={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:ee.width/2+ee.width/2*N[W],y:ee.height/2*N[L]}}getStackBox(ee){let L=this.axis,W=L.chart,{boxTop:N,defaultX:I,xOffset:C,width:A,boxBottom:D}=ee,P=L.stacking.usePercentage?100:te(N,this.total,0),v=L.toPixels(P),T=ee.xAxis||W.xAxis[0],H=te(I,T.translate(this.x))+C,B=Math.abs(v-L.toPixels(D||Q(L.min)&&L.logarithmic&&L.logarithmic.lin2log(L.min)||0)),p=this.isNegative;return W.inverted?{x:(p?v:v-B)-W.plotLeft,y:T.height-H-A+T.top-W.plotTop,width:B,height:A}:{x:H+T.transB-W.plotLeft,y:(p?v-B:v)-W.plotTop,width:A,height:B}}}}),Ne(Y,"Core/Axis/Stacking/StackingAxis.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/Axis.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Axis/Stacking/StackItem.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){var de;let{getDeferredAnimation:he}=Z,{series:{prototype:Q}}=xe,{addEvent:te,correctFloat:ee,defined:L,destroyObjectProperties:W,fireEvent:N,isArray:I,isNumber:C,objectEach:A,pick:D}=me;function P(){let n=this.inverted;this.axes.forEach(o=>{o.stacking&&o.stacking.stacks&&o.hasVisibleSeries&&(o.stacking.oldStacks=o.stacking.stacks)}),this.series.forEach(o=>{let h=o.xAxis&&o.xAxis.options||{};o.options.stacking&&o.reserveSpace()&&(o.stackKey=[o.type,D(o.options.stack,""),n?h.top:h.left,n?h.height:h.width].join(","))})}function v(){let n=this.stacking;if(n){let o=n.stacks;A(o,(h,d)=>{W(h),delete o[d]}),n.stackTotalGroup?.destroy()}}function T(){this.stacking||(this.stacking=new l(this))}function H(n,o,h,d){return!L(n)||n.x!==o||d&&n.stackKey!==d?n={x:o,index:0,key:d,stackKey:d}:n.index++,n.key=[h,o,n.index].join(","),n}function B(){let n,o=this,d=o.stackKey||"",c=o.yAxis.stacking.stacks,f=o.processedXData,M=o[o.options.stacking+"Stacker"];M&&[d,"-"+d].forEach(U=>{let O,z,j,x=f.length;for(;x--;)O=f[x],n=o.getStackIndicator(n,O,o.index,U),z=c[U]?.[O],(j=z?.points[n.key||""])&&M.call(o,j,z,x)})}function S(n,o,h){let d=o.total?100/o.total:0;n[0]=ee(n[0]*d),n[1]=ee(n[1]*d),this.stackedYData[h]=n[1]}function p(n){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?Q.setStackedPoints.call(this,n,"group"):n.stacking.resetStacks())}function b(n,o){let h,d,c,f,u,M,U,x,O,z=o||this.options.stacking;if(!z||!this.reserveSpace()||({group:"xAxis"}[z]||"yAxis")!==n.coll)return;let j=this.processedXData,J=this.processedYData,y=[],w=J.length,E=this.options,X=E.threshold||0,m=E.startFromThreshold?X:0,F=E.stack,R=o?`${this.type},${z}`:this.stackKey||"",_="-"+R,G=this.negStacks,K=n.stacking,oe=K.stacks,ae=K.oldStacks;for(K.stacksTouched+=1,U=0;U<w;U++){x=j[U],O=J[U],M=(h=this.getStackIndicator(h,x,this.index)).key||"",oe[u=(d=G&&O<(m?0:X))?_:R]||(oe[u]={}),oe[u][x]||(ae[u]?.[x]?(oe[u][x]=ae[u][x],oe[u][x].total=null):oe[u][x]=new ve(n,n.options.stackLabels,!!d,x,F)),c=oe[u][x],null!==O?(c.points[M]=c.points[this.index]=[D(c.cumulative,m)],L(c.cumulative)||(c.base=M),c.touched=K.stacksTouched,h.index>0&&!1===this.singleStacks&&(c.points[M][0]=c.points[this.index+","+x+",0"][0])):(delete c.points[M],delete c.points[this.index]);let ue=c.total||0;"percent"===z?(f=d?R:_,ue=G&&oe[f]?.[x]?(f=oe[f][x]).total=Math.max(f.total||0,ue)+Math.abs(O)||0:ee(ue+(Math.abs(O)||0))):"group"===z?(I(O)&&(O=O[0]),null!==O&&ue++):ue=ee(ue+(O||0)),c.cumulative="group"===z?(ue||1)-1:ee(D(c.cumulative,m)+(O||0)),c.total=ue,null!==O&&(c.points[M].push(c.cumulative),y[U]=c.cumulative,c.hasValidPoints=!0)}"percent"===z&&(K.usePercentage=!0),"group"!==z&&(this.stackedYData=y),K.oldStacks={}}class l{constructor(o){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=o}buildStacks(){let o,h,d=this.axis,c=d.series,f="xAxis"===d.coll,u=d.options.reversedStacks,M=c.length;for(this.resetStacks(),this.usePercentage=!1,h=M;h--;)o=c[u?h:M-h-1],f&&o.setGroupedPoints(d),o.setStackedPoints(d);if(!f)for(h=0;h<M;h++)c[h].modifyStacks();N(d,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,A(this.stacks,o=>{A(o,h=>{h.cumulative=h.total})}))}resetStacks(){A(this.stacks,o=>{A(o,(h,d)=>{C(h.touched)&&h.touched<this.stacksTouched?(h.destroy(),delete o[d]):(h.total=null,h.cumulative=null)})})}renderStackTotals(){let o=this.axis,h=o.chart,d=h.renderer,c=this.stacks,f=he(h,o.options.stackLabels?.animation||!1),u=this.stackTotalGroup=this.stackTotalGroup||d.g("stack-labels").attr({zIndex:6,opacity:0}).add();u.translate(h.plotLeft,h.plotTop),A(c,M=>{A(M,U=>{U.render(u)})}),u.animate({opacity:1},f)}}return(de||(de={})).compose=function(n,o,h){let d=o.prototype,c=h.prototype;d.getStacks||(te(n,"init",T),te(n,"destroy",v),d.getStacks=P,c.getStackIndicator=H,c.modifyStacks=B,c.percentStacker=S,c.setGroupedPoints=p,c.setStackedPoints=b)},de}),Ne(Y,"Series/Line/LineSeries.js",[Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{defined:ve,merge:me,isObject:de}=xe;class he extends Z{drawGraph(){let te=this.options,ee=(this.gappedPath||this.getGraphPath).call(this),L=this.chart.styledMode;[this,...this.zones].forEach((W,N)=>{let I,C=W.graph,A=C?"animate":"attr",D=W.dashStyle||te.dashStyle;C?(C.endX=this.preventGraphAnimation?null:ee.xMap,C.animate({d:ee})):ee.length&&(W.graph=C=this.chart.renderer.path(ee).addClass("highcharts-graph"+(N?` highcharts-zone-graph-${N-1} `:" ")+(N&&W.className||"")).attr({zIndex:1}).add(this.group)),C&&!L&&(I={stroke:!N&&te.lineColor||W.color||this.color||"#cccccc","stroke-width":te.lineWidth||0,fill:this.fillGraph&&this.color||"none"},D?I.dashstyle=D:"square"!==te.linecap&&(I["stroke-linecap"]=I["stroke-linejoin"]="round"),C[A](I).shadow(N<2&&te.shadow&&me({filterUnits:"userSpaceOnUse"},de(te.shadow)?te.shadow:{}))),C&&(C.startX=ee.xMap,C.isArea=ee.isArea)})}getGraphPath(te,ee,L){let A,W=this,N=W.options,I=[],C=[],D=N.step,P=(te=te||W.points).reversed;return P&&te.reverse(),(D={right:1,center:2}[D]||D&&3)&&P&&(D=4-D),(te=this.getValidPoints(te,!1,!(N.connectNulls&&!ee&&!L))).forEach(function(v,T){let H,B=v.plotX,S=v.plotY,p=te[T-1],b=v.isNull||"number"!=typeof S;(v.leftCliff||p&&p.rightCliff)&&!L&&(A=!0),b&&!ve(ee)&&T>0?A=!N.connectNulls:b&&!ee?A=!0:(0===T||A?H=[["M",v.plotX,v.plotY]]:W.getPointSpline?H=[W.getPointSpline(te,v,T)]:D?(H=1===D?[["L",p.plotX,S]]:2===D?[["L",(p.plotX+B)/2,p.plotY],["L",(p.plotX+B)/2,S]]:[["L",B,p.plotY]]).push(["L",B,S]):H=[["L",B,S]],C.push(v.x),D&&(C.push(v.x),2===D&&C.push(v.x)),I.push.apply(I,H),A=!1)}),I.xMap=C,W.graphPath=I,I}}return he.defaultOptions=me(Z.defaultOptions,{legendSymbol:"lineMarker"}),ce.registerSeriesType("line",he),he}),Ne(Y,"Series/Area/AreaSeriesDefaults.js",[],function(){return{threshold:0,legendSymbol:"areaMarker"}}),Ne(Y,"Series/Area/AreaSeries.js",[Y["Series/Area/AreaSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{seriesTypes:{line:ve}}=ce,{extend:me,merge:de,objectEach:he,pick:Q}=xe;class te extends ve{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:L,options:W}=this;[this,...this.zones].forEach((N,I)=>{let C={},A=N.fillColor||W.fillColor,D=N.area,P=D?"animate":"attr";D?(D.endX=this.preventGraphAnimation?null:L.xMap,D.animate({d:L})):(C.zIndex=0,(D=N.area=this.chart.renderer.path(L).addClass("highcharts-area"+(I?` highcharts-zone-area-${I-1} `:" ")+(I&&N.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(C.fill=A||N.color||this.color,C["fill-opacity"]=A?1:W.fillOpacity??.75,D.css({pointerEvents:this.stickyTracking?"none":"auto"})),D[P](C),D.startX=L.xMap,D.shiftUnit=W.step?2:1})}getGraphPath(L){let W,N,I,C=ve.prototype.getGraphPath,A=this.options,D=A.stacking,P=this.yAxis,v=[],T=[],H=this.index,B=P.stacking.stacks[this.stackKey],S=A.threshold,p=Math.round(P.getThreshold(A.threshold)),b=Q(A.connectNulls,"percent"===D),l=function(f,u,M){let j,J,U=L[f],x=D&&B[U.x].points[H],O=U[M+"Null"]||0,z=U[M+"Cliff"]||0,y=!0;z||O?(j=(O?x[0]:x[1])+z,J=x[0]+z,y=!!O):!D&&L[u]&&L[u].isNull&&(j=J=S),void 0!==j&&(T.push({plotX:W,plotY:null===j?p:P.getThreshold(j),isNull:y,isCliff:!0}),v.push({plotX:W,plotY:null===J?p:P.getThreshold(J),doCurve:!1}))};L=L||this.points,D&&(L=this.getStackPoints(L));for(let f=0,u=L.length;f<u;++f)D||(L[f].leftCliff=L[f].rightCliff=L[f].leftNull=L[f].rightNull=void 0),N=L[f].isNull,W=Q(L[f].rectPlotX,L[f].plotX),I=D?Q(L[f].yBottom,p):p,N&&!b||(b||l(f,f-1,"left"),N&&!D&&b||(T.push(L[f]),v.push({x:f,plotX:W,plotY:I})),b||l(f,f+1,"right"));let n=C.call(this,T,!0,!0);v.reversed=!0;let o=C.call(this,v,!0,!0),h=o[0];h&&"M"===h[0]&&(o[0]=["L",h[1],h[2]]);let d=n.concat(o);d.length&&d.push(["Z"]);let c=C.call(this,T,!1,b);return this.chart.series.length>1&&D&&T.some(f=>f.isCliff)&&(d.hasStackedCliffs=c.hasStackedCliffs=!0),d.xMap=n.xMap,this.areaPath=d,c}getStackPoints(L){let W=this,N=[],I=[],C=this.xAxis,A=this.yAxis,D=A.stacking.stacks[this.stackKey],P={},v=A.series,T=v.length,H=A.options.reversedStacks?1:-1,B=v.indexOf(W);if(L=L||this.points,this.options.stacking){for(let p=0;p<L.length;p++)L[p].leftNull=L[p].rightNull=void 0,P[L[p].x]=L[p];he(D,function(p,b){null!==p.total&&I.push(b)}),I.sort(function(p,b){return p-b});let S=v.map(p=>p.visible);I.forEach(function(p,b){let n,o,l=0;if(P[p]&&!P[p].isNull)N.push(P[p]),[-1,1].forEach(function(h){let d=1===h?"rightNull":"leftNull",c=D[I[b+h]],f=0;if(c){let u=B;for(;u>=0&&u<T;){let M=v[u].index;!(n=c.points[M])&&(M===W.index?P[p][d]=!0:S[u]&&(o=D[p].points[M])&&(f-=o[1]-o[0])),u+=H}}P[p][1===h?"rightCliff":"leftCliff"]=f});else{let h=B;for(;h>=0&&h<T;){if(n=D[p].points[v[h].index]){l=n[1];break}h+=H}l=Q(l,0),l=A.translate(l,0,1,0,1),N.push({isNull:!0,plotX:C.translate(p,0,0,0,1),x:p,plotY:l,yBottom:l})}})}return N}}return te.defaultOptions=de(ve.defaultOptions,Z),me(te.prototype,{singleStacks:!1}),ce.registerSeriesType("area",te),te}),Ne(Y,"Series/Spline/SplineSeries.js",[Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce){let{line:xe}=Z.seriesTypes,{merge:ve,pick:me}=ce;class de extends xe{getPointSpline(Q,te,ee){let L,W,N,I,C=te.plotX||0,A=te.plotY||0,D=Q[ee-1],P=Q[ee+1];function v(H){return H&&!H.isNull&&!1!==H.doCurve&&!te.isCliff}if(v(D)&&v(P)){let B=D.plotY||0,p=P.plotY||0,b=0;L=(1.5*C+(D.plotX||0))/2.5,W=(1.5*A+B)/2.5,N=(1.5*C+(P.plotX||0))/2.5,I=(1.5*A+p)/2.5,N!==L&&(b=(I-W)*(N-C)/(N-L)+A-I),W+=b,I+=b,W>B&&W>A?(W=Math.max(B,A),I=2*A-W):W<B&&W<A&&(W=Math.min(B,A),I=2*A-W),I>p&&I>A?(I=Math.max(p,A),W=2*A-I):I<p&&I<A&&(I=Math.min(p,A),W=2*A-I),te.rightContX=N,te.rightContY=I,te.controlPoints={low:[L,W],high:[N,I]}}let T=["C",me(D.rightContX,D.plotX,0),me(D.rightContY,D.plotY,0),me(L,C,0),me(W,A,0),C,A];return D.rightContX=D.rightContY=void 0,T}}return de.defaultOptions=ve(xe.defaultOptions),Z.registerSeriesType("spline",de),de}),Ne(Y,"Series/AreaSpline/AreaSplineSeries.js",[Y["Series/Spline/SplineSeries.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{area:ve,area:{prototype:me}}=ce.seriesTypes,{extend:de,merge:he}=xe;class Q extends Z{}return Q.defaultOptions=he(Z.defaultOptions,ve.defaultOptions),de(Q.prototype,{getGraphPath:me.getGraphPath,getStackPoints:me.getStackPoints,drawGraph:me.drawGraph}),ce.registerSeriesType("areaspline",Q),Q}),Ne(Y,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),Ne(Y,"Series/Column/ColumnSeries.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Color/Color.js"],Y["Series/Column/ColumnSeriesDefaults.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he){let{animObject:Q}=Z,{parse:te}=ce,{noop:ee}=ve,{clamp:L,crisp:W,defined:N,extend:I,fireEvent:C,isArray:A,isNumber:D,merge:P,pick:v,objectEach:T}=he;class H extends me{animate(S){let p,b,l=this,n=this.yAxis,o=n.pos,h=n.reversed,d=l.options,{clipOffset:c,inverted:f}=this.chart,u={},M=f?"translateX":"translateY";S&&c?(u.scaleY=.001,b=L(n.toPixels(d.threshold),o,o+n.len),f?(b+=h?-Math.floor(c[0]):Math.ceil(c[2]),u.translateX=b-n.len):(b+=h?Math.ceil(c[0]):-Math.floor(c[2]),u.translateY=b),l.clipBox&&l.setClip(),l.group.attr(u)):(p=Number(l.group.attr(M)),l.group.animate({scaleY:1},I(Q(l.options.animation),{step:function(U,x){l.group&&(u[M]=p+x.pos*(o-p),l.group.attr(u))}})))}init(S,p){super.init.apply(this,arguments);let b=this;(S=b.chart).hasRendered&&S.series.forEach(function(l){l.type===b.type&&(l.isDirty=!0)})}getColumnMetrics(){let d,S=this,p=S.options,b=S.xAxis,l=S.yAxis,n=b.options.reversedStacks,o=b.reversed&&!n||!b.reversed&&n,h={},c=0;!1===p.grouping?c=1:S.chart.series.forEach(function(O){let z,j=O.yAxis,J=O.options;O.type===S.type&&O.reserveSpace()&&l.len===j.len&&l.pos===j.pos&&(J.stacking&&"group"!==J.stacking?(void 0===h[d=O.stackKey]&&(h[d]=c++),z=h[d]):!1!==J.grouping&&(z=c++),O.columnIndex=z)});let f=Math.min(Math.abs(b.transA)*(!b.brokenAxis?.hasBreaks&&b.ordinal?.slope||p.pointRange||b.closestPointRange||b.tickInterval||1),b.len),u=f*p.groupPadding,M=(f-2*u)/(c||1),U=Math.min(p.maxPointWidth||b.len,v(p.pointWidth,M*(1-2*p.pointPadding)));return S.columnMetrics={width:U,offset:(M-U)/2+(u+((S.columnIndex||0)+(o?1:0))*M-f/2)*(o?-1:1),paddedWidth:M,columnCount:c},S.columnMetrics}crispCol(S,p,b,l){let n=this.borderWidth,o=this.chart.inverted;return l=W(p+l,n,o)-(p=W(p,n,o)),this.options.crisp&&(b=W(S+b,n)-(S=W(S,n))),{x:S,y:p,width:b,height:l}}adjustForMissingColumns(S,p,b,l){if(!b.isNull&&l.columnCount>1){let n=this.xAxis.series.filter(c=>c.visible).map(c=>c.index),o=0,h=0;T(this.xAxis.stacking?.stacks,c=>{if("number"==typeof b.x){let f=c[b.x.toString()];if(f&&A(f.points[this.index])){let u=Object.keys(f.points).filter(M=>!M.match(",")&&f.points[M]&&f.points[M].length>1).map(parseFloat).filter(M=>-1!==n.indexOf(M)).sort((M,U)=>U-M);o=u.indexOf(this.index),h=u.length}}}),o=this.xAxis.reversed?h-1-o:o,S=(b.plotX||0)+((h-1)*l.paddedWidth+p)/2-p-o*l.paddedWidth}return S}translate(){let S=this,p=S.chart,b=S.options,l=S.dense=S.closestPointRange*S.xAxis.transA<2,n=S.borderWidth=v(b.borderWidth,l?0:1),o=S.xAxis,h=S.yAxis,d=b.threshold,c=v(b.minPointLength,5),f=S.getColumnMetrics(),u=f.width,M=S.pointXOffset=f.offset,U=S.dataMin,x=S.dataMax,O=S.translatedThreshold=h.getThreshold(d),z=S.barW=Math.max(u,1+2*n);b.pointPadding&&(z=Math.ceil(z)),me.prototype.translate.apply(S),S.points.forEach(function(j){let X,J=v(j.yBottom,O),y=999+Math.abs(J),w=j.plotX||0,E=L(j.plotY,-y,h.len+y),m=Math.min(E,J),F=Math.max(E,J)-m,R=u,_=w+M,G=z;c&&Math.abs(F)<c&&(F=c,X=!h.reversed&&!j.negative||h.reversed&&j.negative,D(d)&&D(x)&&j.y===d&&x<=d&&(h.min||0)<d&&(U!==x||(h.max||0)<=d)&&(X=!X,j.negative=!j.negative),m=Math.abs(m-O)>c?J-c:O-(X?c:0)),N(j.options.pointWidth)&&(_-=Math.round(((R=G=Math.ceil(j.options.pointWidth))-u)/2)),b.centerInCategory&&!b.stacking&&(_=S.adjustForMissingColumns(_,R,j,f)),j.barX=_,j.pointWidth=R,j.tooltipPos=p.inverted?[L(h.len+h.pos-p.plotLeft-E,h.pos-p.plotLeft,h.len+h.pos-p.plotLeft),o.len+o.pos-p.plotTop-_-G/2,F]:[o.left-p.plotLeft+_+G/2,L(E+h.pos-p.plotTop,h.pos-p.plotTop,h.len+h.pos-p.plotTop),F],j.shapeType=S.pointClass.prototype.shapeType||"roundedRect",j.shapeArgs=S.crispCol(_,j.isNull?O:m,G,j.isNull?0:F)}),C(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(S,p){let h,d,c,b=this.options,l=this.pointAttrToOptions||{},n=l.stroke||"borderColor",o=l["stroke-width"]||"borderWidth",f=S&&S.color||this.color,u=S&&S[n]||b[n]||f,M=S&&S.options.dashStyle||b.dashStyle,U=S&&S[o]||b[o]||this[o]||0,x=v(S&&S.opacity,b.opacity,1);S&&this.zones.length&&(d=S.getZone(),f=S.options.color||d&&(d.color||S.nonZonedColor)||this.color,d&&(u=d.borderColor||u,M=d.dashStyle||M,U=d.borderWidth||U)),p&&S&&(c=(h=P(b.states[p],S.options.states&&S.options.states[p]||{})).brightness,f=h.color||void 0!==c&&te(f).brighten(h.brightness).get()||f,u=h[n]||u,U=h[o]||U,M=h.dashStyle||M,x=v(h.opacity,x));let O={fill:f,stroke:u,"stroke-width":U,opacity:x};return M&&(O.dashstyle=M),O}drawPoints(S=this.points){let p,b=this,l=this.chart,n=b.options,o=l.renderer,h=n.animationLimit||250;S.forEach(function(d){let f=d.graphic,u=!!f,M=f&&l.pointCount<h?"animate":"attr";D(d.plotY)&&null!==d.y?(p=d.shapeArgs,f&&d.hasNewShapeType()&&(f=f.destroy()),b.enabledDataSorting&&(d.startXPos=b.xAxis.reversed?-(p&&p.width||0):b.xAxis.width),!f&&(d.graphic=f=o[d.shapeType](p).add(d.group||b.group),f&&b.enabledDataSorting&&l.hasRendered&&l.pointCount<h&&(f.attr({x:d.startXPos}),u=!0,M="animate")),f&&u&&f[M](P(p)),l.styledMode||f[M](b.pointAttribs(d,d.selected&&"select")).shadow(!1!==d.allowShadow&&n.shadow),f&&(f.addClass(d.getClassName(),!0),f.attr({visibility:d.visible?"inherit":"hidden"}))):f&&(d.graphic=f.destroy())})}drawTracker(S=this.points){let p,b=this,l=b.chart,n=l.pointer,o=function(h){let d=n?.getPointFromEvent(h);n&&d&&b.options.enableMouseTracking&&(n.isDirectTouch=!0,d.onMouseOver(h))};S.forEach(function(h){p=A(h.dataLabels)?h.dataLabels:h.dataLabel?[h.dataLabel]:[],h.graphic&&(h.graphic.element.point=h),p.forEach(function(d){(d.div||d.element).point=h})}),b._hasTracking||(b.trackerGroups.forEach(function(h){b[h]&&(b[h].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(d){n?.onTrackerMouseOut(d)}).on("touchstart",o),!l.styledMode&&b.options.cursor&&b[h].css({cursor:b.options.cursor}))}),b._hasTracking=!0),C(this,"afterDrawTracker")}remove(){let S=this,p=S.chart;p.hasRendered&&p.series.forEach(function(b){b.type===S.type&&(b.isDirty=!0)}),me.prototype.remove.apply(S,arguments)}}return H.defaultOptions=P(me.defaultOptions,xe),I(H.prototype,{directTouch:!0,getSymbol:ee,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),de.registerSeriesType("column",H),H}),Ne(Y,"Core/Series/DataLabel.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{getDeferredAnimation:me}=Z,{format:de}=ce,{defined:he,extend:Q,fireEvent:te,isArray:ee,isString:L,merge:W,objectEach:N,pick:I,pInt:C,splat:A}=xe;return function(D){function P(){return b(this).some(n=>n?.enabled)}function v(n,o,h,d,c){let{chart:f,enabledDataSorting:u}=this,M=this.isCartesian&&f.inverted,U=n.plotX,x=n.plotY,O=h.rotation||0,z=he(U)&&he(x)&&f.isInsidePlot(U,Math.round(x),{inverted:M,paneCoordinates:!0,series:this}),j=0===O&&"justify"===I(h.overflow,u?"none":"justify"),J=this.visible&&!1!==n.visible&&he(U)&&(n.series.forceDL||u&&!j||z||I(h.inside,!!this.options.stacking)&&d&&f.isInsidePlot(U,M?d.x+1:d.y+d.height-1,{inverted:M,paneCoordinates:!0,series:this})),y=n.pos();if(J&&y){let E=o.getBBox(),X=o.getBBox(void 0,0),m={right:1,center:.5}[h.align||0]||0,F={bottom:1,middle:.5}[h.verticalAlign||0]||0;if(d=Q({x:y[0],y:Math.round(y[1]),width:0,height:0},d||{}),"plotEdges"===h.alignTo&&this.isCartesian&&(d[M?"x":"y"]=0,d[M?"width":"height"]=this.yAxis?.len||0),Q(h,{width:E.width,height:E.height}),u&&this.xAxis&&!j&&this.setDataLabelStartPos(n,o,c,z,d),o.align(W(h,{width:X.width,height:X.height}),!1,d,!1),o.alignAttr.x+=m*(X.width-E.width),o.alignAttr.y+=F*(X.height-E.height),o[o.placed?"animate":"attr"]({x:o.alignAttr.x+(E.width-X.width)/2,y:o.alignAttr.y+(E.height-X.height)/2,rotationOriginX:(o.width||0)/2,rotationOriginY:(o.height||0)/2}),j&&d.height>=0)this.justifyDataLabel(o,h,o.alignAttr,E,d,c);else if(I(h.crop,!0)){let{x:R,y:_}=o.alignAttr;J=f.isInsidePlot(R,_,{paneCoordinates:!0,series:this})&&f.isInsidePlot(R+E.width-1,_+E.height-1,{paneCoordinates:!0,series:this})}h.shape&&!O&&o[c?"attr":"animate"]({anchorX:y[0],anchorY:y[1]})}c&&u&&(o.placed=!1),J||u&&!j?(o.show(),o.placed=!0):(o.hide(),o.placed=!1)}function T(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function H(n){let o=this.hasRendered||0,h=this.initDataLabelsGroup().attr({opacity:+o});return!o&&h&&(this.visible&&h.show(),this.options.animation?h.animate({opacity:1},n):h.attr({opacity:1})),h}function B(n){let o;n=n||this.points;let h=this,d=h.chart,c=h.options,f=d.renderer,{backgroundColor:u,plotBackgroundColor:M}=d.options.chart,U=f.getContrast(L(M)&&M||L(u)&&u||"#000000"),x=b(h),{animation:O,defer:z}=x[0],j=z?me(d,O,h):{defer:0,duration:0};te(this,"drawDataLabels"),h.hasDataLabels?.()&&(o=this.initDataLabels(j),n.forEach(J=>{let y=J.dataLabels||[];A(p(x,J.dlOptions||J.options?.dataLabels)).forEach((E,X)=>{let K,oe,ae,ue,q,m=E.enabled&&(J.visible||J.dataLabelOnHidden)&&(!J.isNull||J.dataLabelOnNull)&&function(re,le){let pe=le.filter;if(pe){let ge=pe.operator,we=re[pe.property],ye=pe.value;return">"===ge&&we>ye||"<"===ge&&we<ye||">="===ge&&we>=ye||"<="===ge&&we<=ye||"=="===ge&&we==ye||"==="===ge&&we===ye||"!="===ge&&we!=ye||"!=="===ge&&we!==ye}return!0}(J,E),{backgroundColor:F,borderColor:R,distance:_,style:G={}}=E,be={},Se=y[X],ie=!Se;m&&(oe=I(E[J.formatPrefix+"Format"],E.format),K=J.getLabelConfig(),ae=he(oe)?de(oe,K,d):(E[J.formatPrefix+"Formatter"]||E.formatter).call(K,E),ue=E.rotation,!d.styledMode&&(G.color=I(E.color,G.color,L(h.color)?h.color:void 0,"#000000"),"contrast"===G.color?("none"!==F&&(q=F),J.contrastColor=f.getContrast("auto"!==q&&q||J.color||h.color),G.color=q||!he(_)&&E.inside||0>C(_||0)||c.stacking?J.contrastColor:U):delete J.contrastColor,c.cursor&&(G.cursor=c.cursor)),be={r:E.borderRadius||0,rotation:ue,padding:E.padding,zIndex:1},d.styledMode||(be.fill="auto"===F?J.color:F,be.stroke="auto"===R?J.color:R,be["stroke-width"]=E.borderWidth),N(be,(re,le)=>{void 0===re&&delete be[le]})),!Se||m&&he(ae)&&!!Se.div==!!E.useHTML&&(Se.rotation&&E.rotation||Se.rotation===E.rotation)||(Se=void 0,ie=!0),m&&he(ae)&&(Se?be.text=ae:(Se=f.label(ae,0,0,E.shape,void 0,void 0,E.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+J.colorIndex+" "+(E.className||"")+(E.useHTML?" highcharts-tracker":"")),Se&&(Se.options=E,Se.attr(be),d.styledMode?G.width&&Se.css({width:G.width,textOverflow:G.textOverflow}):Se.css(G).shadow(E.shadow),te(Se,"beforeAddingDataLabel",{labelOptions:E,point:J}),Se.added||Se.add(o),h.alignDataLabel(J,Se,E,void 0,ie),Se.isActive=!0,y[X]&&y[X]!==Se&&y[X].destroy(),y[X]=Se))});let w=y.length;for(;w--;)y[w]&&y[w].isActive?y[w].isActive=!1:(y[w]?.destroy(),y.splice(w,1));J.dataLabel=y[0],J.dataLabels=y})),te(this,"afterDrawDataLabels")}function S(n,o,h,d,c,f){let E,X,u=this.chart,M=o.align,U=o.verticalAlign,x=n.box?0:n.padding||0,O=u.inverted?this.yAxis:this.xAxis,z=O?O.left-u.plotLeft:0,j=u.inverted?this.xAxis:this.yAxis,J=j?j.top-u.plotTop:0,{x:y=0,y:w=0}=o;return(E=(h.x||0)+x+z)<0&&("right"===M&&y>=0?(o.align="left",o.inside=!0):y-=E,X=!0),(E=(h.x||0)+d.width-x+z)>u.plotWidth&&("left"===M&&y<=0?(o.align="right",o.inside=!0):y+=u.plotWidth-E,X=!0),(E=h.y+x+J)<0&&("bottom"===U&&w>=0?(o.verticalAlign="top",o.inside=!0):w-=E,X=!0),(E=(h.y||0)+d.height-x+J)>u.plotHeight&&("top"===U&&w<=0?(o.verticalAlign="bottom",o.inside=!0):w+=u.plotHeight-E,X=!0),X&&(o.x=y,o.y=w,n.placed=!f,n.align(o,void 0,c)),X}function p(n,o){let d,h=[];if(ee(n)&&!ee(o))h=n.map(function(c){return W(c,o)});else if(ee(o)&&!ee(n))h=o.map(function(c){return W(n,c)});else if(ee(n)||ee(o)){if(ee(n)&&ee(o))for(d=Math.max(n.length,o.length);d--;)h[d]=W(n[d],o[d])}else h=W(n,o);return h}function b(n){let o=n.chart.options.plotOptions;return A(p(p(o?.series?.dataLabels,o?.[n.type]?.dataLabels),n.options.dataLabels))}function l(n,o,h,d,c){let f=this.chart,u=f.inverted,M=this.xAxis,U=M.reversed,x=((u?o.height:o.width)||0)/2,O=n.pointWidth,z=O?O/2:0;o.startXPos=u?c.x:U?-x-z:M.width-x+z,o.startYPos=u?U?this.yAxis.height-x+z:-x-z:c.y,d?"hidden"===o.visibility&&(o.show(),o.attr({opacity:0}).animate({opacity:1})):o.attr({opacity:1}).animate({opacity:0},void 0,o.hide),f.hasRendered&&(h&&o.attr({x:o.startXPos,y:o.startYPos}),o.placed=!0)}D.compose=function(n){let o=n.prototype;o.initDataLabels||(o.initDataLabels=H,o.initDataLabelsGroup=T,o.alignDataLabel=v,o.drawDataLabels=B,o.justifyDataLabel=S,o.setDataLabelStartPos=l,o.hasDataLabels=P)}}(ve||(ve={})),ve}),Ne(Y,"Series/Column/ColumnDataLabel.js",[Y["Core/Series/DataLabel.js"],Y["Core/Globals.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{composed:de}=ce,{series:he}=xe,{merge:Q,pick:te,pushUnique:ee}=ve;return function(L){function W(N,I,C,A,D){let P=this.chart.inverted,v=N.series,T=(v.xAxis?v.xAxis.len:this.chart.plotSizeX)||0,H=(v.yAxis?v.yAxis.len:this.chart.plotSizeY)||0,B=N.dlBox||N.shapeArgs,S=te(N.below,N.plotY>te(this.translatedThreshold,H)),p=te(C.inside,!!this.options.stacking);if(B){if(A=Q(B),"allow"!==C.overflow||!1!==C.crop){A.y<0&&(A.height+=A.y,A.y=0);let b=A.y+A.height-H;b>0&&b<A.height-1&&(A.height-=b)}P&&(A={x:H-A.y-A.height,y:T-A.x-A.width,width:A.height,height:A.width}),p||(P?(A.x+=S?0:A.width,A.width=0):(A.y+=S?A.height:0,A.height=0))}C.align=te(C.align,!P||p?"center":S?"right":"left"),C.verticalAlign=te(C.verticalAlign,P||p?"middle":S?"top":"bottom"),he.prototype.alignDataLabel.call(this,N,I,C,A,D),C.inside&&N.contrastColor&&I.css({color:N.contrastColor})}L.compose=function(N){Z.compose(he),ee(de,"ColumnDataLabel")&&(N.prototype.alignDataLabel=W)}}(me||(me={})),me}),Ne(Y,"Series/Bar/BarSeries.js",[Y["Series/Column/ColumnSeries.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{extend:ve,merge:me}=xe;class de extends Z{}return de.defaultOptions=me(Z.defaultOptions,{}),ve(de.prototype,{inverted:!0}),ce.registerSeriesType("bar",de),de}),Ne(Y,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),Ne(Y,"Series/Scatter/ScatterSeries.js",[Y["Series/Scatter/ScatterSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{column:ve,line:me}=ce.seriesTypes,{addEvent:de,extend:he,merge:Q}=xe;class te extends me{applyJitter(){let L=this,W=this.options.jitter,N=this.points.length;W&&this.points.forEach(function(I,C){["x","y"].forEach(function(A,D){if(W[A]&&!I.isNull){let P=`plot${A.toUpperCase()}`,v=L[`${A}Axis`],T=W[A]*v.transA;if(v&&!v.logarithmic){let H=Math.max(0,(I[P]||0)-T),B=Math.min(v.len,(I[P]||0)+T);I[P]=H+(B-H)*function(S){let p=1e4*Math.sin(S);return p-Math.floor(p)}(C+D*N),"x"===A&&(I.clientX=I.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return te.defaultOptions=Q(me.defaultOptions,Z),he(te.prototype,{drawTracker:ve.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),de(te,"afterTranslate",function(){this.applyJitter()}),ce.registerSeriesType("scatter",te),te}),Ne(Y,"Series/CenteredUtilities.js",[Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve,me;let{deg2rad:de}=Z,{fireEvent:he,isNumber:Q,pick:te,relativeLength:ee}=xe;return(me=ve||(ve={})).getCenter=function(){let v,B,S,L=this.options,W=this.chart,N=2*(L.slicedOffset||0),I=W.plotWidth-2*N,C=W.plotHeight-2*N,A=L.center,D=Math.min(I,C),P=L.thickness,T=L.size,H=L.innerSize||0;"string"==typeof T&&(T=parseFloat(T)),"string"==typeof H&&(H=parseFloat(H));let p=[te(A[0],"50%"),te(A[1],"50%"),te(T&&T<0?void 0:L.size,"100%"),te(H&&H<0?void 0:L.innerSize||0,"0%")];for(!W.angular||this instanceof ce||(p[3]=0),B=0;B<4;++B)S=p[B],v=B<2||2===B&&/%$/.test(S),p[B]=ee(S,[I,C,D,p[2]][B])+(v?N:0);return p[3]>p[2]&&(p[3]=p[2]),Q(P)&&2*P<p[2]&&P>0&&(p[3]=p[2]-2*P),he(this,"afterGetCenter",{positions:p}),p},me.getStartAndEndRadians=function(L,W){let N=Q(L)?L:0,I=Q(W)&&W>N&&W-N<360?W:N+360;return{start:de*(N+-90),end:de*(I+-90)}},ve}),Ne(Y,"Series/Pie/PiePoint.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Series/Point.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{setAnimation:ve}=Z,{addEvent:me,defined:de,extend:he,isNumber:Q,pick:te,relativeLength:ee}=xe;class L extends ce{getConnectorPath(N){let I=N.dataLabelPosition,C=N.options||{},A=C.connectorShape;return I&&(this.connectorShapes[A]||A).call(this,{...I.computed,alignment:I.alignment},I.connectorPosition,C)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(N){let I=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(I.x,I.y,I.r+N,I.r+N,{innerR:I.r-1,start:I.start,end:I.end,borderRadius:I.borderRadius})}constructor(N,I,C){super(N,I,C),this.half=0,this.name??(this.name="Slice");let A=D=>{this.slice("select"===D.type)};me(this,"select",A),me(this,"unselect",A)}isValid(){return Q(this.y)&&this.y>=0}setVisible(N,I=!0){N!==this.visible&&this.update({visible:N??!this.visible},I,void 0,!1)}slice(N,I,C){let A=this.series;ve(C,A.chart),I=te(I,!0),this.sliced=this.options.sliced=N=de(N)?N:!this.sliced,A.options.data[A.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return he(L.prototype,{connectorShapes:{fixedOffset:function(W,N,I){let C=N.breakAt,A=N.touchingSliceAt;return[["M",W.x,W.y],I.softConnector?["C",W.x+("left"===W.alignment?-5:5),W.y,2*C.x-A.x,2*C.y-A.y,C.x,C.y]:["L",C.x,C.y],["L",A.x,A.y]]},straight:function(W,N){let I=N.touchingSliceAt;return[["M",W.x,W.y],["L",I.x,I.y]]},crookedLine:function(W,N,I){let{breakAt:C,touchingSliceAt:A}=N,{series:D}=this,[P,v,T]=D.center,H=T/2,{plotLeft:B,plotWidth:S}=D.chart,p="left"===W.alignment,{x:b,y:l}=W,n=C.x;if(I.crookDistance){let h=ee(I.crookDistance,1);n=p?P+H+(S+B-P-H)*(1-h):B+(P-H)*h}else n=P+(v-l)*Math.tan((this.angle||0)-Math.PI/2);let o=[["M",b,l]];return(p?n<=b&&n>=C.x:n>=b&&n<=C.x)&&o.push(["L",n,l]),o.push(["L",C.x,C.y],["L",A.x,A.y]),o}}}),L}),Ne(Y,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),Ne(Y,"Series/Pie/PieSeries.js",[Y["Series/CenteredUtilities.js"],Y["Series/Column/ColumnSeries.js"],Y["Core/Globals.js"],Y["Series/Pie/PiePoint.js"],Y["Series/Pie/PieSeriesDefaults.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/Symbols.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te){let{getStartAndEndRadians:ee}=Z,{noop:L}=xe,{clamp:W,extend:N,fireEvent:I,merge:C,pick:A}=te;class D extends de{animate(v){let T=this,B=T.startAngleRad;v||T.points.forEach(function(S){let p=S.graphic,b=S.shapeArgs;p&&b&&(p.attr({r:A(S.startR,T.center&&T.center[3]/2),start:B,end:B}),p.animate({r:b.r,start:b.start,end:b.end},T.options.animation))})}drawEmpty(){let v,T,H=this.startAngleRad,B=this.endAngleRad,S=this.options;0===this.total&&this.center?(v=this.center[0],T=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(v,T,this.center[1]/2,0,H,B).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Q.arc(v,T,this.center[2]/2,0,{start:H,end:B,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":S.borderWidth,fill:S.fillColor||"none",stroke:S.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let v=this.chart.renderer;this.points.forEach(function(T){T.graphic&&T.hasNewShapeType()&&(T.graphic=T.graphic.destroy()),T.graphic||(T.graphic=v[T.shapeType](T.shapeArgs).add(T.series.group),T.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(v,T,H,B){let S=this.center,p=this.radii?this.radii[H.index]||0:S[2]/2,b=B.dataLabelPosition,l=b?.distance||0,n=Math.asin(W((v-S[1])/(p+l),-1,1));return S[0]+Math.cos(n)*(p+l)*(T?-1:1)+(l>0?(T?-1:1)*(B.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let v,T,H,B,S=this,p=S.chart;this.drawEmpty(),S.group&&!p.styledMode&&S.group.shadow(S.options.shadow),S.points.forEach(function(b){let l={};T=b.graphic,!b.isNull&&T?(B=b.shapeArgs,v=b.getTranslate(),p.styledMode||(H=S.pointAttribs(b,b.selected&&"select")),b.delayedRendering?(T.setRadialReference(S.center).attr(B).attr(v),p.styledMode||T.attr(H).attr({"stroke-linejoin":"round"}),b.delayedRendering=!1):(T.setRadialReference(S.center),p.styledMode||C(!0,l,H),C(!0,l,B,v),T.animate(l)),T.attr({visibility:b.visible?"inherit":"hidden"}),T.addClass(b.getClassName(),!0)):T&&(b.graphic=T.destroy())})}sortByAngle(v,T){v.sort(function(H,B){return void 0!==H.angle&&(B.angle-H.angle)*T})}translate(v){I(this,"translate"),this.generatePoints();let o,h,d,c,f,u,M,T=this.options,H=T.slicedOffset,B=ee(T.startAngle,T.endAngle),S=this.startAngleRad=B.start,p=(this.endAngleRad=B.end)-S,b=this.points,l=T.ignoreHiddenPoint,n=b.length,U=0;for(v||(this.center=v=this.getCenter()),u=0;u<n;u++){M=b[u],o=S+U*p,M.isValid()&&(!l||M.visible)&&(U+=M.percentage/100),h=S+U*p;let x={x:v[0],y:v[1],r:v[2]/2,innerR:v[3]/2,start:Math.round(1e3*o)/1e3,end:Math.round(1e3*h)/1e3};M.shapeType="arc",M.shapeArgs=x,(d=(h+o)/2)>1.5*Math.PI?d-=2*Math.PI:d<-Math.PI/2&&(d+=2*Math.PI),M.slicedTranslation={translateX:Math.round(Math.cos(d)*H),translateY:Math.round(Math.sin(d)*H)},c=Math.cos(d)*v[2]/2,f=Math.sin(d)*v[2]/2,M.tooltipPos=[v[0]+.7*c,v[1]+.7*f],M.half=d<-Math.PI/2||d>Math.PI/2?1:0,M.angle=d}I(this,"afterTranslate")}updateTotals(){let B,S,v=this.points,T=v.length,H=this.options.ignoreHiddenPoint,p=0;for(B=0;B<T;B++)(S=v[B]).isValid()&&(!H||S.visible)&&(p+=S.y);for(B=0,this.total=p;B<T;B++)(S=v[B]).percentage=p>0&&(S.visible||!H)?S.y/p*100:0,S.total=p}}return D.defaultOptions=C(de.defaultOptions,me),N(D.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:ce.prototype.drawTracker,getCenter:Z.getCenter,getSymbol:L,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:ce.prototype.pointAttribs,pointClass:ve,requireSorting:!1,searchPoint:L,trackerGroups:["group","dataLabelsGroup"]}),he.registerSeriesType("pie",D),D}),Ne(Y,"Series/Pie/PieDataLabel.js",[Y["Core/Series/DataLabel.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){var de;let{composed:he,noop:Q}=ce,{distribute:te}=xe,{series:ee}=ve,{arrayMax:L,clamp:W,defined:N,pick:I,pushUnique:C,relativeLength:A}=me;return function(D){let P={radialDistributionY:function(S,p){return(p.dataLabelPosition?.top||0)+S.distributeBox.pos},radialDistributionX:function(S,p,b,l,n){let o=n.dataLabelPosition;return S.getX(b<(o?.top||0)+2||b>(o?.bottom||0)-2?l:b,p.half,p,n)},justify:function(S,p,b,l){return l[0]+(S.half?-1:1)*(b+(p.dataLabelPosition?.distance||0))},alignToPlotEdges:function(S,p,b,l){let n=S.getBBox().width;return p?n+l:b-n-l},alignToConnectors:function(S,p,b,l){let o,n=0;return S.forEach(function(h){(o=h.dataLabel.getBBox().width)>n&&(n=o)}),p?n+l:b-n-l}};function v(S,p){let{center:b,options:l}=this,n=b[2]/2,o=S.angle||0,h=Math.cos(o),d=Math.sin(o),c=b[0]+h*n,f=b[1]+d*n,u=Math.min((l.slicedOffset||0)+(l.borderWidth||0),p/5);return{natural:{x:c+h*p,y:f+d*p},computed:{},alignment:p<0?"center":S.half?"right":"left",connectorPosition:{breakAt:{x:c+h*u,y:f+d*u},touchingSliceAt:{x:c,y:f}},distance:p}}function T(){let x,O,z,S=this,p=S.points,b=S.chart,l=b.plotWidth,n=b.plotHeight,o=b.plotLeft,h=Math.round(b.chartWidth/3),d=S.center,c=d[2]/2,f=d[1],u=[[],[]],M=[0,0,0,0],U=S.dataLabelPositioners,j=0;S.visible&&S.hasDataLabels?.()&&(p.forEach(J=>{(J.dataLabels||[]).forEach(y=>{y.shortened&&(y.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),y.shortened=!1)})}),ee.prototype.drawDataLabels.apply(S),p.forEach(J=>{(J.dataLabels||[]).forEach((y,w)=>{let E=d[2]/2,X=y.options,m=A(X?.distance||0,E);0===w&&u[J.half].push(J),!N(X?.style?.width)&&y.getBBox().width>h&&(y.css({width:Math.round(.7*h)+"px"}),y.shortened=!0),y.dataLabelPosition=this.getDataLabelPosition(J,m),j=Math.max(j,m)})}),u.forEach((J,y)=>{let X,m,R,E=[],F=0;J.length&&(S.sortByAngle(J,y-.5),j>0&&(X=Math.max(0,f-c-j),m=Math.min(f+c+j,b.plotHeight),J.forEach(_=>{(_.dataLabels||[]).forEach(G=>{let K=G.dataLabelPosition;K&&K.distance>0&&(K.top=Math.max(0,f-c-K.distance),K.bottom=Math.min(f+c+K.distance,b.plotHeight),F=G.getBBox().height||21,G.lineHeight=b.renderer.fontMetrics(G.text||G).h+2*G.padding,_.distributeBox={target:(G.dataLabelPosition?.natural.y||0)-K.top+G.lineHeight/2,size:F,rank:_.y},E.push(_.distributeBox))})}),te(E,R=m+F-X,R/5)),J.forEach(_=>{(_.dataLabels||[]).forEach(G=>{let K=G.options||{},oe=_.distributeBox,ae=G.dataLabelPosition,ue=ae?.natural.y||0,be=K.connectorPadding||0,Se=G.lineHeight||21,ie=(Se-G.getBBox().height)/2,q=0,re=ue,le="inherit";if(ae){if(E&&N(oe)&&ae.distance>0&&(void 0===oe.pos?le="hidden":(z=oe.size,re=U.radialDistributionY(_,G))),K.justify)q=U.justify(_,G,c,d);else switch(K.alignTo){case"connectors":q=U.alignToConnectors(J,y,l,o);break;case"plotEdges":q=U.alignToPlotEdges(G,y,l,o);break;default:q=U.radialDistributionX(S,_,re-ie,ue,G)}if(ae.attribs={visibility:le,align:ae.alignment},ae.posAttribs={x:q+(K.x||0)+({left:be,right:-be}[ae.alignment]||0),y:re+(K.y||0)-Se/2},ae.computed.x=q,ae.computed.y=re-ie,I(K.crop,!0)){let pe;q-(O=G.getBBox().width)<be&&1===y?(pe=Math.round(O-q+be),M[3]=Math.max(pe,M[3])):q+O>l-be&&0===y&&(pe=Math.round(q+O-l+be),M[1]=Math.max(pe,M[1])),re-z/2<0?M[0]=Math.max(Math.round(z/2-re),M[0]):re+z/2>n&&(M[2]=Math.max(Math.round(re+z/2-n),M[2])),ae.sideOverflow=pe}}})}))}),(0===L(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),this.points.forEach(J=>{(J.dataLabels||[]).forEach(y=>{let{connectorColor:w,connectorWidth:E=1}=y.options||{},X=y.dataLabelPosition;if(E){let m;x=y.connector,X&&X.distance>0?(m=!x,x||(y.connector=x=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+J.colorIndex+(J.className?" "+J.className:"")).add(S.dataLabelsGroup)),b.styledMode||x.attr({"stroke-width":E,stroke:w||J.color||"#666666"}),x[m?"attr":"animate"]({d:J.getConnectorPath(y)}),x.attr({visibility:X.attribs?.visibility})):x&&(y.connector=x.destroy())}})})))}function H(){this.points.forEach(S=>{(S.dataLabels||[]).forEach(p=>{let b=p.dataLabelPosition;b?(b.sideOverflow&&(p.css({width:Math.max(p.getBBox().width-b.sideOverflow,0)+"px",textOverflow:(p.options?.style||{}).textOverflow||"ellipsis"}),p.shortened=!0),p.attr(b.attribs),p[p.moved?"animate":"attr"](b.posAttribs),p.moved=!0):p&&p.attr({y:-9999})}),delete S.distributeBox},this)}function B(S){let p=this.center,b=this.options,l=b.center,n=b.minSize||80,o=n,h=null!==b.size;return!h&&(null!==l[0]?o=Math.max(p[2]-Math.max(S[1],S[3]),n):(o=Math.max(p[2]-S[1]-S[3],n),p[0]+=(S[3]-S[1])/2),null!==l[1]?o=W(o,n,p[2]-Math.max(S[0],S[2])):(o=W(o,n,p[2]-S[0]-S[2]),p[1]+=(S[0]-S[2])/2),o<p[2]?(p[2]=o,p[3]=Math.min(b.thickness?Math.max(0,o-2*b.thickness):Math.max(0,A(b.innerSize||0,o)),o),this.translate(p),this.drawDataLabels&&this.drawDataLabels()):h=!0),h}D.compose=function(S){if(Z.compose(ee),C(he,"PieDataLabel")){let p=S.prototype;p.dataLabelPositioners=P,p.alignDataLabel=Q,p.drawDataLabels=T,p.getDataLabelPosition=v,p.placeDataLabels=H,p.verifyDataLabelOverflow=B}}}(de||(de={})),de}),Ne(Y,"Core/Geometry/GeometryUtilities.js",[],function(){var Z,ce;return(ce=Z||(Z={})).getCenterOfPoints=function(xe){let ve=xe.reduce((me,de)=>(me.x+=de.x,me.y+=de.y,me),{x:0,y:0});return{x:ve.x/xe.length,y:ve.y/xe.length}},ce.getDistanceBetweenPoints=function(xe,ve){return Math.sqrt(Math.pow(ve.x-xe.x,2)+Math.pow(ve.y-xe.y,2))},ce.getAngleBetweenPoints=function(xe,ve){return Math.atan2(ve.x-xe.x,ve.y-xe.y)},ce.pointInPolygon=function({x:xe,y:ve},me){let he,Q,de=me.length,te=!1;for(he=0,Q=de-1;he<de;Q=he++){let[ee,L]=me[he],[W,N]=me[Q];L>ve!=N>ve&&xe<(W-ee)*(ve-L)/(N-L)+ee&&(te=!te)}return te},Z}),Ne(Y,"Extensions/OverlappingDataLabels.js",[Y["Core/Geometry/GeometryUtilities.js"],Y["Core/Utilities.js"]],function(Z,ce){let{pointInPolygon:xe}=Z,{addEvent:ve,fireEvent:me,objectEach:de,pick:he}=ce;function Q(L){let C,A,D,P,v,W=L.length,N=(H,B)=>!(B.x>=H.x+H.width||B.x+B.width<=H.x||B.y>=H.y+H.height||B.y+B.height<=H.y),I=(H,B)=>{for(let S of H)if(xe({x:S[0],y:S[1]},B))return!0;return!1},T=!1;for(let H=0;H<W;H++)(C=L[H])&&(C.oldOpacity=C.opacity,C.newOpacity=1,C.absoluteBox=function(B){if(B&&(!B.alignAttr||B.placed)){let S=B.box?0:B.padding||0,p=B.alignAttr||{x:B.attr("x"),y:B.attr("y")},b=B.getBBox();return B.width=b.width,B.height=b.height,{x:p.x+(B.parentGroup?.translateX||0)+S,y:p.y+(B.parentGroup?.translateY||0)+S,width:(B.width||0)-2*S,height:(B.height||0)-2*S,polygon:b?.polygon}}}(C));L.sort((H,B)=>(B.labelrank||0)-(H.labelrank||0));for(let H=0;H<W;++H){P=(A=L[H])&&A.absoluteBox;let B=P?.polygon;for(let S=H+1;S<W;++S){v=(D=L[S])&&D.absoluteBox;let p=!1;if(P&&v&&A!==D&&0!==A.newOpacity&&0!==D.newOpacity&&"hidden"!==A.visibility&&"hidden"!==D.visibility){let b=v.polygon;if(B&&b&&B!==b?I(B,b)&&(p=!0):N(P,v)&&(p=!0),p){let l=A.labelrank<D.labelrank?A:D,n=l.text;l.newOpacity=0,n?.element.querySelector("textPath")&&n.hide()}}}}for(let H of L)te(H,this)&&(T=!0);T&&me(this,"afterHideAllOverlappingLabels")}function te(L,W){let N,I,C=!1;return L&&(I=L.newOpacity,L.oldOpacity!==I&&(L.hasClass("highcharts-data-label")?(L[I?"removeClass":"addClass"]("highcharts-data-label-hidden"),N=function(){W.styledMode||L.css({pointerEvents:I?"auto":"none"})},C=!0,L[L.isOld?"animate":"attr"]({opacity:I},void 0,N),me(W,"afterHideOverlappingLabel")):L.attr({opacity:I})),L.isOld=!0),C}function ee(){let L=this,W=[];for(let N of L.labelCollectors||[])W=W.concat(N());for(let N of L.yAxis||[])N.stacking&&N.options.stackLabels&&!N.options.stackLabels.allowOverlap&&de(N.stacking.stacks,I=>{de(I,C=>{C.label&&W.push(C.label)})});for(let N of L.series||[])if(N.visible&&N.hasDataLabels?.()){let I=C=>{for(let A of C)A.visible&&(A.dataLabels||[]).forEach(D=>{let P=D.options||{};D.labelrank=he(P.labelrank,A.labelrank,A.shapeArgs?.height),P.allowOverlap??Number(P.distance)>0?(D.oldOpacity=D.opacity,D.newOpacity=1,te(D,L)):W.push(D)})};I(N.nodes||[]),I(N.points)}this.hideOverlappingLabels(W)}return{compose:function(L){let W=L.prototype;W.hideOverlappingLabels||(W.hideOverlappingLabels=Q,ve(L,"render",ee))}}}),Ne(Y,"Extensions/BorderRadius.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{defaultOptions:ve}=Z,{noop:me}=ce,{addEvent:de,extend:he,isObject:Q,merge:te,relativeLength:ee}=xe,L={radius:0,scope:"stack",where:void 0},W=me,N=me;function I(v,T,H,B,S={}){let p=W(v,T,H,B,S),{innerR:b=0,r:l=H,start:n=0,end:o=0}=S;if(S.open||!S.borderRadius)return p;let h=o-n,d=Math.sin(h/2),c=Math.max(Math.min(ee(S.borderRadius||0,l-b),(l-b)/2,l*d/(1+d)),0),f=Math.min(c,h/Math.PI*2*b),u=p.length-1;for(;u--;)!function(M,U,x){let O,z,j,J=M[U],y=M[U+1];if("Z"===y[0]&&(y=M[0]),"M"!==J[0]&&"L"!==J[0]||"A"!==y[0]?"A"===J[0]&&("M"===y[0]||"L"===y[0])&&(O=y,z=J):(O=J,z=y,j=!0),O&&z&&z.params){let w=z[1],E=z[5],X=z.params,{start:m,end:F,cx:R,cy:_}=X,G=E?w-x:w+x,K=G?Math.asin(x/G):0,oe=E?K:-K,ae=Math.cos(K)*G;j?(X.start=m+oe,O[1]=R+ae*Math.cos(m),O[2]=_+ae*Math.sin(m),M.splice(U+1,0,["A",x,x,0,0,1,R+w*Math.cos(X.start),_+w*Math.sin(X.start)])):(X.end=F-oe,z[6]=R+w*Math.cos(X.end),z[7]=_+w*Math.sin(X.end),M.splice(U+1,0,["A",x,x,0,0,1,R+ae*Math.cos(F),_+ae*Math.sin(F)])),z[4]=Math.abs(X.end-X.start)<Math.PI?0:1}}(p,u,u>1?f:c);return p}function C(){if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){let{options:v,yAxis:T}=this,H="percent"===v.stacking,B=ve.plotOptions?.[this.type]?.borderRadius,S=A(v.borderRadius,Q(B)?B:{}),p=T.options.reversed;for(let b of this.points){let{shapeArgs:l}=b;if("roundedRect"===b.shapeType&&l){let{width:n=0,height:o=0,y:h=0}=l,d=h,c=o;if("stack"===S.scope&&b.stackTotal){let U=T.translate(H?100:b.stackTotal,!1,!0,!1,!0),x=T.translate(v.threshold||0,!1,!0,!1,!0),O=this.crispCol(0,Math.min(U,x),0,Math.abs(U-x));d=O.y,c=O.height}let f=(b.negative?-1:1)*(p?-1:1)==-1,u=S.where;!u&&this.is("waterfall")&&Math.abs((b.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(u="all"),u||(u="end");let M=Math.min(ee(S.radius,n),n/2,"all"===u?o/2:1/0)||0;"end"===u&&(f&&(d-=M),c+=M),he(l,{brBoxHeight:c,brBoxY:d,r:M})}}}}function A(v,T){return Q(v)||(v={radius:v||0}),te(L,T,v)}function D(){let v=A(this.options.borderRadius);for(let T of this.points){let H=T.shapeArgs;H&&(H.borderRadius=ee(v.radius,(H.r||0)-(H.innerR||0)))}}function P(v,T,H,B,S={}){let p=N(v,T,H,B,S),{r:b=0,brBoxHeight:l=B,brBoxY:n=T}=S,o=T-n,h=n+l-(T+B),d=o-b>-.1?0:b,c=h-b>-.1?0:b,f=Math.max(d&&o,0),u=Math.max(c&&h,0),M=[v+d,T],U=[v+H-d,T],x=[v+H,T+d],O=[v+H,T+B-c],z=[v+H-c,T+B],j=[v+c,T+B],J=[v,T+B-c],y=[v,T+d],w=(E,X)=>Math.sqrt(Math.pow(E,2)-Math.pow(X,2));if(f){let E=w(d,d-f);M[0]-=E,U[0]+=E,x[1]=y[1]=T+d-f}if(B<d-f){let E=w(d,d-f-B);x[0]=O[0]=v+H-d+E,z[0]=Math.min(x[0],z[0]),j[0]=Math.max(O[0],j[0]),J[0]=y[0]=v+d-E,x[1]=y[1]=T+B}if(u){let E=w(c,c-u);z[0]+=E,j[0]-=E,O[1]=J[1]=T+B-c+u}if(B<c-u){let E=w(c,c-u-B);x[0]=O[0]=v+H-c+E,U[0]=Math.min(x[0],U[0]),M[0]=Math.max(O[0],M[0]),J[0]=y[0]=v+c-E,O[1]=J[1]=T}return p.length=0,p.push(["M",...M],["L",...U],["A",d,d,0,0,1,...x],["L",...O],["A",c,c,0,0,1,...z],["L",...j],["A",c,c,0,0,1,...J],["L",...y],["A",d,d,0,0,1,...M],["Z"]),p}return{compose:function(v,T,H){let B=v.types.pie;if(!T.symbolCustomAttribs.includes("borderRadius")){let S=H.prototype.symbols;de(v,"afterColumnTranslate",C,{order:9}),de(B,"afterTranslate",D),T.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),W=S.arc,N=S.roundedRect,S.arc=I,S.roundedRect=P}},optionsToObject:A}}),Ne(Y,"Core/Responsive.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{diffObjects:xe,extend:ve,find:me,merge:de,pick:he,uniqueKey:Q}=Z;return function(te){function ee(W,N){let I=W.condition;(I.callback||function(){return this.chartWidth<=he(I.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=he(I.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=he(I.minWidth,0)&&this.chartHeight>=he(I.minHeight,0)}).call(this)&&N.push(W._id)}function L(W,N){let D,I=this.options.responsive,C=this.currentResponsive,A=[];!N&&I&&I.rules&&I.rules.forEach(T=>{void 0===T._id&&(T._id=Q()),this.matchResponsiveRule(T,A)},this);let P=de(...A.map(T=>me((I||{}).rules||[],H=>H._id===T)).map(T=>T&&T.chartOptions));P.isResponsiveOptions=!0,A=A.toString()||void 0,A===(C&&C.ruleIds)||(C&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(C.undoOptions,W,!0),this.updatingResponsive=!1),A?((D=xe(P,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:A,mergedOptions:P,undoOptions:D},this.updatingResponsive||this.update(P,W,!0)):this.currentResponsive=void 0)}te.compose=function(W){let N=W.prototype;return N.matchResponsiveRule||ve(N,{matchResponsiveRule:ee,setResponsive:L}),W}}(ce||(ce={})),ce}),Ne(Y,"masters/highcharts.src.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"],Y["Core/Defaults.js"],Y["Core/Animation/Fx.js"],Y["Core/Animation/AnimationUtilities.js"],Y["Core/Renderer/HTML/AST.js"],Y["Core/Templating.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Renderer/HTML/HTMLElement.js"],Y["Core/Axis/Axis.js"],Y["Core/Axis/DateTimeAxis.js"],Y["Core/Axis/LogarithmicAxis.js"],Y["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],Y["Core/Axis/Tick.js"],Y["Core/Tooltip.js"],Y["Core/Series/Point.js"],Y["Core/Pointer.js"],Y["Core/Legend/Legend.js"],Y["Core/Legend/LegendSymbol.js"],Y["Core/Chart/Chart.js"],Y["Extensions/ScrollablePlotArea.js"],Y["Core/Axis/Stacking/StackingAxis.js"],Y["Core/Axis/Stacking/StackItem.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Series/Column/ColumnDataLabel.js"],Y["Series/Pie/PieDataLabel.js"],Y["Core/Series/DataLabel.js"],Y["Extensions/OverlappingDataLabels.js"],Y["Extensions/BorderRadius.js"],Y["Core/Responsive.js"],Y["Core/Color/Color.js"],Y["Core/Time.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee,L,W,N,I,C,A,D,P,v,T,H,B,S,p,b,l,n,o,h,d,c,f,u,M,U,x){return Z.AST=de,Z.Axis=N,Z.Chart=S,Z.Color=U,Z.DataLabel=c,Z.Fx=ve,Z.HTMLElement=W,Z.Legend=H,Z.LegendSymbol=B,Z.OverlappingDataLabels=Z.OverlappingDataLabels||f,Z.PlotLineOrBand=A,Z.Point=v,Z.Pointer=T,Z.RendererRegistry=Q,Z.Series=n,Z.SeriesRegistry=o,Z.StackItem=l,Z.SVGElement=ee,Z.SVGRenderer=L,Z.Templating=he,Z.Tick=D,Z.Time=x,Z.Tooltip=P,Z.animate=me.animate,Z.animObject=me.animObject,Z.chart=S.chart,Z.color=U.parse,Z.dateFormat=he.dateFormat,Z.defaultOptions=xe.defaultOptions,Z.distribute=te.distribute,Z.format=he.format,Z.getDeferredAnimation=me.getDeferredAnimation,Z.getOptions=xe.getOptions,Z.numberFormat=he.numberFormat,Z.seriesType=o.seriesType,Z.setAnimation=me.setAnimation,Z.setOptions=xe.setOptions,Z.stop=me.stop,Z.time=xe.defaultTime,Z.timers=ve.timers,u.compose(Z.Series,Z.SVGElement,Z.SVGRenderer),h.compose(Z.Series.types.column),c.compose(Z.Series),I.compose(Z.Axis),W.compose(Z.SVGRenderer),H.compose(Z.Chart),C.compose(Z.Axis),f.compose(Z.Chart),d.compose(Z.Series.types.pie),A.compose(Z.Chart,Z.Axis),T.compose(Z.Chart),M.compose(Z.Chart),p.compose(Z.Axis,Z.Chart,Z.Series),b.compose(Z.Axis,Z.Chart,Z.Series),P.compose(Z.Pointer),ce.extend(Z,ce),Z}),Y["masters/highcharts.src.js"]._modules=Y,Y["masters/highcharts.src.js"]},Zi.exports?(Y.default=Y,Zi.exports=Qt&&Qt.document?Y(Qt):Y):void 0!==(ji=function(){return Y(Qt)}.call(Gs,mi,Gs,Zi))&&(Zi.exports=ji)},9765:function(Zi,Gs,mi){var ji,Qt,Y;Qt=typeof window<"u"?window:this,Y=function(Qt){"use strict";var Y={};function Ne(Z,ce,xe,ve){!Z.hasOwnProperty(ce)&&(Z[ce]=ve.apply(null,xe),Qt&&"function"==typeof CustomEvent&&Qt.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:ce,module:Z[ce]}})))}return Ne(Y,"Core/Globals.js",[],function(){var Z,ce;return(ce=Z||(Z={})).SVG_NS="http://www.w3.org/2000/svg",ce.product="Highcharts",ce.version="11.4.8",ce.win=void 0!==Qt?Qt:{},ce.doc=ce.win.document,ce.svg=ce.doc&&ce.doc.createElementNS&&!!ce.doc.createElementNS(ce.SVG_NS,"svg").createSVGRect,ce.userAgent=ce.win.navigator&&ce.win.navigator.userAgent||"",ce.isChrome=ce.win.chrome,ce.isFirefox=-1!==ce.userAgent.indexOf("Firefox"),ce.isMS=/(edge|msie|trident)/i.test(ce.userAgent)&&!ce.win.opera,ce.isSafari=!ce.isChrome&&-1!==ce.userAgent.indexOf("Safari"),ce.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(ce.userAgent),ce.isWebKit=-1!==ce.userAgent.indexOf("AppleWebKit"),ce.deg2rad=2*Math.PI/360,ce.hasBidiBug=ce.isFirefox&&4>parseInt(ce.userAgent.split("Firefox/")[1],10),ce.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],ce.noop=function(){},ce.supportsPassiveEvents=function(){let xe=!1;if(!ce.isMS){let ve=Object.defineProperty({},"passive",{get:function(){xe=!0}});ce.win.addEventListener&&ce.win.removeEventListener&&(ce.win.addEventListener("testPassive",ce.noop,ve),ce.win.removeEventListener("testPassive",ce.noop,ve))}return xe}(),ce.charts=[],ce.composed=[],ce.dateFormats={},ce.seriesTypes={},ce.symbolSizes={},ce.chartCount=0,Z}),Ne(Y,"Core/Utilities.js",[Y["Core/Globals.js"]],function(Z){let ce,{charts:xe,doc:ve,win:me}=Z;function de(n,o,h,d){let c=o?"Highcharts error":"Highcharts warning";32===n&&(n=`${c}: Deprecated member`);let f=N(n),u=f?`${c} #${n}: www.highcharts.com/errors/${n}/`:n.toString();if(void 0!==d){let M="";f&&(u+="?"),S(d,function(U,x){M+=`\n - ${x}: ${U}`,f&&(u+=encodeURI(x)+"="+encodeURI(U))}),u+=M}b(Z,"displayError",{chart:h,code:n,message:u,params:d},function(){if(o)throw Error(u);me.console&&-1===de.messages.indexOf(u)&&console.warn(u)}),de.messages.push(u)}function he(n,o){return parseInt(n,o||10)}function Q(n){return"string"==typeof n}function te(n){let o=Object.prototype.toString.call(n);return"[object Array]"===o||"[object Array Iterator]"===o}function ee(n,o){return!(!n||"object"!=typeof n||o&&te(n))}function L(n){return ee(n)&&"number"==typeof n.nodeType}function W(n){let o=n&&n.constructor;return!(!ee(n,!0)||L(n)||!o||!o.name||"Object"===o.name)}function N(n){return"number"==typeof n&&!isNaN(n)&&n<1/0&&n>-1/0}function I(n){return null!=n}function C(n,o,h){let d,c=Q(o)&&!I(h),f=(u,M)=>{I(u)?n.setAttribute(M,u):c?(d=n.getAttribute(M))||"class"!==M||(d=n.getAttribute(M+"Name")):n.removeAttribute(M)};return Q(o)?f(h,o):S(o,f),d}function A(n){return te(n)?n:[n]}function D(n,o){let h;for(h in n||(n={}),o)n[h]=o[h];return n}function P(){let n=arguments,o=n.length;for(let h=0;h<o;h++){let d=n[h];if(null!=d)return d}}function v(n,o){D(n.style,o)}function T(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))}function H(n,o){return n>1e14?n:parseFloat(n.toPrecision(o||14))}(de||(de={})).messages=[],Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};let B=Array.prototype.find?function(n,o){return n.find(o)}:function(n,o){let h,d=n.length;for(h=0;h<d;h++)if(o(n[h],h))return n[h]};function S(n,o,h){for(let d in n)Object.hasOwnProperty.call(n,d)&&o.call(h||n[d],n[d],d,n)}function p(n,o,h){function d(u,M){let U=n.removeEventListener;U&&U.call(n,u,M,!1)}function c(u){let M,U;n.nodeName&&(o?(M={})[o]=!0:M=u,S(M,function(x,O){if(u[O])for(U=u[O].length;U--;)d(O,u[O][U].fn)}))}let f="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(f,"hcEvents")){let u=f.hcEvents;o?h?(u[o]=(u[o]||[]).filter(function(U){return h!==U.fn}),d(o,h)):(c(u),u[o]=[]):(c(u),delete f.hcEvents)}}function b(n,o,h,d){if(h=h||{},ve.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==Z)){let c=ve.createEvent("Events");c.initEvent(o,!0,!0),h=D(c,h),n.dispatchEvent?n.dispatchEvent(h):n.fireEvent(o,h)}else if(n.hcEvents){h.target||D(h,{preventDefault:function(){h.defaultPrevented=!0},target:n,type:o});let c=[],f=n,u=!1;for(;f.hcEvents;)Object.hasOwnProperty.call(f,"hcEvents")&&f.hcEvents[o]&&(c.length&&(u=!0),c.unshift.apply(c,f.hcEvents[o])),f=Object.getPrototypeOf(f);u&&c.sort((M,U)=>M.order-U.order),c.forEach(M=>{!1===M.fn.call(n,h)&&h.preventDefault()})}d&&!h.defaultPrevented&&d.call(n,h)}S({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,o){Z[o]=function(h){return de(32,!1,void 0,{[`Highcharts.${o}`]:`use Array.${n}`}),Array.prototype[n].apply(h,[].slice.call(arguments,1))}});let l=function(){let n=Math.random().toString(36).substring(2,9)+"-",o=0;return function(){return"highcharts-"+(ce?"":n)+o++}}();return me.jQuery&&(me.jQuery.fn.highcharts=function(){let n=[].slice.call(arguments);if(this[0])return n[0]?(new(Z[Q(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):xe[C(this[0],"data-highcharts-chart")]}),{addEvent:function(n,o,h,d={}){let c="function"==typeof n&&n.prototype||n;Object.hasOwnProperty.call(c,"hcEvents")||(c.hcEvents={});let f=c.hcEvents;Z.Point&&n instanceof Z.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);let u=n.addEventListener;return u&&u.call(n,o,h,!!Z.supportsPassiveEvents&&{passive:void 0===d.passive?-1!==o.indexOf("touch"):d.passive,capture:!1}),f[o]||(f[o]=[]),f[o].push({fn:h,order:"number"==typeof d.order?d.order:1/0}),f[o].sort((U,x)=>U.order-x.order),function(){p(n,o,h)}},arrayMax:function(n){let o=n.length,h=n[0];for(;o--;)n[o]>h&&(h=n[o]);return h},arrayMin:function(n){let o=n.length,h=n[0];for(;o--;)n[o]<h&&(h=n[o]);return h},attr:C,clamp:function(n,o,h){return n>o?n<h?n:h:o},clearTimeout:function(n){I(n)&&clearTimeout(n)},correctFloat:H,createElement:function(n,o,h,d,c){let f=ve.createElement(n);return o&&D(f,o),c&&v(f,{padding:"0",border:"none",margin:"0"}),h&&v(f,h),d&&d.appendChild(f),f},crisp:(n,o=0,h)=>{let d=o%2/2,c=h?-1:1;return(Math.round(n*c-d)+d)*c},css:v,defined:I,destroyObjectProperties:function(n,o,h){S(n,function(d,c){d!==o&&d?.destroy&&d.destroy(),(d?.destroy||!h)&&delete n[c]})},diffObjects:function(n,o,h,d){let c={};return function f(u,M,U,x){let O=h?M:u;S(u,function(z,j){if(!x&&d&&d.indexOf(j)>-1&&M[j]){z=A(z),U[j]=[];for(let J=0;J<Math.max(z.length,M[j].length);J++)M[j][J]&&(void 0===z[J]?U[j][J]=M[j][J]:(U[j][J]={},f(z[J],M[j][J],U[j][J],x+1)))}else ee(z,!0)&&!z.nodeType?(U[j]=te(z)?[]:{},f(z,M[j]||{},U[j],x+1),0!==Object.keys(U[j]).length||"colorAxis"===j&&0===x||delete U[j]):(u[j]!==M[j]||j in u&&!(j in M))&&"__proto__"!==j&&"constructor"!==j&&(U[j]=O[j])})}(n,o,c,0),c},discardElement:function(n){n&&n.parentElement&&n.parentElement.removeChild(n)},erase:function(n,o){let h=n.length;for(;h--;)if(n[h]===o){n.splice(h,1);break}},error:de,extend:D,extendClass:function(n,o){let h=function(){};return D(h.prototype=new n,o),h},find:B,fireEvent:b,getClosestDistance:function(n,o){let h,d,c,f,u=!o;return n.forEach(M=>{if(M.length>1)for(f=d=M.length-1;f>0;f--)(c=M[f]-M[f-1])<0&&!u?(o?.(),o=void 0):c&&(void 0===h||c<h)&&(h=c)}),h},getMagnitude:T,getNestedProperty:function(n,o){let h=n.split(".");for(;h.length&&I(o);){let d=h.shift();if(void 0===d||"__proto__"===d)return;if("this"===d){let f;return ee(o)&&(f=o["@this"]),f??o}let c=o[d];if(!I(c)||"function"==typeof c||"number"==typeof c.nodeType||c===me)return;o=c}return o},getStyle:function n(o,h,d){let c;if("width"===h){let u=Math.min(o.offsetWidth,o.scrollWidth),M=o.getBoundingClientRect&&o.getBoundingClientRect().width;return M<u&&M>=u-1&&(u=Math.floor(M)),Math.max(0,u-(n(o,"padding-left",!0)||0)-(n(o,"padding-right",!0)||0))}if("height"===h)return Math.max(0,Math.min(o.offsetHeight,o.scrollHeight)-(n(o,"padding-top",!0)||0)-(n(o,"padding-bottom",!0)||0));let f=me.getComputedStyle(o,void 0);return f&&(c=f.getPropertyValue(h),P(d,"opacity"!==h)&&(c=he(c))),c},inArray:function(n,o,h){return de(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),o.indexOf(n,h)},insertItem:function(n,o){let h,d=n.options.index,c=o.length;for(h=n.options.isInternal?c:0;h<c+1;h++)if(!o[h]||N(d)&&d<P(o[h].options.index,o[h]._i)||o[h].options.isInternal){o.splice(h,0,n);break}return h},isArray:te,isClass:W,isDOMElement:L,isFunction:function(n){return"function"==typeof n},isNumber:N,isObject:ee,isString:Q,keys:function(n){return de(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)},merge:function(){let n,o=arguments,h={},d=function(f,u){return"object"!=typeof f&&(f={}),S(u,function(M,U){"__proto__"!==U&&"constructor"!==U&&(f[U]=!ee(M,!0)||W(M)||L(M)?u[U]:d(f[U]||{},M))}),f};!0===o[0]&&(h=o[1],o=Array.prototype.slice.call(o,2));let c=o.length;for(n=0;n<c;n++)h=d(h,o[n]);return h},normalizeTickInterval:function(n,o,h,d,c){let f,u=n,M=n/(h=P(h,T(n)));for(!o&&(o=c?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===d&&(1===h?o=o.filter(function(U){return U%1==0}):h<=.1&&(o=[1/h]))),f=0;f<o.length&&(u=o[f],(!c||!(u*h>=n))&&(c||!(M<=(o[f]+(o[f+1]||o[f]))/2)));f++);return H(u*h,-Math.round(Math.log(.001)/Math.LN10))},objectEach:S,offset:function(n){let o=ve.documentElement,h=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:h.top+(me.pageYOffset||o.scrollTop)-(o.clientTop||0),left:h.left+(me.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:h.width,height:h.height}},pad:function(n,o,h){return Array((o||2)+1-String(n).replace("-","").length).join(h||"0")+n},pick:P,pInt:he,pushUnique:function(n,o){return 0>n.indexOf(o)&&!!n.push(o)},relativeLength:function(n,o,h){return/%$/.test(n)?o*parseFloat(n)/100+(h||0):parseFloat(n)},removeEvent:p,replaceNested:function(n,...o){let h,d;do{for(d of(h=n,o))n=n.replace(d[0],d[1])}while(n!==h);return n},splat:A,stableSort:function(n,o){let h,d,c=n.length;for(d=0;d<c;d++)n[d].safeI=d;for(n.sort(function(f,u){return 0===(h=o(f,u))?f.safeI-u.safeI:h}),d=0;d<c;d++)delete n[d].safeI},syncTimeout:function(n,o,h){return o>0?setTimeout(n,o,h):(n.call(0,h),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:l,useSerialIds:function(n){return ce=P(n,ce)},wrap:function(n,o,h){let d=n[o];n[o]=function(){let c=arguments,f=this;return h.apply(this,[function(){return d.apply(f,arguments.length?arguments:c)}].concat([].slice.call(arguments)))}}}}),Ne(Y,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),Ne(Y,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),Ne(Y,"Core/Time.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{win:xe}=Z,{defined:ve,error:me,extend:de,isNumber:he,isObject:Q,merge:te,objectEach:ee,pad:L,pick:W,splat:N,timeUnits:I}=ce,C=Z.isSafari&&xe.Intl&&xe.Intl.DateTimeFormat.prototype.formatRange,A=Z.isSafari&&xe.Intl&&!xe.Intl.DateTimeFormat.prototype.formatRange;class D{constructor(v){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=xe.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(v)}get(v,T){if(this.variableTimezone||this.timezoneOffset){let H=T.getTime(),B=H-this.getTimezoneOffset(T);T.setTime(B);let S=T["getUTC"+v]();return T.setTime(H),S}return this.useUTC?T["getUTC"+v]():T["get"+v]()}set(v,T,H){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===v||"Seconds"===v||"Minutes"===v&&this.getTimezoneOffset(T)%36e5==0)return T["setUTC"+v](H);let B=this.getTimezoneOffset(T),S=T.getTime()-B;T.setTime(S),T["setUTC"+v](H);let p=this.getTimezoneOffset(T);return S=T.getTime()+p,T.setTime(S)}return this.useUTC||C&&"FullYear"===v?T["setUTC"+v](H):T["set"+v](H)}update(v={}){let T=W(v.useUTC,!0);this.options=v=te(!0,this.options,v),this.Date=v.Date||xe.Date||Date,this.useUTC=T,this.timezoneOffset=T&&v.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=T&&!(!v.getTimezoneOffset&&!v.timezone)}makeTime(v,T,H,B,S,p){let b,l,n;return this.useUTC?(b=this.Date.UTC.apply(0,arguments),l=this.getTimezoneOffset(b),b+=l,l!==(n=this.getTimezoneOffset(b))?b+=n-l:l-36e5!==this.getTimezoneOffset(b-36e5)||A||(b-=36e5)):b=new this.Date(v,T,W(H,1),W(B,0),W(S,0),W(p,0)).getTime(),b}timezoneOffsetFunction(){let v=this,T=this.options,H=T.getTimezoneOffset;return this.useUTC?T.timezone?B=>{try{let S=`shortOffset,${T.timezone||""}`,[p,b,l,n,o=0]=(D.formatCache[S]=D.formatCache[S]||Intl.DateTimeFormat("en",{timeZone:T.timezone,timeZoneName:"shortOffset"})).format(B).split(/(GMT|:)/).map(Number),h=-36e5*(l+o/60);if(he(h))return h}catch{me(34)}return 0}:this.useUTC&&H?B=>6e4*H(B.valueOf()):()=>6e4*(v.timezoneOffset||0):B=>6e4*new Date(B.toString()).getTimezoneOffset()}dateFormat(v,T,H){if(!ve(T)||isNaN(T))return Z.defaultOptions.lang&&Z.defaultOptions.lang.invalidDate||"";v=W(v,"%Y-%m-%d %H:%M:%S");let B=this,S=new this.Date(T),p=this.get("Hours",S),b=this.get("Day",S),l=this.get("Date",S),n=this.get("Month",S),o=this.get("FullYear",S),h=Z.defaultOptions.lang,d=h&&h.weekdays,c=h&&h.shortWeekdays;return ee(de({a:c?c[b]:d[b].substr(0,3),A:d[b],d:L(l),e:L(l,2," "),w:b,b:h.shortMonths[n],B:h.months[n],m:L(n+1),o:n+1,y:o.toString().substr(2,2),Y:o,H:L(p),k:p,I:L(p%12||12),l:p%12||12,M:L(this.get("Minutes",S)),p:p<12?"AM":"PM",P:p<12?"am":"pm",S:L(this.get("Seconds",S)),L:L(Math.floor(T%1e3),3)},Z.dateFormats),function(f,u){for(;-1!==v.indexOf("%"+u);)v=v.replace("%"+u,"function"==typeof f?f.call(B,T):f)}),H?v.substr(0,1).toUpperCase()+v.substr(1):v}resolveDTLFormat(v){return Q(v,!0)?v:{main:(v=N(v))[0],from:v[1],to:v[2]}}getTimeTicks(v,T,H,B){let S,p,b,l,n=this,h=[],d={},c=new(0,n.Date)(T),f=v.unitRange,u=v.count||1;if(B=W(B,1),ve(T)){n.set("Milliseconds",c,f>=I.second?0:u*Math.floor(n.get("Milliseconds",c)/u)),f>=I.second&&n.set("Seconds",c,f>=I.minute?0:u*Math.floor(n.get("Seconds",c)/u)),f>=I.minute&&n.set("Minutes",c,f>=I.hour?0:u*Math.floor(n.get("Minutes",c)/u)),f>=I.hour&&n.set("Hours",c,f>=I.day?0:u*Math.floor(n.get("Hours",c)/u)),f>=I.day&&n.set("Date",c,f>=I.month?1:Math.max(1,u*Math.floor(n.get("Date",c)/u))),f>=I.month&&(n.set("Month",c,f>=I.year?0:u*Math.floor(n.get("Month",c)/u)),p=n.get("FullYear",c)),f>=I.year&&(p-=p%u,n.set("FullYear",c,p)),f===I.week&&(l=n.get("Day",c),n.set("Date",c,n.get("Date",c)-l+B+(l<B?-7:0))),p=n.get("FullYear",c);let M=n.get("Month",c),U=n.get("Date",c),x=n.get("Hours",c);T=c.getTime(),(n.variableTimezone||!n.useUTC)&&ve(H)&&(b=H-T>4*I.month||n.getTimezoneOffset(T)!==n.getTimezoneOffset(H));let O=c.getTime();for(S=1;O<H;)h.push(O),f===I.year?O=n.makeTime(p+S*u,0):f===I.month?O=n.makeTime(p,M+S*u):!b||f!==I.day&&f!==I.week?b&&f===I.hour&&u>1?O=n.makeTime(p,M,U,x+S*u):O+=f*u:O=n.makeTime(p,M,U+S*u*(f===I.day?1:7)),S++;h.push(O),f<=I.hour&&h.length<1e4&&h.forEach(function(z){z%18e5==0&&"000000000"===n.dateFormat("%H%M%S%L",z)&&(d[z]="day")})}return h.info=de(v,{higherRanks:d,totalRange:f*u}),h}getDateFormat(v,T,H,B){let S=this.dateFormat("%m-%d %H:%M:%S.%L",T),p="01-01 00:00:00.000",b={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond",n=l;for(l in I){if(v===I.week&&+this.dateFormat("%w",T)===H&&S.substr(6)===p.substr(6)){l="week";break}if(I[l]>v){l=n;break}if(b[l]&&S.substr(b[l])!==p.substr(b[l]))break;"week"!==l&&(n=l)}return this.resolveDTLFormat(B[l]).main}}return D.formatCache={},D}),Ne(Y,"Core/Defaults.js",[Y["Core/Chart/ChartDefaults.js"],Y["Core/Globals.js"],Y["Core/Color/Palettes.js"],Y["Core/Time.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{isTouchDevice:de}=ce,{fireEvent:he,merge:Q}=me,te={colors:xe.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:Z,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:L=>Math.sqrt(1-Math.pow(L-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:de?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};te.chart.styledMode=!1;let ee=new ve(te.time);return{defaultOptions:te,defaultTime:ee,getOptions:function(){return te},setOptions:function(L){return he(ce,"setOptions",{options:L}),Q(!0,te,L),(L.time||L.global)&&(ce.time?ce.time.update(Q(te.global,te.time,L.global,L.time)):ce.time=ee),te}}}),Ne(Y,"Core/Color/Color.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{isNumber:xe,merge:ve,pInt:me}=ce;class de{static parse(Q){return Q?new de(Q):de.None}constructor(Q){let te,ee,L,W;this.rgba=[NaN,NaN,NaN,NaN],this.input=Q;let N=Z.Color;if(N&&N!==de)return new N(Q);if("object"==typeof Q&&void 0!==Q.stops)this.stops=Q.stops.map(I=>new de(I[1]));else if("string"==typeof Q){if(this.input=Q=de.names[Q.toLowerCase()]||Q,"#"===Q.charAt(0)){let I=Q.length,C=parseInt(Q.substr(1),16);7===I?ee=[(16711680&C)>>16,(65280&C)>>8,255&C,1]:4===I&&(ee=[(3840&C)>>4|(3840&C)>>8,(240&C)>>4|240&C,(15&C)<<4|15&C,1])}if(!ee)for(L=de.parsers.length;L--&&!ee;)(te=(W=de.parsers[L]).regex.exec(Q))&&(ee=W.parse(te))}ee&&(this.rgba=ee)}get(Q){let te=this.input,ee=this.rgba;if("object"==typeof te&&void 0!==this.stops){let L=ve(te);return L.stops=[].slice.call(L.stops),this.stops.forEach((W,N)=>{L.stops[N]=[L.stops[N][0],W.get(Q)]}),L}return ee&&xe(ee[0])?"rgb"===Q||!Q&&1===ee[3]?"rgb("+ee[0]+","+ee[1]+","+ee[2]+")":"a"===Q?`${ee[3]}`:"rgba("+ee.join(",")+")":te}brighten(Q){let te=this.rgba;if(this.stops)this.stops.forEach(function(ee){ee.brighten(Q)});else if(xe(Q)&&0!==Q)for(let ee=0;ee<3;ee++)te[ee]+=me(255*Q),te[ee]<0&&(te[ee]=0),te[ee]>255&&(te[ee]=255);return this}setOpacity(Q){return this.rgba[3]=Q,this}tweenTo(Q,te){let ee=this.rgba,L=Q.rgba;if(!xe(ee[0])||!xe(L[0]))return Q.input||"none";let W=1!==L[3]||1!==ee[3];return(W?"rgba(":"rgb(")+Math.round(L[0]+(ee[0]-L[0])*(1-te))+","+Math.round(L[1]+(ee[1]-L[1])*(1-te))+","+Math.round(L[2]+(ee[2]-L[2])*(1-te))+(W?","+(L[3]+(ee[3]-L[3])*(1-te)):"")+")"}}return de.names={white:"#ffffff",black:"#000000"},de.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(he){return[me(he[1]),me(he[2]),me(he[3]),parseFloat(he[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(he){return[me(he[1]),me(he[2]),me(he[3]),1]}}],de.None=new de(""),de}),Ne(Y,"Core/Animation/Fx.js",[Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{parse:ve}=Z,{win:me}=ce,{isNumber:de,objectEach:he}=xe;class Q{constructor(ee,L,W){this.pos=NaN,this.options=L,this.elem=ee,this.prop=W}dSetter(){let ee=this.paths,L=ee&&ee[0],W=ee&&ee[1],N=this.now||0,I=[];if(1!==N&&L&&W)if(L.length===W.length&&N<1)for(let C=0;C<W.length;C++){let A=L[C],D=W[C],P=[];for(let v=0;v<D.length;v++){let T=A[v],H=D[v];P[v]=de(T)&&de(H)&&("A"!==D[0]||4!==v&&5!==v)?T+N*(H-T):H}I.push(P)}else I=W;else I=this.toD||[];this.elem.attr("d",I,void 0,!0)}update(){let ee=this.elem,L=this.prop,W=this.now,N=this.options.step;this[L+"Setter"]?this[L+"Setter"]():ee.attr?ee.element&&ee.attr(L,W,null,!0):ee.style[L]=W+this.unit,N&&N.call(ee,W,this)}run(ee,L,W){let N=this,I=N.options,C=function(P){return!C.stopped&&N.step(P)},A=me.requestAnimationFrame||function(P){setTimeout(P,13)},D=function(){for(let P=0;P<Q.timers.length;P++)Q.timers[P]()||Q.timers.splice(P--,1);Q.timers.length&&A(D)};ee!==L||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=ee,this.end=L,this.unit=W,this.now=this.start,this.pos=0,C.elem=this.elem,C.prop=this.prop,C()&&1===Q.timers.push(C)&&A(D)):(delete I.curAnim[this.prop],I.complete&&0===Object.keys(I.curAnim).length&&I.complete.call(this.elem))}step(ee){let L,W,N=+new Date,I=this.options,C=this.elem,A=I.complete,D=I.duration,P=I.curAnim;return C.attr&&!C.element?L=!1:ee||N>=D+this.startTime?(this.now=this.end,this.pos=1,this.update(),P[this.prop]=!0,W=!0,he(P,function(v){!0!==v&&(W=!1)}),W&&A&&A.call(C),L=!1):(this.pos=I.easing((N-this.startTime)/D),this.now=this.start+(this.end-this.start)*this.pos,this.update(),L=!0),L}initPath(ee,L,W){let v,T,H,B,N=ee.startX,I=ee.endX,C=W.slice(),A=ee.isArea,D=A?2:1,P=L&&W.length>L.length&&W.hasStackedCliffs,S=L&&L.slice();if(!S||P)return[C,C];function p(l,n){for(;l.length<T;){let o=l[0],h=n[T-l.length];if(h&&"M"===o[0]&&(l[0]="C"===h[0]?["C",o[1],o[2],o[1],o[2],o[1],o[2]]:["L",o[1],o[2]]),l.unshift(o),A){let d=l.pop();l.push(l[l.length-1],d)}}}function b(l){for(;l.length<T;){let n=l[Math.floor(l.length/D)-1].slice();if("C"===n[0]&&(n[1]=n[5],n[2]=n[6]),A){let o=l[Math.floor(l.length/D)].slice();l.splice(l.length/2,0,n,o)}else l.push(n)}}if(N&&I&&I.length){for(H=0;H<N.length;H++){if(N[H]===I[0]){v=H;break}if(N[0]===I[I.length-N.length+H]){v=H,B=!0;break}if(N[N.length-1]===I[I.length-N.length+H]){v=N.length-H;break}}void 0===v&&(S=[])}return S.length&&de(v)&&(T=C.length+v*D,B?(p(S,C),b(C)):(p(C,S),b(S))),[S,C]}fillSetter(){Q.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,ve(this.start).tweenTo(ve(this.end),this.pos),void 0,!0)}}return Q.timers=[],Q}),Ne(Y,"Core/Animation/AnimationUtilities.js",[Y["Core/Animation/Fx.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defined:xe,getStyle:ve,isArray:me,isNumber:de,isObject:he,merge:Q,objectEach:te,pick:ee}=ce;function L(N){return he(N)?Q({duration:500,defer:0},N):{duration:N?500:0,defer:0}}function W(N,I){let C=Z.timers.length;for(;C--;)Z.timers[C].elem!==N||I&&I!==Z.timers[C].prop||(Z.timers[C].stopped=!0)}return{animate:function(N,I,C){let A,P,v,T,D="";he(C)||(T=arguments,C={duration:T[2],easing:T[3],complete:T[4]}),de(C.duration)||(C.duration=400),C.easing="function"==typeof C.easing?C.easing:Math[C.easing]||Math.easeInOutSine,C.curAnim=Q(I),te(I,function(H,B){W(N,B),v=new Z(N,C,B),P=void 0,"d"===B&&me(I.d)?(v.paths=v.initPath(N,N.pathArray,I.d),v.toD=I.d,A=0,P=1):N.attr?A=N.attr(B):(A=parseFloat(ve(N,B))||0,"opacity"!==B&&(D="px")),P||(P=H),"string"==typeof P&&P.match("px")&&(P=P.replace(/px/g,"")),v.run(A,P,D)})},animObject:L,getDeferredAnimation:function(N,I,C){let A=L(I),P=0,v=0;return(C?[C]:N.series).forEach(T=>{let H=L(T.options.animation);P=he(I)&&xe(I.defer)?A.defer:Math.max(P,H.duration+H.defer),v=Math.min(A.duration,H.duration)}),N.renderer.forExport&&(P=0),{defer:Math.max(0,P-v),duration:Math.min(P,v)}},setAnimation:function(N,I){I.renderer.globalAnimation=ee(N,I.options.chart.animation,!0)},stop:W}}),Ne(Y,"Core/Renderer/HTML/AST.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{SVG_NS:xe,win:ve}=Z,{attr:me,createElement:de,css:he,error:Q,isFunction:te,isString:ee,objectEach:L,splat:W}=ce,{trustedTypes:N}=ve,I=N&&te(N.createPolicy)&&N.createPolicy("highcharts",{createHTML:P=>P}),C=I?I.createHTML(""):"",A=function(){try{return!!(new DOMParser).parseFromString(C,"text/html")}catch{return!1}}();class D{static filterUserAttributes(v){return L(v,(T,H)=>{let B=!0;-1===D.allowedAttributes.indexOf(H)&&(B=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(H)&&(B=ee(T)&&D.allowedReferences.some(S=>0===T.indexOf(S))),B||(Q(33,!1,void 0,{"Invalid attribute in config":`${H}`}),delete v[H]),ee(T)&&v[H]&&(v[H]=T.replace(/</g,"&lt;"))}),v}static parseStyle(v){return v.split(";").reduce((T,H)=>{let B=H.split(":").map(p=>p.trim()),S=B.shift();return S&&B.length&&(T[S.replace(/-([a-z])/g,p=>p[1].toUpperCase())]=B.join(":")),T},{})}static setElementHTML(v,T){v.innerHTML=D.emptyHTML,T&&new D(T).addToDOM(v)}constructor(v){this.nodes="string"==typeof v?this.parseMarkup(v):v}addToDOM(v){return function T(H,B){let S;return W(H).forEach(function(p){let b,l=p.tagName,n=p.textContent?Z.doc.createTextNode(p.textContent):void 0,o=D.bypassHTMLFiltering;if(l)if("#text"===l)b=n;else if(-1!==D.allowedTags.indexOf(l)||o){let d=Z.doc.createElementNS("svg"===l?xe:B.namespaceURI||xe,l),c=p.attributes||{};L(p,function(f,u){"tagName"!==u&&"attributes"!==u&&"children"!==u&&"style"!==u&&"textContent"!==u&&(c[u]=f)}),me(d,o?c:D.filterUserAttributes(c)),p.style&&he(d,p.style),n&&d.appendChild(n),T(p.children||[],d),b=d}else Q(33,!1,void 0,{"Invalid tagName in config":l});b&&B.appendChild(b),S=b}),S}(this.nodes,v)}parseMarkup(v){let T,H=[];if(v=v.trim().replace(/ style=(["'])/g," data-style=$1"),A)T=(new DOMParser).parseFromString(I?I.createHTML(v):v,"text/html");else{let S=de("div");S.innerHTML=v,T={body:S}}let B=(S,p)=>{let b=S.nodeName.toLowerCase(),l={tagName:b};"#text"===b&&(l.textContent=S.textContent||"");let n=S.attributes;if(n){let o={};[].forEach.call(n,h=>{"data-style"===h.name?l.style=D.parseStyle(h.value):o[h.name]=h.value}),l.attributes=o}if(S.childNodes.length){let o=[];[].forEach.call(S.childNodes,h=>{B(h,o)}),o.length&&(l.children=o)}p.push(l)};return[].forEach.call(T.body.childNodes,S=>B(S,H)),H}}return D.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],D.allowedReferences=["https://","http://","mailto:","/","../","./","#"],D.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],D.emptyHTML=C,D.bypassHTMLFiltering=!1,D}),Ne(Y,"Core/Templating.js",[Y["Core/Defaults.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defaultOptions:xe,defaultTime:ve}=Z,{extend:me,getNestedProperty:de,isArray:he,isNumber:Q,isObject:te,pick:ee,pInt:L}=ce,W={add:(C,A)=>C+A,divide:(C,A)=>0!==A?C/A:"",eq:(C,A)=>C==A,each:function(C){let A=arguments[arguments.length-1];return!!he(C)&&C.map((D,P)=>N(A.body,me(te(D)?D:{"@this":D},{"@index":P,"@first":0===P,"@last":P===C.length-1}))).join("")},ge:(C,A)=>C>=A,gt:(C,A)=>C>A,if:C=>!!C,le:(C,A)=>C<=A,lt:(C,A)=>C<A,multiply:(C,A)=>C*A,ne:(C,A)=>C!=A,subtract:(C,A)=>C-A,unless:C=>!C};function N(C="",A,D){let n,o,d,P=/\{([\w\:\.\,;\-\/<>%@"'\u2019= #\(\)]+)\}/g,v=/\(([\w\:\.\,;\-\/<>%@"'= ]+)\)/g,T=[],H=/f$/,B=/\.(\d)/,S=xe.lang,p=D&&D.time||ve,b=D&&D.numberFormatter||I,l=(c="")=>{let f;return"true"===c||"false"!==c&&((f=Number(c)).toString()===c?f:de(c,A))},h=0;for(;null!==(n=P.exec(C));){let c=v.exec(n[1]);c&&(n=c,d=!0),o&&o.isBlock||(o={ctx:A,expression:n[1],find:n[0],isBlock:"#"===n[1].charAt(0),start:n.index,startInner:n.index+n[0].length,length:n[0].length});let f=n[1].split(" ")[0].replace("#","");W[f]&&(o.isBlock&&f===o.fn&&h++,o.fn||(o.fn=f));let u="else"===n[1];if(o.isBlock&&o.fn&&(n[1]===`/${o.fn}`||u))if(h)!u&&h--;else{let M=o.startInner,U=C.substr(M,n.index-M);void 0===o.body?(o.body=U,o.startInner=n.index+n[0].length):o.elseBody=U,o.find+=U+n[0],u||(T.push(o),o=void 0)}else o.isBlock||T.push(o);if(c&&!o?.isBlock)break}return T.forEach(c=>{let f,u,{body:M,elseBody:U,expression:x,fn:O}=c;if(O){let z=[c],j=x.split(" ");for(u=W[O].length;u--;)z.unshift(l(j[u+1]));f=W[O].apply(A,z),c.isBlock&&"boolean"==typeof f&&(f=N(f?M:U,A,D))}else{let z=x.split(":");if(f=l(z.shift()||""),z.length&&"number"==typeof f){let j=z.join(":");if(H.test(j)){let J=parseInt((j.match(B)||["","-1"])[1],10);null!==f&&(f=b(f,J,S.decimalPoint,j.indexOf(",")>-1?S.thousandsSep:""))}else f=p.dateFormat(j,f)}}C=C.replace(c.find,ee(f,""))}),d?N(C,A,D):C}function I(C,A,D,P){let v,T;A=+A;let H=xe.lang,B=((C=+C||0).toString().split(".")[1]||"").split("e")[0].length,S=C.toString().split("e"),p=A;-1===A?A=Math.min(B,20):Q(A)?A&&S[1]&&S[1]<0&&((T=A+ +S[1])>=0?(S[0]=(+S[0]).toExponential(T).split("e")[0],A=T):(S[0]=S[0].split(".")[0]||0,C=A<20?(S[0]*Math.pow(10,S[1])).toFixed(A):0,S[1]=0)):A=2;let b=(Math.abs(S[1]?S[0]:C)+Math.pow(10,-Math.max(A,B)-1)).toFixed(A),l=String(L(b)),n=l.length>3?l.length%3:0;return D=ee(D,H.decimalPoint),P=ee(P,H.thousandsSep),v=(C<0?"-":"")+(n?l.substr(0,n)+P:""),0>+S[1]&&!p?v="0":v+=l.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+P),A?v+=D+b.slice(-A):0==+v&&(v="0"),S[1]&&0!=+v&&(v+="e"+S[1]),v}return{dateFormat:function(C,A,D){return ve.dateFormat(C,A,D)},format:N,helpers:W,numberFormat:I}}),Ne(Y,"Core/Renderer/RendererRegistry.js",[Y["Core/Globals.js"]],function(Z){var ce,xe;let ve;return(xe=ce||(ce={})).rendererTypes={},xe.getRendererType=function(me=ve){return xe.rendererTypes[me]||xe.rendererTypes[ve]},xe.registerRendererType=function(me,de,he){xe.rendererTypes[me]=de,(!ve||he)&&(ve=me,Z.Renderer=de)},ce}),Ne(Y,"Core/Renderer/RendererUtilities.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{clamp:xe,pick:ve,pushUnique:me,stableSort:de}=Z;return(ce||(ce={})).distribute=function he(Q,te,ee){let P,v,T,B,S,b,L=Q,W=L.reducedLen||te,N=(l,n)=>l.target-n.target,I=[],C=Q.length,A=[],D=I.push,H=!0,p=0;for(P=C;P--;)p+=Q[P].size;if(p>W){for(de(Q,(l,n)=>(n.rank||0)-(l.rank||0)),T=(b=Q[0].rank===Q[Q.length-1].rank)?C/2:-1,v=b?T:C-1;T&&p>W;)B=Q[P=Math.floor(v)],me(A,P)&&(p-=B.size),v+=T,b&&v>=Q.length&&(T/=2,v=T);A.sort((l,n)=>n-l).forEach(l=>D.apply(I,Q.splice(l,1)))}for(de(Q,N),Q=Q.map(l=>({size:l.size,targets:[l.target],align:ve(l.align,.5)}));H;){for(P=Q.length;P--;)B=Q[P],S=(Math.min.apply(0,B.targets)+Math.max.apply(0,B.targets))/2,B.pos=xe(S-B.size*B.align,0,te-B.size);for(P=Q.length,H=!1;P--;)P>0&&Q[P-1].pos+Q[P-1].size>Q[P].pos&&(Q[P-1].size+=Q[P].size,Q[P-1].targets=Q[P-1].targets.concat(Q[P].targets),Q[P-1].align=.5,Q[P-1].pos+Q[P-1].size>te&&(Q[P-1].pos=te-Q[P-1].size),Q.splice(P,1),H=!0)}return D.apply(L,I),P=0,Q.some(l=>{let n=0;return(l.targets||[]).some(()=>(L[P].pos=l.pos+n,void 0!==ee&&Math.abs(L[P].pos-L[P].target)>ee?(L.slice(0,P+1).forEach(o=>delete o.pos),L.reducedLen=(L.reducedLen||te)-.1*te,L.reducedLen>.1*te&&he(L,te,ee),!0):(n+=L[P].size,P++,!1)))}),de(L,N),L},ce}),Ne(Y,"Core/Renderer/SVG/SVGElement.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{animate:me,animObject:de,stop:he}=Z,{deg2rad:Q,doc:te,svg:ee,SVG_NS:L,win:W}=xe,{addEvent:N,attr:I,createElement:C,crisp:A,css:D,defined:P,erase:v,extend:T,fireEvent:H,isArray:B,isFunction:S,isObject:p,isString:b,merge:l,objectEach:n,pick:o,pInt:h,pushUnique:d,replaceNested:c,syncTimeout:f,uniqueKey:u}=ve;class M{_defaultGetter(x){let O=o(this[x+"Value"],this[x],this.element?this.element.getAttribute(x):null,0);return/^-?[\d\.]+$/.test(O)&&(O=parseFloat(O)),O}_defaultSetter(x,O,z){z.setAttribute(O,x)}add(x){let O,z=this.renderer,j=this.element;return x&&(this.parentGroup=x),void 0!==this.textStr&&"text"===this.element.nodeName&&z.buildText(this),this.added=!0,(!x||x.handleZ||this.zIndex)&&(O=this.zIndexSetter()),O||(x?x.element:z.box).appendChild(j),this.onAdd&&this.onAdd(),this}addClass(x,O){let z=O?"":this.attr("class")||"";return(x=(x||"").split(/ /g).reduce(function(j,J){return-1===z.indexOf(J)&&j.push(J),j},z?[z]:[]).join(" "))!==z&&this.attr("class",x),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(x,O,z,j=!0){let J,y,w,E,X={},m=this.renderer,F=m.alignedObjects,R=!!x;x?(this.alignOptions=x,this.alignByTranslate=O,this.alignTo=z):(x=this.alignOptions||{},O=this.alignByTranslate,z=this.alignTo);let _=!z||b(z)?z||"renderer":void 0;_&&(R&&d(F,this),z=void 0);let G=o(z,m[_],m),K=x.align,oe=x.verticalAlign;return J=(G.x||0)+(x.x||0),y=(G.y||0)+(x.y||0),"right"===K?w=1:"center"===K&&(w=2),w&&(J+=((G.width||0)-(x.width||0))/w),X[O?"translateX":"x"]=Math.round(J),"bottom"===oe?E=1:"middle"===oe&&(E=2),E&&(y+=((G.height||0)-(x.height||0))/E),X[O?"translateY":"y"]=Math.round(y),j&&(this[this.placed?"animate":"attr"](X),this.placed=!0),this.alignAttr=X,this}alignSetter(x){let O={left:"start",center:"middle",right:"end"};O[x]&&(this.alignValue=x,this.element.setAttribute("text-anchor",O[x]))}animate(x,O,z){let j=de(o(O,this.renderer.globalAnimation,!0)),J=j.defer;return te.hidden&&(j.duration=0),0!==j.duration?(z&&(j.complete=z),f(()=>{this.element&&me(this,x,j)},J)):(this.attr(x,void 0,z||j.complete),n(x,function(y,w){j.step&&j.step.call(this,y,{prop:w,pos:1,elem:this})},this)),this}applyTextOutline(x){let O=this.element;-1!==x.indexOf("contrast")&&(x=x.replace(/contrast/g,this.renderer.getContrast(O.style.fill)));let z=x.split(" "),j=z[z.length-1],J=z[0];if(J&&"none"!==J&&xe.svg){this.fakeTS=!0,J=J.replace(/(^[\d\.]+)(.*?)$/g,function(m,F,R){return 2*Number(F)+R}),this.removeTextOutline();let y=te.createElementNS(L,"tspan");I(y,{class:"highcharts-text-outline",fill:j,stroke:j,"stroke-width":J,"stroke-linejoin":"round"});let w=O.querySelector("textPath")||O;[].forEach.call(w.childNodes,m=>{let F=m.cloneNode(!0);F.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(R=>F.removeAttribute(R)),y.appendChild(F)});let E=0;[].forEach.call(w.querySelectorAll("text tspan"),m=>{E+=Number(m.getAttribute("dy"))});let X=te.createElementNS(L,"tspan");X.textContent="\u200b",I(X,{x:Number(O.getAttribute("x")),dy:-E}),y.appendChild(X),w.insertBefore(y,w.firstChild)}}attr(x,O,z,j){let w,E,m,{element:J}=this,y=M.symbolCustomAttribs,X=this;return"string"==typeof x&&void 0!==O&&(w=x,(x={})[w]=O),"string"==typeof x?X=(this[x+"Getter"]||this._defaultGetter).call(this,x,J):(n(x,function(F,R){m=!1,j||he(this,R),this.symbolName&&-1!==y.indexOf(R)&&(E||(this.symbolAttr(x),E=!0),m=!0),this.rotation&&("x"===R||"y"===R)&&(this.doTransform=!0),m||(this[R+"Setter"]||this._defaultSetter).call(this,F,R,J)},this),this.afterSetters()),z&&z.call(this),X}clip(x){if(x&&!x.clipPath){let O=u()+"-",z=this.renderer.createElement("clipPath").attr({id:O}).add(this.renderer.defs);T(x,{clipPath:z,id:O,count:0}),x.add(z)}return this.attr("clip-path",x?`url(${this.renderer.url}#${x.id})`:"none")}crisp(x,O){O=Math.round(O||x.strokeWidth||0);let z=x.x||this.x||0,j=x.y||this.y||0,J=(x.width||this.width||0)+z,y=(x.height||this.height||0)+j,w=A(z,O),E=A(j,O);return T(x,{x:w,y:E,width:A(J,O)-w,height:A(y,O)-E}),P(x.strokeWidth)&&(x.strokeWidth=O),x}complexColor(x,O,z){let J,y,w,E,X,m,F,R,_,G,oe,j=this.renderer,K=[];H(this.renderer,"complexColor",{args:arguments},function(){if(x.radialGradient?y="radialGradient":x.linearGradient&&(y="linearGradient"),y){if(w=x[y],X=j.gradients,m=x.stops,_=z.radialReference,B(w)&&(x[y]=w={x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===y&&_&&!P(w.gradientUnits)&&(E=w,w=l(w,j.getRadialAttr(_,E),{gradientUnits:"userSpaceOnUse"})),n(w,function(ae,ue){"id"!==ue&&K.push(ue,ae)}),n(m,function(ae){K.push(ae)}),X[K=K.join(",")])G=X[K].attr("id");else{w.id=G=u();let ae=X[K]=j.createElement(y).attr(w).add(j.defs);ae.radAttr=E,ae.stops=[],m.forEach(function(ue){0===ue[1].indexOf("rgba")?(F=(J=ce.parse(ue[1])).get("rgb"),R=J.get("a")):(F=ue[1],R=1);let be=j.createElement("stop").attr({offset:ue[0],"stop-color":F,"stop-opacity":R}).add(ae);ae.stops.push(be)})}oe="url("+j.url+"#"+G+")",z.setAttribute(O,oe),z.gradient=K,x.toString=function(){return oe}}})}css(x){let J,O=this.styles,z={},j=this.element,y=!O;if(O&&n(x,function(w,E){O&&O[E]!==w&&(z[E]=w,y=!0)}),y){O&&(x=T(O,z)),null===x.width||"auto"===x.width?delete this.textWidth:"text"===j.nodeName.toLowerCase()&&x.width&&(J=this.textWidth=h(x.width)),T(this.styles,x),J&&!ee&&this.renderer.forExport&&delete x.width;let w=l(x);j.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(E=>w&&delete w[E]),w.color&&(w.fill=w.color)),D(j,w)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),x.textOutline&&this.applyTextOutline(x.textOutline)),this}dashstyleSetter(x){let O,z=this["stroke-width"];if("inherit"===z&&(z=1),x=x&&x.toLowerCase()){let j=x.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(O=j.length;O--;)j[O]=""+h(j[O])*o(z,NaN);x=j.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",x)}}destroy(){let y,w,x=this,O=x.element||{},z=x.renderer,j=O.ownerSVGElement,J="SPAN"===O.nodeName&&x.parentGroup||void 0;if(O.onclick=O.onmouseout=O.onmouseover=O.onmousemove=O.point=null,he(x),x.clipPath&&j){let E=x.clipPath;[].forEach.call(j.querySelectorAll("[clip-path],[CLIP-PATH]"),function(X){X.getAttribute("clip-path").indexOf(E.element.id)>-1&&X.removeAttribute("clip-path")}),x.clipPath=E.destroy()}if(x.connector=x.connector?.destroy(),x.stops){for(w=0;w<x.stops.length;w++)x.stops[w].destroy();x.stops.length=0,x.stops=void 0}for(x.safeRemoveChild(O);J&&J.div&&0===J.div.childNodes.length;)y=J.parentGroup,x.safeRemoveChild(J.div),delete J.div,J=y;x.alignOptions&&v(z.alignedObjects,x),n(x,function(E,X){x[X]&&x[X].parentGroup===x&&x[X].destroy&&x[X].destroy(),delete x[X]})}dSetter(x,O,z){B(x)&&("string"==typeof x[0]&&(x=this.renderer.pathToSegments(x)),this.pathArray=x,x=x.reduce((j,J,y)=>J&&J.join?(y?j+" ":"")+J.join(" "):(J||"").toString(),"")),/(NaN| {2}|^$)/.test(x)&&(x="M 0 0"),this[O]!==x&&(z.setAttribute(O,x),this[O]=x)}fillSetter(x,O,z){"string"==typeof x?z.setAttribute(O,x):x&&this.complexColor(x,O,z)}hrefSetter(x,O,z){z.setAttributeNS("http://www.w3.org/1999/xlink",O,x)}getBBox(x,O){let z,j,J,y,{alignValue:w,element:E,renderer:X,styles:m,textStr:F}=this,{cache:R,cacheKeys:_}=X,G=E.namespaceURI===this.SVG_NS,K=o(O,this.rotation,0),oe=X.styledMode?E&&M.prototype.getStyle.call(E,"font-size"):m.fontSize;if(P(F)&&(-1===(y=F.toString()).indexOf("<")&&(y=y.replace(/\d/g,"0")),y+=["",X.rootFontSize,oe,K,this.textWidth,w,m.textOverflow,m.fontWeight].join(",")),y&&!x&&(z=R[y]),!z||z.polygon){if(G||X.forExport){try{J=this.fakeTS&&function(ue){let be=E.querySelector(".highcharts-text-outline");be&&D(be,{display:ue})},S(J)&&J("none"),z=E.getBBox?T({},E.getBBox()):{width:E.offsetWidth,height:E.offsetHeight,x:0,y:0},S(J)&&J("")}catch{}(!z||z.width<0)&&(z={x:0,y:0,width:0,height:0})}else z=this.htmlGetBBox();j=z.height,G&&(z.height=j={"11px,17":14,"13px,20":16}[`${oe||""},${Math.round(j)}`]||j),K&&(z=this.getRotatedBox(z,K));let ae={bBox:z};H(this,"afterGetBBox",ae),z=ae.bBox}if(y&&(""===F||z.height>0)){for(;_.length>250;)delete R[_.shift()];R[y]||_.push(y),R[y]=z}return z}getRotatedBox(x,O){let{x:z,y:j,width:J,height:y}=x,{alignValue:w,translateY:E,rotationOriginX:X=0,rotationOriginY:m=0}=this,F={right:1,center:.5}[w||0]||0,R=Number(this.element.getAttribute("y")||0)-(E?0:j),_=O*Q,G=(O-90)*Q,K=Math.cos(_),oe=Math.sin(_),ae=J*K,ue=J*oe,be=Math.cos(G),Se=Math.sin(G),[[ie,q],[re,le]]=[X,m].map(it=>[it-it*K,it*oe]),pe=z+F*(J-ae)+ie+le+R*be,ge=pe+ae,we=ge-y*be,ye=we-ae,Me=j+R-F*ue-q+re+R*Se,Pe=Me+ue,Re=Pe-y*Se,Fe=Re-ue,De=Math.min(pe,ge,we,ye),He=Math.min(Me,Pe,Re,Fe);return{x:De,y:He,width:Math.max(pe,ge,we,ye)-De,height:Math.max(Me,Pe,Re,Fe)-He,polygon:[[pe,Me],[ge,Pe],[we,Re],[ye,Fe]]}}getStyle(x){return W.getComputedStyle(this.element||this,"").getPropertyValue(x)}hasClass(x){return-1!==(""+this.attr("class")).split(" ").indexOf(x)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(x,O){this.onEvents={},this.opacity=1,this.SVG_NS=L,this.element="span"===O||"body"===O?C(O):te.createElementNS(this.SVG_NS,O),this.renderer=x,this.styles={},H(this,"afterInit")}on(x,O){let{onEvents:z}=this;return z[x]&&z[x](),z[x]=N(this.element,x,O),this}opacitySetter(x,O,z){let j=Number(Number(x).toFixed(3));this.opacity=j,z.setAttribute(O,j)}reAlign(){this.alignOptions?.width&&"left"!==this.alignOptions.align&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(x){return this.attr("class",(""+this.attr("class")).replace(b(x)?RegExp(`(^| )${x}( |$)`):x," ").replace(/ +/g," ").trim())}removeTextOutline(){let x=this.element.querySelector("tspan.highcharts-text-outline");x&&this.safeRemoveChild(x)}safeRemoveChild(x){let O=x.parentNode;O&&O.removeChild(x)}setRadialReference(x){let O=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=x,O&&O.radAttr&&O.animate(this.renderer.getRadialAttr(x,O.radAttr)),this}shadow(x){let{renderer:O}=this,z=l(90===this.parentGroup?.rotation?{offsetX:-1,offsetY:-1}:{},p(x)?x:{}),j=O.shadowDefinition(z);return this.attr({filter:x?`url(${O.url}#${j})`:"none"})}show(x=!0){return this.attr({visibility:x?"inherit":"visible"})}"stroke-widthSetter"(x,O,z){this[O]=x,z.setAttribute(O,x)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let z,x=this.getStyle("stroke-width"),O=0;return/px$/.test(x)?O=h(x):""!==x&&(I(z=te.createElementNS(L,"rect"),{width:x,"stroke-width":0}),this.element.parentNode.appendChild(z),O=z.getBBox().width,z.parentNode.removeChild(z)),O}symbolAttr(x){let O=this;M.symbolCustomAttribs.forEach(function(z){O[z]=o(x[z],O[z])}),O.attr({d:O.renderer.symbols[O.symbolName](O.x,O.y,O.width,O.height,O)})}textSetter(x){x!==this.textStr&&(delete this.textPxLength,this.textStr=x,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(x){let O=this.element,z=O.getElementsByTagName("title")[0]||te.createElementNS(this.SVG_NS,"title");O.insertBefore?O.insertBefore(z,O.firstChild):O.appendChild(z),z.textContent=c(o(x,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let x=this.element;return x.parentNode.appendChild(x),this}translate(x,O){return this.attr({translateX:x,translateY:O})}updateTransform(x="transform"){let{element:O,matrix:z,rotation:j=0,rotationOriginX:J,rotationOriginY:y,scaleX:w,scaleY:E,translateX:X=0,translateY:m=0}=this,F=["translate("+X+","+m+")"];P(z)&&F.push("matrix("+z.join(",")+")"),j&&(F.push("rotate("+j+" "+o(J,O.getAttribute("x"),0)+" "+o(y,O.getAttribute("y")||0)+")"),"SPAN"===this.text?.element.tagName&&this.text.attr({rotation:j,rotationOriginX:(J||0)-this.padding,rotationOriginY:(y||0)-this.padding})),(P(w)||P(E))&&F.push("scale("+o(w,1)+" "+o(E,1)+")"),F.length&&!(this.text||this).textPath&&O.setAttribute(x,F.join(" "))}visibilitySetter(x,O,z){"inherit"===x?z.removeAttribute(O):this[O]!==x&&z.setAttribute(O,x),this[O]=x}xGetter(x){return"circle"===this.element.nodeName&&("x"===x?x="cx":"y"===x&&(x="cy")),this._defaultGetter(x)}zIndexSetter(x,O){let E,X,m,R,G,z=this.renderer,j=this.parentGroup,J=(j||z).element||z.box,y=this.element,w=J===z.box,F=!1,_=this.added;if(P(x)?(y.setAttribute("data-z-index",x),this[O]===(x=+x)&&(_=!1)):P(this[O])&&y.removeAttribute("data-z-index"),this[O]=x,_){for((x=this.zIndex)&&j&&(j.handleZ=!0),G=(E=J.childNodes).length-1;G>=0&&!F;G--)R=!P(m=(X=E[G]).getAttribute("data-z-index")),X!==y&&(x<0&&R&&!w&&!G?(J.insertBefore(y,E[G]),F=!0):(h(m)<=x||R&&(!P(x)||x>=0))&&(J.insertBefore(y,E[G+1]),F=!0));F||(J.insertBefore(y,E[w?3:0]),F=!0)}return F}}return M.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],M.prototype.strokeSetter=M.prototype.fillSetter,M.prototype.yGetter=M.prototype.xGetter,M.prototype.matrixSetter=M.prototype.rotationOriginXSetter=M.prototype.rotationOriginYSetter=M.prototype.rotationSetter=M.prototype.scaleXSetter=M.prototype.scaleYSetter=M.prototype.translateXSetter=M.prototype.translateYSetter=M.prototype.verticalAlignSetter=function(U,x){this[x]=U,this.doTransform=!0},M}),Ne(Y,"Core/Renderer/SVG/SVGLabel.js",[Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defined:xe,extend:ve,isNumber:me,merge:de,pick:he,removeEvent:Q}=ce;class te extends Z{constructor(L,W,N,I,C,A,D,P,v,T){let H;super(L,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=W,this.x=N,this.y=I,this.anchorX=A,this.anchorY=D,this.baseline=v,this.className=T,this.addClass("button"===T?"highcharts-no-tooltip":"highcharts-label"),T&&this.addClass("highcharts-"+T),this.text=L.text(void 0,0,0,P).attr({zIndex:1}),"string"==typeof C&&((H=/^url\((.*?)\)$/.test(C))||this.renderer.symbols[C])&&(this.symbolKey=C),this.bBox=te.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=L.styledMode||H,this.deferredAttr={},this.alignFactor=0}alignSetter(L){let W={left:0,center:.5,right:1}[L];W!==this.alignFactor&&(this.alignFactor=W,this.bBox&&me(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(L,W){this.anchorX=L,this.boxAttr(W,Math.round(L)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(L,W){this.anchorY=L,this.boxAttr(W,L-this.ySetting)}boxAttr(L,W){this.box?this.box.attr(L,W):this.deferredAttr[L]=W}css(L){if(L){let W={};L=de(L),te.textProps.forEach(N=>{void 0!==L[N]&&(W[N]=L[N],delete L[N])}),this.text.css(W),"fontSize"in W||"fontWeight"in W?this.updateTextPadding():("width"in W||"textOverflow"in W)&&this.updateBoxSize()}return Z.prototype.css.call(this,L)}destroy(){Q(this.element,"mouseenter"),Q(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Z.prototype.destroy.call(this)}fillSetter(L,W){L&&(this.needsBox=!0),this.fill=L,this.boxAttr(W,L)}getBBox(L,W){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();let{padding:N,height:I=0,translateX:C=0,translateY:A=0,width:D=0}=this,P=he(this.paddingLeft,N),v=W??(this.rotation||0),T={width:D,height:I,x:C+this.bBox.x-P,y:A+this.bBox.y-N+this.baselineOffset};return v&&(T=this.getRotatedBox(T,v)),T}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(L){this.heightSetting=L,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:he(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&xe(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(L,W){me(L)?L!==this[W]&&(this[W]=L,this.updateTextPadding()):this[W]=void 0}rSetter(L,W){this.boxAttr(W,L)}strokeSetter(L,W){this.stroke=L,this.boxAttr(W,L)}"stroke-widthSetter"(L,W){L&&(this.needsBox=!0),this["stroke-width"]=L,this.boxAttr(W,L)}"text-alignSetter"(L){this.textAlign=L}textSetter(L){void 0!==L&&this.text.attr({text:L}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let L,W=this.text,N={},I=this.padding,C=this.bBox=me(this.widthSetting)&&me(this.heightSetting)&&!this.textAlign||!xe(W.textStr)?te.emptyBBox:W.getBBox(void 0,0);this.width=this.getPaddedWidth(),this.height=(this.heightSetting||C.height||0)+2*I;let A=this.renderer.fontMetrics(W);if(this.baselineOffset=I+Math.min((this.text.firstLineMetrics||A).b,C.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-A.h)/2),this.needsBox&&!W.textPath){if(!this.box){let D=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();D.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),D.add(this)}L=this.getCrispAdjust(),N.x=L,N.y=(this.baseline?-this.baselineOffset:0)+L,N.width=Math.round(this.width),N.height=Math.round(this.height),this.box.attr(ve(N,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let L=this.text;if(!L.textPath){this.updateBoxSize();let W=this.baseline?0:this.baselineOffset,N=he(this.paddingLeft,this.padding);xe(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(N+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(N!==L.x||W!==L.y)&&(L.attr("x",N),L.hasBoxWidthChanged&&(this.bBox=L.getBBox(!0)),void 0!==W&&L.attr("y",W)),L.x=N,L.y=W}}widthSetter(L){this.widthSetting=me(L)?L:void 0,this.doUpdate=!0}getPaddedWidth(){let L=this.padding,W=he(this.paddingLeft,L),N=he(this.paddingRight,L);return(this.widthSetting||this.bBox.width||0)+W+N}xSetter(L){this.x=L,this.alignFactor&&(L-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(L),this.attr("translateX",this.xSetting)}ySetter(L){this.ySetting=this.y=Math.round(L),this.attr("translateY",this.ySetting)}}return te.emptyBBox={width:0,height:0,x:0,y:0},te.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],te}),Ne(Y,"Core/Renderer/SVG/Symbols.js",[Y["Core/Utilities.js"]],function(Z){let{defined:ce,isNumber:xe,pick:ve}=Z;function me(Q,te,ee,L,W){let N=[];if(W){let I=W.start||0,C=ve(W.r,ee),A=ve(W.r,L||ee),D=2e-4/(W.borderRadius?1:Math.max(C,1)),P=Math.abs((W.end||0)-I-2*Math.PI)<D,v=(W.end||0)-(P?D:0),T=W.innerR,H=ve(W.open,P),B=Math.cos(I),S=Math.sin(I),p=Math.cos(v),b=Math.sin(v),l=ve(W.longArc,v-I-Math.PI<D?0:1),n=["A",C,A,0,l,ve(W.clockwise,1),Q+C*p,te+A*b];n.params={start:I,end:v,cx:Q,cy:te},N.push(["M",Q+C*B,te+A*S],n),ce(T)&&((n=["A",T,T,0,l,ce(W.clockwise)?1-W.clockwise:0,Q+T*B,te+T*S]).params={start:v,end:I,cx:Q,cy:te},N.push(H?["M",Q+T*p,te+T*b]:["L",Q+T*p,te+T*b],n)),H||N.push(["Z"])}return N}function de(Q,te,ee,L,W){return W&&W.r?he(Q,te,ee,L,W):[["M",Q,te],["L",Q+ee,te],["L",Q+ee,te+L],["L",Q,te+L],["Z"]]}function he(Q,te,ee,L,W){let N=W?.r||0;return[["M",Q+N,te],["L",Q+ee-N,te],["A",N,N,0,0,1,Q+ee,te+N],["L",Q+ee,te+L-N],["A",N,N,0,0,1,Q+ee-N,te+L],["L",Q+N,te+L],["A",N,N,0,0,1,Q,te+L-N],["L",Q,te+N],["A",N,N,0,0,1,Q+N,te],["Z"]]}return{arc:me,callout:function(Q,te,ee,L,W){let N=Math.min(W&&W.r||0,ee,L),I=N+6,C=W&&W.anchorX,A=W&&W.anchorY||0,D=he(Q,te,ee,L,{r:N});if(!xe(C)||C<ee&&C>0&&A<L&&A>0)return D;if(Q+C>ee-I)if(A>te+I&&A<te+L-I)D.splice(3,1,["L",Q+ee,A-6],["L",Q+ee+6,A],["L",Q+ee,A+6],["L",Q+ee,te+L-N]);else if(C<ee){let P=A<te+I;D.splice(P?2:5,0,["L",C,A],["L",Q+ee-N,P?te:te+L])}else D.splice(3,1,["L",Q+ee,L/2],["L",C,A],["L",Q+ee,L/2],["L",Q+ee,te+L-N]);else if(Q+C<I)if(A>te+I&&A<te+L-I)D.splice(7,1,["L",Q,A+6],["L",Q-6,A],["L",Q,A-6],["L",Q,te+N]);else if(C>0){let P=A<te+I;D.splice(P?1:6,0,["L",C,A],["L",Q+N,P?te:te+L])}else D.splice(7,1,["L",Q,L/2],["L",C,A],["L",Q,L/2],["L",Q,te+N]);else A>L&&C<ee-I?D.splice(5,1,["L",C+6,te+L],["L",C,te+L+6],["L",C-6,te+L],["L",Q+N,te+L]):A<0&&C>I&&D.splice(1,1,["L",C-6,te],["L",C,te-6],["L",C+6,te],["L",ee-N,te]);return D},circle:function(Q,te,ee,L){return me(Q+ee/2,te+L/2,ee/2,L/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(Q,te,ee,L){return[["M",Q+ee/2,te],["L",Q+ee,te+L/2],["L",Q+ee/2,te+L],["L",Q,te+L/2],["Z"]]},rect:de,roundedRect:he,square:de,triangle:function(Q,te,ee,L){return[["M",Q+ee/2,te],["L",Q+ee,te+L],["L",Q,te+L],["Z"]]},"triangle-down":function(Q,te,ee,L){return[["M",Q,te],["L",Q+ee,te],["L",Q+ee/2,te+L],["Z"]]}}}),Ne(Y,"Core/Renderer/SVG/TextBuilder.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{doc:ve,SVG_NS:me,win:de}=ce,{attr:he,extend:Q,fireEvent:te,isString:ee,objectEach:L,pick:W}=xe;return class{constructor(N){let I=N.styles;this.renderer=N.renderer,this.svgElement=N,this.width=N.textWidth,this.textLineHeight=I&&I.lineHeight,this.textOutline=I&&I.textOutline,this.ellipsis=!(!I||"ellipsis"!==I.textOverflow),this.noWrap=!(!I||"nowrap"!==I.whiteSpace)}buildSVG(){let N=this.svgElement,I=N.element,C=N.renderer,A=W(N.textStr,"").toString(),D=-1!==A.indexOf("<"),P=I.childNodes,v=!N.added&&C.box,T=[A,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,N.getStyle("font-size"),this.width].join(",");if(T!==N.textCache){N.textCache=T,delete N.actualWidth;for(let H=P.length;H--;)I.removeChild(P[H]);if(D||this.ellipsis||this.width||N.textPath||-1!==A.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(A))){if(""!==A){v&&v.appendChild(I);let H=new Z(A);this.modifyTree(H.nodes),H.addToDOM(I),this.modifyDOM(),this.ellipsis&&-1!==(I.textContent||"").indexOf("\u2026")&&N.attr("title",this.unescapeEntities(N.textStr||"",["&lt;","&gt;"])),v&&v.removeChild(I)}}else I.appendChild(ve.createTextNode(this.unescapeEntities(A)));ee(this.textOutline)&&N.applyTextOutline&&N.applyTextOutline(this.textOutline)}}modifyDOM(){let N,I=this.svgElement,C=he(I.element,"x");for(I.firstLineMetrics=void 0;(N=I.element.firstChild)&&/^[\s\u200B]*$/.test(N.textContent||" ");)I.element.removeChild(N);[].forEach.call(I.element.querySelectorAll("tspan.highcharts-br"),(v,T)=>{v.nextSibling&&v.previousSibling&&(0===T&&1===v.previousSibling.nodeType&&(I.firstLineMetrics=I.renderer.fontMetrics(v.previousSibling)),he(v,{dy:this.getLineHeight(v.nextSibling),x:C}))});let A=this.width||0;if(!A)return;let D=(v,T)=>{let H=v.textContent||"",B=H.replace(/([^\^])-/g,"$1- ").split(" "),S=!this.noWrap&&(B.length>1||I.element.childNodes.length>1),p=this.getLineHeight(T),b=0,l=I.actualWidth;if(this.ellipsis)H&&this.truncate(v,H,void 0,0,Math.max(0,A-.8*p),(n,o)=>n.substring(0,o)+"\u2026");else if(S){let n=[],o=[];for(;T.firstChild&&T.firstChild!==v;)o.push(T.firstChild),T.removeChild(T.firstChild);for(;B.length;)B.length&&!this.noWrap&&b>0&&(n.push(v.textContent||""),v.textContent=B.join(" ").replace(/- /g,"-")),this.truncate(v,void 0,B,0===b&&l||0,A,(h,d)=>B.slice(0,d).join(" ").replace(/- /g,"-")),l=I.actualWidth,b++;o.forEach(h=>{T.insertBefore(h,v)}),n.forEach(h=>{T.insertBefore(ve.createTextNode(h),v);let d=ve.createElementNS(me,"tspan");d.textContent="\u200b",he(d,{dy:p,x:C}),T.insertBefore(d,v)})}},P=v=>{[].slice.call(v.childNodes).forEach(T=>{T.nodeType===de.Node.TEXT_NODE?D(T,v):(-1!==T.className.baseVal.indexOf("highcharts-br")&&(I.actualWidth=0),P(T))})};P(I.element)}getLineHeight(N){let I=N.nodeType===de.Node.TEXT_NODE?N.parentElement:N;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(I||this.svgElement.element).h}modifyTree(N){let I=(C,A)=>{let{attributes:D={},children:P,style:v={},tagName:T}=C,H=this.renderer.styledMode;if("b"===T||"strong"===T?H?D.class="highcharts-strong":v.fontWeight="bold":("i"===T||"em"===T)&&(H?D.class="highcharts-emphasized":v.fontStyle="italic"),v&&v.color&&(v.fill=v.color),"br"===T){D.class="highcharts-br",C.textContent="\u200b";let B=N[A+1];B&&B.textContent&&(B.textContent=B.textContent.replace(/^ +/gm,""))}else"a"===T&&P&&P.some(B=>"#text"===B.tagName)&&(C.children=[{children:P,tagName:"tspan"}]);"#text"!==T&&"a"!==T&&(C.tagName="tspan"),Q(C,{attributes:D,style:v}),P&&P.filter(B=>"#text"!==B.tagName).forEach(I)};N.forEach(I),te(this.svgElement,"afterModifyTree",{nodes:N})}truncate(N,I,C,A,D,P){let v,T,H=this.svgElement,{rotation:B}=H,S=[],p=C?1:0,b=(I||C||"").length,l=b,n=function(o,h){let d=h||o,c=N.parentNode;if(c&&void 0===S[d]&&c.getSubStringLength)try{S[d]=A+c.getSubStringLength(0,C?d+1:d)}catch{}return S[d]};if(H.rotation=0,A+(T=n(N.textContent.length))>D){for(;p<=b;)l=Math.ceil((p+b)/2),C&&(v=P(C,l)),T=n(l,v&&v.length-1),p===b?p=b+1:T>D?b=l-1:p=l;0===b?N.textContent="":I&&b===I.length-1||(N.textContent=v||P(I||C,l))}C&&C.splice(0,l),H.actualWidth=T,H.rotation=B}unescapeEntities(N,I){return L(this.renderer.escapes,function(C,A){I&&-1!==I.indexOf(C)||(N=N.toString().replace(RegExp(C,"g"),A))}),N}}}),Ne(Y,"Core/Renderer/SVG/SVGRenderer.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Defaults.js"],Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Renderer/SVG/SVGLabel.js"],Y["Core/Renderer/SVG/Symbols.js"],Y["Core/Renderer/SVG/TextBuilder.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee){let L,{defaultOptions:W}=ce,{charts:N,deg2rad:I,doc:C,isFirefox:A,isMS:D,isWebKit:P,noop:v,SVG_NS:T,symbolSizes:H,win:B}=ve,{addEvent:S,attr:p,createElement:b,crisp:l,css:n,defined:o,destroyObjectProperties:h,extend:d,isArray:c,isNumber:f,isObject:u,isString:M,merge:U,pick:x,pInt:O,replaceNested:z,uniqueKey:j}=ee;class J{constructor(w,E,X,m,F,R,_){let G,K,oe=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ae=oe.element;_||oe.css(this.getStyle(m||{})),w.appendChild(ae),p(w,"dir","ltr"),-1===w.innerHTML.indexOf("xmlns")&&p(ae,"xmlns",this.SVG_NS),this.box=ae,this.boxWrapper=oe,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(C.createTextNode("Created with Highcharts 11.4.8")),this.defs=this.createElement("defs").add(),this.allowHTML=R,this.forExport=F,this.styledMode=_,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=oe.getStyle("font-size"),this.setSize(E,X,!1),A&&w.getBoundingClientRect&&((G=function(){n(w,{left:0,top:0}),K=w.getBoundingClientRect(),n(w,{left:Math.ceil(K.left)-K.left+"px",top:Math.ceil(K.top)-K.top+"px"})})(),this.unSubPixelFix=S(B,"resize",G))}definition(w){return new Z([w]).addToDOM(this.defs.element)}getReferenceURL(){if((A||P)&&C.getElementsByTagName("base").length){if(!o(L)){let w=j(),E=new Z([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:w},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${w})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(C.body);n(E,{position:"fixed",top:0,left:0,zIndex:9e5});let X=C.elementFromPoint(6,6);L="hitme"===(X&&X.id),C.body.removeChild(E)}if(L)return z(B.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(w){return this.style=d({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},w),this.style}setStyle(w){this.boxWrapper.css(this.getStyle(w))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let w=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,this.defs=w.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(w){return new this.Element(this,w)}getRadialAttr(w,E){return{cx:w[0]-w[2]/2+(E.cx||0)*w[2],cy:w[1]-w[2]/2+(E.cy||0)*w[2],r:(E.r||0)*w[2]}}shadowDefinition(w){let E=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(w).map(m=>`${m}-${w[m]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),X=U({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},w);return this.defs.element.querySelector(`#${E}`)||this.definition({tagName:"filter",attributes:{id:E,filterUnits:X.filterUnits},children:this.getShadowFilterContent(X)}),E}getShadowFilterContent(w){return[{tagName:"feDropShadow",attributes:{dx:w.offsetX,dy:w.offsetY,"flood-color":w.color,"flood-opacity":Math.min(5*w.opacity,1),stdDeviation:w.width/2}}]}buildText(w){new te(w).buildSVG()}getContrast(w){let E=xe.parse(w).rgba.map(m=>{let F=m/255;return F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4)}),X=.2126*E[0]+.7152*E[1]+.0722*E[2];return 1.05/(X+.05)>(X+.05)/.05?"#FFFFFF":"#000000"}button(w,E,X,m,F={},R,_,G,K,oe){let ae=this.label(w,E,X,K,void 0,void 0,oe,void 0,"button"),ue=this.styledMode,be=arguments,Se=0;F=U(W.global.buttonTheme,F),ue&&(delete F.fill,delete F.stroke,delete F["stroke-width"]);let ie=F.states||{},q=F.style||{};delete F.states,delete F.style;let re=[Z.filterUserAttributes(F)],le=[q];return ue||["hover","select","disabled"].forEach((pe,ge)=>{re.push(U(re[0],Z.filterUserAttributes(be[ge+5]||ie[pe]||{}))),le.push(re[ge+1].style),delete re[ge+1].style}),S(ae.element,D?"mouseover":"mouseenter",function(){3!==Se&&ae.setState(1)}),S(ae.element,D?"mouseout":"mouseleave",function(){3!==Se&&ae.setState(Se)}),ae.setState=(pe=0)=>{if(1!==pe&&(ae.state=Se=pe),ae.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][pe]),!ue){ae.attr(re[pe]);let ge=le[pe];u(ge)&&ae.css(ge)}},ae.attr(re[0]),!ue&&(ae.css(d({cursor:"default"},q)),oe&&ae.text.css({pointerEvents:"none"})),ae.on("touchstart",pe=>pe.stopPropagation()).on("click",function(pe){3!==Se&&m.call(ae,pe)})}crispLine(w,E){let[X,m]=w;return o(X[1])&&X[1]===m[1]&&(X[1]=m[1]=l(X[1],E)),o(X[2])&&X[2]===m[2]&&(X[2]=m[2]=l(X[2],E)),w}path(w){let E=this.styledMode?{}:{fill:"none"};return c(w)?E.d=w:u(w)&&d(E,w),this.createElement("path").attr(E)}circle(w,E,X){let m=u(w)?w:void 0===w?{}:{x:w,y:E,r:X},F=this.createElement("circle");return F.xSetter=F.ySetter=function(R,_,G){G.setAttribute("c"+_,R)},F.attr(m)}arc(w,E,X,m,F,R){let _;u(w)?(E=(_=w).y,X=_.r,m=_.innerR,F=_.start,R=_.end,w=_.x):_={innerR:m,start:F,end:R};let G=this.symbol("arc",w,E,X,X,_);return G.r=X,G}rect(w,E,X,m,F,R){let _=u(w)?w:void 0===w?{}:{x:w,y:E,r:F,width:Math.max(X||0,0),height:Math.max(m||0,0)},G=this.createElement("rect");return this.styledMode||(void 0!==R&&(_["stroke-width"]=R,d(_,G.crisp(_))),_.fill="none"),G.rSetter=function(K,oe,ae){G.r=K,p(ae,{rx:K,ry:K})},G.rGetter=function(){return G.r||0},G.attr(_)}roundedRect(w){return this.symbol("roundedRect").attr(w)}setSize(w,E,X){this.width=w,this.height=E,this.boxWrapper.animate({width:w,height:E},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:x(X,!0)?void 0:0}),this.alignElements()}g(w){let E=this.createElement("g");return w?E.attr({class:"highcharts-"+w}):E}image(w,E,X,m,F,R){let _={preserveAspectRatio:"none"};f(E)&&(_.x=E),f(X)&&(_.y=X),f(m)&&(_.width=m),f(F)&&(_.height=F);let G=this.createElement("image").attr(_),K=function(oe){G.attr({href:w}),R.call(G,oe)};if(R){G.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let oe=new B.Image;S(oe,"load",K),oe.src=w,oe.complete&&K({})}else G.attr({href:w});return G}symbol(w,E,X,m,F,R){let _,G,K,oe,ae=this,ue=/^url\((.*?)\)$/,be=ue.test(w),Se=!be&&(this.symbols[w]?w:"circle"),ie=Se&&this.symbols[Se];if(ie)"number"==typeof E&&(G=ie.call(this.symbols,E||0,X||0,m||0,F||0,R)),_=this.path(G),ae.styledMode||_.attr("fill","none"),d(_,{symbolName:Se||void 0,x:E,y:X,width:m,height:F}),R&&d(_,R);else if(be){K=w.match(ue)[1];let q=_=this.image(K);q.imgwidth=x(R&&R.width,H[K]&&H[K].width),q.imgheight=x(R&&R.height,H[K]&&H[K].height),oe=re=>re.attr({width:re.width,height:re.height}),["width","height"].forEach(re=>{q[`${re}Setter`]=function(le,pe){this[pe]=le;let{alignByTranslate:ge,element:we,width:ye,height:Me,imgwidth:Pe,imgheight:Re}=this,Fe="width"===pe?Pe:Re,De=1;R&&"within"===R.backgroundSize&&ye&&Me&&Pe&&Re?(De=Math.min(ye/Pe,Me/Re),p(we,{width:Math.round(Pe*De),height:Math.round(Re*De)})):we&&Fe&&we.setAttribute(pe,Fe),!ge&&Pe&&Re&&this.translate(((ye||0)-Pe*De)/2,((Me||0)-Re*De)/2)}}),o(E)&&q.attr({x:E,y:X}),q.isImg=!0,q.symbolUrl=w,o(q.imgwidth)&&o(q.imgheight)?oe(q):(q.attr({width:0,height:0}),b("img",{onload:function(){let re=N[ae.chartIndex];0===this.width&&(n(this,{position:"absolute",top:"-999em"}),C.body.appendChild(this)),H[K]={width:this.width,height:this.height},q.imgwidth=this.width,q.imgheight=this.height,q.element&&oe(q),this.parentNode&&this.parentNode.removeChild(this),ae.imgCount--,ae.imgCount||!re||re.hasLoaded||re.onload()},src:K}),this.imgCount++)}return _}clipRect(w,E,X,m){return this.rect(w,E,X,m,0)}text(w,E,X,m){let F={};if(m&&(this.allowHTML||!this.forExport))return this.html(w,E,X);F.x=Math.round(E||0),X&&(F.y=Math.round(X)),o(w)&&(F.text=w);let R=this.createElement("text").attr(F);return m&&(!this.forExport||this.allowHTML)||(R.xSetter=function(_,G,K){let oe=K.getElementsByTagName("tspan"),ae=K.getAttribute(G);for(let be,ue=0;ue<oe.length;ue++)(be=oe[ue]).getAttribute(G)===ae&&be.setAttribute(G,_);K.setAttribute(G,_)}),R}fontMetrics(w){let E=O(de.prototype.getStyle.call(w,"font-size")||0),X=E<24?E+3:Math.round(1.2*E);return{h:X,b:Math.round(.8*X),f:E}}rotCorr(w,E,X){let m=w;return E&&X&&(m=Math.max(m*Math.cos(E*I),4)),{x:-w/3*Math.sin(E*I),y:m}}pathToSegments(w){let E=[],X=[],m={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let F=0;F<w.length;F++)M(X[0])&&f(w[F])&&X.length===m[X[0].toUpperCase()]&&w.splice(F,0,X[0].replace("M","L").replace("m","l")),"string"==typeof w[F]&&(X.length&&E.push(X.slice(0)),X.length=0),X.push(w[F]);return E.push(X.slice(0)),E}label(w,E,X,m,F,R,_,G,K){return new he(this,w,E,X,m,F,R,_,G,K)}alignElements(){this.alignedObjects.forEach(w=>w.align())}}return d(J.prototype,{Element:de,SVG_NS:T,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Q,draw:v}),me.registerRendererType("svg",J,!0),J}),Ne(Y,"Core/Renderer/HTML/HTMLElement.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Globals.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{composed:me}=ce,{attr:de,css:he,createElement:Q,defined:te,extend:ee,pInt:L,pushUnique:W}=ve;function N(D,P,v){let T=this.div?.style||v.style;xe.prototype[`${P}Setter`].call(this,D,P,v),T&&(T[P]=D)}let I=(D,P)=>{if(!D.div){let v=de(D.element,"class"),T=D.css,H=Q("div",v?{className:v}:void 0,{position:"absolute",left:`${D.translateX||0}px`,top:`${D.translateY||0}px`,...D.styles,display:D.display,opacity:D.opacity,visibility:D.visibility},D.parentGroup?.div||P);D.classSetter=(B,S,p)=>{p.setAttribute("class",B),H.className=B},D.translateXSetter=D.translateYSetter=(B,S)=>{D[S]=B,H.style["translateX"===S?"left":"top"]=`${B}px`,D.doTransform=!0},D.opacitySetter=D.visibilitySetter=N,D.css=B=>(T.call(D,B),B.cursor&&(H.style.cursor=B.cursor),B.pointerEvents&&(H.style.pointerEvents=B.pointerEvents),D),D.on=function(){return xe.prototype.on.apply({element:H,onEvents:D.onEvents},arguments),D},D.div=H}return D.div};class C extends xe{static compose(P){W(me,this.compose)&&(P.prototype.html=function(v,T,H){return new C(this,"span").attr({text:v,x:Math.round(T),y:Math.round(H)})})}constructor(P,v){super(P,v),this.css({position:"absolute",...P.styledMode?{}:{fontFamily:P.style.fontFamily,fontSize:P.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(P,v,T){this.xCorr=-P*T,this.yCorr=-v}css(P){let v,{element:T}=this,H="SPAN"===T.tagName&&P&&"width"in P,B=H&&P.width;return H&&(delete P.width,this.textWidth=L(B)||void 0,v=!0),"ellipsis"===P?.textOverflow&&(P.whiteSpace="nowrap",P.overflow="hidden"),ee(this.styles,P),he(T,P),v&&this.updateTransform(),this}htmlGetBBox(){let{element:P}=this;return{x:P.offsetLeft,y:P.offsetTop,width:P.offsetWidth,height:P.offsetHeight}}updateTransform(){if(!this.added)return void(this.alignOnAdd=!0);let{element:P,renderer:v,rotation:T,rotationOriginX:H,rotationOriginY:B,styles:S,textAlign:p="left",textWidth:b,translateX:l=0,translateY:n=0,x:o=0,y:h=0}=this,d={left:0,center:.5,right:1}[p],c=S.whiteSpace;if(he(P,{marginLeft:`${l}px`,marginTop:`${n}px`}),"SPAN"===P.tagName){let M,f=[T,p,P.innerHTML,b,this.textAlign].join(","),u=-1*this.parentGroup?.padding||0,U=!1;if(b!==this.oldTextWidth){let J=this.textPxLength?this.textPxLength:(he(P,{width:"",whiteSpace:c||"nowrap"}),P.offsetWidth),y=b||0;(y>this.oldTextWidth||J>y)&&(/[ \-]/.test(P.textContent||P.innerText)||"ellipsis"===P.style.textOverflow)&&(he(P,{width:J>y||T?b+"px":"auto",display:"block",whiteSpace:c||"normal"}),this.oldTextWidth=b,U=!0)}this.hasBoxWidthChanged=U,f!==this.cTT&&(M=v.fontMetrics(P).b,te(T)&&(T!==(this.oldRotation||0)||p!==this.oldAlign)&&this.setSpanRotation(T,u,u),this.getSpanCorrection(!te(T)&&this.textPxLength||P.offsetWidth,M,d));let{xCorr:x=0,yCorr:O=0}=this;he(P,{left:`${o+x}px`,top:`${h+O}px`,transformOrigin:`${(H??o)-x-o-u}px ${(B??h)-O-h-u}px`}),this.cTT=f,this.oldRotation=T,this.oldAlign=p}}setSpanRotation(P,v,T){he(this.element,{transform:`rotate(${P}deg)`,transformOrigin:`${v}% ${T}px`})}add(P){let v,T=this.renderer.box.parentNode,H=[];if(this.parentGroup=P,P&&!(v=P.div)){let B=P;for(;B;)H.push(B),B=B.parentGroup;for(let S of H.reverse())v=I(S,T)}return(v||T).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(P){P!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Z.setElementHTML(this.element,P??""),this.textStr=P,this.doTransform=!0)}alignSetter(P){this.alignValue=this.textAlign=P,this.doTransform=!0}xSetter(P,v){this[v]=P,this.doTransform=!0}}let A=C.prototype;return A.visibilitySetter=A.opacitySetter=N,A.ySetter=A.rotationSetter=A.rotationOriginXSetter=A.rotationOriginYSetter=A.xSetter,C}),Ne(Y,"Core/Axis/AxisDefaults.js",[],function(){var Z,ce;return(ce=Z||(Z={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},ce.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:xe}=this.axis.chart;return xe(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},Z}),Ne(Y,"Core/Foundation.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,isFunction:ve,objectEach:me,removeEvent:de}=Z;return(ce||(ce={})).registerEventOptions=function(he,Q){he.eventOptions=he.eventOptions||{},me(Q.events,function(te,ee){he.eventOptions[ee]!==te&&(he.eventOptions[ee]&&(de(he,ee,he.eventOptions[ee]),delete he.eventOptions[ee]),ve(te)&&(he.eventOptions[ee]=te,xe(he,ee,te,{order:0})))})},ce}),Ne(Y,"Core/Axis/Tick.js",[Y["Core/Templating.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{deg2rad:ve}=ce,{clamp:me,correctFloat:de,defined:he,destroyObjectProperties:Q,extend:te,fireEvent:ee,isNumber:L,merge:W,objectEach:N,pick:I}=xe;return class{constructor(C,A,D,P,v){this.isNew=!0,this.isNewLabel=!0,this.axis=C,this.pos=A,this.type=D||"",this.parameters=v||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,ee(this,"init"),D||P||this.addLabel()}addLabel(){let d,c,f,C=this,A=C.axis,D=A.options,P=A.chart,v=A.categories,T=A.logarithmic,H=A.names,B=C.pos,S=I(C.options&&C.options.labels,D.labels),p=A.tickPositions,b=B===p[0],l=B===p[p.length-1],n=(!S.step||1===S.step)&&1===A.tickInterval,o=p.info,h=C.label,u=this.parameters.category||(v?I(v[B],H[B],B):B);T&&L(u)&&(u=de(T.lin2log(u))),A.dateTime&&(o?d=(c=P.time.resolveDTLFormat(D.dateTimeLabelFormats[!D.grid&&o.higherRanks[B]||o.unitName])).main:L(u)&&(d=A.dateTime.getXDateFormat(u,D.dateTimeLabelFormats||{}))),C.isFirst=b,C.isLast=l;let M={axis:A,chart:P,dateTimeLabelFormat:d,isFirst:b,isLast:l,pos:B,tick:C,tickPositionInfo:o,value:u};ee(this,"labelFormat",M);let U=z=>S.formatter?S.formatter.call(z,z):S.format?(z.text=A.defaultLabelFormatter.call(z),Z.format(S.format,z,P)):A.defaultLabelFormatter.call(z),x=U.call(M,M),O=c&&c.list;C.shortenLabel=O?function(){for(f=0;f<O.length;f++)if(te(M,{dateTimeLabelFormat:O[f]}),h.attr({text:U.call(M,M)}),h.getBBox().width<A.getSlotWidth(C)-2*(S.padding||0))return;h.attr({text:""})}:void 0,n&&A._addedPlotLB&&C.moveLabel(x,S),he(h)||C.movedLabel?h&&h.textStr!==x&&!n&&(!h.textWidth||S.style.width||h.styles.width||h.css({width:null}),h.attr({text:x}),h.textPxLength=h.getBBox().width):(C.label=h=C.createLabel(x,S),C.rotation=0)}createLabel(C,A,D){let P=this.axis,v=P.chart,T=he(C)&&A.enabled?v.renderer.text(C,D?.x,D?.y,A.useHTML).add(P.labelGroup):void 0;return T&&(v.styledMode||T.css(W(A.style)),T.textPxLength=T.getBBox().width),T}destroy(){Q(this,this.axis)}getPosition(C,A,D,P){let v=this.axis,T=v.chart,H=P&&T.oldChartHeight||T.chartHeight,B={x:C?de(v.translate(A+D,void 0,void 0,P)+v.transB):v.left+v.offset+(v.opposite?(P&&T.oldChartWidth||T.chartWidth)-v.right-v.left:0),y:C?H-v.bottom+v.offset-(v.opposite?v.height:0):de(H-v.translate(A+D,void 0,void 0,P)-v.transB)};return B.y=me(B.y,-1e9,1e9),ee(this,"afterGetPosition",{pos:B}),B}getLabelPosition(C,A,D,P,v,T,H,B){let S,p,b=this.axis,l=b.transA,n=b.isLinked&&b.linkedParent?b.linkedParent.reversed:b.reversed,o=b.staggerLines,h=b.tickRotCorr||{x:0,y:0},d=P||b.reserveSpaceDefault?0:-b.labelOffset*("center"===b.labelAlign?.5:1),c=v.distance,f={};return S=0===b.side?D.rotation?-c:-D.getBBox().height:2===b.side?h.y+c:Math.cos(D.rotation*ve)*(h.y-D.getBBox(!1,0).height/2),he(v.y)&&(S=0===b.side&&b.horiz?v.y+S:v.y),C=C+I(v.x,[0,1,0,-1][b.side]*c)+d+h.x-(T&&P?T*l*(n?-1:1):0),A=A+S-(T&&!P?T*l*(n?1:-1):0),o&&(p=H/(B||1)%o,b.opposite&&(p=o-p-1),A+=p*(b.labelOffset/o)),f.x=C,f.y=Math.round(A),ee(this,"afterGetLabelPosition",{pos:f,tickmarkOffset:T,index:H}),f}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(C,A,D,P,v=!1,T){return T.crispLine([["M",C,A],["L",C+(v?0:-D),A+(v?D:0)]],P)}handleOverflow(C){let c,f,u,A=this.axis,D=A.options.labels,P=C.x,v=A.chart.chartWidth,T=A.chart.spacing,H=I(A.labelLeft,Math.min(A.pos,T[3])),B=I(A.labelRight,Math.max(A.isRadial?0:A.pos+A.len,v-T[1])),S=this.label,p=this.rotation,b={left:0,center:.5,right:1}[A.labelAlign||S.attr("align")],l=S.getBBox().width,n=A.getSlotWidth(this),o={},h=n,d=1;p||"justify"!==D.overflow?p<0&&P-b*l<H?u=Math.round(P/Math.cos(p*ve)-H):p>0&&P+b*l>B&&(u=Math.round((v-P)/Math.cos(p*ve))):(c=P-b*l,f=P+(1-b)*l,c<H?h=C.x+h*(1-b)-H:f>B&&(h=B-C.x+h*b,d=-1),(h=Math.min(n,h))<n&&"center"===A.labelAlign&&(C.x+=d*(n-h-b*(n-Math.min(l,h)))),(l>h||A.autoRotation&&(S.styles||{}).width)&&(u=h)),u&&(this.shortenLabel?this.shortenLabel():(o.width=Math.floor(u)+"px",(D.style||{}).textOverflow||(o.textOverflow="ellipsis"),S.css(o)))}moveLabel(C,A){let H,D=this,P=D.label,v=D.axis,T=!1;P&&P.textStr===C?(D.movedLabel=P,T=!0,delete D.label):N(v.ticks,function(B){T||B.isNew||B===D||!B.label||B.label.textStr!==C||(D.movedLabel=B.label,T=!0,B.labelPos=D.movedLabel.xy,delete B.label)}),!T&&(D.labelPos||P)&&(H=D.labelPos||P.xy,D.movedLabel=D.createLabel(C,A,H),D.movedLabel&&D.movedLabel.attr({opacity:0}))}render(C,A,D){let P=this.axis,v=P.horiz,T=this.pos,H=I(this.tickmarkOffset,P.tickmarkOffset),B=this.getPosition(v,T,H,A),b=P.pos,l=b+P.len,n=v?B.x:B.y;!P.chart.polar&&this.isNew&&(de(n)<b||n>l)&&(D=0);let o=I(D,this.label&&this.label.newOpacity,1);D=I(D,1),this.isActive=!0,this.renderGridLine(A,D),this.renderMark(B,D),this.renderLabel(B,A,o,C),this.isNew=!1,ee(this,"afterRender")}renderGridLine(C,A){let b,D=this.axis,P=D.options,v={},T=this.pos,H=this.type,B=I(this.tickmarkOffset,D.tickmarkOffset),S=D.chart.renderer,p=this.gridLine,l=P.gridLineWidth,n=P.gridLineColor,o=P.gridLineDashStyle;"minor"===this.type&&(l=P.minorGridLineWidth,n=P.minorGridLineColor,o=P.minorGridLineDashStyle),p||(D.chart.styledMode||(v.stroke=n,v["stroke-width"]=l||0,v.dashstyle=o),H||(v.zIndex=1),C&&(A=0),this.gridLine=p=S.path().attr(v).addClass("highcharts-"+(H?H+"-":"")+"grid-line").add(D.gridGroup)),p&&(b=D.getPlotLinePath({value:T+B,lineWidth:p.strokeWidth(),force:"pass",old:C,acrossPanes:!1}))&&p[C||this.isNew?"attr":"animate"]({d:b,opacity:A})}renderMark(C,A){let D=this.axis,P=D.options,v=D.chart.renderer,T=this.type,H=D.tickSize(T?T+"Tick":"tick"),B=C.x,S=C.y,p=I(P["minor"!==T?"tickWidth":"minorTickWidth"],!T&&D.isXAxis?1:0),b=P["minor"!==T?"tickColor":"minorTickColor"],l=this.mark,n=!l;H&&(D.opposite&&(H[0]=-H[0]),l||(this.mark=l=v.path().addClass("highcharts-"+(T?T+"-":"")+"tick").add(D.axisGroup),D.chart.styledMode||l.attr({stroke:b,"stroke-width":p})),l[n?"attr":"animate"]({d:this.getMarkPath(B,S,H[0],l.strokeWidth(),D.horiz,v),opacity:A}))}renderLabel(C,A,D,P){let v=this.axis,T=v.horiz,H=v.options,B=this.label,S=H.labels,p=S.step,b=I(this.tickmarkOffset,v.tickmarkOffset),l=C.x,n=C.y,o=!0;B&&L(l)&&(B.xy=C=this.getLabelPosition(l,n,B,T,S,b,P,p),this.isFirst&&!this.isLast&&!H.showFirstLabel||this.isLast&&!this.isFirst&&!H.showLastLabel?o=!1:!T||S.step||S.rotation||A||0===D||this.handleOverflow(C),p&&P%p&&(o=!1),o&&L(C.y)?(C.opacity=D,B[this.isNewLabel?"attr":"animate"](C).show(!0),this.isNewLabel=!1):(B.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let C=this.label,A=this.axis;C&&!this.isNew&&(C.animate({opacity:0},void 0,C.destroy),delete this.label),A.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),Ne(Y,"Core/Axis/Axis.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/AxisDefaults.js"],Y["Core/Color/Color.js"],Y["Core/Defaults.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Axis/Tick.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){let{animObject:te}=Z,{xAxis:ee,yAxis:L}=ce,{defaultOptions:W}=ve,{registerEventOptions:N}=me,{deg2rad:I}=de,{arrayMax:C,arrayMin:A,clamp:D,correctFloat:P,defined:v,destroyObjectProperties:T,erase:H,error:B,extend:S,fireEvent:p,getClosestDistance:b,insertItem:l,isArray:n,isNumber:o,isString:h,merge:d,normalizeTickInterval:c,objectEach:f,pick:u,relativeLength:M,removeEvent:U,splat:x,syncTimeout:O}=Q,z=(J,y)=>c(y,void 0,void 0,u(J.options.allowDecimals,y<.5||void 0!==J.tickAmount),!!J.tickAmount);S(W,{xAxis:ee,yAxis:d(ee,L)});class j{constructor(y,w,E){this.init(y,w,E)}init(y,w,E=this.coll){let X="xAxis"===E,m=this.isZAxis||(y.inverted?!X:X);this.chart=y,this.horiz=m,this.isXAxis=X,this.coll=E,p(this,"init",{userOptions:w}),this.opposite=u(w.opposite,this.opposite),this.side=u(w.side,this.side,m?this.opposite?0:2:this.opposite?1:3),this.setOptions(w);let F=this.options,R=F.labels;this.type??(this.type=F.type||"linear"),this.uniqueNames??(this.uniqueNames=F.uniqueNames??!0),p(this,"afterSetType"),this.userOptions=w,this.minPixelPadding=0,this.reversed=u(F.reversed,this.reversed),this.visible=F.visible,this.zoomEnabled=F.zoomEnabled,this.hasNames="category"===this.type||!0===F.categories,this.categories=n(F.categories)&&F.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=v(F.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=F.minRange||F.maxZoom,this.range=F.range,this.offset=F.offset||0,this.max=void 0,this.min=void 0;let _=u(F.crosshair,x(y.options.tooltip.crosshairs)[X?0:1]);this.crosshair=!0===_?{}:_,-1===y.axes.indexOf(this)&&(X?y.axes.splice(y.xAxis.length,0,this):y.axes.push(this),l(this,y[this.coll])),y.orderItems(this.coll),this.series=this.series||[],y.inverted&&!this.isZAxis&&X&&!v(this.reversed)&&(this.reversed=!0),this.labelRotation=o(R.rotation)?R.rotation:void 0,N(this,F),p(this,"afterInit")}setOptions(y){this.options=d(this.horiz?{labels:{autoRotation:[-45],padding:4},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}},W[this.coll],y),p(this,"afterSetOptions",{userOptions:y})}defaultLabelFormatter(){let ae,ue,y=this.axis,{numberFormatter:w}=this.chart,E=o(this.value)?this.value:NaN,X=y.chart.time,m=y.categories,F=this.dateTimeLabelFormat,R=W.lang,_=R.numericSymbols,G=R.numericSymbolMagnitude||1e3,K=y.logarithmic?Math.abs(E):y.tickInterval,oe=_&&_.length;if(m)ue=`${this.value}`;else if(F)ue=X.dateFormat(F,E);else if(oe&&_&&K>=1e3)for(;oe--&&void 0===ue;)K>=(ae=Math.pow(G,oe+1))&&10*E%ae==0&&null!==_[oe]&&0!==E&&(ue=w(E/ae,-1)+_[oe]);return void 0===ue&&(ue=Math.abs(E)>=1e4?w(E,-1):w(E,-1,void 0,"")),ue}getSeriesExtremes(){let y,w=this;p(this,"getSeriesExtremes",null,function(){w.hasVisibleSeries=!1,w.dataMin=w.dataMax=w.threshold=void 0,w.softThreshold=!w.isXAxis,w.series.forEach(E=>{if(E.reserveSpace()){let m,R,_,X=E.options,F=X.threshold;if(w.hasVisibleSeries=!0,w.positiveValuesOnly&&0>=(F||0)&&(F=void 0),w.isXAxis)(m=E.xData)&&m.length&&(m=w.logarithmic?m.filter(G=>G>0):m,R=(y=E.getXExtremes(m)).min,_=y.max,o(R)||R instanceof Date||(m=m.filter(o),R=(y=E.getXExtremes(m)).min,_=y.max),m.length&&(w.dataMin=Math.min(u(w.dataMin,R),R),w.dataMax=Math.max(u(w.dataMax,_),_)));else{let G=E.applyExtremes();o(G.dataMin)&&(R=G.dataMin,w.dataMin=Math.min(u(w.dataMin,R),R)),o(G.dataMax)&&(_=G.dataMax,w.dataMax=Math.max(u(w.dataMax,_),_)),v(F)&&(w.threshold=F),(!X.softThreshold||w.positiveValuesOnly)&&(w.softThreshold=!1)}}})}),p(this,"afterGetSeriesExtremes")}translate(y,w,E,X,m,F){let R=this.linkedParent||this,_=X&&R.old?R.old.min:R.min;if(!o(_))return NaN;let G=R.minPixelPadding,K=(R.isOrdinal||R.brokenAxis?.hasBreaks||R.logarithmic&&m)&&R.lin2val,oe=1,ae=0,ue=X&&R.old?R.old.transA:R.transA,be=0;return ue||(ue=R.transA),E&&(oe*=-1,ae=R.len),R.reversed&&(oe*=-1,ae-=oe*(R.sector||R.len)),w?(be=(y=y*oe+ae-G)/ue+_,K&&(be=R.lin2val(be))):(K&&(y=R.val2lin(y)),be=oe*(y-_)*ue+ae+oe*G+(o(F)?ue*F:0),R.isRadial||(be=P(be))),be}toPixels(y,w){return this.translate(y,!1,!this.horiz,void 0,!0)+(w?0:this.pos)}toValue(y,w){return this.translate(y-(w?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(y){let be,Se,ie,q,re,w=this,E=w.chart,X=w.left,m=w.top,F=y.old,R=y.value,_=y.lineWidth,G=F&&E.oldChartHeight||E.chartHeight,K=F&&E.oldChartWidth||E.chartWidth,oe=w.transB,ae=y.translatedValue,ue=y.force;function le(ge,we,ye){return"pass"!==ue&&(ge<we||ge>ye)&&(ue?ge=D(ge,we,ye):re=!0),ge}let pe={value:R,lineWidth:_,old:F,force:ue,acrossPanes:y.acrossPanes,translatedValue:ae};return p(this,"getPlotLinePath",pe,function(ge){be=ie=(ae=D(ae=u(ae,w.translate(R,void 0,void 0,F)),-1e9,1e9))+oe,Se=q=G-ae-oe,o(ae)?w.horiz?(Se=m,q=G-w.bottom+(w.options.isInternal?0:E.scrollablePixelsY||0),be=ie=le(be,X,X+w.width)):(be=X,ie=K-w.right+(E.scrollablePixelsX||0),Se=q=le(Se,m,m+w.height)):(re=!0,ue=!1),ge.path=re&&!ue?void 0:E.renderer.crispLine([["M",be,Se],["L",ie,q]],_||1)}),pe.path}getLinearTickPositions(y,w,E){let X,m,F,R=P(Math.floor(w/y)*y),_=P(Math.ceil(E/y)*y),G=[];if(P(R+y)===R&&(F=20),this.single)return[w];for(X=R;X<=_&&(G.push(X),(X=P(X+y,F))!==m);)m=X;return G}getMinorTickInterval(){let{minorTicks:y,minorTickInterval:w}=this.options;return!0===y?u(w,"auto"):!1!==y?w:void 0}getMinorTickPositions(){let G,y=this.options,w=this.tickPositions,E=this.minorTickInterval,X=this.pointRangePadding||0,m=(this.min||0)-X,F=(this.max||0)+X,R=F-m,_=[];if(R&&R/E<this.len/3){let K=this.logarithmic;if(K)this.paddedTicks.forEach(function(oe,ae,ue){ae&&_.push.apply(_,K.getLogTickPositions(E,ue[ae-1],ue[ae],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())_=_.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(E),m,F,y.startOfWeek));else for(G=m+(w[0]-m)%E;G<=F&&G!==_[0];G+=E)_.push(G)}return 0!==_.length&&this.trimTicks(_),_}adjustForMinRange(){let F,R,_,G,y=this.options,w=this.logarithmic,{max:E,min:X,minRange:m}=this;this.isXAxis&&void 0===m&&!w&&(m=v(y.min)||v(y.max)||v(y.floor)||v(y.ceiling)?null:Math.min(5*(b(this.series.map(K=>(K.xIncrement?K.xData?.slice(0,2):K.xData)||[]))||0),this.dataMax-this.dataMin)),o(E)&&o(X)&&o(m)&&E-X<m&&(R=this.dataMax-this.dataMin>=m,F=(m-E+X)/2,_=[X-F,u(y.min,X-F)],R&&(_[2]=w?w.log2lin(this.dataMin):this.dataMin),G=[(X=C(_))+m,u(y.max,X+m)],R&&(G[2]=w?w.log2lin(this.dataMax):this.dataMax),(E=A(G))-X<m&&(_[0]=E-m,_[1]=u(y.min,E-m),X=C(_))),this.minRange=m,this.min=X,this.max=E}getClosest(){let y,w;if(this.categories)w=1;else{let E=[];this.series.forEach(function(X){let m=X.closestPointRange;1===X.xData?.length?E.push(X.xData[0]):!X.noSharedTooltip&&v(m)&&X.reserveSpace()&&(w=v(w)?Math.min(w,m):m)}),E.length&&(E.sort((X,m)=>X-m),y=b([E]))}return y&&w?Math.min(y,w):y||w}nameToX(y){let m,w=n(this.options.categories),E=w?this.categories:this.names,X=y.options.x;return y.series.requireSorting=!1,v(X)||(X=this.uniqueNames&&E?w?E.indexOf(y.name):u(E.keys[y.name],-1):y.series.autoIncrement()),-1===X?!w&&E&&(m=E.length):m=X,void 0!==m?(this.names[m]=y.name,this.names.keys[y.name]=m):y.x&&(m=y.x),m}updateNames(){let y=this,w=this.names;w.length>0&&(Object.keys(w.keys).forEach(function(E){delete w.keys[E]}),w.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(E=>{E.xIncrement=null,(!E.points||E.isDirtyData)&&(y.max=Math.max(y.max,E.xData.length-1),E.processData(),E.generatePoints()),E.data.forEach(function(X,m){let F;X?.options&&void 0!==X.name&&void 0!==(F=y.nameToX(X))&&F!==X.x&&(X.x=F,E.xData[m]=F)})}))}setAxisTranslation(){let R,K,y=this,w=y.max-y.min,E=y.linkedParent,X=!!y.categories,m=y.isXAxis,F=y.axisPointRange||0,_=0,G=0,oe=y.transA;(m||X||F)&&(R=y.getClosest(),E?(_=E.minPointOffset,G=E.pointRangePadding):y.series.forEach(function(ae){let ue=X?1:m?u(ae.options.pointRange,R,0):y.axisPointRange||0,be=ae.options.pointPlacement;if(F=Math.max(F,ue),!y.single||X){let Se=ae.is("xrange")?!m:m;_=Math.max(_,Se&&h(be)?0:ue/2),G=Math.max(G,Se&&"on"===be?0:ue)}}),K=y.ordinal&&y.ordinal.slope&&R?y.ordinal.slope/R:1,y.minPointOffset=_*=K,y.pointRangePadding=G*=K,y.pointRange=Math.min(F,y.single&&X?1:w),m&&R&&(y.closestPointRange=R)),y.translationSlope=y.transA=oe=y.staticScale||y.len/(w+G||1),y.transB=y.horiz?y.left:y.bottom,y.minPixelPadding=oe*_,p(this,"afterSetAxisTranslation")}minFromRange(){let{max:y,min:w}=this;return o(y)&&o(w)&&y-w||void 0}setTickInterval(y){let ye,Pe,Re,Fe,De,{categories:w,chart:E,dataMax:X,dataMin:m,dateTime:F,isXAxis:R,logarithmic:_,options:G,softThreshold:K}=this,oe=o(this.threshold)?this.threshold:void 0,ae=this.minRange||0,{ceiling:ue,floor:be,linkedTo:Se,softMax:ie,softMin:q}=G,re=o(Se)&&E[this.coll]?.[Se],le=G.tickPixelInterval,pe=G.maxPadding,ge=G.minPadding,we=0,Me=o(G.tickInterval)&&G.tickInterval>=0?G.tickInterval:void 0;if(F||w||re||this.getTickAmount(),Fe=u(this.userMin,G.min),De=u(this.userMax,G.max),re?(this.linkedParent=re,ye=re.getExtremes(),this.min=u(ye.min,ye.dataMin),this.max=u(ye.max,ye.dataMax),this.type!==re.type&&B(11,!0,E)):(K&&v(oe)&&o(X)&&o(m)&&(m>=oe?(Pe=oe,ge=0):X<=oe&&(Re=oe,pe=0)),this.min=u(Fe,Pe,m),this.max=u(De,Re,X)),o(this.max)&&o(this.min)&&(_&&(this.positiveValuesOnly&&!y&&0>=Math.min(this.min,u(m,this.min))&&B(10,!0,E),this.min=P(_.log2lin(this.min),16),this.max=P(_.log2lin(this.max),16)),this.range&&o(m)&&(this.userMin=this.min=Fe=Math.max(m,this.minFromRange()||0),this.userMax=De=this.max,this.range=void 0)),p(this,"foundExtremes"),this.adjustForMinRange(),o(this.min)&&o(this.max)){if(!o(this.userMin)&&o(q)&&q<this.min&&(this.min=Fe=q),!o(this.userMax)&&o(ie)&&ie>this.max&&(this.max=De=ie),w||this.axisPointRange||this.stacking?.usePercentage||re||!(we=this.max-this.min)||(!v(Fe)&&ge&&(this.min-=we*ge),v(De)||!pe||(this.max+=we*pe)),!o(this.userMin)&&o(be)&&(this.min=Math.max(this.min,be)),!o(this.userMax)&&o(ue)&&(this.max=Math.min(this.max,ue)),K&&o(m)&&o(X)){let ze=oe||0;!v(Fe)&&this.min<ze&&m>=ze?this.min=G.minRange?Math.min(ze,this.max-ae):ze:!v(De)&&this.max>ze&&X<=ze&&(this.max=G.minRange?Math.max(ze,this.min+ae):ze)}!E.polar&&this.min>this.max&&(v(G.min)?this.max=this.min:v(G.max)&&(this.min=this.max)),we=this.max-this.min}if(this.tickInterval=this.min!==this.max&&o(this.min)&&o(this.max)?re&&!Me&&le===re.options.tickPixelInterval?Me=re.tickInterval:u(Me,this.tickAmount?we/Math.max(this.tickAmount-1,1):void 0,w?1:we*le/Math.max(this.len,le)):1,R&&!y){let ze=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Oe){Oe.forceCrop=Oe.forceCropping?.(),Oe.processData(ze)}),p(this,"postProcessData",{hasExtremesChanged:ze})}this.setAxisTranslation(),p(this,"initialAxisTranslation"),this.pointRange&&!Me&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let He=u(G.minTickInterval,F&&!this.series.some(ze=>ze.noSharedTooltip)?this.closestPointRange:0);!Me&&this.tickInterval<He&&(this.tickInterval=He),F||_||Me||(this.tickInterval=z(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let G,y=this.options,w=y.tickPositions,E=y.tickPositioner,X=this.getMinorTickInterval(),m=!this.isPanning,F=m&&y.startOnTick,R=m&&y.endOnTick,_=[];if(this.tickmarkOffset=this.categories&&"between"===y.tickmarkPlacement&&1===this.tickInterval?.5:0,this.single=this.min===this.max&&v(this.min)&&!this.tickAmount&&(this.min%1==0||!1!==y.allowDecimals),w)_=w.slice();else if(o(this.min)&&o(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))_=[this.min,this.max],B(19,!1,this.chart);else if(this.dateTime)_=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,y.units),this.min,this.max,y.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)_=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let K=this.tickInterval,oe=K;for(;oe<=2*K&&(_=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&_.length>this.tickAmount);)this.tickInterval=z(this,oe*=1.1)}_.length>this.len&&(_=[_[0],_[_.length-1]])[0]===_[1]&&(_.length=1),E&&(this.tickPositions=_,(G=E.apply(this,[this.min,this.max]))&&(_=G))}this.tickPositions=_,this.minorTickInterval="auto"===X&&this.tickInterval?this.tickInterval/y.minorTicksPerMajor:X,this.paddedTicks=_.slice(0),this.trimTicks(_,F,R),!this.isLinked&&o(this.min)&&o(this.max)&&(this.single&&_.length<2&&!this.categories&&!this.series.some(K=>K.is("heatmap")&&"between"===K.options.pointPlacement)&&(this.min-=.5,this.max+=.5),w||G||this.adjustTickAmount()),p(this,"afterSetTickPositions")}trimTicks(y,w,E){let X=y[0],m=y[y.length-1],F=!this.isOrdinal&&this.minPointOffset||0;if(p(this,"trimTicks"),!this.isLinked){if(w&&X!==-1/0)this.min=X;else for(;this.min-F>y[0];)y.shift();if(E)this.max=m;else for(;this.max+F<y[y.length-1];)y.pop();0===y.length&&v(X)&&!this.options.tickPositions&&y.push((m+X)/2)}}alignToOthers(){let y,w=this,E=w.chart,X=[this],m=w.options,F=E.options.chart,R="yAxis"===this.coll&&F.alignThresholds,_=[];if(w.thresholdAlignment=void 0,(!1!==F.alignTicks&&m.alignTicks||R)&&!1!==m.startOnTick&&!1!==m.endOnTick&&!w.logarithmic){let G=oe=>{let{horiz:ae,options:ue}=oe;return[ae?ue.left:ue.top,ue.width,ue.height,ue.pane].join(",")},K=G(this);E[this.coll].forEach(function(oe){let{series:ae}=oe;ae.length&&ae.some(ue=>ue.visible)&&oe!==w&&G(oe)===K&&(y=!0,X.push(oe))})}if(y&&R){X.forEach(K=>{let oe=K.getThresholdAlignment(w);o(oe)&&_.push(oe)});let G=_.length>1?_.reduce((K,oe)=>K+oe,0)/_.length:void 0;X.forEach(K=>{K.thresholdAlignment=G})}return y}getThresholdAlignment(y){if((!o(this.dataMin)||this!==y&&this.series.some(w=>w.isDirty||w.isDirtyData))&&this.getSeriesExtremes(),o(this.threshold)){let w=D((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(w=1-w),w}}getTickAmount(){let y=this.options,w=y.tickPixelInterval,E=y.tickAmount;v(y.tickInterval)||E||!(this.len<w)||this.isRadial||this.logarithmic||!y.startOnTick||!y.endOnTick||(E=2),!E&&this.alignToOthers()&&(E=Math.ceil(this.len/w)+1),E<4&&(this.finalTickAmt=E,E=5),this.tickAmount=E}adjustTickAmount(){let oe,ae,be,y=this,{finalTickAmt:w,max:E,min:X,options:m,tickPositions:F,tickAmount:R,thresholdAlignment:_}=y,G=F?.length,K=u(y.threshold,y.softThreshold?0:null),ue=y.tickInterval,Se=()=>F.push(P(F[F.length-1]+ue)),ie=()=>F.unshift(P(F[0]-ue));if(o(_)&&(be=_<.5?Math.ceil(_*(R-1)):Math.floor(_*(R-1)),m.reversed&&(be=R-1-be)),y.hasData()&&o(X)&&o(E)){let q=()=>{y.transA*=(G-1)/(R-1),y.min=m.startOnTick?F[0]:Math.min(X,F[0]),y.max=m.endOnTick?F[F.length-1]:Math.max(E,F[F.length-1])};if(o(be)&&o(y.threshold)){for(;F[be]!==K||F.length!==R||F[0]>X||F[F.length-1]<E;){for(F.length=0,F.push(y.threshold);F.length<R;)void 0===F[be]||F[be]>y.threshold?ie():Se();if(ue>8*y.tickInterval)break;ue*=2}q()}else if(G<R){for(;F.length<R;)F.length%2||X===K?Se():ie();q()}if(v(w)){for(ae=oe=F.length;ae--;)(3===w&&ae%2==1||w<=2&&ae>0&&ae<oe-1)&&F.splice(ae,1);y.finalTickAmt=void 0}}}setScale(){let{coll:y,stacking:w}=this,E=!1,X=!1;this.series.forEach(F=>{E=E||F.isDirtyData||F.isDirty,X=X||F.xAxis&&F.xAxis.isDirty||!1}),this.setAxisSize();let m=this.len!==(this.old&&this.old.len);m||E||X||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(w&&"yAxis"===y&&w.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),w&&"xAxis"===y&&w.buildStacks(),this.isDirty||(this.isDirty=m||this.min!==this.old?.min||this.max!==this.old?.max)):w&&w.cleanStacks(),E&&delete this.allExtremes,p(this,"afterSetScale")}setExtremes(y,w,E=!0,X,m){this.series.forEach(F=>{delete F.kdTree}),p(this,"setExtremes",m=S(m,{min:y,max:w}),F=>{this.userMin=F.min,this.userMax=F.max,this.eventArgs=F,E&&this.chart.redraw(X)})}setAxisSize(){let y=this.chart,w=this.options,E=w.offsets||[0,0,0,0],X=this.horiz,m=this.width=Math.round(M(u(w.width,y.plotWidth-E[3]+E[1]),y.plotWidth)),F=this.height=Math.round(M(u(w.height,y.plotHeight-E[0]+E[2]),y.plotHeight)),R=this.top=Math.round(M(u(w.top,y.plotTop+E[0]),y.plotHeight,y.plotTop)),_=this.left=Math.round(M(u(w.left,y.plotLeft+E[3]),y.plotWidth,y.plotLeft));this.bottom=y.chartHeight-F-R,this.right=y.chartWidth-m-_,this.len=Math.max(X?m:F,0),this.pos=X?_:R}getExtremes(){let y=this.logarithmic;return{min:y?P(y.lin2log(this.min)):this.min,max:y?P(y.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(y){let w=this.logarithmic,E=w?w.lin2log(this.min):this.min,X=w?w.lin2log(this.max):this.max;return null===y||y===-1/0?y=E:y===1/0?y=X:E>y?y=E:X<y&&(y=X),this.translate(y,0,1,0,1)}autoLabelAlign(y){let w=(u(y,0)-90*this.side+720)%360,E={align:"center"};return p(this,"autoLabelAlign",E,function(X){w>15&&w<165?X.align="right":w>195&&w<345&&(X.align="left")}),E.align}tickSize(y){let m,w=this.options,E=u(w["tick"===y?"tickWidth":"minorTickWidth"],"tick"===y&&this.isXAxis&&!this.categories?1:0),X=w["tick"===y?"tickLength":"minorTickLength"];E&&X&&("inside"===w[y+"Position"]&&(X=-X),m=[X,E]);let F={tickSize:m};return p(this,"afterTickSize",F),F.tickSize}labelMetrics(){let y=this.chart.renderer,w=this.ticks,E=w[Object.keys(w)[0]]||{};return this.chart.renderer.fontMetrics(E.label||E.movedLabel||y.box)}unsquish(){let oe,ue,y=this.options.labels,w=y.padding||0,E=this.horiz,X=this.tickInterval,m=this.len/(((this.categories?1:0)+this.max-this.min)/X),F=y.rotation,R=P(.8*this.labelMetrics().h),_=Math.max(this.max-this.min,0),G=function(be){let Se=(be+2*w)/(m||1);return(Se=Se>1?Math.ceil(Se):1)*X>_&&be!==1/0&&m!==1/0&&_&&(Se=Math.ceil(_/X)),P(Se*X)},K=X,ae=Number.MAX_VALUE;if(E){if(!y.staggerLines&&(o(F)?ue=[F]:m<y.autoRotationLimit&&(ue=y.autoRotation)),ue){let be,Se;for(let ie of ue)(ie===F||ie&&ie>=-90&&ie<=90)&&(Se=(be=G(Math.abs(R/Math.sin(I*ie))))+Math.abs(ie/360))<ae&&(ae=Se,oe=ie,K=be)}}else K=G(.75*R);return this.autoRotation=ue,this.labelRotation=u(oe,o(F)?F:0),y.step?X:K}getSlotWidth(y){let w=this.chart,E=this.horiz,X=this.options.labels,m=Math.max(this.tickPositions.length-(this.categories?0:1),1),F=w.margin[3];if(y&&o(y.slotWidth))return y.slotWidth;if(E&&X.step<2)return X.rotation?0:(this.staggerLines||1)*this.len/m;if(!E){let R=X.style.width;if(void 0!==R)return parseInt(String(R),10);if(F)return F-w.spacing[3]}return.33*w.chartWidth}renderUnsquish(){let ue,be,ie,q,y=this.chart,w=y.renderer,E=this.tickPositions,X=this.ticks,m=this.options.labels,F=m.style,R=this.horiz,_=this.getSlotWidth(),G=Math.max(1,Math.round(_-(R?2*(m.padding||0):m.distance||0))),K={},oe=this.labelMetrics(),ae=F.textOverflow,Se=0;if(h(m.rotation)||(K.rotation=m.rotation||0),E.forEach(function(re){let le=X[re];le.movedLabel&&le.replaceMovedLabel(),le&&le.label&&le.label.textPxLength>Se&&(Se=le.label.textPxLength)}),this.maxLabelLength=Se,this.autoRotation)Se>G&&Se>oe.h?K.rotation=this.labelRotation:this.labelRotation=0;else if(_&&(ue=G,!ae))for(be="clip",q=E.length;!R&&q--;)(ie=X[E[q]].label)&&("ellipsis"===ie.styles.textOverflow?ie.css({textOverflow:"clip"}):ie.textPxLength>_&&ie.css({width:_+"px"}),ie.getBBox().height>this.len/E.length-(oe.h-oe.f)&&(ie.specificTextOverflow="ellipsis"));K.rotation&&(ue=Se>.5*y.chartHeight?.33*y.chartHeight:Se,ae||(be="ellipsis")),this.labelAlign=m.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(K.align=this.labelAlign),E.forEach(function(re){let le=X[re],pe=le&&le.label,ge=F.width,we={};pe&&(pe.attr(K),le.shortenLabel?le.shortenLabel():ue&&!ge&&"nowrap"!==F.whiteSpace&&(ue<pe.textPxLength||"SPAN"===pe.element.tagName)?(we.width=ue+"px",ae||(we.textOverflow=pe.specificTextOverflow||be),pe.css(we)):!pe.styles.width||we.width||ge||pe.css({width:null}),delete pe.specificTextOverflow,le.rotation=K.rotation)},this),this.tickRotCorr=w.rotCorr(oe.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some(function(y){return y.hasData()})||this.options.showEmpty&&v(this.min)&&v(this.max)}addTitle(y){let w,m=this.opposite,F=this.options.title,R=this.chart.styledMode;this.axisTitle||((w=F.textAlign)||(w=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:m?"right":"left",middle:"center",high:m?"left":"right"})[F.align]),this.axisTitle=this.chart.renderer.text(F.text||"",0,0,F.useHTML).attr({zIndex:7,rotation:F.rotation||0,align:w}).addClass("highcharts-axis-title"),R||this.axisTitle.css(d(F.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),R||F.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[y?"show":"hide"](y)}generateTick(y){let w=this.ticks;w[y]?w[y].addLabel():w[y]=new he(this,y)}createGroups(){let{axisParent:y,chart:w,coll:E,options:X}=this,m=w.renderer,F=(R,_,G)=>m.g(R).attr({zIndex:G}).addClass(`highcharts-${E.toLowerCase()}${_} `+(this.isRadial?`highcharts-radial-axis${_} `:"")+(X.className||"")).add(y);this.axisGroup||(this.gridGroup=F("grid","-grid",X.gridZIndex),this.axisGroup=F("axis","",X.zIndex),this.labelGroup=F("axis-labels","-labels",X.labels.zIndex))}getOffset(){let q,le,we,ye,y=this,{chart:w,horiz:E,options:X,side:m,ticks:F,tickPositions:R,coll:_}=y,G=w.inverted&&!y.isZAxis?[1,0,3,2][m]:m,K=y.hasData(),oe=X.title,ae=X.labels,ue=o(X.crossing),be=w.axisOffset,Se=w.clipOffset,ie=[-1,1,1,-1][m],re=0,pe=0,ge=0;if(y.showAxis=q=K||X.showEmpty,y.staggerLines=y.horiz&&ae.staggerLines||void 0,y.createGroups(),K||y.isLinked?(R.forEach(function(Me){y.generateTick(Me)}),y.renderUnsquish(),y.reserveSpaceDefault=0===m||2===m||{1:"left",3:"right"}[m]===y.labelAlign,u(ae.reserveSpace,!ue&&null,"center"===y.labelAlign||null,y.reserveSpaceDefault)&&R.forEach(function(Me){ge=Math.max(F[Me].getLabelSize(),ge)}),y.staggerLines&&(ge*=y.staggerLines),y.labelOffset=ge*(y.opposite?-1:1)):f(F,function(Me,Pe){Me.destroy(),delete F[Pe]}),oe?.text&&!1!==oe.enabled&&(y.addTitle(q),q&&!ue&&!1!==oe.reserveSpace&&(y.titleOffset=re=y.axisTitle.getBBox()[E?"height":"width"],pe=v(le=oe.offset)?0:u(oe.margin,E?5:10))),y.renderLine(),y.offset=ie*u(X.offset,be[m]?be[m]+(X.margin||0):0),y.tickRotCorr=y.tickRotCorr||{x:0,y:0},ye=0===m?-y.labelMetrics().h:2===m?y.tickRotCorr.y:0,we=Math.abs(ge)+pe,ge&&(we-=ye,we+=ie*(E?u(ae.y,y.tickRotCorr.y+ie*ae.distance):u(ae.x,ie*ae.distance))),y.axisTitleMargin=u(le,we),y.getMaxLabelDimensions&&(y.maxLabelDimensions=y.getMaxLabelDimensions(F,R)),"colorAxis"!==_&&Se){let Me=this.tickSize("tick");be[m]=Math.max(be[m],(y.axisTitleMargin||0)+re+ie*y.offset,we,R&&R.length&&Me?Me[0]+ie*y.offset:0);let Pe=!y.axisLine||X.offset?0:y.axisLine.strokeWidth()/2;Se[G]=Math.max(Se[G],Pe)}p(this,"afterGetOffset")}getLinePath(y){let w=this.chart,E=this.opposite,X=this.offset,m=this.horiz,F=this.left+(E?this.width:0)+X,R=w.chartHeight-this.bottom-(E?this.height:0)+X;return E&&(y*=-1),w.renderer.crispLine([["M",m?this.left:F,m?R:this.top],["L",m?w.chartWidth-this.right:F,m?R:w.chartHeight-this.bottom]],y)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(y){let w=this.horiz,E=this.left,X=this.top,m=this.len,F=this.options.title,R=w?E:X,_=this.opposite,G=this.offset,K=F.x,oe=F.y,ae=this.chart.renderer.fontMetrics(y),ue=y?Math.max(y.getBBox(!1,0).height-ae.h-1,0):0,be={low:R+(w?0:m),middle:R+m/2,high:R+(w?m:0)}[F.align],Se=(w?X+this.height:E)+(w?1:-1)*(_?-1:1)*(this.axisTitleMargin||0)+[-ue,ue,ae.f,-ue][this.side],ie={x:w?be+K:Se+(_?this.width:0)+G+K,y:w?Se+oe-(_?this.height:0)+G:be+oe};return p(this,"afterGetTitlePosition",{titlePosition:ie}),ie}renderMinorTick(y,w){let E=this.minorTicks;E[y]||(E[y]=new he(this,y,"minor")),w&&E[y].isNew&&E[y].render(null,!0),E[y].render(null,!1,1)}renderTick(y,w,E){let m=this.ticks;(!this.isLinked||y>=this.min&&y<=this.max||this.grid&&this.grid.isColumn)&&(m[y]||(m[y]=new he(this,y)),E&&m[y].isNew&&m[y].render(w,!0,-1),m[y].render(w))}render(){let y,w,E=this,X=E.chart,m=E.logarithmic,R=E.options,_=E.isLinked,G=E.tickPositions,K=E.axisTitle,oe=E.ticks,ae=E.minorTicks,ue=E.alternateBands,be=R.stackLabels,Se=R.alternateGridColor,ie=R.crossing,q=E.tickmarkOffset,re=E.axisLine,le=E.showAxis,pe=te(X.renderer.globalAnimation);if(E.labelEdge.length=0,E.overlap=!1,[oe,ae,ue].forEach(function(ge){f(ge,function(we){we.isActive=!1})}),o(ie)){let ge=this.isXAxis?X.yAxis[0]:X.xAxis[0],we=[1,-1,-1,1][this.side];if(ge){let ye=ge.toPixels(ie,!0);E.horiz&&(ye=ge.len-ye),E.offset=we*ye}}if(E.hasData()||_){let ge=E.chart.hasRendered&&E.old&&o(E.old.min);E.minorTickInterval&&!E.categories&&E.getMinorTickPositions().forEach(function(we){E.renderMinorTick(we,ge)}),G.length&&(G.forEach(function(we,ye){E.renderTick(we,ye,ge)}),q&&(0===E.min||E.single)&&(oe[-1]||(oe[-1]=new he(E,-1,null,!0)),oe[-1].render(-1))),Se&&G.forEach(function(we,ye){w=void 0!==G[ye+1]?G[ye+1]+q:E.max-q,ye%2==0&&we<E.max&&w<=E.max+(X.polar?-q:q)&&(ue[we]||(ue[we]=new de.PlotLineOrBand(E,{})),y=we+q,ue[we].options={from:m?m.lin2log(y):y,to:m?m.lin2log(w):w,color:Se,className:"highcharts-alternate-grid"},ue[we].render(),ue[we].isActive=!0)}),E._addedPlotLB||(E._addedPlotLB=!0,(R.plotLines||[]).concat(R.plotBands||[]).forEach(function(we){E.addPlotBandOrLine(we)}))}[oe,ae,ue].forEach(function(ge){let we=[],ye=pe.duration;f(ge,function(Me,Pe){Me.isActive||(Me.render(Pe,!1,0),Me.isActive=!1,we.push(Pe))}),O(function(){let Me=we.length;for(;Me--;)ge[we[Me]]&&!ge[we[Me]].isActive&&(ge[we[Me]].destroy(),delete ge[we[Me]])},ge!==ue&&X.hasRendered&&ye?ye:0)}),re&&(re[re.isPlaced?"animate":"attr"]({d:this.getLinePath(re.strokeWidth())}),re.isPlaced=!0,re[le?"show":"hide"](le)),K&&le&&(K[K.isNew?"attr":"animate"](E.getTitlePosition(K)),K.isNew=!1),be&&be.enabled&&E.stacking&&E.stacking.renderStackTotals(),E.old={len:E.len,max:E.max,min:E.min,transA:E.transA,userMax:E.userMax,userMin:E.userMin},E.isDirty=!1,p(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(y){y.render()})),this.series.forEach(function(y){y.isDirty=!0})}getKeepProps(){return this.keepProps||j.keepProps}destroy(y){let w=this,E=w.plotLinesAndBands,X=this.eventOptions;if(p(this,"destroy",{keepEvents:y}),y||U(w),[w.ticks,w.minorTicks,w.alternateBands].forEach(function(m){T(m)}),E){let m=E.length;for(;m--;)E[m].destroy()}for(let m in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(F){w[F]&&(w[F]=w[F].destroy())}),w.plotLinesAndBandsGroups)w.plotLinesAndBandsGroups[m]=w.plotLinesAndBandsGroups[m].destroy();f(w,function(m,F){-1===w.getKeepProps().indexOf(F)&&delete w[F]}),this.eventOptions=X}drawCrosshair(y,w){let F,R,_,K,E=this.crosshair,X=u(E&&E.snap,!0),m=this.chart,G=this.cross;if(p(this,"drawCrosshair",{e:y,point:w}),y||(y=this.cross&&this.cross.e),E&&!1!==(v(w)||!X)){if(X?v(w)&&(R=u("colorAxis"!==this.coll?w.crosshairPos:null,this.isXAxis?w.plotX:this.len-w.plotY)):R=y&&(this.horiz?y.chartX-this.pos:this.len-y.chartY+this.pos),v(R)&&(K={value:w&&(this.isXAxis?w.x:u(w.stackY,w.y)),translatedValue:R},m.polar&&S(K,{isCrosshair:!0,chartX:y&&y.chartX,chartY:y&&y.chartY,point:w}),F=this.getPlotLinePath(K)||null),!v(F))return void this.hideCrosshair();_=this.categories&&!this.isRadial,G||(this.cross=G=m.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(_?"category ":"thin ")+(E.className||"")).attr({zIndex:u(E.zIndex,2)}).add(),!m.styledMode&&(G.attr({stroke:E.color||(_?xe.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":u(E.width,1)}).css({"pointer-events":"none"}),E.dashStyle&&G.attr({dashstyle:E.dashStyle}))),G.show().attr({d:F}),_&&!E.width&&G.attr({"stroke-width":this.transA}),this.cross.e=y}else this.hideCrosshair();p(this,"afterDrawCrosshair",{e:y,point:w})}hideCrosshair(){this.cross&&this.cross.hide(),p(this,"afterHideCrosshair")}update(y,w){let E=this.chart;y=d(this.userOptions,y),this.destroy(!0),this.init(E,y),E.isDirtyBox=!0,u(w,!0)&&E.redraw()}remove(y){let w=this.chart,E=this.coll,X=this.series,m=X.length;for(;m--;)X[m]&&X[m].remove(!1);H(w.axes,this),H(w[E]||[],this),w.orderItems(E),this.destroy(),w.isDirtyBox=!0,u(y,!0)&&w.redraw()}setTitle(y,w){this.update({title:y},w)}setCategories(y,w){this.update({categories:y},w)}}return j.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],j}),Ne(Y,"Core/Axis/DateTimeAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,getMagnitude:ve,normalizeTickInterval:me,timeUnits:de}=Z;return function(he){function Q(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function te(){"datetime"===this.type?this.dateTime||(this.dateTime=new ee(this)):this.dateTime=void 0}he.compose=function(L){return L.keepProps.includes("dateTime")||(L.keepProps.push("dateTime"),L.prototype.getTimeTicks=Q,xe(L,"afterSetType",te)),L};class ee{constructor(W){this.axis=W}normalizeTimeTickInterval(W,N){let P,I=N||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],C=I[I.length-1],A=de[C[0]],D=C[1];for(P=0;P<I.length&&(A=de[(C=I[P])[0]],D=C[1],!(I[P+1]&&W<=(A*D[D.length-1]+de[I[P+1][0]])/2));P++);return A===de.year&&W<5*A&&(D=[1,2,5]),{unitRange:A,count:me(W/A,D,"year"===C[0]?Math.max(ve(W/A),1):1),unitName:C[0]}}getXDateFormat(W,N){let{axis:I}=this,C=I.chart.time;return I.closestPointRange?C.getDateFormat(I.closestPointRange,W,I.options.startOfWeek,N)||C.resolveDTLFormat(N.year).main:C.resolveDTLFormat(N.day).main}}he.Additions=ee}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/LogarithmicAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,normalizeTickInterval:ve,pick:me}=Z;return function(de){function he(){"logarithmic"!==this.type?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new te(this))}function Q(){let ee=this.logarithmic;ee&&(this.lin2val=function(L){return ee.lin2log(L)},this.val2lin=function(L){return ee.log2lin(L)})}de.compose=function(ee){return ee.keepProps.includes("logarithmic")||(ee.keepProps.push("logarithmic"),xe(ee,"afterSetType",he),xe(ee,"afterInit",Q)),ee};class te{constructor(L){this.axis=L}getLogTickPositions(L,W,N,I){let C=this.axis,A=C.len,D=C.options,P=[];if(I||(this.minorAutoInterval=void 0),L>=.5)L=Math.round(L),P=C.getLinearTickPositions(L,W,N);else if(L>=.08){let v,T,H,B,S,p,b;for(v=L>.3?[1,2,4]:L>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],T=Math.floor(W);T<N+1&&!b;T++)for(H=0,B=v.length;H<B&&!b;H++)(S=this.log2lin(this.lin2log(T)*v[H]))>W&&(!I||p<=N)&&void 0!==p&&P.push(p),p>N&&(b=!0),p=S}else{let v=this.lin2log(W),T=this.lin2log(N),H=I?C.getMinorTickInterval():D.tickInterval;L=ve(L=me("auto"===H?null:H,this.minorAutoInterval,D.tickPixelInterval/(I?5:1)*(T-v)/((I?A/C.tickPositions.length:A)||1))),P=C.getLinearTickPositions(L,v,T).map(this.log2lin),I||(this.minorAutoInterval=L/5)}return I||(C.tickInterval=L),P}lin2log(L){return Math.pow(10,L)}log2lin(L){return Math.log(L)/Math.LN10}}de.Additions=te}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{erase:xe,extend:ve,isNumber:me}=Z;return function(de){let he;function Q(C){return this.addPlotBandOrLine(C,"plotBands")}function te(C,A){let D=this.userOptions,P=new he(this,C);if(this.visible&&(P=P.render()),P){if(this._addedPlotLB||(this._addedPlotLB=!0,(D.plotLines||[]).concat(D.plotBands||[]).forEach(v=>{this.addPlotBandOrLine(v)})),A){let v=D[A]||[];v.push(C),D[A]=v}this.plotLinesAndBands.push(P)}return P}function ee(C){return this.addPlotBandOrLine(C,"plotLines")}function L(C,A,D){let S,b,P=this.getPlotLinePath({value:A,force:!0,acrossPanes:(D=D||this.options).acrossPanes}),v=[],T=this.horiz,H=!me(this.min)||!me(this.max)||C<this.min&&A<this.min||C>this.max&&A>this.max,B=this.getPlotLinePath({value:C,force:!0,acrossPanes:D.acrossPanes}),p=1;if(B&&P)for(H&&(b=B.toString()===P.toString(),p=0),S=0;S<B.length;S+=2){let l=B[S],n=B[S+1],o=P[S],h=P[S+1];("M"===l[0]||"L"===l[0])&&("M"===n[0]||"L"===n[0])&&("M"===o[0]||"L"===o[0])&&("M"===h[0]||"L"===h[0])&&(T&&o[1]===l[1]?(o[1]+=p,h[1]+=p):T||o[2]!==l[2]||(o[2]+=p,h[2]+=p),v.push(["M",l[1],l[2]],["L",n[1],n[2]],["L",h[1],h[2]],["L",o[1],o[2]],["Z"])),v.isFlat=b}return v}function W(C){this.removePlotBandOrLine(C)}function N(C){let A=this.plotLinesAndBands,D=this.options,P=this.userOptions;if(A){let v=A.length;for(;v--;)A[v].id===C&&A[v].destroy();[D.plotLines||[],P.plotLines||[],D.plotBands||[],P.plotBands||[]].forEach(function(T){for(v=T.length;v--;)(T[v]||{}).id===C&&xe(T,T[v])})}}function I(C){this.removePlotBandOrLine(C)}de.compose=function(C,A){let D=A.prototype;return D.addPlotBand||(he=C,ve(D,{addPlotBand:Q,addPlotLine:ee,addPlotBandOrLine:te,getPlotBandPath:L,removePlotBand:W,removePlotLine:I,removePlotBandOrLine:N})),A}}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[Y["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],Y["Core/Utilities.js"]],function(Z,ce){let{addEvent:xe,arrayMax:ve,arrayMin:me,defined:de,destroyObjectProperties:he,erase:Q,fireEvent:te,merge:ee,objectEach:L,pick:W}=ce;class N{static compose(C,A){return xe(C,"afterInit",function(){this.labelCollectors.push(()=>{let D=[];for(let P of this.axes)for(let{label:v,options:T}of P.plotLinesAndBands)v&&!T?.label?.allowOverlap&&D.push(v);return D})}),Z.compose(N,A)}constructor(C,A){this.axis=C,this.options=A,this.id=A.id}render(){te(this,"render");let f,{axis:C,options:A}=this,{horiz:D,logarithmic:P}=C,{color:v,events:T,zIndex:H=0}=A,B={},S=C.chart.renderer,p=A.to,b=A.from,l=A.value,n=A.borderWidth,o=A.label,{label:h,svgElem:d}=this,c=[],u=de(b)&&de(p),M=de(l),U=!d,x={class:"highcharts-plot-"+(u?"band ":"line ")+(A.className||"")},O=u?"bands":"lines";if(!C.chart.styledMode&&(M?(x.stroke=v||"#999999",x["stroke-width"]=W(A.width,1),A.dashStyle&&(x.dashstyle=A.dashStyle)):u&&(x.fill=v||"#e6e9ff",n&&(x.stroke=A.borderColor,x["stroke-width"]=n))),B.zIndex=H,O+="-"+H,(f=C.plotLinesAndBandsGroups[O])||(C.plotLinesAndBandsGroups[O]=f=S.g("plot-"+O).attr(B).add()),d||(this.svgElem=d=S.path().attr(x).add(f)),de(l))c=C.getPlotLinePath({value:P?.log2lin(l)??l,lineWidth:d.strokeWidth(),acrossPanes:A.acrossPanes});else{if(!de(b)||!de(p))return;c=C.getPlotBandPath(P?.log2lin(b)??b,P?.log2lin(p)??p,A)}return!this.eventsAdded&&T&&(L(T,(z,j)=>{d?.on(j,J=>{T[j].apply(this,[J])})}),this.eventsAdded=!0),!U&&d.d||!c?.length?d&&(c?(d.show(),d.animate({d:c})):d.d&&(d.hide(),h&&(this.label=h=h.destroy()))):d.attr({d:c}),o&&(de(o.text)||de(o.formatter))&&c?.length&&C.width>0&&C.height>0&&!c.isFlat?(o=ee({align:D&&u?"center":void 0,x:D?!u&&4:10,verticalAlign:!D&&u?"middle":void 0,y:D?u?16:10:u?6:-4,rotation:D&&!u?90:0,...u?{inside:!0}:{}},o),this.renderLabel(o,c,u,H)):h&&h.hide(),this}renderLabel(C,A,D,P){let v=this.axis,H=C.inside,B=this.label;B||(this.label=B=v.chart.renderer.text(this.getLabelText(C),0,0,C.useHTML).attr({align:C.textAlign||C.align,rotation:C.rotation,class:"highcharts-plot-"+(D?"band":"line")+"-label "+(C.className||""),zIndex:P}),v.chart.styledMode||B.css(ee({fontSize:"0.8em",textOverflow:D&&!H?"":"ellipsis"},C.style)),B.add());let S=A.xBounds||[A[0][1],A[1][1],D?A[2][1]:A[0][1]],p=A.yBounds||[A[0][2],A[1][2],D?A[2][2]:A[0][2]],b=me(S),l=me(p),n=ve(S)-b;B.align(C,!1,{x:b,y:l,width:n,height:ve(p)-l}),(!B.alignValue||"left"===B.alignValue||de(H))&&B.css({width:(C.style?.width||(D&&H?n:90===B.rotation?v.height-(B.alignAttr.y-v.top):(C.clip?v.width:v.chart.chartWidth)-(B.alignAttr.x-v.left)))+"px"}),B.show(!0)}getLabelText(C){return de(C.formatter)?C.formatter.call(this):C.text}destroy(){Q(this.axis.plotLinesAndBands,this),delete this.axis,he(this)}}return N}),Ne(Y,"Core/Tooltip.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Templating.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de){var he;let{animObject:Q}=Z,{format:te}=ce,{composed:ee,doc:L,isSafari:W}=xe,{distribute:N}=ve,{addEvent:I,clamp:C,css:A,discardElement:D,extend:P,fireEvent:v,isArray:T,isNumber:H,isString:B,merge:S,pick:p,pushUnique:b,splat:l,syncTimeout:n}=de;class o{constructor(d,c,f){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=d,this.init(d,c),this.pointer=f}bodyFormatter(d){return d.map(function(c){let f=c.series.tooltipOptions;return(f[(c.point.formatPrefix||"point")+"Formatter"]||c.point.tooltipFormatter).call(c.point,f[(c.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(d){this.chart.series.forEach(function(c){let f=c&&c.tt;f&&(!f.isActive||d?c.tt=f.destroy():f.isActive=!1)})}defaultFormatter(d){let c,f=this.points||l(this);return(c=(c=[d.tooltipFooterHeaderFormatter(f[0])]).concat(d.bodyFormatter(f))).push(d.tooltipFooterHeaderFormatter(f[0],!0)),c}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),D(this.container)),de.clearTimeout(this.hideTimer)}getAnchor(d,c){let f,{chart:u,pointer:M}=this,U=u.inverted,x=u.plotTop,O=u.plotLeft;if((d=l(d))[0].series&&d[0].series.yAxis&&!d[0].series.yAxis.options.reversedStacks&&(d=d.slice().reverse()),this.followPointer&&c)void 0===c.chartX&&(c=M.normalize(c)),f=[c.chartX-O,c.chartY-x];else if(d[0].tooltipPos)f=d[0].tooltipPos;else{let z=0,j=0;d.forEach(function(J){let y=J.pos(!0);y&&(z+=y[0],j+=y[1])}),z/=d.length,j/=d.length,this.shared&&d.length>1&&c&&(U?z=c.chartX:j=c.chartY),f=[z-O,j-x]}return f.map(Math.round)}getClassName(d,c,f){let M=d.series,U=M.options;return[this.options.className,"highcharts-label",f&&"highcharts-tooltip-header",c?"highcharts-tooltip-box":"highcharts-tooltip",!f&&"highcharts-color-"+p(d.colorIndex,M.colorIndex),U&&U.className].filter(B).join(" ")}getLabel({anchorX:d,anchorY:c}={anchorX:0,anchorY:0}){let f=this,u=this.chart.styledMode,M=this.options,U=this.split&&this.allowShared,x=this.container,O=this.chart.renderer;if(this.label){let z=!this.label.hasClass("highcharts-label");(!U&&z||U&&!z)&&this.destroy()}if(!this.label){if(this.outside){let z=this.chart.options.chart.style,j=me.getRendererType();this.container=x=xe.doc.createElement("div"),x.className="highcharts-tooltip-container",A(x,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(z&&z.zIndex||0)+3)}),this.renderer=O=new j(x,0,0,z,void 0,void 0,O.styledMode)}if(U?this.label=O.g("tooltip"):(this.label=O.label("",d,c,M.shape,void 0,void 0,M.useHTML,void 0,"tooltip").attr({padding:M.padding,r:M.borderRadius}),u||this.label.attr({fill:M.backgroundColor,"stroke-width":M.borderWidth||0}).css(M.style).css({pointerEvents:M.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),f.outside){let z=this.label;[z.xSetter,z.ySetter].forEach((j,J)=>{z[J?"ySetter":"xSetter"]=y=>{j.call(z,f.distance),z[J?"y":"x"]=y,x&&(x.style[J?"top":"left"]=`${y}px`)}})}this.label.attr({zIndex:8}).shadow(M.shadow).add()}return x&&!x.parentElement&&xe.doc.body.appendChild(x),this.label}getPlayingField(){let{body:d,documentElement:c}=L,{chart:f,distance:u,outside:M}=this;return{width:M?Math.max(d.scrollWidth,c.scrollWidth,d.offsetWidth,c.offsetWidth,c.clientWidth)-2*u:f.chartWidth,height:M?Math.max(d.scrollHeight,c.scrollHeight,d.offsetHeight,c.offsetHeight,c.clientHeight):f.chartHeight}}getPosition(d,c,f){let ue,{distance:u,chart:M,outside:U,pointer:x}=this,{inverted:O,plotLeft:z,plotTop:j,polar:J}=M,{plotX:y=0,plotY:w=0}=f,E={},X=O&&f.h||0,{height:m,width:F}=this.getPlayingField(),R=x.getChartPosition(),_=pe=>pe*R.scaleX,G=pe=>pe*R.scaleY,K=pe=>{let ge="x"===pe;return[pe,ge?F:m,ge?d:c].concat(U?[ge?_(d):G(c),ge?R.left-u+_(y+z):R.top-u+G(w+j),0,ge?F:m]:[ge?d:c,ge?y+z:w+j,ge?z:j,ge?z+M.plotWidth:j+M.plotHeight])},oe=K("y"),ae=K("x"),be=!!f.negative;!J&&M.hoverSeries?.yAxis?.reversed&&(be=!be);let Se=!this.followPointer&&p(f.ttBelow,!J&&!O===be),ie=function(pe,ge,we,ye,Me,Pe,Re){let Fe=U?"y"===pe?G(u):_(u):u,De=(we-ye)/2,He=ye<Me-u,ze=Me+u+ye<ge,Oe=Me-Fe-we+De,it=Me+Fe-De;if(Se&&ze)E[pe]=it;else if(!Se&&He)E[pe]=Oe;else if(He)E[pe]=Math.min(Re-ye,Oe-X<0?Oe:Oe-X);else{if(!ze)return!1;E[pe]=Math.max(Pe,it+X+we>ge?it:it+X)}},q=function(pe,ge,we,ye,Me){if(Me<u||Me>ge-u)return!1;E[pe]=Me<we/2?1:Me>ge-ye/2?ge-ye-2:Me-we/2},re=function(pe){[oe,ae]=[ae,oe],ue=pe},le=()=>{!1!==ie.apply(0,oe)?!1!==q.apply(0,ae)||ue||(re(!0),le()):ue?E.x=E.y=0:(re(!0),le())};return(O&&!J||this.len>1)&&re(),le(),E}hide(d){let c=this;de.clearTimeout(this.hideTimer),d=p(d,this.options.hideDelay),this.isHidden||(this.hideTimer=n(function(){let f=c.getLabel();c.getLabel().animate({opacity:0},{duration:d&&150,complete:()=>{f.hide(),c.container&&c.container.remove()}}),c.isHidden=!0},d))}init(d,c){this.chart=d,this.options=c,this.crosshairs=[],this.isHidden=!0,this.split=c.split&&!d.inverted&&!d.polar,this.shared=c.shared||this.split,this.outside=p(c.outside,!(!d.scrollablePixelsX&&!d.scrollablePixelsY))}shouldStickOnContact(d){return!(this.followPointer||!this.options.stickOnContact||d&&!this.pointer.inClass(d.target,"highcharts-tooltip"))}move(d,c,f,u){let M=this,U=Q(!M.isHidden&&M.options.animation),O={x:d,y:c};M.followPointer||(M.len||0)>1||(O.anchorX=f,O.anchorY=u),U.step=()=>M.drawTracker(),M.getLabel().animate(O,U)}refresh(d,c){let{chart:f,options:u,pointer:M,shared:U}=this,x=l(d),O=x[0],z=[],j=u.format,J=u.formatter||this.defaultFormatter,y=f.styledMode,w={},E=this.allowShared;if(!u.enabled||!O.series)return;de.clearTimeout(this.hideTimer),this.allowShared=!(!T(d)&&d.series&&d.series.noSharedTooltip),E=E&&!this.allowShared,this.followPointer=!this.split&&O.series.tooltipOptions.followPointer;let X=this.getAnchor(d,c),m=X[0],F=X[1];U&&this.allowShared?(M.applyInactiveState(x),x.forEach(function(G){G.setState("hover"),z.push(G.getLabelConfig())}),(w=O.getLabelConfig()).points=z):w=O.getLabelConfig(),this.len=z.length;let R=B(j)?te(j,w,f):J.call(w,this),_=O.series;if(this.distance=p(_.tooltipOptions.distance,16),!1===R)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(R,x);else{let G=m,K=F;if(c&&M.isDirectTouch&&(G=c.chartX-f.plotLeft,K=c.chartY-f.plotTop),!f.polar&&!1!==_.options.clip&&!x.some(oe=>M.isDirectTouch||oe.series.shouldShowTooltip(G,K)))return void this.hide();{let oe=this.getLabel(E&&this.tt||{});(!u.style.width||y)&&oe.css({width:(this.outside?this.getPlayingField():f.spacingBox).width+"px"}),oe.attr({class:this.getClassName(O),text:R&&R.join?R.join(""):R}),this.outside&&oe.attr({x:C(oe.x||0,0,this.getPlayingField().width-(oe.width||0))}),y||oe.attr({stroke:u.borderColor||O.color||_.color||"#666666"}),this.updatePosition({plotX:m,plotY:F,negative:O.negative,ttBelow:O.ttBelow,h:X[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}v(this,"refresh")}renderSplit(d,c){let f=this,{chart:u,chart:{chartWidth:M,chartHeight:U,plotHeight:x,plotLeft:O,plotTop:z,scrollablePixelsY:j=0,scrollablePixelsX:J,styledMode:y},distance:w,options:E,options:{positioner:X},pointer:m}=f,{scrollLeft:F=0,scrollTop:R=0}=u.scrollablePlotArea?.scrollingContainer||{},_=f.outside&&"number"!=typeof J?L.documentElement.getBoundingClientRect():{left:F,right:F+M,top:R,bottom:R+U},G=f.getLabel(),K=this.renderer||u.renderer,oe=!(!u.xAxis[0]||!u.xAxis[0].opposite),{left:ae,top:ue}=m.getChartPosition(),be=z+R,Se=0,ie=x-j;function q(ye,Me,Pe,Re,Fe=!0){let De,He;return Pe?(De=oe?0:ie,He=C(ye-Re/2,_.left,_.right-Re-(f.outside?ae:0))):(De=Me-be,He=C(He=Fe?ye-Re-w:ye+w,Fe?He:_.left,_.right)),{x:He,y:De}}B(d)&&(d=[!1,d]);let re=d.slice(0,c.length+1).reduce(function(ye,Me,Pe){if(!1!==Me&&""!==Me){let Re=c[Pe-1]||{isHeader:!0,plotX:c[0].plotX,plotY:x,series:{}},Fe=Re.isHeader,De=Fe?f:Re.series,He=De.tt=function(rt,bt,Ht){let zt=rt,{isHeader:yt,series:hi}=bt;if(!zt){let Zt={padding:E.padding,r:E.borderRadius};y||(Zt.fill=E.backgroundColor,Zt["stroke-width"]=E.borderWidth??1),zt=K.label("",0,0,E[yt?"headerShape":"shape"],void 0,void 0,E.useHTML).addClass(f.getClassName(bt,!0,yt)).attr(Zt).add(G)}return zt.isActive=!0,zt.attr({text:Ht}),y||zt.css(E.style).attr({stroke:E.borderColor||bt.color||hi.color||"#333333"}),zt}(De.tt,Re,Me.toString()),ze=He.getBBox(),Oe=ze.width+He.strokeWidth();Fe&&(Se=ze.height,ie+=Se,oe&&(be-=Se));let{anchorX:it,anchorY:ot}=function(rt){let bt,Ht,{isHeader:zt,plotX:yt=0,plotY:hi=0,series:Zt}=rt;if(zt)bt=Math.max(O+yt,O),Ht=z+x/2;else{let{xAxis:Ei,yAxis:_t}=Zt;bt=Ei.pos+C(yt,-w,Ei.len+w),Zt.shouldShowTooltip(0,_t.pos-z+hi,{ignoreX:!0})&&(Ht=_t.pos+hi)}return{anchorX:bt=C(bt,_.left-w,_.right+w),anchorY:Ht}}(Re);if("number"==typeof ot){let rt=ze.height+1,bt=X?X.call(f,Oe,rt,Re):q(it,ot,Fe,Oe);ye.push({align:X?0:void 0,anchorX:it,anchorY:ot,boxWidth:Oe,point:Re,rank:p(bt.rank,Fe?1:0),size:rt,target:bt.y,tt:He,x:bt.x})}else He.isActive=!1}return ye},[]);!X&&re.some(ye=>{let{outside:Me}=f,Pe=(Me?ae:0)+ye.anchorX;return Pe<_.left&&Pe+ye.boxWidth<_.right||Pe<ae-_.left+ye.boxWidth&&_.right-Pe>Pe})&&(re=re.map(ye=>{let{x:Me,y:Pe}=q(ye.anchorX,ye.anchorY,ye.point.isHeader,ye.boxWidth,!1);return P(ye,{target:Pe,x:Me})})),f.cleanSplit(),N(re,ie);let le={left:ae,right:ae};re.forEach(function(ye){let{x:Me,boxWidth:Pe,isHeader:Re}=ye;!Re&&(f.outside&&ae+Me<le.left&&(le.left=ae+Me),!Re&&f.outside&&le.left+Pe>le.right&&(le.right=ae+Me))}),re.forEach(function(ye){let{x:Me,anchorX:Pe,anchorY:Re,pos:Fe,point:{isHeader:De}}=ye,He={visibility:void 0===Fe?"hidden":"inherit",x:Me,y:(Fe||0)+be,anchorX:Pe,anchorY:Re};if(f.outside&&Me<Pe){let ze=ae-le.left;ze>0&&(De||(He.x=Me+ze,He.anchorX=Pe+ze),De&&(He.x=(le.right-le.left)/2,He.anchorX=Pe+ze))}ye.tt.attr(He)});let{container:pe,outside:ge,renderer:we}=f;if(ge&&pe&&we){let{width:ye,height:Me,x:Pe,y:Re}=G.getBBox();we.setSize(ye+Pe,Me+Re,!1),pe.style.left=le.left+"px",pe.style.top=ue+"px"}W&&G.attr({opacity:1===G.opacity?.999:1})}drawTracker(){if(!this.shouldStickOnContact())return void(this.tracker&&(this.tracker=this.tracker.destroy()));let d=this.chart,c=this.label,f=this.shared?d.hoverPoints:d.hoverPoint;if(!c||!f)return;let u={x:0,y:0,width:0,height:0},M=this.getAnchor(f),U=c.getBBox();M[0]+=d.plotLeft-(c.translateX||0),M[1]+=d.plotTop-(c.translateY||0),u.x=Math.min(0,M[0]),u.y=Math.min(0,M[1]),u.width=M[0]<0?Math.max(Math.abs(M[0]),U.width-M[0]):Math.max(Math.abs(M[0]),U.width),u.height=M[1]<0?Math.max(Math.abs(M[1]),U.height-Math.abs(M[1])):Math.max(Math.abs(M[1]),U.height),this.tracker?this.tracker.attr(u):(this.tracker=c.renderer.rect(u).addClass("highcharts-tracker").add(c),d.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(d){return d.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(d,c){let f=d.series,u=f.tooltipOptions,M=f.xAxis,U=M&&M.dateTime,x={isFooter:c,labelConfig:d},O=u.xDateFormat,z=u[c?"footerFormat":"headerFormat"];return v(this,"headerFormatter",x,function(j){U&&!O&&H(d.key)&&(O=U.getXDateFormat(d.key,u.dateTimeLabelFormats)),U&&O&&(d.point&&d.point.tooltipDateKeys||["key"]).forEach(function(J){z=z.replace("{point."+J+"}","{point."+J+":"+O+"}")}),f.chart.styledMode&&(z=this.styledModeFormat(z)),j.text=te(z,{point:d,series:f},this.chart)}),x.text}update(d){this.destroy(),this.init(this.chart,S(!0,this.options,d))}updatePosition(d){let F,{chart:c,container:f,distance:u,options:M,pointer:U,renderer:x}=this,{height:O=0,width:z=0}=this.getLabel(),{left:j,top:J,scaleX:y,scaleY:w}=U.getChartPosition(),E=(M.positioner||this.getPosition).call(this,z,O,d),X=(d.plotX||0)+c.plotLeft,m=(d.plotY||0)+c.plotTop;x&&f&&(M.positioner&&(E.x+=j-u,E.y+=J-u),F=(M.borderWidth||0)+2*u+2,x.setSize(z+F,O+F,!1),(1!==y||1!==w)&&(A(f,{transform:`scale(${y}, ${w})`}),X*=y,m*=w),X+=j-E.x,m+=J-E.y),this.move(Math.round(E.x),Math.round(E.y||0),X,m)}}return(he=o||(o={})).compose=function(h){b(ee,"Core.Tooltip")&&I(h,"afterInit",function(){let d=this.chart;d.options.tooltip&&(d.tooltip=new he(d,d.options.tooltip,this))})},o}),Ne(Y,"Core/Series/Point.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Animation/AnimationUtilities.js"],Y["Core/Defaults.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{animObject:de}=ce,{defaultOptions:he}=xe,{format:Q}=ve,{addEvent:te,crisp:ee,erase:L,extend:W,fireEvent:N,getNestedProperty:I,isArray:C,isFunction:A,isNumber:D,isObject:P,merge:v,pick:T,syncTimeout:H,removeEvent:B,uniqueKey:S}=me;class p{animateBeforeDestroy(){let l=this,n={x:l.startXPos,opacity:0},o=l.getGraphicalProps();o.singular.forEach(function(h){l[h]=l[h].animate("dataLabel"===h?{x:l[h].startXPos,y:l[h].startYPos,opacity:0}:n)}),o.plural.forEach(function(h){l[h].forEach(function(d){d.element&&d.animate(W({x:l.startXPos},d.startYPos?{x:d.startXPos,y:d.startYPos}:{}))})})}applyOptions(l,n){let o=this.series,h=o.options.pointValKey||o.pointValKey;return W(this,l=p.prototype.optionsToObject.call(this,l)),this.options=this.options?W(this.options,l):l,l.group&&delete this.group,l.dataLabels&&delete this.dataLabels,h&&(this.y=p.prototype.getNestedProperty.call(this,h)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&o.xAxis&&o.xAxis.hasNames&&(this.x=o.xAxis.nameToX(this)),void 0===this.x&&o?this.x=n??o.autoIncrement():D(l.x)&&o.options.relativeXValue&&(this.x=o.autoIncrement(l.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let l=this,n=l.series,o=n.chart,h=n.options.dataSorting,d=o.hoverPoints,c=de(l.series.chart.renderer.globalAnimation),f=()=>{for(let u in(l.graphic||l.graphics||l.dataLabel||l.dataLabels)&&(B(l),l.destroyElements()),l)delete l[u]};l.legendItem&&o.legend.destroyItem(l),d&&(l.setState(),L(d,l),d.length||(o.hoverPoints=null)),l===o.hoverPoint&&l.onMouseOut(),h&&h.enabled?(this.animateBeforeDestroy(),H(f,c.duration)):f(),o.pointCount--}this.destroyed=!0}destroyElements(l){let n=this,o=n.getGraphicalProps(l);o.singular.forEach(function(h){n[h]=n[h].destroy()}),o.plural.forEach(function(h){n[h].forEach(function(d){d&&d.element&&d.destroy()}),delete n[h]})}firePointEvent(l,n,o){let h=this,d=this.series.options;h.manageEvent(l),"click"===l&&d.allowPointSelect&&(o=function(c){!h.destroyed&&h.select&&h.select(null,c.ctrlKey||c.metaKey||c.shiftKey)}),N(h,l,n,o)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(l){let n,o,h=this,d=[],c={singular:[],plural:[]};for((l=l||{graphic:1,dataLabel:1}).graphic&&d.push("graphic","connector"),l.dataLabel&&d.push("dataLabel","dataLabelPath","dataLabelUpper"),o=d.length;o--;)h[n=d[o]]&&c.singular.push(n);return["graphic","dataLabel"].forEach(function(f){let u=f+"s";l[f]&&h[u]&&c.plural.push(u)}),c}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(l){return l?0===l.indexOf("custom.")?I(l,this.options):this[l]:void 0}getZone(){let h,l=this.series,n=l.zones,o=l.zoneAxis||"y",d=0;for(h=n[0];this[o]>=h.value;)h=n[++d];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=h&&h.color&&!this.options.color?h.color:this.nonZonedColor,h}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(l,n,o){this.formatPrefix="point",this.visible=!0,this.series=l,this.applyOptions(n,o),this.id??(this.id=S()),this.resolveColor(),l.chart.pointCount++,N(this,"afterInit")}isValid(){return(D(this.x)||this.x instanceof Date)&&D(this.y)}optionsToObject(l){let f,n=this.series,o=n.options.keys,h=o||n.pointArrayMap||["y"],d=h.length,c={},u=0,M=0;if(D(l)||null===l)c[h[0]]=l;else if(C(l))for(!o&&l.length>d&&("string"==(f=typeof l[0])?c.name=l[0]:"number"===f&&(c.x=l[0]),u++);M<d;)o&&void 0===l[u]||(h[M].indexOf(".")>0?p.prototype.setNestedProperty(c,l[u],h[M]):c[h[M]]=l[u]),u++,M++;else"object"==typeof l&&(c=l,l.dataLabels&&(n.hasDataLabels=()=>!0),l.marker&&(n._hasPointMarkers=!0));return c}pos(l,n=this.plotY){if(!this.destroyed){let{plotX:o,series:h}=this,{chart:d,xAxis:c,yAxis:f}=h,u=0,M=0;if(D(o)&&D(n))return l&&(u=c?c.pos:d.plotLeft,M=f?f.pos:d.plotTop),d.inverted&&c&&f?[f.len-n+M,c.len-o+u]:[o+u,n+M]}}resolveColor(){let h,d,f,l=this.series,o=l.chart.styledMode,c=l.chart.options.chart.colorCount;delete this.nonZonedColor,l.options.colorByPoint?(o||(h=(d=l.options.colors||l.chart.options.colors)[l.colorCounter],c=d.length),f=l.colorCounter,l.colorCounter++,l.colorCounter===c&&(l.colorCounter=0)):(o||(h=l.color),f=l.colorIndex),this.colorIndex=T(this.options.colorIndex,f),this.color=T(this.options.color,h)}setNestedProperty(l,n,o){return o.split(".").reduce(function(h,d,c,f){return h[d]=f.length-1===c?n:P(h[d],!0)?h[d]:{},h[d]},l),l}shouldDraw(){return!this.isNull}tooltipFormatter(l){let n=this.series,o=n.tooltipOptions,h=T(o.valueDecimals,""),d=o.valuePrefix||"",c=o.valueSuffix||"";return n.chart.styledMode&&(l=n.chart.tooltip.styledModeFormat(l)),(n.pointArrayMap||["y"]).forEach(function(f){f="{point."+f,(d||c)&&(l=l.replace(RegExp(f+"}","g"),d+f+"}"+c)),l=l.replace(RegExp(f+"}","g"),f+":,."+h+"f}")}),Q(l,{point:this,series:this.series},n.chart)}update(l,n,o,h){let d,c=this,f=c.series,u=c.graphic,M=f.chart,U=f.options;function x(){c.applyOptions(l);let O=u&&c.hasMockGraphic;u&&(null===c.y?!O:O)&&(c.graphic=u.destroy(),delete c.hasMockGraphic),P(l,!0)&&(u&&u.element&&l&&l.marker&&void 0!==l.marker.symbol&&(c.graphic=u.destroy()),l?.dataLabels&&c.dataLabel&&(c.dataLabel=c.dataLabel.destroy())),d=c.index,f.updateParallelArrays(c,d),U.data[d]=P(U.data[d],!0)||P(l,!0)?c.options:T(l,U.data[d]),f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(M.isDirtyBox=!0),"point"===U.legendType&&(M.isDirtyLegend=!0),n&&M.redraw(o)}n=T(n,!0),!1===h?x():c.firePointEvent("update",{options:l},x)}remove(l,n){this.series.removePoint(this.series.data.indexOf(this),l,n)}select(l,n){let o=this,h=o.series,d=h.chart;l=T(l,!o.selected),this.selectedStaging=l,o.firePointEvent(l?"select":"unselect",{accumulate:n},function(){o.selected=o.options.selected=l,h.options.data[h.data.indexOf(o)]=o.options,o.setState(l&&"select"),n||d.getSelectedPoints().forEach(function(c){let f=c.series;c.selected&&c!==o&&(c.selected=c.options.selected=!1,f.options.data[f.data.indexOf(c)]=c.options,c.setState(d.hoverPoints&&f.options.inactiveOtherPoints?"inactive":""),c.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(l){let{inverted:n,pointer:o}=this.series.chart;o&&(l=l?o.normalize(l):o.getChartCoordinatesFromPoint(this,n),o.runPointActions(l,this))}onMouseOut(){let l=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(l.hoverPoints||[]).forEach(function(n){n.setState()}),l.hoverPoints=l.hoverPoint=null}manageEvent(l){let n=v(this.series.options.point,this.options),o=n.events?.[l];!A(o)||this.hcEvents?.[l]&&-1!==this.hcEvents?.[l]?.map(h=>h.fn).indexOf(o)?this.importedUserEvent&&!o&&this.hcEvents?.[l]&&(B(this,l),delete this.hcEvents[l],Object.keys(this.hcEvents)||delete this.importedUserEvent):(this.importedUserEvent?.(),this.importedUserEvent=te(this,l,o))}setState(l,n){let j,J,y,E,o=this.series,h=this.state,d=o.options.states[l||"normal"]||{},c=he.plotOptions[o.type].marker&&o.options.marker,u=c&&c.states&&c.states[l||"normal"]||{},U=this.marker||{},x=o.chart,O=c&&o.markerAttribs,z=o.halo,w=o.stateMarkerGraphic;if((l=l||"")===this.state&&!n||this.selected&&"select"!==l||!1===d.enabled||l&&(!1===u.enabled||c&&!1===c.enabled&&!1===u.enabled)||l&&U.states&&U.states[l]&&!1===U.states[l].enabled)return;if(this.state=l,O&&(j=o.markerAttribs(this,l)),this.graphic&&!this.hasMockGraphic){if(h&&this.graphic.removeClass("highcharts-point-"+h),l&&this.graphic.addClass("highcharts-point-"+l),!x.styledMode){J=o.pointAttribs(this,l),y=T(x.options.chart.animation,d.animation);let R=J.opacity;o.options.inactiveOtherPoints&&D(R)&&(this.dataLabels||[]).forEach(function(_){_&&!_.hasClass("highcharts-data-label-hidden")&&(_.animate({opacity:R},y),_.connector&&_.connector.animate({opacity:R},y))}),this.graphic.animate(J,y)}j&&this.graphic.animate(j,T(x.options.chart.animation,u.animation,c.animation)),w&&w.hide()}else l&&u&&(E=U.symbol||o.symbol,w&&w.currentSymbol!==E&&(w=w.destroy()),j&&(w?w[n?"animate":"attr"]({x:j.x,y:j.y}):E&&(o.stateMarkerGraphic=w=x.renderer.symbol(E,j.x,j.y,j.width,j.height).add(o.markerGroup),w.currentSymbol=E)),!x.styledMode&&w&&"inactive"!==this.state&&w.attr(o.pointAttribs(this,l))),w&&(w[l&&this.isInside?"show":"hide"](),w.element.point=this,w.addClass(this.getClassName(),!0));let X=d.halo,m=this.graphic||w,F=m&&m.visibility||"inherit";X&&X.size&&m&&"hidden"!==F&&!this.isCluster?(z||(o.halo=z=x.renderer.path().add(m.parentGroup)),z.show()[n?"animate":"attr"]({d:this.haloPath(X.size)}),z.attr({class:"highcharts-halo highcharts-color-"+T(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),visibility:F,zIndex:-1}),z.point=this,x.styledMode||z.attr(W({fill:this.color||o.color,"fill-opacity":X.opacity},Z.filterUserAttributes(X.attributes||{})))):z?.point?.haloPath&&!z.point.destroyed&&z.animate({d:z.point.haloPath(0)},null,z.hide),N(this,"afterSetState",{state:l})}haloPath(l){let n=this.pos();return n?this.series.chart.renderer.symbols.circle(ee(n[0],1)-l,n[1]-l,2*l,2*l):[]}}return p}),Ne(Y,"Core/Pointer.js",[Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{parse:me}=Z,{charts:de,composed:he,isTouchDevice:Q}=ce,{addEvent:te,attr:ee,css:L,extend:W,find:N,fireEvent:I,isNumber:C,isObject:A,objectEach:D,offset:P,pick:v,pushUnique:T,splat:H}=xe;class B{applyInactiveState(p){let l,b=[];(p||[]).forEach(function(n){l=n.series,b.push(l),l.linkedParent&&b.push(l.linkedParent),l.linkedSeries&&(b=b.concat(l.linkedSeries)),l.navigatorSeries&&b.push(l.navigatorSeries)}),this.chart.series.forEach(function(n){-1===b.indexOf(n)?n.setState("inactive",!0):n.options.inactiveOtherPoints&&n.setAllPointsToState("inactive")})}destroy(){let p=this;this.eventsToUnbind.forEach(b=>b()),this.eventsToUnbind=[],!ce.chartCount&&(B.unbindDocumentMouseUp&&B.unbindDocumentMouseUp.forEach(b=>b()),B.unbindDocumentTouchEnd&&(B.unbindDocumentTouchEnd=B.unbindDocumentTouchEnd())),clearInterval(p.tooltipTimeout),D(p,function(b,l){p[l]=void 0})}getSelectionMarkerAttrs(p,b){let l={args:{chartX:p,chartY:b},attrs:{},shapeType:"rect"};return I(this,"getSelectionMarkerAttrs",l,n=>{let o,{chart:h,zoomHor:d,zoomVert:c}=this,{mouseDownX:f=0,mouseDownY:u=0}=h,M=n.attrs;M.x=h.plotLeft,M.y=h.plotTop,M.width=d?1:h.plotWidth,M.height=c?1:h.plotHeight,d&&(o=p-f,M.width=Math.max(1,Math.abs(o)),M.x=(o>0?0:o)+f),c&&(o=b-u,M.height=Math.max(1,Math.abs(o)),M.y=(o>0?0:o)+u)}),l}drag(p){let j,{chart:b}=this,{mouseDownX:l=0,mouseDownY:n=0}=b,{panning:o,panKey:h,selectionMarkerFill:d}=b.options.chart,c=b.plotLeft,f=b.plotTop,u=b.plotWidth,M=b.plotHeight,U=A(o)?o.enabled:o,x=h&&p[`${h}Key`],O=p.chartX,z=p.chartY,J=this.selectionMarker;if((!J||!J.touch)&&(O<c?O=c:O>c+u&&(O=c+u),z<f?z=f:z>f+M&&(z=f+M),this.hasDragged=Math.sqrt(Math.pow(l-O,2)+Math.pow(n-z,2)),this.hasDragged>10)){j=b.isInsidePlot(l-c,n-f,{visiblePlotOnly:!0});let{shapeType:y,attrs:w}=this.getSelectionMarkerAttrs(O,z);(b.hasCartesianSeries||b.mapView)&&this.hasZoom&&j&&!x&&!J&&(this.selectionMarker=J=b.renderer[y](),J.attr({class:"highcharts-selection-marker",zIndex:7}).add(),b.styledMode||J.attr({fill:d||me("#334eff").setOpacity(.25).get()})),J&&J.attr(w),j&&!J&&U&&b.pan(p,o)}}dragStart(p){let b=this.chart;b.mouseIsDown=p.type,b.cancelClick=!1,b.mouseDownX=p.chartX,b.mouseDownY=p.chartY}getSelectionBox(p){let b={args:{marker:p},result:p.getBBox()};return I(this,"getSelectionBox",b),b.result}drop(p){let b,{chart:l,selectionMarker:n}=this;for(let o of l.axes)o.isPanning&&(o.isPanning=!1,(o.options.startOnTick||o.options.endOnTick||o.series.some(h=>h.boosted))&&(o.forceRedraw=!0,o.setExtremes(o.userMin,o.userMax,!1),b=!0));if(b&&l.redraw(),n&&p){if(this.hasDragged){let o=this.getSelectionBox(n);l.transform({axes:l.axes.filter(h=>h.zoomEnabled&&("xAxis"===h.coll&&this.zoomX||"yAxis"===h.coll&&this.zoomY)),selection:{originalEvent:p,xAxis:[],yAxis:[],...o},from:o})}C(l.index)&&(this.selectionMarker=n.destroy())}l&&C(l.index)&&(L(l.container,{cursor:l._cursor}),l.cancelClick=this.hasDragged>10,l.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(p,b,l){let n;return p.forEach(function(o){let h=!(o.noSharedTooltip&&b)&&0>o.options.findNearestPointBy.indexOf("y"),d=o.searchPoint(l,h);A(d,!0)&&d.series&&(!A(n,!0)||function(c,f){let u=c.distX-f.distX,M=c.dist-f.dist,U=f.series.group?.zIndex-c.series.group?.zIndex;return 0!==u&&b?u:0!==M?M:0!==U?U:c.series.index>f.series.index?-1:1}(n,d)>0)&&(n=d)}),n}getChartCoordinatesFromPoint(p,b){let{xAxis:l,yAxis:n}=p.series,o=p.shapeArgs;if(l&&n){let h=p.clientX??p.plotX??0,d=p.plotY||0;return p.isNode&&o&&C(o.x)&&C(o.y)&&(h=o.x,d=o.y),b?{chartX:n.len+n.pos-d,chartY:l.len+l.pos-h}:{chartX:h+l.pos,chartY:d+n.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:p}=this.chart,b=P(p);this.chartPosition={left:b.left,top:b.top,scaleX:1,scaleY:1};let{offsetHeight:l,offsetWidth:n}=p;return n>2&&l>2&&(this.chartPosition.scaleX=b.width/n,this.chartPosition.scaleY=b.height/l),this.chartPosition}getCoordinates(p){let b={xAxis:[],yAxis:[]};for(let l of this.chart.axes)b[l.isXAxis?"xAxis":"yAxis"].push({axis:l,value:l.toValue(p[l.horiz?"chartX":"chartY"])});return b}getHoverData(p,b,l,n,o,h){let u,d=[],c=function(x){return x.visible&&!(!o&&x.directTouch)&&v(x.options.enableMouseTracking,!0)},f=b,M={chartX:h?h.chartX:void 0,chartY:h?h.chartY:void 0,shared:o};I(this,"beforeGetHoverData",M),u=f&&!f.stickyTracking?[f]:l.filter(x=>x.stickyTracking&&(M.filter||c)(x));let U=n&&p||!h?p:this.findNearestKDPoint(u,o,h);return f=U&&U.series,U&&(o&&!f.noSharedTooltip?(u=l.filter(function(x){return M.filter?M.filter(x):c(x)&&!x.noSharedTooltip})).forEach(function(x){let O=N(x.points,function(z){return z.x===U.x&&!z.isNull});A(O)&&(x.boosted&&x.boost&&(O=x.boost.getPoint(O)),d.push(O))}):d.push(U)),I(this,"afterGetHoverData",M={hoverPoint:U}),{hoverPoint:M.hoverPoint,hoverSeries:f,hoverPoints:d}}getPointFromEvent(p){let l,b=p.target;for(;b&&!l;)l=b.point,b=b.parentNode;return l}onTrackerMouseOut(p){let l=p.relatedTarget,n=this.chart.hoverSeries;this.isDirectTouch=!1,!n||!l||n.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+n.index)&&this.inClass(l,"highcharts-tracker")||n.onMouseOut()}inClass(p,b){let n,l=p;for(;l;){if(n=ee(l,"class")){if(-1!==n.indexOf(b))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}l=l.parentElement}}constructor(p,b){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=b,this.chart=p,this.runChartClick=!!b.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),I(this,"afterInit")}normalize(p,b){let l=p.touches,n=l?l.length?l.item(0):v(l.changedTouches,p.changedTouches)[0]:p;b||(b=this.getChartPosition());let o=n.pageX-b.left,h=n.pageY-b.top;return W(p,{chartX:Math.round(o/=b.scaleX),chartY:Math.round(h/=b.scaleY)})}onContainerClick(p){let b=this.chart,l=b.hoverPoint,n=this.normalize(p),o=b.plotLeft,h=b.plotTop;!b.cancelClick&&(l&&this.inClass(n.target,"highcharts-tracker")?(I(l.series,"click",W(n,{point:l})),b.hoverPoint&&l.firePointEvent("click",n)):(W(n,this.getCoordinates(n)),b.isInsidePlot(n.chartX-o,n.chartY-h,{visiblePlotOnly:!0})&&I(b,"click",n)))}onContainerMouseDown(p){let b=1==(1&(p.buttons||p.button));p=this.normalize(p),ce.isFirefox&&0!==p.button&&this.onContainerMouseMove(p),(void 0===p.button||b)&&(this.zoomOption(p),b&&p.preventDefault?.(),this.dragStart(p))}onContainerMouseLeave(p){let{pointer:b}=de[v(B.hoverChartIndex,-1)]||{};p=this.normalize(p),this.onContainerMouseMove(p),b&&!this.inClass(p.relatedTarget,"highcharts-tooltip")&&(b.reset(),b.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(p){let b=this.chart,l=b.tooltip,n=this.normalize(p);this.setHoverChartIndex(p),("mousedown"===b.mouseIsDown||this.touchSelect(n))&&this.drag(n),!b.openMenu&&(this.inClass(n.target,"highcharts-tracker")||b.isInsidePlot(n.chartX-b.plotLeft,n.chartY-b.plotTop,{visiblePlotOnly:!0}))&&(!l||!l.shouldStickOnContact(n))&&(this.inClass(n.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(n))}onDocumentTouchEnd(p){this.onDocumentMouseUp(p)}onContainerTouchMove(p){this.touchSelect(p)?this.onContainerMouseMove(p):this.touch(p)}onContainerTouchStart(p){this.touchSelect(p)?this.onContainerMouseDown(p):(this.zoomOption(p),this.touch(p,!0))}onDocumentMouseMove(p){let b=this.chart,l=b.tooltip,n=this.chartPosition,o=this.normalize(p,n);!n||b.isInsidePlot(o.chartX-b.plotLeft,o.chartY-b.plotTop,{visiblePlotOnly:!0})||l&&l.shouldStickOnContact(o)||o.target!==b.container.ownerDocument&&this.inClass(o.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(p){de[v(B.hoverChartIndex,-1)]?.pointer?.drop(p)}pinch(p){let b=this,{chart:l,hasZoom:n,lastTouches:o}=b,h=[].map.call(p.touches||[],M=>b.normalize(M)),d=h.length,c=1===d&&(b.inClass(p.target,"highcharts-tracker")&&l.runTrackerClick||b.runChartClick),f=l.tooltip,u=1===d&&v(f?.options.followTouchMove,!0);d>1?b.initiated=!0:u&&(b.initiated=!1),n&&b.initiated&&!c&&!1!==p.cancelable&&p.preventDefault(),"touchstart"===p.type?(b.pinchDown=h,b.res=!0,l.mouseDownX=p.chartX):u?this.runPointActions(b.normalize(p)):o&&(I(l,"touchpan",{originalEvent:p,touches:h},()=>{let M=U=>{let x=U[0],O=U[1]||x;return{x:x.chartX,y:x.chartY,width:O.chartX-x.chartX,height:O.chartY-x.chartY}};l.transform({axes:l.axes.filter(U=>U.zoomEnabled&&(this.zoomHor&&U.horiz||this.zoomVert&&!U.horiz)),to:M(h),from:M(o),trigger:p.type})}),b.res&&(b.res=!1,this.reset(!1,0))),b.lastTouches=h}reset(p,b){let l=this.chart,n=l.hoverSeries,o=l.hoverPoint,h=l.hoverPoints,d=l.tooltip,c=d&&d.shared?h:o;p&&c&&H(c).forEach(function(f){f.series.isCartesian&&void 0===f.plotX&&(p=!1)}),p?d&&c&&H(c).length&&(d.refresh(c),d.shared&&h?h.forEach(function(f){f.setState(f.state,!0),f.series.isCartesian&&(f.series.xAxis.crosshair&&f.series.xAxis.drawCrosshair(null,f),f.series.yAxis.crosshair&&f.series.yAxis.drawCrosshair(null,f))}):o&&(o.setState(o.state,!0),l.axes.forEach(function(f){f.crosshair&&o.series[f.coll]===f&&f.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),h&&h.forEach(function(f){f.setState()}),n&&n.onMouseOut(),d&&d.hide(b),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l.axes.forEach(function(f){f.hideCrosshair()}),l.hoverPoints=l.hoverPoint=void 0)}runPointActions(p,b,l){let n=this.chart,h=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,d=!!h&&h.shared,c=b||n.hoverPoint,f=c&&c.series||n.hoverSeries,M=this.getHoverData(c,f,n.series,(!p||"touchmove"!==p.type)&&(!!b||f&&f.directTouch&&this.isDirectTouch),d,p);c=M.hoverPoint,f=M.hoverSeries;let U=M.hoverPoints,x=f&&f.tooltipOptions.followPointer&&!f.tooltipOptions.split,O=d&&f&&!f.noSharedTooltip;if(c&&(l||c!==n.hoverPoint||h&&h.isHidden)){if((n.hoverPoints||[]).forEach(function(z){-1===U.indexOf(z)&&z.setState()}),n.hoverSeries!==f&&f.onMouseOver(),this.applyInactiveState(U),(U||[]).forEach(function(z){z.setState("hover")}),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!c.series)return;n.hoverPoints=U,n.hoverPoint=c,c.firePointEvent("mouseOver",void 0,()=>{h&&c&&h.refresh(O?U:c,p)})}else if(x&&h&&!h.isHidden){let z=h.getAnchor([{}],p);n.isInsidePlot(z[0],z[1],{visiblePlotOnly:!0})&&h.updatePosition({plotX:z[0],plotY:z[1]})}this.unDocMouseMove||(this.unDocMouseMove=te(n.container.ownerDocument,"mousemove",z=>de[B.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(z)),this.eventsToUnbind.push(this.unDocMouseMove)),n.axes.forEach(function(z){let j,J=v((z.crosshair||{}).snap,!0);!J||(j=n.hoverPoint)&&j.series[z.coll]===z||(j=N(U,y=>y.series&&y.series[z.coll]===z)),j||!J?z.drawCrosshair(p,j):z.hideCrosshair()})}setDOMEvents(){let p=this.chart.container,b=p.ownerDocument;p.onmousedown=this.onContainerMouseDown.bind(this),p.onmousemove=this.onContainerMouseMove.bind(this),p.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(te(p,"mouseenter",this.onContainerMouseEnter.bind(this)),te(p,"mouseleave",this.onContainerMouseLeave.bind(this))),B.unbindDocumentMouseUp||(B.unbindDocumentMouseUp=[]),B.unbindDocumentMouseUp.push(te(b,"mouseup",this.onDocumentMouseUp.bind(this)));let l=this.chart.renderTo.parentElement;for(;l&&"BODY"!==l.tagName;)this.eventsToUnbind.push(te(l,"scroll",()=>{delete this.chartPosition})),l=l.parentElement;this.eventsToUnbind.push(te(p,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),te(p,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),B.unbindDocumentTouchEnd||(B.unbindDocumentTouchEnd=te(b,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),te(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Q)return;let p=this.pointerCaptureEventsToUnbind,b=this.chart,l=b.container,n=v(b.options.tooltip?.followTouchMove,!0)&&b.series.some(o=>o.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&n?(p.push(te(l,"pointerdown",o=>{o.target?.hasPointerCapture(o.pointerId)&&o.target?.releasePointerCapture(o.pointerId)}),te(l,"pointermove",o=>{b.pointer?.getPointFromEvent(o)?.onMouseOver(o)})),b.styledMode||L(l,{"touch-action":"none"}),l.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!n&&(p.forEach(o=>o()),p.length=0,b.styledMode||L(l,{"touch-action":v(b.options.chart.style?.["touch-action"],"manipulation")}),l.className=l.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(p){let b=this.chart,l=ce.charts[v(B.hoverChartIndex,-1)];if(l&&l!==b){let n={relatedTarget:b.container};p&&!p?.relatedTarget&&(p={...n,...p}),l.pointer?.onContainerMouseLeave(p||n)}l&&l.mouseIsDown||(B.hoverChartIndex=b.index)}touch(p,b){let l,{chart:n,pinchDown:o=[]}=this;this.setHoverChartIndex(),1===(p=this.normalize(p)).touches.length?n.isInsidePlot(p.chartX-n.plotLeft,p.chartY-n.plotTop,{visiblePlotOnly:!0})&&!n.openMenu?(b&&this.runPointActions(p),"touchmove"===p.type&&(l=!!o[0]&&Math.pow(o[0].chartX-p.chartX,2)+Math.pow(o[0].chartY-p.chartY,2)>=16),v(l,!0)&&this.pinch(p)):b&&this.reset():2===p.touches.length&&this.pinch(p)}touchSelect(p){return!(!this.chart.zooming.singleTouch||!p.touches||1!==p.touches.length)}zoomOption(p){let o,h,b=this.chart,l=b.inverted,n=b.zooming.type||"";/touch/.test(p.type)&&(n=v(b.zooming.pinchType,n)),this.zoomX=o=/x/.test(n),this.zoomY=h=/y/.test(n),this.zoomHor=o&&!l||h&&l,this.zoomVert=h&&!l||o&&l,this.hasZoom=o||h}}return(ve=B||(B={})).compose=function(S){T(he,"Core.Pointer")&&te(S,"beforeRender",function(){this.pointer=new ve(this,this.options)})},B}),Ne(Y,"Core/Legend/LegendSymbol.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{extend:xe,merge:ve,pick:me}=Z;return function(de){function he(Q,te,ee){let S,L=this.legendItem=this.legendItem||{},{chart:W,options:N}=this,{baseline:I=0,symbolWidth:C,symbolHeight:A}=Q,D=this.symbol||"circle",P=A/2,v=W.renderer,T=L.group,H=I-Math.round((Q.fontMetrics?.b||A)*(ee?.4:.3)),B={},p=N.marker,b=0;if(W.styledMode||(B["stroke-width"]=Math.min(N.lineWidth||0,24),N.dashStyle?B.dashstyle=N.dashStyle:"square"===N.linecap||(B["stroke-linecap"]="round")),L.line=v.path().addClass("highcharts-graph").attr(B).add(T),ee&&(L.area=v.path().addClass("highcharts-area").add(T)),B["stroke-linecap"]&&(b=Math.min(L.line.strokeWidth(),C)/2),C){let l=[["M",b,H],["L",C-b,H]];L.line.attr({d:l}),L.area?.attr({d:[...l,["L",C-b,I],["L",b,I]]})}if(p&&!1!==p.enabled&&C){let l=Math.min(me(p.radius,P),P);0===D.indexOf("url")&&(p=ve(p,{width:A,height:A}),l=0),L.symbol=S=v.symbol(D,C/2-l,H-l,2*l,2*l,xe({context:"legend"},p)).addClass("highcharts-point").add(T),S.isMarker=!0}}de.areaMarker=function(Q,te){he.call(this,Q,te,!0)},de.lineMarker=he,de.rectangle=function(Q,te){let ee=te.legendItem||{},W=Q.symbolHeight,N=Q.options.squareSymbol;ee.symbol=this.chart.renderer.rect(N?(Q.symbolWidth-W)/2:0,Q.baseline-W+1,N?W:Q.symbolWidth,W,me(Q.options.symbolRadius,W/2)).addClass("highcharts-point").attr({zIndex:3}).add(ee.group)}}(ce||(ce={})),ce}),Ne(Y,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:Z}=this.series.chart;return"number"!=typeof this.y?"":Z(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),Ne(Y,"Core/Series/SeriesRegistry.js",[Y["Core/Globals.js"],Y["Core/Defaults.js"],Y["Core/Series/Point.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{defaultOptions:de}=ce,{extend:he,extendClass:Q,merge:te}=ve;return function(ee){function L(W,N){let I=de.plotOptions||{},C=N.defaultOptions,A=N.prototype;return A.type=W,A.pointClass||(A.pointClass=xe),!ee.seriesTypes[W]&&(C&&(I[W]=C),ee.seriesTypes[W]=N,!0)}ee.seriesTypes=Z.seriesTypes,ee.registerSeriesType=L,ee.seriesType=function(W,N,I,C,A){let D=de.plotOptions||{};if(D[W]=te(D[N=N||""],I),delete ee.seriesTypes[W],L(W,Q(ee.seriesTypes[N]||function(){},C)),ee.seriesTypes[W].prototype.type=W,A){class P extends xe{}he(P.prototype,A),ee.seriesTypes[W].prototype.pointClass=P}return ee.seriesTypes[W]}}(me||(me={})),me}),Ne(Y,"Core/Series/Series.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Defaults.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Legend/LegendSymbol.js"],Y["Core/Series/Point.js"],Y["Core/Series/SeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee){let{animObject:L,setAnimation:W}=Z,{defaultOptions:N}=ce,{registerEventOptions:I}=xe,{svg:C,win:A}=ve,{seriesTypes:D}=Q,{arrayMax:P,arrayMin:v,clamp:T,correctFloat:H,crisp:B,defined:S,destroyObjectProperties:p,diffObjects:b,erase:l,error:n,extend:o,find:h,fireEvent:d,getClosestDistance:c,getNestedProperty:f,insertItem:u,isArray:M,isNumber:U,isString:x,merge:O,objectEach:z,pick:j,removeEvent:J,splat:y,syncTimeout:w}=ee;class E{constructor(){this.zoneAxis="y"}init(m,F){let R;d(this,"init",{options:F});let _=this,G=m.series;this.eventsToUnbind=[],_.chart=m,_.options=_.setOptions(F);let K=_.options,oe=!1!==K.visible;_.linkedSeries=[],_.bindAxes(),o(_,{name:K.name,state:"",visible:oe,selected:!0===K.selected}),I(this,K);let ae=K.events;(ae&&ae.click||K.point&&K.point.events&&K.point.events.click||K.allowPointSelect)&&(m.runTrackerClick=!0),_.getColor(),_.getSymbol(),_.parallelArrays.forEach(function(ue){_[ue+"Data"]||(_[ue+"Data"]=[])}),_.isCartesian&&(m.hasCartesianSeries=!0),G.length&&(R=G[G.length-1]),_._i=j(R&&R._i,-1)+1,_.opacity=_.options.opacity,m.orderItems("series",u(this,G)),K.dataSorting&&K.dataSorting.enabled?_.setDataSortingOptions():_.points||_.data||_.setData(K.data,!1),d(this,"afterInit")}is(m){return D[m]&&this instanceof D[m]}bindAxes(){let m,F=this,R=F.options,_=F.chart;d(this,"bindAxes",null,function(){(F.axisTypes||[]).forEach(function(G){(_[G]||[]).forEach(function(K){m=K.options,(j(R[G],0)===K.index||void 0!==R[G]&&R[G]===m.id)&&(u(F,K.series),F[G]=K,K.isDirty=!0)}),F[G]||F.optionalAxis===G||n(18,!0,_)})}),d(this,"afterBindAxes")}updateParallelArrays(m,F,R){let _=m.series,G=U(F)?function(K){let oe="y"===K&&_.toYData?_.toYData(m):m[K];_[K+"Data"][F]=oe}:function(K){Array.prototype[F].apply(_[K+"Data"],R)};_.parallelArrays.forEach(G)}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(m,F){let R=m.marker,_=F.marker||{};return R&&(_.enabled&&!R.enabled||_.symbol!==R.symbol||_.height!==R.height||_.width!==R.width)}autoIncrement(m){let oe,ae,F=this.options,R=F.pointIntervalUnit,_=F.relativeXValue,G=this.chart.time,K=this.xIncrement;return K=j(K,F.pointStart,0),this.pointInterval=ae=j(this.pointInterval,F.pointInterval,1),_&&U(m)&&(ae*=m),R&&(oe=new G.Date(K),"day"===R?G.set("Date",oe,G.get("Date",oe)+ae):"month"===R?G.set("Month",oe,G.get("Month",oe)+ae):"year"===R&&G.set("FullYear",oe,G.get("FullYear",oe)+ae),ae=oe.getTime()-K),_&&U(m)?K+ae:(this.xIncrement=K+ae,K)}setDataSortingOptions(){let m=this.options;o(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),S(m.pointRange)||(m.pointRange=1)}setOptions(m){let F,R=this.chart,_=R.options.plotOptions,G=R.userOptions||{},K=O(m),oe=R.styledMode,ae={plotOptions:_,userOptions:K};d(this,"setOptions",ae);let ue=ae.plotOptions[this.type],be=G.plotOptions||{},Se=be.series||{},ie=N.plotOptions[this.type]||{},q=be[this.type]||{};this.userOptions=ae.userOptions;let re=O(ue,_.series,q,K);this.tooltipOptions=O(N.tooltip,N.plotOptions.series?.tooltip,ie?.tooltip,R.userOptions.tooltip,be.series?.tooltip,q.tooltip,K.tooltip),this.stickyTracking=j(K.stickyTracking,q.stickyTracking,Se.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||re.stickyTracking),null===ue.marker&&delete re.marker,this.zoneAxis=re.zoneAxis||"y";let le=this.zones=(re.zones||[]).map(pe=>({...pe}));return(re.negativeColor||re.negativeFillColor)&&!re.zones&&(F={value:re[this.zoneAxis+"Threshold"]||re.threshold||0,className:"highcharts-negative"},oe||(F.color=re.negativeColor,F.fillColor=re.negativeFillColor),le.push(F)),le.length&&S(le[le.length-1].value)&&le.push(oe?{}:{color:this.color,fillColor:this.fillColor}),d(this,"afterSetOptions",{options:re}),re}getName(){return j(this.options.name,"Series "+(this.index+1))}getCyclic(m,F,R){let _,G,K=this.chart,oe=`${m}Index`,ae=`${m}Counter`,ue=R?.length||K.options.chart.colorCount;!F&&(S(G=j("color"===m?this.options.colorIndex:void 0,this[oe]))?_=G:(K.series.length||(K[ae]=0),_=K[ae]%ue,K[ae]+=1),R&&(F=R[_])),void 0!==_&&(this[oe]=_),this[m]=F}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||N.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(m,F){let R,_,G,K=m.id,oe=m.x,ae=this.points,ue=this.options.dataSorting;if(K){let be=this.chart.get(K);be instanceof de&&(R=be)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let be=Se=>!Se.touched&&Se.index===m.index;if(ue&&ue.matchByName?be=Se=>!Se.touched&&Se.name===m.name:this.options.relativeXValue&&(be=Se=>!Se.touched&&Se.options.x===m.x),!(R=h(ae,be)))return}return R&&void 0!==(G=R&&R.index)&&(_=!0),void 0===G&&U(oe)&&(G=this.xData.indexOf(oe,F)),-1!==G&&void 0!==G&&this.cropped&&(G=G>=this.cropStart?G-this.cropStart:G),!_&&U(G)&&ae[G]&&ae[G].touched&&(G=void 0),G}updateData(m,F){let ue,be,Se,ie,R=this.options,_=R.dataSorting,G=this.points,K=[],oe=this.requireSorting,ae=m.length===G.length,q=!0;if(this.xIncrement=null,m.forEach(function(re,le){let pe,ge=S(re)&&this.pointClass.prototype.optionsToObject.call({series:this},re)||{};ge.id||U(ge.x)?(-1===(pe=this.findPointIndex(ge,ie))||void 0===pe?K.push(re):G[pe]&&re!==R.data[pe]?(G[pe].update(re,!1,null,!1),G[pe].touched=!0,oe&&(ie=pe+1)):G[pe]&&(G[pe].touched=!0),(!ae||le!==pe||_&&_.enabled||this.hasDerivedData)&&(ue=!0)):K.push(re)},this),ue)for(be=G.length;be--;)(Se=G[be])&&!Se.touched&&Se.remove&&Se.remove(!1,F);else!ae||_&&_.enabled?q=!1:(m.forEach(function(re,le){re===G[le].y||G[le].destroyed||G[le].update(re,!1,null,!1)}),K.length=0);return G.forEach(function(re){re&&(re.touched=!1)}),!!q&&(K.forEach(function(re){this.addPoint(re,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=P(this.xData),this.autoIncrement()),!0)}setData(m,F=!0,R,_){let we,ye,Me,Fe,G=this,K=G.points,oe=K&&K.length||0,ae=G.options,ue=G.chart,be=ae.dataSorting,Se=G.xAxis,ie=ae.turboThreshold,q=this.xData,re=this.yData,le=G.pointArrayMap,pe=le&&le.length,ge=ae.keys,Pe=0,Re=1;ue.options.chart.allowMutatingData||(ae.data&&delete G.options.data,G.userOptions.data&&delete G.userOptions.data,Fe=O(!0,m));let De=(m=Fe||m||[]).length;if(be&&be.enabled&&(m=this.sortData(m)),ue.options.chart.allowMutatingData&&!1!==_&&De&&oe&&!G.cropped&&!G.hasGroupedData&&G.visible&&!G.boosted&&(Me=this.updateData(m,R)),!Me){G.xIncrement=null,G.colorCounter=0,this.parallelArrays.forEach(function(ze){G[ze+"Data"].length=0});let He=ie&&De>ie;if(He){let ze=G.getFirstValidPoint(m),Oe=G.getFirstValidPoint(m,De-1,-1),it=ot=>!(!M(ot)||!ge&&!U(ot[0]));if(U(ze)&&U(Oe))for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we];else if(it(ze)&&it(Oe))if(pe)if(ze.length===pe)for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we];else for(we=0;we<De;we++)ye=m[we],q[we]=ye[0],re[we]=ye.slice(1,pe+1);else if(ge&&(Pe=ge.indexOf("x"),Re=ge.indexOf("y"),Pe=Pe>=0?Pe:0,Re=Re>=0?Re:1),1===ze.length&&(Re=0),Pe===Re)for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we][Re];else for(we=0;we<De;we++)ye=m[we],q[we]=ye[Pe],re[we]=ye[Re];else He=!1}if(!He)for(we=0;we<De;we++)ye={series:G},G.pointClass.prototype.applyOptions.apply(ye,[m[we]]),G.updateParallelArrays(ye,we);for(re&&x(re[0])&&n(14,!0,ue),G.data=[],G.options.data=G.userOptions.data=m,we=oe;we--;)K[we]?.destroy();Se&&(Se.minRange=Se.userMinRange),G.isDirty=ue.isDirtyBox=!0,G.isDirtyData=!!K,R=!1}"point"===ae.legendType&&(this.processData(),this.generatePoints()),F&&ue.redraw(R)}sortData(m){let F=this,R=F.options.dataSorting.sortKey||"y",_=function(G,K){return S(K)&&G.pointClass.prototype.optionsToObject.call({series:G},K)||{}};return m.forEach(function(G,K){m[K]=_(F,G),m[K].index=K},this),m.concat().sort((G,K)=>{let oe=f(R,G),ae=f(R,K);return ae<oe?-1:ae>oe?1:0}).forEach(function(G,K){G.x=K},this),F.linkedSeries&&F.linkedSeries.forEach(function(G){let K=G.options,oe=K.data;K.dataSorting&&K.dataSorting.enabled||!oe||(oe.forEach(function(ae,ue){oe[ue]=_(G,ae),m[ue]&&(oe[ue].x=m[ue].x,oe[ue].index=ue)}),G.setData(oe,!1))}),m}getProcessedData(m){let oe,ae,be,Se,ie,F=this,R=F.xAxis,_=F.options.cropThreshold,G=R?.logarithmic,K=F.isCartesian,ue=0,q=F.xData,re=F.yData,le=!1,pe=q.length;R&&(Se=(be=R.getExtremes()).min,ie=be.max,le=!(!R.categories||R.names.length)),K&&F.sorted&&!m&&(!_||pe>_||F.forceCrop)&&(q[pe-1]<Se||q[0]>ie?(q=[],re=[]):F.yData&&(q[0]<Se||q[pe-1]>ie)&&(q=(oe=this.cropData(F.xData,F.yData,Se,ie)).xData,re=oe.yData,ue=oe.start,ae=!0));let ge=c([G?q.map(G.log2lin):q],()=>F.requireSorting&&!le&&n(15,!1,F.chart));return{xData:q,yData:re,cropped:ae,cropStart:ue,closestPointRange:ge}}processData(m){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!m)return!1;let R=this.getProcessedData();this.cropped=R.cropped,this.cropStart=R.cropStart,this.processedXData=R.xData,this.processedYData=R.yData,this.closestPointRange=this.basePointRange=R.closestPointRange,d(this,"afterProcessData")}cropData(m,F,R,_){let K,oe,G=m.length,ae=0,ue=G;for(K=0;K<G;K++)if(m[K]>=R){ae=Math.max(0,K-1);break}for(oe=K;oe<G;oe++)if(m[oe]>_){ue=oe+1;break}return{xData:m.slice(ae,ue),yData:F.slice(ae,ue),start:ae,end:ue}}generatePoints(){let ie,q,re,le,m=this.options,F=this.processedData||m.data,R=this.processedXData,_=this.processedYData,G=this.pointClass,K=R.length,oe=this.cropStart||0,ae=this.hasGroupedData,ue=m.keys,be=[],Se=m.dataGrouping&&m.dataGrouping.groupAll?oe:0,pe=this.data;if(!pe&&!ae){let ge=[];ge.length=F.length,pe=this.data=ge}for(ue&&ae&&(this.options.keys=!1),le=0;le<K;le++)q=oe+le,ae?((re=new G(this,[R[le]].concat(y(_[le])))).dataGroup=this.groupMap[Se+le],re.dataGroup.options&&(re.options=re.dataGroup.options,o(re,re.dataGroup.options),delete re.dataLabels)):(re=pe[q])||void 0===F[q]||(pe[q]=re=new G(this,F[q],R[le])),re&&(re.index=ae?Se+le:q,be[le]=re);if(this.options.keys=ue,pe&&(K!==(ie=pe.length)||ae))for(le=0;le<ie;le++)le!==oe||ae||(le+=K),pe[le]&&(pe[le].destroyElements(),pe[le].plotX=void 0);this.data=pe,this.points=be,d(this,"afterGeneratePoints")}getXExtremes(m){return{min:v(m),max:P(m)}}getExtremes(m,F){let Se,ie,q,re,le,pe,ge,R=this.xAxis,_=this.yAxis,G=[],K=this.requireSorting&&!this.is("column")?1:0,oe=!!_&&_.positiveValuesOnly,ae=F||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:ue,processedYData:be}=this,we=0,ye=0,Me=0;if(this.cropped&&ae){let De=this.getProcessedData(!0);ue=De.xData,be=De.yData}let Pe=(m=m||this.stackedYData||be||[]).length,Re=ue||this.xData;for(R&&(we=(Se=R.getExtremes()).min,ye=Se.max),pe=0;pe<Pe;pe++)if(re=Re[pe],ie=(U(le=m[pe])||M(le))&&((U(le)?le>0:le.length)||!oe),q=F||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!R||(Re[pe+K]||re)>=we&&(Re[pe-K]||re)<=ye,ie&&q)if(ge=le.length)for(;ge--;)U(le[ge])&&(G[Me++]=le[ge]);else G[Me++]=le;let Fe={activeYData:G,dataMin:v(G),dataMax:P(G)};return d(this,"afterGetExtremes",{dataExtremes:Fe}),Fe}applyExtremes(){let m=this.getExtremes();return this.dataMin=m.dataMin,this.dataMax=m.dataMax,m}getFirstValidPoint(m,F=0,R=1){let _=m.length,G=F;for(;G>=0&&G<_;){if(S(m[G]))return m[G];G+=R}}translate(){this.processedXData||this.processData(),this.generatePoints();let q,re,le,pe,m=this.options,F=m.stacking,R=this.xAxis,_=R.categories,G=this.enabledDataSorting,K=this.yAxis,oe=this.points,ae=oe.length,ue=this.pointPlacementToXValue(),be=!!ue,Se=m.threshold,ie=m.startFromThreshold?Se:0,ge=Number.MAX_VALUE;function we(ye){return T(ye,-1e9,1e9)}for(q=0;q<ae;q++){let ye,Re,Fe,Me=oe[q],Pe=Me.x,De=Me.y,He=Me.low,ze=F&&K.stacking?.stacks[(this.negStacks&&De<(ie?0:Se)?"-":"")+this.stackKey];re=R.translate(Pe,!1,!1,!1,!0,ue),Me.plotX=U(re)?H(we(re)):void 0,F&&this.visible&&ze&&ze[Pe]&&(pe=this.getStackIndicator(pe,Pe,this.index),!Me.isNull&&pe.key&&(Fe=(Re=ze[Pe]).points[pe.key]),Re&&M(Fe)&&(He=Fe[0],De=Fe[1],He===ie&&pe.key===ze[Pe].base&&(He=j(U(Se)?Se:K.min)),K.positiveValuesOnly&&S(He)&&He<=0&&(He=void 0),Me.total=Me.stackTotal=j(Re.total),Me.percentage=S(Me.y)&&Re.total?Me.y/Re.total*100:void 0,Me.stackY=De,this.irregularWidths||Re.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Me.yBottom=S(He)?we(K.translate(He,!1,!0,!1,!0)):void 0,this.dataModify&&(De=this.dataModify.modifyValue(De,q)),U(De)&&void 0!==Me.plotX&&(ye=U(ye=K.translate(De,!1,!0,!1,!0))?we(ye):void 0),Me.plotY=ye,Me.isInside=this.isPointInside(Me),Me.clientX=be?H(R.translate(Pe,!1,!1,!1,!0,ue)):re,Me.negative=(Me.y||0)<(Se||0),Me.category=j(_&&_[Me.x],Me.x),Me.isNull||!1===Me.visible||(void 0!==le&&(ge=Math.min(ge,Math.abs(re-le))),le=re),Me.zone=this.zones.length?Me.getZone():void 0,!Me.graphic&&this.group&&G&&(Me.isNew=!0)}this.closestPointRangePx=ge,d(this,"afterTranslate")}getValidPoints(m,F,R){let _=this.chart;return(m||this.points||[]).filter(function(G){let{plotX:K,plotY:oe}=G;return!(!(R||!G.isNull&&U(oe))||F&&!_.isInsidePlot(K,oe,{inverted:_.inverted}))&&!1!==G.visible})}getClipBox(){let{chart:m,xAxis:F,yAxis:R}=this,{x:_,y:G,width:K,height:oe}=O(m.clipBox);return F&&F.len!==m.plotSizeX&&(K=F.len),R&&R.len!==m.plotSizeY&&(oe=R.len),m.inverted&&!this.invertible&&([K,oe]=[oe,K]),{x:_,y:G,width:K,height:oe}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:m,group:F,markerGroup:R}=this,_=m.sharedClips,G=m.renderer,K=this.getClipBox(),oe=this.getSharedClipKey(),ae=_[oe];ae?ae.animate(K):_[oe]=ae=G.clipRect(K),F&&F.clip(!1===this.options.clip?void 0:ae),R&&R.clip()}animate(m){let{chart:F,group:R,markerGroup:_}=this,G=F.inverted,K=L(this.options.animation),oe=[this.getSharedClipKey(),K.duration,K.easing,K.defer].join(","),ae=F.sharedClips[oe],ue=F.sharedClips[oe+"m"];if(m&&R){let be=this.getClipBox();ae?ae.attr("height",be.height):(be.width=0,G&&(be.x=F.plotHeight),ae=F.renderer.clipRect(be),F.sharedClips[oe]=ae,ue=F.renderer.clipRect({x:-99,y:-99,width:G?F.plotWidth+199:99,height:G?99:F.plotHeight+199}),F.sharedClips[oe+"m"]=ue),R.clip(ae),_?.clip(ue)}else if(ae&&!ae.hasClass("highcharts-animating")){let be=this.getClipBox(),Se=K.step;(_?.element.childNodes.length||F.series.length>1)&&(K.step=function(ie,q){Se&&Se.apply(q,arguments),"width"===q.prop&&ue?.element&&ue.attr(G?"height":"width",ie+99)}),ae.addClass("highcharts-animating").animate(be,K)}}afterAnimate(){this.setClip(),z(this.chart.sharedClips,(m,F,R)=>{m&&!this.chart.container.querySelector(`[clip-path="url(#${m.id})"]`)&&(m.destroy(),delete R[F])}),this.finishedAnimating=!0,d(this,"afterAnimate")}drawPoints(m=this.points){let F,R,_,G,K,oe,ae,ue=this.chart,be=ue.styledMode,{colorAxis:Se,options:ie}=this,q=ie.marker,re=this[this.specialGroup||"markerGroup"],le=this.xAxis,pe=j(q.enabled,!le||!!le.isRadial||null,this.closestPointRangePx>=q.enabledThreshold*q.radius);if(!1!==q.enabled||this._hasPointMarkers)for(F=0;F<m.length;F++)if(G=(_=(R=m[F]).graphic)?"animate":"attr",K=R.marker||{},oe=!!R.marker,(pe&&void 0===K.enabled||K.enabled)&&!R.isNull&&!1!==R.visible){let ge=j(K.symbol,this.symbol,"rect");ae=this.markerAttribs(R,R.selected&&"select"),this.enabledDataSorting&&(R.startXPos=le.reversed?-(ae.width||0):le.width);let we=!1!==R.isInside;if(!_&&we&&((ae.width||0)>0||R.hasImage)&&(R.graphic=_=ue.renderer.symbol(ge,ae.x,ae.y,ae.width,ae.height,oe?K:q).add(re),this.enabledDataSorting&&ue.hasRendered&&(_.attr({x:R.startXPos}),G="animate")),_&&"animate"===G&&_[we?"show":"hide"](we).animate(ae),_){let ye=this.pointAttribs(R,be||!R.selected?void 0:"select");be?Se&&_.css({fill:ye.fill}):_[G](ye)}_&&_.addClass(R.getClassName(),!0)}else _&&(R.graphic=_.destroy())}markerAttribs(m,F){let ae,ue,R=this.options,_=R.marker,G=m.marker||{},K=G.symbol||_.symbol,oe={},be=j(G.radius,_&&_.radius);F&&(ae=_.states[F],be=j((ue=G.states&&G.states[F])&&ue.radius,ae&&ae.radius,be&&be+(ae&&ae.radiusPlus||0))),m.hasImage=K&&0===K.indexOf("url"),m.hasImage&&(be=0);let Se=m.pos();return U(be)&&Se&&(R.crisp&&(Se[0]=B(Se[0],m.hasImage?0:"rect"===K?_?.lineWidth||0:1)),oe.x=Se[0]-be,oe.y=Se[1]-be),be&&(oe.width=oe.height=2*be),oe}pointAttribs(m,F){let ue,be,ie,q,R=this.options.marker,_=m&&m.options,G=_&&_.marker||{},K=_&&_.color,oe=m&&m.color,ae=m&&m.zone&&m.zone.color,Se=this.color,re=j(G.lineWidth,R.lineWidth),le=1;return Se=K||ae||oe||Se,ie=G.fillColor||R.fillColor||Se,q=G.lineColor||R.lineColor||Se,ue=R.states[F=F||"normal"]||{},re=j((be=G.states&&G.states[F]||{}).lineWidth,ue.lineWidth,re+j(be.lineWidthPlus,ue.lineWidthPlus,0)),ie=be.fillColor||ue.fillColor||ie,{stroke:q=be.lineColor||ue.lineColor||q,"stroke-width":re,fill:ie,opacity:le=j(be.opacity,ue.opacity,le)}}destroy(m){let F,R,_,G=this,K=G.chart,oe=/AppleWebKit\/533/.test(A.navigator.userAgent),ae=G.data||[];for(d(G,"destroy",{keepEventsForUpdate:m}),this.removeEvents(m),(G.axisTypes||[]).forEach(function(ue){(_=G[ue])&&_.series&&(l(_.series,G),_.isDirty=_.forceRedraw=!0)}),G.legendItem&&G.chart.legend.destroyItem(G),F=ae.length;F--;)(R=ae[F])&&R.destroy&&R.destroy();for(let ue of G.zones)p(ue,void 0,!0);ee.clearTimeout(G.animationTimeout),z(G,function(ue,be){ue instanceof te&&!ue.survive&&ue[oe&&"group"===be?"hide":"destroy"]()}),K.hoverSeries===G&&(K.hoverSeries=void 0),l(K.series,G),K.orderItems("series"),z(G,function(ue,be){m&&"hcEvents"===be||delete G[be]})}applyZones(){let{area:m,chart:F,graph:R,zones:_,points:G,xAxis:K,yAxis:oe,zoneAxis:ae}=this,{inverted:ue,renderer:be}=F,Se=this[`${ae}Axis`],{isXAxis:ie,len:q=0}=Se||{},re=(R?.strokeWidth()||0)/2+1,le=(pe,ge=0,we=0)=>{ue&&(we=q-we);let{translated:ye=0,lineClip:Me}=pe,Pe=we-ye;Me?.push(["L",ge,Math.abs(Pe)<re?we-re*(Pe<=0?-1:1):ye])};if(_.length&&(R||m)&&Se&&U(Se.min)){let pe=Se.getExtremes().max,ge=Me=>{Me.forEach((Pe,Re)=>{("M"===Pe[0]||"L"===Pe[0])&&(Me[Re]=[Pe[0],ie?q-Pe[1]:Pe[1],ie?Pe[2]:q-Pe[2]])})};if(_.forEach(Me=>{Me.lineClip=[],Me.translated=T(Se.toPixels(j(Me.value,pe),!0)||0,0,q)}),R&&!this.showLine&&R.hide(),m&&m.hide(),"y"===ae&&G.length<K.len)for(let Me of G){let{plotX:Pe,plotY:Re,zone:Fe}=Me,De=Fe&&_[_.indexOf(Fe)-1];Fe&&le(Fe,Pe,Re),De&&le(De,Pe,Re)}let we=[],ye=Se.toPixels(Se.getExtremes().min,!0);_.forEach(Me=>{let Pe=Me.lineClip||[],Re=Math.round(Me.translated||0);K.reversed&&Pe.reverse();let{clip:Fe,simpleClip:De}=Me,He=0,ze=0,Oe=K.len,it=oe.len;ie?(He=Re,Oe=ye):(ze=Re,it=ye);let ot=[["M",He,ze],["L",Oe,ze],["L",Oe,it],["L",He,it],["Z"]],rt=[ot[0],...Pe,ot[1],ot[2],...we,ot[3],ot[4]];we=Pe.reverse(),ye=Re,ue&&(ge(rt),m&&ge(ot)),Fe?(Fe.animate({d:rt}),De?.animate({d:ot})):(Fe=Me.clip=be.path(rt),m&&(De=Me.simpleClip=be.path(ot))),R&&Me.graph?.clip(Fe),m&&Me.area?.clip(De)})}else this.visible&&(R&&R.show(),m&&m.show())}plotGroup(m,F,R,_,G){let K=this[m],oe=!K,ae={visibility:R,zIndex:_||.1};return S(this.opacity)&&!this.chart.styledMode&&"inactive"!==this.state&&(ae.opacity=this.opacity),K||(this[m]=K=this.chart.renderer.g().add(G)),K.addClass("highcharts-"+F+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(S(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(K.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),K.attr(ae)[oe?"attr":"animate"](this.getPlotBox(F)),K}getPlotBox(m){let F=this.xAxis,R=this.yAxis,_=this.chart,G=_.inverted&&!_.polar&&F&&this.invertible&&"series"===m;return _.inverted&&(F=R,R=this.xAxis),{translateX:F?F.left:_.plotLeft,translateY:R?R.top:_.plotTop,rotation:G?90:0,rotationOriginX:G?(F.len-R.len)/2:0,rotationOriginY:G?(F.len+R.len)/2:0,scaleX:G?-1:1,scaleY:1}}removeEvents(m){let{eventsToUnbind:F}=this;m||J(this),F.length&&(F.forEach(R=>{R()}),F.length=0)}render(){let m=this,{chart:F,options:R,hasRendered:_}=m,G=L(R.animation),K=m.visible?"inherit":"hidden",oe=R.zIndex,ae=F.seriesGroup,ue=m.finishedAnimating?0:G.duration;d(this,"render"),m.plotGroup("group","series",K,oe,ae),m.markerGroup=m.plotGroup("markerGroup","markers",K,oe,ae),!1!==R.clip&&m.setClip(),ue&&m.animate?.(!0),m.drawGraph&&(m.drawGraph(),m.applyZones()),m.visible&&m.drawPoints(),m.drawDataLabels?.(),m.redrawPoints?.(),R.enableMouseTracking&&m.drawTracker?.(),ue&&m.animate?.(),_||(ue&&G.defer&&(ue+=G.defer),m.animationTimeout=w(()=>{m.afterAnimate()},ue||0)),m.isDirty=!1,m.hasRendered=!0,d(m,"afterRender")}redraw(){let m=this.isDirty||this.isDirtyData;this.translate(),this.render(),m&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(m,F){let{xAxis:R,yAxis:_}=this,G=this.chart.inverted;return this.searchKDTree({clientX:G?R.len-m.chartY+R.pos:m.chartX-R.pos,plotY:G?_.len-m.chartX+_.pos:m.chartY-_.pos},F,m)}buildKDTree(m){this.buildingKdTree=!0;let F=this,R=F.options.findNearestPointBy.indexOf("y")>-1?2:1;delete F.kdTree,w(function(){F.kdTree=function _(G,K,oe){let ae,ue,be=G?.length;if(be)return ae=F.kdAxisArray[K%oe],G.sort((Se,ie)=>(Se[ae]||0)-(ie[ae]||0)),{point:G[ue=Math.floor(be/2)],left:_(G.slice(0,ue),K+1,oe),right:_(G.slice(ue+1),K+1,oe)}}(F.getValidPoints(void 0,!F.directTouch),R,R),F.buildingKdTree=!1},F.options.kdNow||"touchstart"===m?.type?0:1)}searchKDTree(m,F,R){let _=this,[G,K]=this.kdAxisArray,oe=F?"distX":"dist",ae=(_.options.findNearestPointBy||"").indexOf("y")>-1?2:1,ue=!!_.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(R),this.kdTree)return function be(Se,ie,q,re){let ge,we,le=ie.point,pe=_.kdAxisArray[q%re],ye=le;!function(Fe,De){let He=Fe[G],ze=De[G],Oe=S(He)&&S(ze)?He-ze:null,it=Fe[K],ot=De[K],rt=S(it)&&S(ot)?it-ot:0,bt=ue&&De.marker?.radius||0;De.dist=Math.sqrt((Oe&&Oe*Oe||0)+rt*rt)-bt,De.distX=S(Oe)?Math.abs(Oe)-bt:Number.MAX_VALUE}(Se,le);let Me=(Se[pe]||0)-(le[pe]||0)+(ue&&le.marker?.radius||0),Pe=Me<0?"left":"right",Re=Me<0?"right":"left";return ie[Pe]&&(ye=(ge=be(Se,ie[Pe],q+1,re))[oe]<ye[oe]?ge:le),ie[Re]&&Math.sqrt(Me*Me)<ye[oe]&&(ye=(we=be(Se,ie[Re],q+1,re))[oe]<ye[oe]?we:ye),ye}(m,this.kdTree,ae,ae)}pointPlacementToXValue(){let{options:m,xAxis:F}=this,R=m.pointPlacement;return"between"===R&&(R=F.reversed?-.5:.5),U(R)?R*(m.pointRange||F.pointRange):0}isPointInside(m){let{chart:F,xAxis:R,yAxis:_}=this,{plotX:G=-1,plotY:K=-1}=m;return K>=0&&K<=(_?_.len:F.plotHeight)&&G>=0&&G<=(R?R.len:F.plotWidth)}drawTracker(){let m=this,F=m.options,R=F.trackByArea,_=[].concat((R?m.areaPath:m.graphPath)||[]),G=m.chart,K=G.pointer,oe=G.renderer,ae=G.options.tooltip?.snap||0,ue=()=>{F.enableMouseTracking&&G.hoverSeries!==m&&m.onMouseOver()},be="rgba(192,192,192,"+(C?1e-4:.002)+")",Se=m.tracker;Se?Se.attr({d:_}):m.graph&&(m.tracker=Se=oe.path(_).attr({visibility:m.visible?"inherit":"hidden",zIndex:2}).addClass(R?"highcharts-tracker-area":"highcharts-tracker-line").add(m.group),G.styledMode||Se.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:be,fill:R?be:"none","stroke-width":m.graph.strokeWidth()+(R?0:2*ae)}),[m.tracker,m.markerGroup,m.dataLabelsGroup].forEach(ie=>{ie&&(ie.addClass("highcharts-tracker").on("mouseover",ue).on("mouseout",q=>{K?.onTrackerMouseOut(q)}),F.cursor&&!G.styledMode&&ie.css({cursor:F.cursor}),ie.on("touchstart",ue))})),d(this,"afterDrawTracker")}addPoint(m,F,R,_,G){let K,oe,ae=this.options,ue=this.data,be=this.chart,Se=this.xAxis,ie=Se&&Se.hasNames&&Se.names,q=ae.data,re=this.xData;F=j(F,!0);let le={series:this};this.pointClass.prototype.applyOptions.apply(le,[m]);let pe=le.x;if(oe=re.length,this.requireSorting&&pe<re[oe-1])for(K=!0;oe&&re[oe-1]>pe;)oe--;this.updateParallelArrays(le,"splice",[oe,0,0]),this.updateParallelArrays(le,oe),ie&&le.name&&(ie[pe]=le.name),q.splice(oe,0,m),(K||this.processedData)&&(this.data.splice(oe,0,null),this.processData()),"point"===ae.legendType&&this.generatePoints(),R&&(ue[0]&&ue[0].remove?ue[0].remove(!1):(ue.shift(),this.updateParallelArrays(le,"shift"),q.shift())),!1!==G&&d(this,"addPoint",{point:le}),this.isDirty=!0,this.isDirtyData=!0,F&&be.redraw(_)}removePoint(m,F,R){let _=this,G=_.data,K=G[m],oe=_.points,ae=_.chart,ue=function(){oe&&oe.length===G.length&&oe.splice(m,1),G.splice(m,1),_.options.data.splice(m,1),_.updateParallelArrays(K||{series:_},"splice",[m,1]),K&&K.destroy(),_.isDirty=!0,_.isDirtyData=!0,F&&ae.redraw()};W(R,ae),F=j(F,!0),K?K.firePointEvent("remove",null,ue):ue()}remove(m,F,R,_){let G=this,K=G.chart;function oe(){G.destroy(_),K.isDirtyLegend=K.isDirtyBox=!0,K.linkSeries(_),j(m,!0)&&K.redraw(F)}!1!==R?d(G,"remove",null,oe):oe()}update(m,F){d(this,"update",{options:m=b(m,this.userOptions)});let Se,ie,R=this,_=R.chart,G=R.userOptions,K=R.initialType||R.type,oe=_.options.plotOptions,ae=D[K].prototype,ue=R.finishedAnimating&&{animation:!1},be={},q=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],re=m.type||G.type||_.options.chart.type,le=!(this.hasDerivedData||re&&re!==this.type||void 0!==m.pointStart||void 0!==m.pointInterval||void 0!==m.relativeXValue||m.joinBy||m.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(ge=>R.hasOptionChanged(ge)));re=re||K,le&&(q.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),!1!==m.visible&&q.push("area","graph"),R.parallelArrays.forEach(function(ge){q.push(ge+"Data")}),m.data&&(m.dataSorting&&o(R.options.dataSorting,m.dataSorting),this.setData(m.data,!1))),m=O(G,{index:void 0===G.index?R.index:G.index,pointStart:oe?.series?.pointStart??G.pointStart??R.xData?.[0]},!le&&{data:R.options.data},m,ue),le&&m.data&&(m.data=R.options.data),(q=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(q)).forEach(function(ge){q[ge]=R[ge],delete R[ge]});let pe=!1;if(D[re]){if(pe=re!==R.type,R.remove(!1,!1,!1,!0),pe)if(_.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(R,D[re].prototype);else{let ge=Object.hasOwnProperty.call(R,"hcEvents")&&R.hcEvents;for(ie in ae)R[ie]=void 0;o(R,D[re].prototype),ge?R.hcEvents=ge:delete R.hcEvents}}else n(17,!0,_,{missingModuleFor:re});if(q.forEach(function(ge){R[ge]=q[ge]}),R.init(_,m),le&&this.points)for(let ge of(!1===(Se=R.options).visible?(be.graphic=1,be.dataLabel=1):(this.hasMarkerChanged(Se,G)&&(be.graphic=1),R.hasDataLabels?.()||(be.dataLabel=1)),this.points))ge&&ge.series&&(ge.resolveColor(),Object.keys(be).length&&ge.destroyElements(be),!1===Se.showInLegend&&ge.legendItem&&_.legend.destroyItem(ge));R.initialType=K,_.linkSeries(),_.setSortedData(),pe&&R.linkedSeries.length&&(R.isDirtyData=!0),d(this,"afterUpdate"),j(F,!0)&&_.redraw(!!le&&void 0)}setName(m){this.name=this.options.name=this.userOptions.name=m,this.chart.isDirtyLegend=!0}hasOptionChanged(m){let R=this.options[m],_=this.chart.options.plotOptions,G=this.userOptions[m],K=j(_?.[this.type]?.[m],_?.series?.[m]);return G&&!S(K)?R!==G:R!==j(K,R)}onMouseOver(){let m=this.chart,F=m.hoverSeries;m.pointer?.setHoverChartIndex(),F&&F!==this&&F.onMouseOut(),this.options.events.mouseOver&&d(this,"mouseOver"),this.setState("hover"),m.hoverSeries=this}onMouseOut(){let m=this.options,F=this.chart,R=F.tooltip,_=F.hoverPoint;F.hoverSeries=null,_&&_.onMouseOut(),this&&m.events.mouseOut&&d(this,"mouseOut"),R&&!this.stickyTracking&&(!R.shared||this.noSharedTooltip)&&R.hide(),F.series.forEach(function(G){G.setState("",!0)})}setState(m,F){let R=this,_=R.options,G=R.graph,K=_.inactiveOtherPoints,oe=_.states,ae=j(oe[m||"normal"]&&oe[m||"normal"].animation,R.chart.options.chart.animation),ue=_.lineWidth,be=_.opacity;if(R.state!==(m=m||"")&&([R.group,R.markerGroup,R.dataLabelsGroup].forEach(function(Se){Se&&(R.state&&Se.removeClass("highcharts-series-"+R.state),m&&Se.addClass("highcharts-series-"+m))}),R.state=m,!R.chart.styledMode)){if(oe[m]&&!1===oe[m].enabled)return;if(m&&(ue=oe[m].lineWidth||ue+(oe[m].lineWidthPlus||0),be=j(oe[m].opacity,be)),G&&!G.dashstyle&&U(ue))for(let Se of[G,...this.zones.map(ie=>ie.graph)])Se?.animate({"stroke-width":ue},ae);K||[R.group,R.markerGroup,R.dataLabelsGroup,R.labelBySeries].forEach(function(Se){Se&&Se.animate({opacity:be},ae)})}F&&K&&R.points&&R.setAllPointsToState(m||void 0)}setAllPointsToState(m){this.points.forEach(function(F){F.setState&&F.setState(m)})}setVisible(m,F){let R=this,_=R.chart,G=_.options.chart.ignoreHiddenSeries;R.visible=m=R.options.visible=R.userOptions.visible=void 0===m?!R.visible:m;let oe=m?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(ae=>{R[ae]?.[oe]()}),(_.hoverSeries===R||_.hoverPoint?.series===R)&&R.onMouseOut(),R.legendItem&&_.legend.colorizeItem(R,m),R.isDirty=!0,R.options.stacking&&_.series.forEach(ae=>{ae.options.stacking&&ae.visible&&(ae.isDirty=!0)}),R.linkedSeries.forEach(ae=>{ae.setVisible(m,!1)}),G&&(_.isDirtyBox=!0),d(R,oe),!1!==F&&_.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(m){this.selected=m=this.options.selected=void 0===m?!this.selected:m,this.checkbox&&(this.checkbox.checked=m),d(this,m?"select":"unselect")}shouldShowTooltip(m,F,R={}){return R.series=this,R.visiblePlotOnly=!0,this.chart.isInsidePlot(m,F,R)}drawLegendSymbol(m,F){me[this.options.legendSymbol||"rectangle"]?.call(this,m,F)}}return E.defaultOptions=he,E.types=Q.seriesTypes,E.registerType=Q.registerSeriesType,o(E.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:de,requireSorting:!0,sorted:!0}),Q.series=E,E}),Ne(Y,"Core/Legend/Legend.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Series/Point.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){var te;let{animObject:ee,setAnimation:L}=Z,{registerEventOptions:W}=ce,{composed:N,marginNames:I}=xe,{distribute:C}=de,{format:A}=he,{addEvent:D,createElement:P,css:v,defined:T,discardElement:H,find:B,fireEvent:S,isNumber:p,merge:b,pick:l,pushUnique:n,relativeLength:o,stableSort:h,syncTimeout:d}=Q;class c{constructor(u,M){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=u,this.setOptions(M),M.enabled&&(this.render(),W(this,M),D(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),D(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(u){let M=l(u.padding,8);this.options=u,this.chart.styledMode||(this.itemStyle=u.itemStyle,this.itemHiddenStyle=b(this.itemStyle,u.itemHiddenStyle)),this.itemMarginTop=u.itemMarginTop,this.itemMarginBottom=u.itemMarginBottom,this.padding=M,this.initialItemY=M-5,this.symbolWidth=l(u.symbolWidth,16),this.pages=[],this.proximate="proximate"===u.layout&&!this.chart.inverted,this.baseline=void 0}update(u,M){let U=this.chart;this.setOptions(b(!0,this.options,u)),"events"in this.options&&W(this,this.options),this.destroy(),U.isDirtyLegend=U.isDirtyBox=!0,l(M,!0)&&U.redraw(),S(this,"afterUpdate",{redraw:M})}colorizeItem(u,M){let{area:U,group:x,label:O,line:z,symbol:j}=u.legendItem||{};if(x?.[M?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:J={}}=this,y=J.color,{fillColor:w,fillOpacity:E,lineColor:X,marker:m}=u.options,F=R=>(!M&&(R.fill&&(R.fill=y),R.stroke&&(R.stroke=y)),R);O?.css(b(M?this.itemStyle:J)),z?.attr(F({stroke:X||u.color})),j&&j.attr(F(m&&j.isMarker?u.pointAttribs():{fill:u.color})),U?.attr(F({fill:w||u.color,"fill-opacity":w?1:E??.75}))}S(this,"afterColorizeItem",{item:u,visible:M})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(u){let{group:M,x:U=0,y:x=0}=u.legendItem||{},O=this.options,J=u.checkbox;if(M&&M.element){let y={translateX:O.rtl?this.legendWidth-U-2*O.symbolPadding-4:U,translateY:x};M[T(M.translateY)?"animate":"attr"](y,void 0,()=>{S(this,"afterPositionItem",{item:u})})}J&&(J.x=U,J.y=x)}destroyItem(u){let M=u.checkbox,U=u.legendItem||{};for(let x of["group","label","line","symbol"])U[x]&&(U[x]=U[x].destroy());M&&H(M),u.legendItem=void 0}destroy(){for(let u of this.getAllItems())this.destroyItem(u);for(let u of["clipRect","up","down","pager","nav","box","title","group"])this[u]&&(this[u]=this[u].destroy());this.display=null}positionCheckboxes(){let u,M=this.group&&this.group.alignAttr,U=this.clipHeight||this.legendHeight,x=this.titleHeight;M&&(u=M.translateY,this.allItems.forEach(function(O){let z,j=O.checkbox;j&&(z=u+x+j.y+(this.scrollOffset||0)+3,v(j,{left:M.translateX+O.checkboxOffset+j.x-20+"px",top:z+"px",display:this.proximate||z>u-6&&z<u+U-6?"":"none"}))},this))}renderTitle(){let x,u=this.options,M=this.padding,U=u.title,O=0;U.text&&(this.title||(this.title=this.chart.renderer.label(U.text,M-3,M-4,void 0,void 0,void 0,u.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(U.style),this.title.add(this.group)),U.width||this.title.css({width:this.maxLegendWidth+"px"}),O=(x=this.title.getBBox()).height,this.offsetWidth=x.width,this.contentGroup.attr({translateY:O})),this.titleHeight=O}setText(u){let M=this.options;u.legendItem.label.attr({text:M.labelFormat?A(M.labelFormat,u,this.chart):M.labelFormatter.call(u)})}renderItem(u){let M=u.legendItem=u.legendItem||{},U=this.chart,x=U.renderer,O=this.options,j=this.symbolWidth,J=O.symbolPadding||0,y=this.itemStyle,w=this.itemHiddenStyle,E="horizontal"===O.layout?l(O.itemDistance,20):0,X=!O.rtl,m=!u.series,F=!m&&u.series.drawLegendSymbol?u.series:u,R=F.options,_=!!this.createCheckboxForItem&&R&&R.showCheckbox,G=O.useHTML,K=u.options.className,oe=M.label,ae=j+J+E+(_?20:0);!oe&&(M.group=x.g("legend-item").addClass("highcharts-"+F.type+"-series highcharts-color-"+u.colorIndex+(K?" "+K:"")+(m?" highcharts-series-"+u.index:"")).attr({zIndex:1}).add(this.scrollGroup),M.label=oe=x.text("",X?j+J:-J,this.baseline||0,G),U.styledMode||oe.css(b(u.visible?y:w)),oe.attr({align:X?"left":"right",zIndex:2}).add(M.group),!this.baseline&&(this.fontMetrics=x.fontMetrics(oe),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,oe.attr("y",this.baseline),this.symbolHeight=l(O.symbolHeight,this.fontMetrics.f),O.squareSymbol&&(this.symbolWidth=l(O.symbolWidth,Math.max(this.symbolHeight,16)),ae=this.symbolWidth+J+E+(_?20:0),X&&oe.attr("x",this.symbolWidth+J))),F.drawLegendSymbol(this,u),this.setItemEvents&&this.setItemEvents(u,oe,G)),_&&!u.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(u),this.colorizeItem(u,u.visible),(U.styledMode||!y.width)&&oe.css({width:(O.itemWidth||this.widthOption||U.spacingBox.width)-ae+"px"}),this.setText(u);let ue=oe.getBBox(),be=this.fontMetrics&&this.fontMetrics.h||0;u.itemWidth=u.checkboxOffset=O.itemWidth||M.labelWidth||ue.width+ae,this.maxItemWidth=Math.max(this.maxItemWidth,u.itemWidth),this.totalItemWidth+=u.itemWidth,this.itemHeight=u.itemHeight=Math.round(M.labelHeight||(ue.height>1.5*be?ue.height:be))}layoutItem(u){let M=this.options,U=this.padding,x="horizontal"===M.layout,O=u.itemHeight,z=this.itemMarginBottom,j=this.itemMarginTop,J=x?l(M.itemDistance,20):0,y=this.maxLegendWidth,w=M.alignColumns&&this.totalItemWidth>y?this.maxItemWidth:u.itemWidth,E=u.legendItem||{};x&&this.itemX-U+w>y&&(this.itemX=U,this.lastLineHeight&&(this.itemY+=j+this.lastLineHeight+z),this.lastLineHeight=0),this.lastItemY=j+this.itemY+z,this.lastLineHeight=Math.max(O,this.lastLineHeight),E.x=this.itemX,E.y=this.itemY,x?this.itemX+=w:(this.itemY+=j+O+z,this.lastLineHeight=O),this.offsetWidth=this.widthOption||Math.max((x?this.itemX-U-(u.checkbox?0:J):w)+U,this.offsetWidth)}getAllItems(){let u=[];return this.chart.series.forEach(function(M){let U=M&&M.options;M&&l(U.showInLegend,!T(U.linkedTo)&&void 0,!0)&&(u=u.concat((M.legendItem||{}).labels||("point"===U.legendType?M.data:M)))}),S(this,"afterGetAllItems",{allItems:u}),u}getAlignment(){let u=this.options;return this.proximate?u.align.charAt(0)+"tv":u.floating?"":u.align.charAt(0)+u.verticalAlign.charAt(0)+u.layout.charAt(0)}adjustMargins(u,M){let U=this.chart,x=this.options,O=this.getAlignment();O&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(z,j){z.test(O)&&!T(u[j])&&(U[I[j]]=Math.max(U[I[j]],U.legend[(j+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][j]*x[j%2?"x":"y"]+l(x.margin,12)+M[j]+(U.titleOffset[j]||0)))})}proximatePositions(){let u,M=this.chart,U=[],x="left"===this.options.align;for(let O of(this.allItems.forEach(function(z){let j,J,w,E,y=x;z.yAxis&&(z.xAxis.options.reversed&&(y=!y),z.points&&(j=B(y?z.points:z.points.slice(0).reverse(),function(X){return p(X.plotY)})),J=this.itemMarginTop+z.legendItem.label.getBBox().height+this.itemMarginBottom,E=z.yAxis.top-M.plotTop,w=z.visible?(j?j.plotY:z.yAxis.height)+(E-.3*J):E+z.yAxis.height,U.push({target:w,size:J,item:z}))},this),C(U,M.plotHeight)))u=O.item.legendItem||{},p(O.pos)&&(u.y=M.plotTop-M.spacing[0]+O.pos)}render(){let z,j,J,w,u=this.chart,M=u.renderer,U=this.options,x=this.padding,O=this.getAllItems(),y=this.group,E=this.box;this.itemX=x,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=o(U.width,u.spacingBox.width-x),w=u.spacingBox.width-2*x-U.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(w/=2),this.maxLegendWidth=this.widthOption||w,y||(this.group=y=M.g("legend").addClass(U.className||"").attr({zIndex:7}).add(),this.contentGroup=M.g().attr({zIndex:1}).add(y),this.scrollGroup=M.g().add(this.contentGroup)),this.renderTitle(),h(O,(X,m)=>(X.options&&X.options.legendIndex||0)-(m.options&&m.options.legendIndex||0)),U.reversed&&O.reverse(),this.allItems=O,this.display=z=!!O.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,O.forEach(this.renderItem,this),O.forEach(this.layoutItem,this),j=(this.widthOption||this.offsetWidth)+x,J=this.lastItemY+this.lastLineHeight+this.titleHeight,J=this.handleOverflow(J)+x,E||(this.box=E=M.rect().addClass("highcharts-legend-box").attr({r:U.borderRadius}).add(y)),u.styledMode||E.attr({stroke:U.borderColor,"stroke-width":U.borderWidth||0,fill:U.backgroundColor||"none"}).shadow(U.shadow),j>0&&J>0&&E[E.placed?"animate":"attr"](E.crisp.call({},{x:0,y:0,width:j,height:J},E.strokeWidth())),y[z?"show":"hide"](),u.styledMode&&"none"===y.getStyle("display")&&(j=J=0),this.legendWidth=j,this.legendHeight=J,z&&this.align(),this.proximate||this.positionItems(),S(this,"afterRender")}align(u=this.chart.spacingBox){let M=this.chart,U=this.options,x=u.y;/(lth|ct|rth)/.test(this.getAlignment())&&M.titleOffset[0]>0?x+=M.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&M.titleOffset[2]>0&&(x-=M.titleOffset[2]),x!==u.y&&(u=b(u,{y:x})),M.hasRendered||(this.group.placed=!1),this.group.align(b(U,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":U.verticalAlign}),!0,u)}handleOverflow(u){let G,K,oe,M=this,U=this.chart,x=U.renderer,O=this.options,z=O.y,j="top"===O.verticalAlign,J=this.padding,y=O.maxHeight,w=O.navigation,E=l(w.animation,!0),X=w.arrowSize||12,m=this.pages,F=this.allItems,R=function(Se){"number"==typeof Se?be.attr({height:Se}):be&&(M.clipRect=be.destroy(),M.contentGroup.clip()),M.contentGroup.div&&(M.contentGroup.div.style.clip=Se?"rect("+J+"px,9999px,"+(J+Se)+"px,0)":"auto")},_=function(Se){return M[Se]=x.circle(0,0,1.3*X).translate(X/2,X/2).add(ue),U.styledMode||M[Se].attr("fill","rgba(0,0,0,0.0001)"),M[Se]},ae=U.spacingBox.height+(j?-z:z)-J,ue=this.nav,be=this.clipRect;return"horizontal"!==O.layout||"middle"===O.verticalAlign||O.floating||(ae/=2),y&&(ae=Math.min(ae,y)),m.length=0,u&&ae>0&&u>ae&&!1!==w.enabled?(this.clipHeight=G=Math.max(ae-20-this.titleHeight-J,0),this.currentPage=l(this.currentPage,1),this.fullHeight=u,F.forEach((Se,ie)=>{let q=(oe=Se.legendItem||{}).y||0,re=Math.round(oe.label.getBBox().height),le=m.length;(!le||q-m[le-1]>G&&(K||q)!==m[le-1])&&(m.push(K||q),le++),oe.pageIx=le-1,K&&((F[ie-1].legendItem||{}).pageIx=le-1),ie===F.length-1&&q+re-m[le-1]>G&&q>m[le-1]&&(m.push(q),oe.pageIx=le),q!==K&&(K=q)}),be||(be=M.clipRect=x.clipRect(0,J-2,9999,0),M.contentGroup.clip(be)),R(G),ue||(this.nav=ue=x.g().attr({zIndex:1}).add(this.group),this.up=x.symbol("triangle",0,0,X,X).add(ue),_("upTracker").on("click",function(){M.scroll(-1,E)}),this.pager=x.text("",15,10).addClass("highcharts-legend-navigation"),!U.styledMode&&w.style&&this.pager.css(w.style),this.pager.add(ue),this.down=x.symbol("triangle-down",0,0,X,X).add(ue),_("downTracker").on("click",function(){M.scroll(1,E)})),M.scroll(0),u=ae):ue&&(R(),this.nav=ue.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),u}scroll(u,M){let U=this.chart,x=this.pages,O=x.length,z=this.clipHeight,j=this.options.navigation,J=this.pager,y=this.padding,w=this.currentPage+u;w>O&&(w=O),w>0&&(void 0!==M&&L(M,U),this.nav.attr({translateX:y,translateY:z+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(E){E.attr({class:1===w?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),J.attr({text:w+"/"+O}),[this.down,this.downTracker].forEach(function(E){E.attr({x:18+this.pager.getBBox().width,class:w===O?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),U.styledMode||(this.up.attr({fill:1===w?j.inactiveColor:j.activeColor}),this.upTracker.css({cursor:1===w?"default":"pointer"}),this.down.attr({fill:w===O?j.inactiveColor:j.activeColor}),this.downTracker.css({cursor:w===O?"default":"pointer"})),this.scrollOffset=-x[w-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=w,this.positionCheckboxes(),d(()=>{S(this,"afterScroll",{currentPage:w})},ee(l(M,U.renderer.globalAnimation,!0)).duration))}setItemEvents(u,M,U){let x=this,O=u.legendItem||{},z=x.chart.renderer.boxWrapper,j=u instanceof me,J=u instanceof ve,y="highcharts-legend-"+(j?"point":"series")+"-active",w=x.chart.styledMode,E=U?[M,O.symbol]:[O.group],X=m=>{x.allItems.forEach(F=>{u!==F&&[F].concat(F.linkedSeries||[]).forEach(R=>{R.setState(m,!j)})})};for(let m of E)m&&m.on("mouseover",function(){u.visible&&X("inactive"),u.setState("hover"),u.visible&&z.addClass(y),w||M.css(x.options.itemHoverStyle)}).on("mouseout",function(){x.chart.styledMode||M.css(b(u.visible?x.itemStyle:x.itemHiddenStyle)),X(""),z.removeClass(y),u.setState()}).on("click",function(F){z.removeClass(y),S(x,"itemClick",{browserEvent:F,legendItem:u},function(){u.setVisible&&u.setVisible(),X(u.visible?"inactive":"")}),j?u.firePointEvent("legendItemClick",{browserEvent:F}):J&&S(u,"legendItemClick",{browserEvent:F})})}createCheckboxForItem(u){u.checkbox=P("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:u.selected,defaultChecked:u.selected},this.options.itemCheckboxStyle,this.chart.container),D(u.checkbox,"click",function(M){S(u.series||u,"checkboxClick",{checked:M.target.checked,item:u},function(){u.select()})})}}return(te=c||(c={})).compose=function(f){n(N,"Core.Legend")&&D(f,"beforeMargins",function(){this.legend=new te(this,this.options.legend)})},c}),Ne(Y,"Core/Chart/Chart.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/Axis.js"],Y["Core/Defaults.js"],Y["Core/Templating.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Time.js"],Y["Core/Utilities.js"],Y["Core/Renderer/HTML/AST.js"],Y["Core/Axis/Tick.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee,L,W,N,I){let{animate:C,animObject:A,setAnimation:D}=Z,{defaultOptions:P,defaultTime:v}=xe,{numberFormat:T}=ve,{registerEventOptions:H}=me,{charts:B,doc:S,marginNames:p,svg:b,win:l}=de,{seriesTypes:n}=te,{addEvent:o,attr:h,createElement:d,css:c,defined:f,diffObjects:u,discardElement:M,erase:U,error:x,extend:O,find:z,fireEvent:j,getStyle:J,isArray:y,isNumber:w,isObject:E,isString:X,merge:m,objectEach:F,pick:R,pInt:_,relativeLength:G,removeEvent:K,splat:oe,syncTimeout:ae,uniqueKey:ue}=W;class be{static chart(ie,q,re){return new be(ie,q,re)}constructor(ie,q,re){this.sharedClips={};let le=[...arguments];(X(ie)||ie.nodeName)&&(this.renderTo=le.shift()),this.init(le[0],le[1])}setZoomOptions(){let ie=this.options.chart,q=ie.zooming;this.zooming={...q,type:R(ie.zoomType,q.type),key:R(ie.zoomKey,q.key),pinchType:R(ie.pinchType,q.pinchType),singleTouch:R(ie.zoomBySingleTouch,q.singleTouch,!1),resetButton:m(q.resetButton,ie.resetZoomButton)}}init(ie,q){j(this,"init",{args:arguments},function(){let re=m(P,ie),le=re.chart;this.userOptions=O({},ie),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=q,this.isResizing=0,this.options=re,this.axes=[],this.series=[],this.time=ie.time&&Object.keys(ie.time).length?new L(ie.time):de.time,this.numberFormatter=le.numberFormatter||T,this.styledMode=le.styledMode,this.hasCartesianSeries=le.showAxes,this.index=B.length,B.push(this),de.chartCount++,H(this,le),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),j(this,"afterInit"),this.firstRender()})}initSeries(ie){let re=ie.type||this.options.chart.type,le=n[re];le||x(17,!0,this,{missingModuleFor:re});let pe=new le;return"function"==typeof pe.init&&pe.init(this,ie),pe}setSortedData(){this.getSeriesOrderByLinks().forEach(function(ie){ie.points||ie.data||!ie.enabledDataSorting||ie.setData(ie.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(ie,q){return ie.linkedSeries.length||q.linkedSeries.length?q.linkedSeries.length-ie.linkedSeries.length:0})}orderItems(ie,q=0){let re=this[ie],le=this.options[ie]=oe(this.options[ie]).slice(),pe=this.userOptions[ie]=this.userOptions[ie]?oe(this.userOptions[ie]).slice():[];if(this.hasRendered&&(le.splice(q),pe.splice(q)),re)for(let ge=q,we=re.length;ge<we;++ge){let ye=re[ge];ye&&(ye.index=ge,ye instanceof Q&&(ye.name=ye.getName()),ye.options.isInternal||(le[ge]=ye.options,pe[ge]=ye.userOptions))}}isInsidePlot(ie,q,re={}){let{inverted:le,plotBox:pe,plotLeft:ge,plotTop:we,scrollablePlotBox:ye}=this,{scrollLeft:Me=0,scrollTop:Pe=0}=re.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},Re=re.series,Fe=re.visiblePlotOnly&&ye||pe,De=re.inverted?q:ie,He=re.inverted?ie:q,ze={x:De,y:He,isInsidePlot:!0,options:re};if(!re.ignoreX){let Oe=Re&&(le&&!this.polar?Re.yAxis:Re.xAxis)||{pos:ge,len:1/0},it=re.paneCoordinates?Oe.pos+De:ge+De;it>=Math.max(Me+ge,Oe.pos)&&it<=Math.min(Me+ge+Fe.width,Oe.pos+Oe.len)||(ze.isInsidePlot=!1)}if(!re.ignoreY&&ze.isInsidePlot){let Oe=!le&&re.axis&&!re.axis.isXAxis&&re.axis||Re&&(le?Re.xAxis:Re.yAxis)||{pos:we,len:1/0},it=re.paneCoordinates?Oe.pos+He:we+He;it>=Math.max(Pe+we,Oe.pos)&&it<=Math.min(Pe+we+Fe.height,Oe.pos+Oe.len)||(ze.isInsidePlot=!1)}return j(this,"afterIsInsidePlot",ze),ze.isInsidePlot}redraw(ie){j(this,"beforeRedraw");let Pe,Re,Fe,ze,q=this.hasCartesianSeries?this.axes:this.colorAxis||[],re=this.series,le=this.pointer,pe=this.legend,ge=this.userOptions.legend,we=this.renderer,ye=we.isHidden(),Me=[],De=this.isDirtyBox,He=this.isDirtyLegend;for(we.rootFontSize=we.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),D(!!this.hasRendered&&ie,this),ye&&this.temporaryDisplay(),this.layOutTitles(!1),Fe=re.length;Fe--;)if(((ze=re[Fe]).options.stacking||ze.options.centerInCategory)&&(Re=!0,ze.isDirty)){Pe=!0;break}if(Pe)for(Fe=re.length;Fe--;)(ze=re[Fe]).options.stacking&&(ze.isDirty=!0);re.forEach(function(Oe){Oe.isDirty&&("point"===Oe.options.legendType?("function"==typeof Oe.updateTotals&&Oe.updateTotals(),He=!0):ge&&(ge.labelFormatter||ge.labelFormat)&&(He=!0)),Oe.isDirtyData&&j(Oe,"updatedData")}),He&&pe&&pe.options.enabled&&(pe.render(),this.isDirtyLegend=!1),Re&&this.getStacks(),q.forEach(function(Oe){Oe.updateNames(),Oe.setScale()}),this.getMargins(),q.forEach(function(Oe){Oe.isDirty&&(De=!0)}),q.forEach(function(Oe){let it=Oe.min+","+Oe.max;Oe.extKey!==it&&(Oe.extKey=it,Me.push(function(){j(Oe,"afterSetExtremes",O(Oe.eventArgs,Oe.getExtremes())),delete Oe.eventArgs})),(De||Re)&&Oe.redraw()}),De&&this.drawChartBox(),j(this,"predraw"),re.forEach(function(Oe){(De||Oe.isDirty)&&Oe.visible&&Oe.redraw(),Oe.isDirtyData=!1}),le&&le.reset(!0),we.draw(),j(this,"redraw"),j(this,"render"),ye&&this.temporaryDisplay(!0),Me.forEach(function(Oe){Oe.call()})}get(ie){let q=this.series;function re(pe){return pe.id===ie||pe.options&&pe.options.id===ie}let le=z(this.axes,re)||z(this.series,re);for(let pe=0;!le&&pe<q.length;pe++)le=z(q[pe].points||[],re);return le}getAxes(){let ie=this.userOptions;for(let q of(j(this,"getAxes"),["xAxis","yAxis"]))for(let re of ie[q]=oe(ie[q]||{}))new ce(this,re,q);j(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((ie,q)=>(q.getPointsCollection().forEach(re=>{R(re.selectedStaging,re.selected)&&ie.push(re)}),ie),[])}getSelectedSeries(){return this.series.filter(function(ie){return ie.selected})}setTitle(ie,q,re){this.applyDescription("title",ie),this.applyDescription("subtitle",q),this.applyDescription("caption",void 0),this.layOutTitles(re)}applyDescription(ie,q){let re=this,le=this.options[ie]=m(this.options[ie],q),pe=this[ie];pe&&q&&(this[ie]=pe=pe.destroy()),le&&!pe&&((pe=this.renderer.text(le.text,0,0,le.useHTML).attr({align:le.align,class:"highcharts-"+ie,zIndex:le.zIndex||4}).add()).update=function(ge,we){re.applyDescription(ie,ge),re.layOutTitles(we)},this.styledMode||pe.css(O("title"===ie?{fontSize:this.options.isStock?"1em":"1.2em"}:{},le.style)),this[ie]=pe)}layOutTitles(ie=!0){let q=[0,0,0],re=this.renderer,le=this.spacingBox;["title","subtitle","caption"].forEach(function(ge){let we=this[ge],ye=this.options[ge],Me=ye.verticalAlign||"top",Pe="title"===ge?"top"===Me?-3:0:"top"===Me?q[0]+2:0;if(we){we.css({width:(ye.width||le.width+(ye.widthAdjust||0))+"px"});let Re=re.fontMetrics(we).b,Fe=Math.round(we.getBBox(ye.useHTML).height);we.align(O({y:"bottom"===Me?Re:Pe+Re,height:Fe},ye),!1,"spacingBox"),ye.floating||("top"===Me?q[0]=Math.ceil(q[0]+Fe):"bottom"===Me&&(q[2]=Math.ceil(q[2]+Fe)))}},this),q[0]&&"top"===(this.options.title.verticalAlign||"top")&&(q[0]+=this.options.title.margin),q[2]&&"bottom"===this.options.caption.verticalAlign&&(q[2]+=this.options.caption.margin);let pe=!this.titleOffset||this.titleOffset.join(",")!==q.join(",");this.titleOffset=q,j(this,"afterLayOutTitles"),!this.isDirtyBox&&pe&&(this.isDirtyBox=this.isDirtyLegend=pe,this.hasRendered&&ie&&this.isDirtyBox&&this.redraw())}getContainerBox(){let ie=[].map.call(this.renderTo.children,re=>{if(re!==this.container){let le=re.style.display;return re.style.display="none",[re,le]}}),q={width:J(this.renderTo,"width",!0)||0,height:J(this.renderTo,"height",!0)||0};return ie.filter(Boolean).forEach(([re,le])=>{re.style.display=le}),q}getChartSize(){let ie=this.options.chart,q=ie.width,re=ie.height,le=this.getContainerBox(),pe=le.height>1&&!(!this.renderTo.parentElement?.style.height&&"100%"===this.renderTo.style.height);this.chartWidth=Math.max(0,q||le.width||600),this.chartHeight=Math.max(0,G(re,this.chartWidth)||(pe?le.height:400)),this.containerBox=le}temporaryDisplay(ie){let re,q=this.renderTo;if(ie)for(;q&&q.style;)q.hcOrigStyle&&(c(q,q.hcOrigStyle),delete q.hcOrigStyle),q.hcOrigDetached&&(S.body.removeChild(q),q.hcOrigDetached=!1),q=q.parentNode;else for(;q&&q.style&&(S.body.contains(q)||q.parentNode||(q.hcOrigDetached=!0,S.body.appendChild(q)),("none"===J(q,"display",!1)||q.hcOricDetached)&&(q.hcOrigStyle={display:q.style.display,height:q.style.height,overflow:q.style.overflow},re={display:"block",overflow:"hidden"},q!==this.renderTo&&(re.height=0),c(q,re),q.offsetWidth||q.style.setProperty("display","block","important")),(q=q.parentNode)!==S.body););}setClassName(ie){this.container.className="highcharts-container "+(ie||"")}getContainer(){let pe,ie=this.options,q=ie.chart,re="data-highcharts-chart",le=ue(),ge=this.renderTo;ge||(this.renderTo=ge=q.renderTo),X(ge)&&(this.renderTo=ge=S.getElementById(ge)),ge||x(13,!0,this);let we=_(h(ge,re));w(we)&&B[we]&&B[we].hasRendered&&B[we].destroy(),h(ge,re,this.index),ge.innerHTML=N.emptyHTML,q.skipClone||ge.offsetWidth||this.temporaryDisplay(),this.getChartSize();let ye=this.chartHeight,Me=this.chartWidth;c(ge,{overflow:"hidden"}),this.styledMode||(pe=O({position:"relative",overflow:"hidden",width:Me+"px",height:ye+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},q.style||{}));let Pe=d("div",{id:le},pe,ge);this.container=Pe,this.getChartSize(),Me===this.chartWidth||(Me=this.chartWidth,this.styledMode||c(Pe,{width:R(q.style?.width,Me+"px")})),this.containerBox=this.getContainerBox(),this._cursor=Pe.style.cursor;let Re=q.renderer||!b?he.getRendererType(q.renderer):ee;if(this.renderer=new Re(Pe,Me,ye,void 0,q.forExport,ie.exporting&&ie.exporting.allowHTML,this.styledMode),D(void 0,this),this.setClassName(q.className),this.styledMode)for(let Fe in ie.defs)this.renderer.definition(ie.defs[Fe]);else this.renderer.setStyle(q.style);this.renderer.chartIndex=this.index,j(this,"afterGetContainer")}getMargins(ie){let{spacing:q,margin:re,titleOffset:le}=this;this.resetMargins(),le[0]&&!f(re[0])&&(this.plotTop=Math.max(this.plotTop,le[0]+q[0])),le[2]&&!f(re[2])&&(this.marginBottom=Math.max(this.marginBottom,le[2]+q[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(re,q),j(this,"getMargins"),ie||this.getAxisMargins()}getAxisMargins(){let ie=this,q=ie.axisOffset=[0,0,0,0],re=ie.colorAxis,le=ie.margin,pe=function(ge){ge.forEach(function(we){we.visible&&we.getOffset()})};ie.hasCartesianSeries?pe(ie.axes):re&&re.length&&pe(re),p.forEach(function(ge,we){f(le[we])||(ie[ge]+=q[we])}),ie.setChartSize()}getOptions(){return u(this.userOptions,P)}reflow(ie){let q=this,re=q.containerBox,le=q.getContainerBox();delete q.pointer?.chartPosition,!q.isPrinting&&!q.isResizing&&re&&le.width&&((le.width!==re.width||le.height!==re.height)&&(W.clearTimeout(q.reflowTimeout),q.reflowTimeout=ae(function(){q.container&&q.setSize(void 0,void 0,!1)},ie?100:0)),q.containerBox=le)}setReflow(){let ie=this,q=re=>{ie.options?.chart.reflow&&ie.hasLoaded&&ie.reflow(re)};if("function"==typeof ResizeObserver)new ResizeObserver(q).observe(ie.renderTo);else{let re=o(l,"resize",q);o(this,"destroy",re)}}setSize(ie,q,re){let le=this,pe=le.renderer;le.isResizing+=1,D(re,le);let ge=pe.globalAnimation;le.oldChartHeight=le.chartHeight,le.oldChartWidth=le.chartWidth,void 0!==ie&&(le.options.chart.width=ie),void 0!==q&&(le.options.chart.height=q),le.getChartSize();let{chartWidth:we,chartHeight:ye,scrollablePixelsX:Me=0,scrollablePixelsY:Pe=0}=le;(le.isDirtyBox||we!==le.oldChartWidth||ye!==le.oldChartHeight)&&(le.styledMode||(ge?C:c)(le.container,{width:`${we+Me}px`,height:`${ye+Pe}px`},ge),le.setChartSize(!0),pe.setSize(we,ye,ge),le.axes.forEach(function(Re){Re.isDirty=!0,Re.setScale()}),le.isDirtyLegend=!0,le.isDirtyBox=!0,le.layOutTitles(),le.getMargins(),le.redraw(ge),le.oldChartHeight=void 0,j(le,"resize"),setTimeout(()=>{le&&j(le,"endResize")},A(ge).duration)),le.isResizing-=1}setChartSize(ie){let q,re,le,pe,{chartHeight:ge,chartWidth:we,inverted:ye,spacing:Me,renderer:Pe}=this,Re=this.clipOffset,Fe=Math[ye?"floor":"round"];this.plotLeft=q=Math.round(this.plotLeft),this.plotTop=re=Math.round(this.plotTop),this.plotWidth=le=Math.max(0,Math.round(we-q-this.marginRight)),this.plotHeight=pe=Math.max(0,Math.round(ge-re-this.marginBottom)),this.plotSizeX=ye?pe:le,this.plotSizeY=ye?le:pe,this.spacingBox=Pe.spacingBox={x:Me[3],y:Me[0],width:we-Me[3]-Me[1],height:ge-Me[0]-Me[2]},this.plotBox=Pe.plotBox={x:q,y:re,width:le,height:pe},Re&&(this.clipBox={x:Fe(Re[3]),y:Fe(Re[0]),width:Fe(this.plotSizeX-Re[1]-Re[3]),height:Fe(this.plotSizeY-Re[0]-Re[2])}),ie||(this.axes.forEach(function(De){De.setAxisSize(),De.setAxisTranslation()}),Pe.alignElements()),j(this,"afterSetChartSize",{skipAxes:ie})}resetMargins(){j(this,"resetMargins");let ie=this,q=ie.options.chart,re=q.plotBorderWidth||0,le=re/2;["margin","spacing"].forEach(function(pe){let ge=q[pe],we=E(ge)?ge:[ge,ge,ge,ge];["Top","Right","Bottom","Left"].forEach(function(ye,Me){ie[pe][Me]=R(q[pe+ye],we[Me])})}),p.forEach(function(pe,ge){ie[pe]=R(ie.margin[ge],ie.spacing[ge])}),ie.axisOffset=[0,0,0,0],ie.clipOffset=[le,le,le,le],ie.plotBorderWidth=re}drawChartBox(){let bt,Ht,zt,ie=this.options.chart,q=this.renderer,re=this.chartWidth,le=this.chartHeight,pe=this.styledMode,ge=this.plotBGImage,we=ie.backgroundColor,ye=ie.plotBackgroundColor,Me=ie.plotBackgroundImage,Pe=this.plotLeft,Re=this.plotTop,Fe=this.plotWidth,De=this.plotHeight,He=this.plotBox,ze=this.clipRect,Oe=this.clipBox,it=this.chartBackground,ot=this.plotBackground,rt=this.plotBorder,yt="animate";it||(this.chartBackground=it=q.rect().addClass("highcharts-background").add(),yt="attr"),pe?bt=Ht=it.strokeWidth():(Ht=(bt=ie.borderWidth||0)+(ie.shadow?8:0),zt={fill:we||"none"},(bt||it["stroke-width"])&&(zt.stroke=ie.borderColor,zt["stroke-width"]=bt),it.attr(zt).shadow(ie.shadow)),it[yt]({x:Ht/2,y:Ht/2,width:re-Ht-bt%2,height:le-Ht-bt%2,r:ie.borderRadius}),yt="animate",ot||(yt="attr",this.plotBackground=ot=q.rect().addClass("highcharts-plot-background").add()),ot[yt](He),!pe&&(ot.attr({fill:ye||"none"}).shadow(ie.plotShadow),Me&&(ge?(Me!==ge.attr("href")&&ge.attr("href",Me),ge.animate(He)):this.plotBGImage=q.image(Me,Pe,Re,Fe,De).add())),ze?ze.animate({width:Oe.width,height:Oe.height}):this.clipRect=q.clipRect(Oe),yt="animate",rt||(yt="attr",this.plotBorder=rt=q.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),pe||rt.attr({stroke:ie.plotBorderColor,"stroke-width":ie.plotBorderWidth||0,fill:"none"}),rt[yt](rt.crisp({x:Pe,y:Re,width:Fe,height:De},-rt.strokeWidth())),this.isDirtyBox=!1,j(this,"afterDrawChartBox")}propFromSeries(){let ie,q,re,le=this,pe=le.options.chart,ge=le.options.series;["inverted","angular","polar"].forEach(function(we){for(q=n[pe.type],re=pe[we]||q&&q.prototype[we],ie=ge&&ge.length;!re&&ie--;)(q=n[ge[ie].type])&&q.prototype[we]&&(re=!0);le[we]=re})}linkSeries(ie){let q=this,re=q.series;re.forEach(function(le){le.linkedSeries.length=0}),re.forEach(function(le){let{linkedTo:pe}=le.options;if(X(pe)){let ge;(ge=":previous"===pe?q.series[le.index-1]:q.get(pe))&&ge.linkedParent!==le&&(ge.linkedSeries.push(le),le.linkedParent=ge,ge.enabledDataSorting&&le.setDataSortingOptions(),le.visible=R(le.options.visible,ge.options.visible,le.visible))}}),j(this,"afterLinkSeries",{isUpdating:ie})}renderSeries(){this.series.forEach(function(ie){ie.translate(),ie.render()})}render(){let ye,ie=this.axes,q=this.colorAxis,re=this.renderer,le=this.options.chart.axisLayoutRuns||2,pe=Pe=>{Pe.forEach(Re=>{Re.visible&&Re.render()})},ge=0,we=!0,Me=0;for(let Pe of(this.setTitle(),j(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),ie)){let{options:Re}=Pe,{labels:Fe}=Re;if(this.hasCartesianSeries&&Pe.horiz&&Pe.visible&&Fe.enabled&&Pe.series.length&&"colorAxis"!==Pe.coll&&!this.polar){ge=Re.tickLength,Pe.createGroups();let De=new I(Pe,0,"",!0),He=De.createLabel("x",Fe);if(De.destroy(),He&&R(Fe.reserveSpace,!w(Re.crossing))&&(ge=He.getBBox().height+Fe.distance+Math.max(Re.offset||0,0)),ge){He?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-ge,0);(we||ye||le>1)&&Me<le;){let Pe=this.plotWidth,Re=this.plotHeight;for(let Fe of ie)0===Me?Fe.setScale():(Fe.horiz&&we||!Fe.horiz&&ye)&&Fe.setTickInterval(!0);0===Me?this.getAxisMargins():this.getMargins(),we=Pe/this.plotWidth>(Me?1:1.1),ye=Re/this.plotHeight>(Me?1:1.05),Me++}this.drawChartBox(),this.hasCartesianSeries?pe(ie):q&&q.length&&pe(q),this.seriesGroup||(this.seriesGroup=re.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(ie){let q=this,re=m(!0,this.options.credits,ie);re.enabled&&!this.credits&&(this.credits=this.renderer.text(re.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){re.href&&(l.location.href=re.href)}).attr({align:re.position.align,zIndex:8}),q.styledMode||this.credits.css(re.style),this.credits.add().align(re.position),this.credits.update=function(le){q.credits=q.credits.destroy(),q.addCredits(le)})}destroy(){let ie,q=this,re=q.axes,le=q.series,pe=q.container,ge=pe&&pe.parentNode;for(j(q,"destroy"),q.renderer.forExport?U(B,q):B[q.index]=void 0,de.chartCount--,q.renderTo.removeAttribute("data-highcharts-chart"),K(q),ie=re.length;ie--;)re[ie]=re[ie].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ie=le.length;ie--;)le[ie]=le[ie].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(we){let ye=q[we];ye&&ye.destroy&&(q[we]=ye.destroy())}),pe&&(pe.innerHTML=N.emptyHTML,K(pe),ge&&M(pe)),F(q,function(we,ye){delete q[ye]})}firstRender(){let ie=this,q=ie.options;ie.getContainer(),ie.resetMargins(),ie.setChartSize(),ie.propFromSeries(),ie.getAxes();let re=y(q.series)?q.series:[];q.series=[],re.forEach(function(le){ie.initSeries(le)}),ie.linkSeries(),ie.setSortedData(),j(ie,"beforeRender"),ie.render(),ie.pointer?.getChartPosition(),ie.renderer.imgCount||ie.hasLoaded||ie.onload(),ie.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(ie){ie&&void 0!==this.index&&ie.apply(this,[this])},this),j(this,"load"),j(this,"render"),f(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:ie,title:q}=this;!ie||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(q&&q.element.textContent||"").replace(/</g,"&lt;")}),ie.accessibility&&!1===ie.accessibility.enabled||x('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(ie,q,re){let le,pe=this;return ie&&(q=R(q,!0),j(pe,"addSeries",{options:ie},function(){le=pe.initSeries(ie),pe.isDirtyLegend=!0,pe.linkSeries(),le.enabledDataSorting&&le.setData(ie.data,!1),j(pe,"afterAddSeries",{series:le}),q&&pe.redraw(re)})),le}addAxis(ie,q,re,le){return this.createAxis(q?"xAxis":"yAxis",{axis:ie,redraw:re,animation:le})}addColorAxis(ie,q,re){return this.createAxis("colorAxis",{axis:ie,redraw:q,animation:re})}createAxis(ie,q){let re=new ce(this,q.axis,ie);return R(q.redraw,!0)&&this.redraw(q.animation),re}showLoading(ie){let q=this,re=q.options,le=re.loading,pe=function(){ge&&c(ge,{left:q.plotLeft+"px",top:q.plotTop+"px",width:q.plotWidth+"px",height:q.plotHeight+"px"})},ge=q.loadingDiv,we=q.loadingSpan;ge||(q.loadingDiv=ge=d("div",{className:"highcharts-loading highcharts-loading-hidden"},null,q.container)),we||(q.loadingSpan=we=d("span",{className:"highcharts-loading-inner"},null,ge),o(q,"redraw",pe)),ge.className="highcharts-loading",N.setElementHTML(we,R(ie,re.lang.loading,"")),q.styledMode||(c(ge,O(le.style,{zIndex:10})),c(we,le.labelStyle),q.loadingShown||(c(ge,{opacity:0,display:""}),C(ge,{opacity:le.style.opacity||.5},{duration:le.showDuration||0}))),q.loadingShown=!0,pe()}hideLoading(){let ie=this.options,q=this.loadingDiv;q&&(q.className="highcharts-loading highcharts-loading-hidden",this.styledMode||C(q,{opacity:0},{duration:ie.loading.hideDuration||100,complete:function(){c(q,{display:"none"})}})),this.loadingShown=!1}update(ie,q,re,le){let pe,ge,we,ye=this,Me={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Pe=ie.isResponsiveOptions,Re=[];j(ye,"update",{options:ie}),Pe||ye.setResponsive(!1,!0),ie=u(ie,ye.options),ye.userOptions=m(ye.userOptions,ie);let Fe=ie.chart;Fe&&(m(!0,ye.options.chart,Fe),this.setZoomOptions(),"className"in Fe&&ye.setClassName(Fe.className),("inverted"in Fe||"polar"in Fe||"type"in Fe)&&(ye.propFromSeries(),pe=!0),"alignTicks"in Fe&&(pe=!0),"events"in Fe&&H(this,Fe),F(Fe,function(ze,Oe){-1!==ye.propsRequireUpdateSeries.indexOf("chart."+Oe)&&(ge=!0),-1!==ye.propsRequireDirtyBox.indexOf(Oe)&&(ye.isDirtyBox=!0),-1===ye.propsRequireReflow.indexOf(Oe)||(ye.isDirtyBox=!0,Pe||(we=!0))}),!ye.styledMode&&Fe.style&&ye.renderer.setStyle(ye.options.chart.style||{})),!ye.styledMode&&ie.colors&&(this.options.colors=ie.colors),ie.time&&(this.time===v&&(this.time=new L(ie.time)),m(!0,ye.options.time,ie.time)),F(ie,function(ze,Oe){ye[Oe]&&"function"==typeof ye[Oe].update?ye[Oe].update(ze,!1):"function"==typeof ye[Me[Oe]]?ye[Me[Oe]](ze):"colors"!==Oe&&-1===ye.collectionsWithUpdate.indexOf(Oe)&&m(!0,ye.options[Oe],ie[Oe]),"chart"!==Oe&&-1!==ye.propsRequireUpdateSeries.indexOf(Oe)&&(ge=!0)}),this.collectionsWithUpdate.forEach(function(ze){ie[ze]&&(oe(ie[ze]).forEach(function(Oe,it){let ot,rt=f(Oe.id);rt&&(ot=ye.get(Oe.id)),!ot&&ye[ze]&&(ot=ye[ze][R(Oe.index,it)])&&(rt&&f(ot.options.id)||ot.options.isInternal)&&(ot=void 0),ot&&ot.coll===ze&&(ot.update(Oe,!1),re&&(ot.touched=!0)),!ot&&re&&ye.collectionsWithInit[ze]&&(ye.collectionsWithInit[ze][0].apply(ye,[Oe].concat(ye.collectionsWithInit[ze][1]||[]).concat([!1])).touched=!0)}),re&&ye[ze].forEach(function(Oe){Oe.touched||Oe.options.isInternal?delete Oe.touched:Re.push(Oe)}))}),Re.forEach(function(ze){ze.chart&&ze.remove&&ze.remove(!1)}),pe&&ye.axes.forEach(function(ze){ze.update({},!1)}),ge&&ye.getSeriesOrderByLinks().forEach(function(ze){ze.chart&&ze.update({},!1)},this);let De=Fe&&Fe.width,He=Fe&&(X(Fe.height)?G(Fe.height,De||ye.chartWidth):Fe.height);we||w(De)&&De!==ye.chartWidth||w(He)&&He!==ye.chartHeight?ye.setSize(De,He,le):R(q,!0)&&ye.redraw(le),j(ye,"afterUpdate",{options:ie,redraw:q,animation:le})}setSubtitle(ie,q){this.applyDescription("subtitle",ie),this.layOutTitles(q)}setCaption(ie,q){this.applyDescription("caption",ie),this.layOutTitles(q)}showResetZoom(){let ie=this,q=P.lang,re=ie.zooming.resetButton,le=re.theme,pe="chart"===re.relativeTo||"spacingBox"===re.relativeTo?null:"plotBox";function ge(){ie.zoomOut()}j(this,"beforeShowResetZoom",null,function(){ie.resetZoomButton=ie.renderer.button(q.resetZoom,null,null,ge,le).attr({align:re.position.align,title:q.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(re.position,!1,pe)}),j(this,"afterShowResetZoom")}zoomOut(){j(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(ie,q){let re=this,le="object"==typeof q?q:{enabled:q,type:"x"},pe=le.type,ge=pe&&re[{x:"xAxis",xy:"axes",y:"yAxis"}[pe]].filter(ye=>ye.options.panningEnabled&&!ye.options.isInternal),we=re.options.chart;we?.panning&&(we.panning=le),j(this,"pan",{originalEvent:ie},()=>{re.transform({axes:ge,event:ie,to:{x:ie.chartX-(re.mouseDownX||0),y:ie.chartY-(re.mouseDownY||0)},trigger:"pan"}),c(re.container,{cursor:"move"})})}transform(ie){let Re,Fe,{axes:q=this.axes,event:re,from:le={},reset:pe,selection:ge,to:we={},trigger:ye}=ie,{inverted:Me}=this,Pe=!1;for(let De of(this.hoverPoints?.forEach(He=>He.setState()),q)){let{horiz:He,len:ze,minPointOffset:Oe=0,options:it,reversed:ot}=De,rt=He?"width":"height",bt=He?"x":"y",Ht=R(we[rt],De.len),zt=R(le[rt],De.len),yt=10>Math.abs(Ht)?1:Ht/zt,hi=(le[bt]||0)+zt/2-De.pos,Zt=hi-((we[bt]??De.pos)+Ht/2-De.pos)/yt,Ei=ot&&!Me||!ot&&Me?-1:1;if(!pe&&(hi<0||hi>De.len))continue;let _t=De.toValue(Zt,!0)+(ge||De.isOrdinal?0:Oe*Ei),Ut=De.toValue(Zt+ze/yt,!0)-(ge||De.isOrdinal?0:Oe*Ei||0),si=De.allExtremes;if(_t>Ut&&([_t,Ut]=[Ut,_t]),1===yt&&!pe&&"yAxis"===De.coll&&!si){for(let Ks of De.series){let Ni=Ks.getExtremes(Ks.getProcessedData(!0).yData,!0);si??(si={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),w(Ni.dataMin)&&w(Ni.dataMax)&&(si.dataMin=Math.min(Ni.dataMin,si.dataMin),si.dataMax=Math.max(Ni.dataMax,si.dataMax))}De.allExtremes=si}let{dataMin:Wr,dataMax:jr,min:cs,max:ss}=O(De.getExtremes(),si||{}),Ys=Wr??it.min,$s=jr??it.max,Fi=Ut-_t,zs=De.categories?0:Math.min(Fi,$s-Ys),ds=Ys-zs*(f(it.min)?0:it.minPadding),us=$s+zs*(f(it.max)?0:it.maxPadding),_s=De.allowZoomOutside||1===yt||"zoom"!==ye&&yt>1,Bi=Math.min(it.min??ds,ds,_s?cs:ds),Vi=Math.max(it.max??us,us,_s?ss:us);(!De.isOrdinal||De.options.overscroll||1!==yt||pe)&&(_t<Bi&&(_t=Bi,yt>=1&&(Ut=_t+Fi)),Ut>Vi&&(Ut=Vi,yt>=1&&(_t=Ut-Fi)),(pe||De.series.length&&(_t!==cs||Ut!==ss)&&_t>=Bi&&Ut<=Vi)&&(ge?ge[De.coll].push({axis:De,min:_t,max:Ut}):(De.isPanning="zoom"!==ye,De.isPanning&&(Fe=!0),De.setExtremes(pe?void 0:_t,pe?void 0:Ut,!1,!1,{move:Zt,trigger:ye,scale:yt}),!pe&&(_t>Bi||Ut<Vi)&&"mousewheel"!==ye&&(Re=!0)),Pe=!0),re&&(this[He?"mouseDownX":"mouseDownY"]=re[He?"chartX":"chartY"]))}return Pe&&(ge?j(this,"selection",ge,()=>{delete ie.selection,ie.trigger="zoom",this.transform(ie)}):(!Re||Fe||this.resetZoomButton?!Re&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw("zoom"===ye&&(this.options.chart.animation??this.pointCount<100)))),Pe}}return O(be.prototype,{callbacks:[],collectionsWithInit:{xAxis:[be.prototype.addAxis,[!0]],yAxis:[be.prototype.addAxis,[!1]],series:[be.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),be}),Ne(Y,"Extensions/ScrollablePlotArea.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{stop:me}=Z,{composed:de}=ce,{addEvent:he,createElement:Q,css:te,defined:ee,merge:L,pushUnique:W}=ve;function N(){let A=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!A&&(this.scrollablePlotArea=A=new C(this)),A?.applyFixed()}function I(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class C{static compose(D,P,v){W(de,this.compose)&&(he(D,"afterInit",I),he(P,"afterSetChartSize",T=>this.afterSetSize(T.target,T)),he(P,"render",N),he(v,"show",I))}static afterSetSize(D,P){let v,T,H,{minWidth:B,minHeight:S}=D.options.chart.scrollablePlotArea||{},{clipBox:p,plotBox:b,inverted:l,renderer:n}=D;if(!n.forExport&&(B?(D.scrollablePixelsX=v=Math.max(0,B-D.chartWidth),v&&(D.scrollablePlotBox=L(D.plotBox),b.width=D.plotWidth+=v,p[l?"height":"width"]+=v,H=!0)):S&&(D.scrollablePixelsY=T=Math.max(0,S-D.chartHeight),ee(T)&&(D.scrollablePlotBox=L(D.plotBox),b.height=D.plotHeight+=T,p[l?"width":"height"]+=T,H=!1)),ee(H)&&!P.skipAxes))for(let o of D.axes)o.horiz===H&&(o.setAxisSize(),o.setAxisTranslation())}constructor(D){let P,v=D.options.chart,T=xe.getRendererType(),H=v.scrollablePlotArea||{},B=this.moveFixedElements.bind(this),S={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};D.scrollablePixelsX&&(S.overflowX="auto"),D.scrollablePixelsY&&(S.overflowY="auto"),this.chart=D;let p=this.parentDiv=Q("div",{className:"highcharts-scrolling-parent"},{position:"relative"},D.renderTo),b=this.scrollingContainer=Q("div",{className:"highcharts-scrolling"},S,p),l=this.innerContainer=Q("div",{className:"highcharts-inner-container"},void 0,b),n=this.fixedDiv=Q("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(v.style?.zIndex||0)+2,top:0},void 0,!0),o=this.fixedRenderer=new T(n,D.chartWidth,D.chartHeight,v.style);this.mask=o.path().attr({fill:v.backgroundColor||"#fff","fill-opacity":H.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),b.parentNode.insertBefore(n,b),te(D.renderTo,{overflow:"visible"}),he(D,"afterShowResetZoom",B),he(D,"afterApplyDrilldown",B),he(D,"afterLayOutTitles",B),he(b,"scroll",()=>{let{pointer:h,hoverPoint:d}=D;h&&(delete h.chartPosition,d&&(P=d),h.runPointActions(void 0,P,!0))}),l.appendChild(D.container)}applyFixed(){let{chart:D,fixedRenderer:P,isDirty:v,scrollingContainer:T}=this,{axisOffset:H,chartWidth:B,chartHeight:S,container:p,plotHeight:b,plotLeft:l,plotTop:n,plotWidth:o,scrollablePixelsX:h=0,scrollablePixelsY:d=0}=D,{scrollPositionX:c=0,scrollPositionY:f=0}=D.options.chart.scrollablePlotArea||{},u=B+h,M=S+d;P.setSize(B,S),(v??!0)&&(this.isDirty=!1,this.moveFixedElements()),me(D.container),te(p,{width:`${u}px`,height:`${M}px`}),D.renderer.boxWrapper.attr({width:u,height:M,viewBox:[0,0,u,M].join(" ")}),D.chartBackground?.attr({width:u,height:M}),te(T,{width:`${B}px`,height:`${S}px`}),ee(v)||(T.scrollLeft=h*c,T.scrollTop=d*f);let U=n-H[0]-1,x=l-H[3]-1,O=n+b+H[2]+1,z=l+o+H[1]+1,j=l+o-h,J=n+b-d,y=[["M",0,0]];h?y=[["M",0,U],["L",l-1,U],["L",l-1,O],["L",0,O],["Z"],["M",j,U],["L",B,U],["L",B,O],["L",j,O],["Z"]]:d&&(y=[["M",x,0],["L",x,n-1],["L",z,n-1],["L",z,0],["Z"],["M",x,J],["L",x,S],["L",z,S],["L",z,J],["Z"]]),"adjustHeight"!==D.redrawTrigger&&this.mask.attr({d:y})}moveFixedElements(){let D,{container:P,inverted:v,scrollablePixelsX:T,scrollablePixelsY:H}=this.chart,B=this.fixedRenderer,S=C.fixedSelectors;for(let p of(T&&!v?D=".highcharts-yaxis":T&&v||H&&!v?D=".highcharts-xaxis":H&&v&&(D=".highcharts-yaxis"),D&&S.push(`${D}:not(.highcharts-radial-axis)`,`${D}-labels:not(.highcharts-radial-axis-labels)`),S))[].forEach.call(P.querySelectorAll(p),b=>{(b.namespaceURI===B.SVG_NS?B.box:B.box.parentNode).appendChild(b),b.style.pointerEvents="auto"})}}return C.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],C}),Ne(Y,"Core/Axis/Stacking/StackItem.js",[Y["Core/Templating.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{format:ve}=Z,{series:me}=ce,{destroyObjectProperties:de,fireEvent:he,isNumber:Q,pick:te}=xe;return class{constructor(ee,L,W,N,I){let C=ee.chart.inverted,A=ee.reversed;this.axis=ee;let D=this.isNegative=!!W!=!!A;this.options=L=L||{},this.x=N,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=I,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:L.align||(C?D?"left":"right":"center"),verticalAlign:L.verticalAlign||(C?"middle":D?"bottom":"top"),y:L.y,x:L.x},this.textAlign=L.textAlign||(C?D?"right":"left":"center")}destroy(){de(this,this.axis)}render(ee){let L=this.axis.chart,W=this.options,N=W.format,I=N?ve(N,this,L):W.formatter.call(this);if(this.label)this.label.attr({text:I,visibility:"hidden"});else{this.label=L.renderer.label(I,null,void 0,W.shape,void 0,void 0,W.useHTML,!1,"stack-labels");let C={r:W.borderRadius||0,text:I,padding:te(W.padding,5),visibility:"hidden"};L.styledMode||(C.fill=W.backgroundColor,C.stroke=W.borderColor,C["stroke-width"]=W.borderWidth,this.label.css(W.style||{})),this.label.attr(C),this.label.added||this.label.add(ee)}this.label.labelrank=L.plotSizeY,he(this,"afterRender")}setOffset(ee,L,W,N,I,C){let{alignOptions:A,axis:D,label:P,options:v,textAlign:T}=this,H=D.chart,B=this.getStackBox({xOffset:ee,width:L,boxBottom:W,boxTop:N,defaultX:I,xAxis:C}),{verticalAlign:S}=A;if(P&&B){let n,p=P.getBBox(void 0,0),b=P.padding,l="justify"===te(v.overflow,"justify");A.x=v.x||0,A.y=v.y||0;let{x:o,y:h}=this.adjustStackPosition({labelBox:p,verticalAlign:S,textAlign:T});B.x-=o,B.y-=h,P.align(A,!1,B),(n=H.isInsidePlot(P.alignAttr.x+A.x+o,P.alignAttr.y+A.y+h))||(l=!1),l&&me.prototype.justifyDataLabel.call(D,P,A,P.alignAttr,p,B),P.attr({x:P.alignAttr.x,y:P.alignAttr.y,rotation:v.rotation,rotationOriginX:p.width*{left:0,center:.5,right:1}[v.textAlign||"center"],rotationOriginY:p.height/2}),te(!l&&v.crop,!0)&&(n=Q(P.x)&&Q(P.y)&&H.isInsidePlot(P.x-b+(P.width||0),P.y)&&H.isInsidePlot(P.x+b,P.y)),P[n?"show":"hide"]()}he(this,"afterSetOffset",{xOffset:ee,width:L})}adjustStackPosition({labelBox:ee,verticalAlign:L,textAlign:W}){let N={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:ee.width/2+ee.width/2*N[W],y:ee.height/2*N[L]}}getStackBox(ee){let L=this.axis,W=L.chart,{boxTop:N,defaultX:I,xOffset:C,width:A,boxBottom:D}=ee,P=L.stacking.usePercentage?100:te(N,this.total,0),v=L.toPixels(P),T=ee.xAxis||W.xAxis[0],H=te(I,T.translate(this.x))+C,B=Math.abs(v-L.toPixels(D||Q(L.min)&&L.logarithmic&&L.logarithmic.lin2log(L.min)||0)),p=this.isNegative;return W.inverted?{x:(p?v:v-B)-W.plotLeft,y:T.height-H-A+T.top-W.plotTop,width:B,height:A}:{x:H+T.transB-W.plotLeft,y:(p?v-B:v)-W.plotTop,width:A,height:B}}}}),Ne(Y,"Core/Axis/Stacking/StackingAxis.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/Axis.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Axis/Stacking/StackItem.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){var de;let{getDeferredAnimation:he}=Z,{series:{prototype:Q}}=xe,{addEvent:te,correctFloat:ee,defined:L,destroyObjectProperties:W,fireEvent:N,isArray:I,isNumber:C,objectEach:A,pick:D}=me;function P(){let n=this.inverted;this.axes.forEach(o=>{o.stacking&&o.stacking.stacks&&o.hasVisibleSeries&&(o.stacking.oldStacks=o.stacking.stacks)}),this.series.forEach(o=>{let h=o.xAxis&&o.xAxis.options||{};o.options.stacking&&o.reserveSpace()&&(o.stackKey=[o.type,D(o.options.stack,""),n?h.top:h.left,n?h.height:h.width].join(","))})}function v(){let n=this.stacking;if(n){let o=n.stacks;A(o,(h,d)=>{W(h),delete o[d]}),n.stackTotalGroup?.destroy()}}function T(){this.stacking||(this.stacking=new l(this))}function H(n,o,h,d){return!L(n)||n.x!==o||d&&n.stackKey!==d?n={x:o,index:0,key:d,stackKey:d}:n.index++,n.key=[h,o,n.index].join(","),n}function B(){let n,o=this,d=o.stackKey||"",c=o.yAxis.stacking.stacks,f=o.processedXData,M=o[o.options.stacking+"Stacker"];M&&[d,"-"+d].forEach(U=>{let O,z,j,x=f.length;for(;x--;)O=f[x],n=o.getStackIndicator(n,O,o.index,U),z=c[U]?.[O],(j=z?.points[n.key||""])&&M.call(o,j,z,x)})}function S(n,o,h){let d=o.total?100/o.total:0;n[0]=ee(n[0]*d),n[1]=ee(n[1]*d),this.stackedYData[h]=n[1]}function p(n){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?Q.setStackedPoints.call(this,n,"group"):n.stacking.resetStacks())}function b(n,o){let h,d,c,f,u,M,U,x,O,z=o||this.options.stacking;if(!z||!this.reserveSpace()||({group:"xAxis"}[z]||"yAxis")!==n.coll)return;let j=this.processedXData,J=this.processedYData,y=[],w=J.length,E=this.options,X=E.threshold||0,m=E.startFromThreshold?X:0,F=E.stack,R=o?`${this.type},${z}`:this.stackKey||"",_="-"+R,G=this.negStacks,K=n.stacking,oe=K.stacks,ae=K.oldStacks;for(K.stacksTouched+=1,U=0;U<w;U++){x=j[U],O=J[U],M=(h=this.getStackIndicator(h,x,this.index)).key||"",oe[u=(d=G&&O<(m?0:X))?_:R]||(oe[u]={}),oe[u][x]||(ae[u]?.[x]?(oe[u][x]=ae[u][x],oe[u][x].total=null):oe[u][x]=new ve(n,n.options.stackLabels,!!d,x,F)),c=oe[u][x],null!==O?(c.points[M]=c.points[this.index]=[D(c.cumulative,m)],L(c.cumulative)||(c.base=M),c.touched=K.stacksTouched,h.index>0&&!1===this.singleStacks&&(c.points[M][0]=c.points[this.index+","+x+",0"][0])):(delete c.points[M],delete c.points[this.index]);let ue=c.total||0;"percent"===z?(f=d?R:_,ue=G&&oe[f]?.[x]?(f=oe[f][x]).total=Math.max(f.total||0,ue)+Math.abs(O)||0:ee(ue+(Math.abs(O)||0))):"group"===z?(I(O)&&(O=O[0]),null!==O&&ue++):ue=ee(ue+(O||0)),c.cumulative="group"===z?(ue||1)-1:ee(D(c.cumulative,m)+(O||0)),c.total=ue,null!==O&&(c.points[M].push(c.cumulative),y[U]=c.cumulative,c.hasValidPoints=!0)}"percent"===z&&(K.usePercentage=!0),"group"!==z&&(this.stackedYData=y),K.oldStacks={}}class l{constructor(o){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=o}buildStacks(){let o,h,d=this.axis,c=d.series,f="xAxis"===d.coll,u=d.options.reversedStacks,M=c.length;for(this.resetStacks(),this.usePercentage=!1,h=M;h--;)o=c[u?h:M-h-1],f&&o.setGroupedPoints(d),o.setStackedPoints(d);if(!f)for(h=0;h<M;h++)c[h].modifyStacks();N(d,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,A(this.stacks,o=>{A(o,h=>{h.cumulative=h.total})}))}resetStacks(){A(this.stacks,o=>{A(o,(h,d)=>{C(h.touched)&&h.touched<this.stacksTouched?(h.destroy(),delete o[d]):(h.total=null,h.cumulative=null)})})}renderStackTotals(){let o=this.axis,h=o.chart,d=h.renderer,c=this.stacks,f=he(h,o.options.stackLabels?.animation||!1),u=this.stackTotalGroup=this.stackTotalGroup||d.g("stack-labels").attr({zIndex:6,opacity:0}).add();u.translate(h.plotLeft,h.plotTop),A(c,M=>{A(M,U=>{U.render(u)})}),u.animate({opacity:1},f)}}return(de||(de={})).compose=function(n,o,h){let d=o.prototype,c=h.prototype;d.getStacks||(te(n,"init",T),te(n,"destroy",v),d.getStacks=P,c.getStackIndicator=H,c.modifyStacks=B,c.percentStacker=S,c.setGroupedPoints=p,c.setStackedPoints=b)},de}),Ne(Y,"Series/Line/LineSeries.js",[Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{defined:ve,merge:me,isObject:de}=xe;class he extends Z{drawGraph(){let te=this.options,ee=(this.gappedPath||this.getGraphPath).call(this),L=this.chart.styledMode;[this,...this.zones].forEach((W,N)=>{let I,C=W.graph,A=C?"animate":"attr",D=W.dashStyle||te.dashStyle;C?(C.endX=this.preventGraphAnimation?null:ee.xMap,C.animate({d:ee})):ee.length&&(W.graph=C=this.chart.renderer.path(ee).addClass("highcharts-graph"+(N?` highcharts-zone-graph-${N-1} `:" ")+(N&&W.className||"")).attr({zIndex:1}).add(this.group)),C&&!L&&(I={stroke:!N&&te.lineColor||W.color||this.color||"#cccccc","stroke-width":te.lineWidth||0,fill:this.fillGraph&&this.color||"none"},D?I.dashstyle=D:"square"!==te.linecap&&(I["stroke-linecap"]=I["stroke-linejoin"]="round"),C[A](I).shadow(N<2&&te.shadow&&me({filterUnits:"userSpaceOnUse"},de(te.shadow)?te.shadow:{}))),C&&(C.startX=ee.xMap,C.isArea=ee.isArea)})}getGraphPath(te,ee,L){let A,W=this,N=W.options,I=[],C=[],D=N.step,P=(te=te||W.points).reversed;return P&&te.reverse(),(D={right:1,center:2}[D]||D&&3)&&P&&(D=4-D),(te=this.getValidPoints(te,!1,!(N.connectNulls&&!ee&&!L))).forEach(function(v,T){let H,B=v.plotX,S=v.plotY,p=te[T-1],b=v.isNull||"number"!=typeof S;(v.leftCliff||p&&p.rightCliff)&&!L&&(A=!0),b&&!ve(ee)&&T>0?A=!N.connectNulls:b&&!ee?A=!0:(0===T||A?H=[["M",v.plotX,v.plotY]]:W.getPointSpline?H=[W.getPointSpline(te,v,T)]:D?(H=1===D?[["L",p.plotX,S]]:2===D?[["L",(p.plotX+B)/2,p.plotY],["L",(p.plotX+B)/2,S]]:[["L",B,p.plotY]]).push(["L",B,S]):H=[["L",B,S]],C.push(v.x),D&&(C.push(v.x),2===D&&C.push(v.x)),I.push.apply(I,H),A=!1)}),I.xMap=C,W.graphPath=I,I}}return he.defaultOptions=me(Z.defaultOptions,{legendSymbol:"lineMarker"}),ce.registerSeriesType("line",he),he}),Ne(Y,"Series/Area/AreaSeriesDefaults.js",[],function(){return{threshold:0,legendSymbol:"areaMarker"}}),Ne(Y,"Series/Area/AreaSeries.js",[Y["Series/Area/AreaSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{seriesTypes:{line:ve}}=ce,{extend:me,merge:de,objectEach:he,pick:Q}=xe;class te extends ve{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:L,options:W}=this;[this,...this.zones].forEach((N,I)=>{let C={},A=N.fillColor||W.fillColor,D=N.area,P=D?"animate":"attr";D?(D.endX=this.preventGraphAnimation?null:L.xMap,D.animate({d:L})):(C.zIndex=0,(D=N.area=this.chart.renderer.path(L).addClass("highcharts-area"+(I?` highcharts-zone-area-${I-1} `:" ")+(I&&N.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(C.fill=A||N.color||this.color,C["fill-opacity"]=A?1:W.fillOpacity??.75,D.css({pointerEvents:this.stickyTracking?"none":"auto"})),D[P](C),D.startX=L.xMap,D.shiftUnit=W.step?2:1})}getGraphPath(L){let W,N,I,C=ve.prototype.getGraphPath,A=this.options,D=A.stacking,P=this.yAxis,v=[],T=[],H=this.index,B=P.stacking.stacks[this.stackKey],S=A.threshold,p=Math.round(P.getThreshold(A.threshold)),b=Q(A.connectNulls,"percent"===D),l=function(f,u,M){let j,J,U=L[f],x=D&&B[U.x].points[H],O=U[M+"Null"]||0,z=U[M+"Cliff"]||0,y=!0;z||O?(j=(O?x[0]:x[1])+z,J=x[0]+z,y=!!O):!D&&L[u]&&L[u].isNull&&(j=J=S),void 0!==j&&(T.push({plotX:W,plotY:null===j?p:P.getThreshold(j),isNull:y,isCliff:!0}),v.push({plotX:W,plotY:null===J?p:P.getThreshold(J),doCurve:!1}))};L=L||this.points,D&&(L=this.getStackPoints(L));for(let f=0,u=L.length;f<u;++f)D||(L[f].leftCliff=L[f].rightCliff=L[f].leftNull=L[f].rightNull=void 0),N=L[f].isNull,W=Q(L[f].rectPlotX,L[f].plotX),I=D?Q(L[f].yBottom,p):p,N&&!b||(b||l(f,f-1,"left"),N&&!D&&b||(T.push(L[f]),v.push({x:f,plotX:W,plotY:I})),b||l(f,f+1,"right"));let n=C.call(this,T,!0,!0);v.reversed=!0;let o=C.call(this,v,!0,!0),h=o[0];h&&"M"===h[0]&&(o[0]=["L",h[1],h[2]]);let d=n.concat(o);d.length&&d.push(["Z"]);let c=C.call(this,T,!1,b);return this.chart.series.length>1&&D&&T.some(f=>f.isCliff)&&(d.hasStackedCliffs=c.hasStackedCliffs=!0),d.xMap=n.xMap,this.areaPath=d,c}getStackPoints(L){let W=this,N=[],I=[],C=this.xAxis,A=this.yAxis,D=A.stacking.stacks[this.stackKey],P={},v=A.series,T=v.length,H=A.options.reversedStacks?1:-1,B=v.indexOf(W);if(L=L||this.points,this.options.stacking){for(let p=0;p<L.length;p++)L[p].leftNull=L[p].rightNull=void 0,P[L[p].x]=L[p];he(D,function(p,b){null!==p.total&&I.push(b)}),I.sort(function(p,b){return p-b});let S=v.map(p=>p.visible);I.forEach(function(p,b){let n,o,l=0;if(P[p]&&!P[p].isNull)N.push(P[p]),[-1,1].forEach(function(h){let d=1===h?"rightNull":"leftNull",c=D[I[b+h]],f=0;if(c){let u=B;for(;u>=0&&u<T;){let M=v[u].index;!(n=c.points[M])&&(M===W.index?P[p][d]=!0:S[u]&&(o=D[p].points[M])&&(f-=o[1]-o[0])),u+=H}}P[p][1===h?"rightCliff":"leftCliff"]=f});else{let h=B;for(;h>=0&&h<T;){if(n=D[p].points[v[h].index]){l=n[1];break}h+=H}l=Q(l,0),l=A.translate(l,0,1,0,1),N.push({isNull:!0,plotX:C.translate(p,0,0,0,1),x:p,plotY:l,yBottom:l})}})}return N}}return te.defaultOptions=de(ve.defaultOptions,Z),me(te.prototype,{singleStacks:!1}),ce.registerSeriesType("area",te),te}),Ne(Y,"Series/Spline/SplineSeries.js",[Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce){let{line:xe}=Z.seriesTypes,{merge:ve,pick:me}=ce;class de extends xe{getPointSpline(Q,te,ee){let L,W,N,I,C=te.plotX||0,A=te.plotY||0,D=Q[ee-1],P=Q[ee+1];function v(H){return H&&!H.isNull&&!1!==H.doCurve&&!te.isCliff}if(v(D)&&v(P)){let B=D.plotY||0,p=P.plotY||0,b=0;L=(1.5*C+(D.plotX||0))/2.5,W=(1.5*A+B)/2.5,N=(1.5*C+(P.plotX||0))/2.5,I=(1.5*A+p)/2.5,N!==L&&(b=(I-W)*(N-C)/(N-L)+A-I),W+=b,I+=b,W>B&&W>A?(W=Math.max(B,A),I=2*A-W):W<B&&W<A&&(W=Math.min(B,A),I=2*A-W),I>p&&I>A?(I=Math.max(p,A),W=2*A-I):I<p&&I<A&&(I=Math.min(p,A),W=2*A-I),te.rightContX=N,te.rightContY=I,te.controlPoints={low:[L,W],high:[N,I]}}let T=["C",me(D.rightContX,D.plotX,0),me(D.rightContY,D.plotY,0),me(L,C,0),me(W,A,0),C,A];return D.rightContX=D.rightContY=void 0,T}}return de.defaultOptions=ve(xe.defaultOptions),Z.registerSeriesType("spline",de),de}),Ne(Y,"Series/AreaSpline/AreaSplineSeries.js",[Y["Series/Spline/SplineSeries.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{area:ve,area:{prototype:me}}=ce.seriesTypes,{extend:de,merge:he}=xe;class Q extends Z{}return Q.defaultOptions=he(Z.defaultOptions,ve.defaultOptions),de(Q.prototype,{getGraphPath:me.getGraphPath,getStackPoints:me.getStackPoints,drawGraph:me.drawGraph}),ce.registerSeriesType("areaspline",Q),Q}),Ne(Y,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),Ne(Y,"Series/Column/ColumnSeries.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Color/Color.js"],Y["Series/Column/ColumnSeriesDefaults.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he){let{animObject:Q}=Z,{parse:te}=ce,{noop:ee}=ve,{clamp:L,crisp:W,defined:N,extend:I,fireEvent:C,isArray:A,isNumber:D,merge:P,pick:v,objectEach:T}=he;class H extends me{animate(S){let p,b,l=this,n=this.yAxis,o=n.pos,h=n.reversed,d=l.options,{clipOffset:c,inverted:f}=this.chart,u={},M=f?"translateX":"translateY";S&&c?(u.scaleY=.001,b=L(n.toPixels(d.threshold),o,o+n.len),f?(b+=h?-Math.floor(c[0]):Math.ceil(c[2]),u.translateX=b-n.len):(b+=h?Math.ceil(c[0]):-Math.floor(c[2]),u.translateY=b),l.clipBox&&l.setClip(),l.group.attr(u)):(p=Number(l.group.attr(M)),l.group.animate({scaleY:1},I(Q(l.options.animation),{step:function(U,x){l.group&&(u[M]=p+x.pos*(o-p),l.group.attr(u))}})))}init(S,p){super.init.apply(this,arguments);let b=this;(S=b.chart).hasRendered&&S.series.forEach(function(l){l.type===b.type&&(l.isDirty=!0)})}getColumnMetrics(){let d,S=this,p=S.options,b=S.xAxis,l=S.yAxis,n=b.options.reversedStacks,o=b.reversed&&!n||!b.reversed&&n,h={},c=0;!1===p.grouping?c=1:S.chart.series.forEach(function(O){let z,j=O.yAxis,J=O.options;O.type===S.type&&O.reserveSpace()&&l.len===j.len&&l.pos===j.pos&&(J.stacking&&"group"!==J.stacking?(void 0===h[d=O.stackKey]&&(h[d]=c++),z=h[d]):!1!==J.grouping&&(z=c++),O.columnIndex=z)});let f=Math.min(Math.abs(b.transA)*(!b.brokenAxis?.hasBreaks&&b.ordinal?.slope||p.pointRange||b.closestPointRange||b.tickInterval||1),b.len),u=f*p.groupPadding,M=(f-2*u)/(c||1),U=Math.min(p.maxPointWidth||b.len,v(p.pointWidth,M*(1-2*p.pointPadding)));return S.columnMetrics={width:U,offset:(M-U)/2+(u+((S.columnIndex||0)+(o?1:0))*M-f/2)*(o?-1:1),paddedWidth:M,columnCount:c},S.columnMetrics}crispCol(S,p,b,l){let n=this.borderWidth,o=this.chart.inverted;return l=W(p+l,n,o)-(p=W(p,n,o)),this.options.crisp&&(b=W(S+b,n)-(S=W(S,n))),{x:S,y:p,width:b,height:l}}adjustForMissingColumns(S,p,b,l){if(!b.isNull&&l.columnCount>1){let n=this.xAxis.series.filter(c=>c.visible).map(c=>c.index),o=0,h=0;T(this.xAxis.stacking?.stacks,c=>{if("number"==typeof b.x){let f=c[b.x.toString()];if(f&&A(f.points[this.index])){let u=Object.keys(f.points).filter(M=>!M.match(",")&&f.points[M]&&f.points[M].length>1).map(parseFloat).filter(M=>-1!==n.indexOf(M)).sort((M,U)=>U-M);o=u.indexOf(this.index),h=u.length}}}),o=this.xAxis.reversed?h-1-o:o,S=(b.plotX||0)+((h-1)*l.paddedWidth+p)/2-p-o*l.paddedWidth}return S}translate(){let S=this,p=S.chart,b=S.options,l=S.dense=S.closestPointRange*S.xAxis.transA<2,n=S.borderWidth=v(b.borderWidth,l?0:1),o=S.xAxis,h=S.yAxis,d=b.threshold,c=v(b.minPointLength,5),f=S.getColumnMetrics(),u=f.width,M=S.pointXOffset=f.offset,U=S.dataMin,x=S.dataMax,O=S.translatedThreshold=h.getThreshold(d),z=S.barW=Math.max(u,1+2*n);b.pointPadding&&(z=Math.ceil(z)),me.prototype.translate.apply(S),S.points.forEach(function(j){let X,J=v(j.yBottom,O),y=999+Math.abs(J),w=j.plotX||0,E=L(j.plotY,-y,h.len+y),m=Math.min(E,J),F=Math.max(E,J)-m,R=u,_=w+M,G=z;c&&Math.abs(F)<c&&(F=c,X=!h.reversed&&!j.negative||h.reversed&&j.negative,D(d)&&D(x)&&j.y===d&&x<=d&&(h.min||0)<d&&(U!==x||(h.max||0)<=d)&&(X=!X,j.negative=!j.negative),m=Math.abs(m-O)>c?J-c:O-(X?c:0)),N(j.options.pointWidth)&&(_-=Math.round(((R=G=Math.ceil(j.options.pointWidth))-u)/2)),b.centerInCategory&&!b.stacking&&(_=S.adjustForMissingColumns(_,R,j,f)),j.barX=_,j.pointWidth=R,j.tooltipPos=p.inverted?[L(h.len+h.pos-p.plotLeft-E,h.pos-p.plotLeft,h.len+h.pos-p.plotLeft),o.len+o.pos-p.plotTop-_-G/2,F]:[o.left-p.plotLeft+_+G/2,L(E+h.pos-p.plotTop,h.pos-p.plotTop,h.len+h.pos-p.plotTop),F],j.shapeType=S.pointClass.prototype.shapeType||"roundedRect",j.shapeArgs=S.crispCol(_,j.isNull?O:m,G,j.isNull?0:F)}),C(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(S,p){let h,d,c,b=this.options,l=this.pointAttrToOptions||{},n=l.stroke||"borderColor",o=l["stroke-width"]||"borderWidth",f=S&&S.color||this.color,u=S&&S[n]||b[n]||f,M=S&&S.options.dashStyle||b.dashStyle,U=S&&S[o]||b[o]||this[o]||0,x=v(S&&S.opacity,b.opacity,1);S&&this.zones.length&&(d=S.getZone(),f=S.options.color||d&&(d.color||S.nonZonedColor)||this.color,d&&(u=d.borderColor||u,M=d.dashStyle||M,U=d.borderWidth||U)),p&&S&&(c=(h=P(b.states[p],S.options.states&&S.options.states[p]||{})).brightness,f=h.color||void 0!==c&&te(f).brighten(h.brightness).get()||f,u=h[n]||u,U=h[o]||U,M=h.dashStyle||M,x=v(h.opacity,x));let O={fill:f,stroke:u,"stroke-width":U,opacity:x};return M&&(O.dashstyle=M),O}drawPoints(S=this.points){let p,b=this,l=this.chart,n=b.options,o=l.renderer,h=n.animationLimit||250;S.forEach(function(d){let f=d.graphic,u=!!f,M=f&&l.pointCount<h?"animate":"attr";D(d.plotY)&&null!==d.y?(p=d.shapeArgs,f&&d.hasNewShapeType()&&(f=f.destroy()),b.enabledDataSorting&&(d.startXPos=b.xAxis.reversed?-(p&&p.width||0):b.xAxis.width),!f&&(d.graphic=f=o[d.shapeType](p).add(d.group||b.group),f&&b.enabledDataSorting&&l.hasRendered&&l.pointCount<h&&(f.attr({x:d.startXPos}),u=!0,M="animate")),f&&u&&f[M](P(p)),l.styledMode||f[M](b.pointAttribs(d,d.selected&&"select")).shadow(!1!==d.allowShadow&&n.shadow),f&&(f.addClass(d.getClassName(),!0),f.attr({visibility:d.visible?"inherit":"hidden"}))):f&&(d.graphic=f.destroy())})}drawTracker(S=this.points){let p,b=this,l=b.chart,n=l.pointer,o=function(h){let d=n?.getPointFromEvent(h);n&&d&&b.options.enableMouseTracking&&(n.isDirectTouch=!0,d.onMouseOver(h))};S.forEach(function(h){p=A(h.dataLabels)?h.dataLabels:h.dataLabel?[h.dataLabel]:[],h.graphic&&(h.graphic.element.point=h),p.forEach(function(d){(d.div||d.element).point=h})}),b._hasTracking||(b.trackerGroups.forEach(function(h){b[h]&&(b[h].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(d){n?.onTrackerMouseOut(d)}).on("touchstart",o),!l.styledMode&&b.options.cursor&&b[h].css({cursor:b.options.cursor}))}),b._hasTracking=!0),C(this,"afterDrawTracker")}remove(){let S=this,p=S.chart;p.hasRendered&&p.series.forEach(function(b){b.type===S.type&&(b.isDirty=!0)}),me.prototype.remove.apply(S,arguments)}}return H.defaultOptions=P(me.defaultOptions,xe),I(H.prototype,{directTouch:!0,getSymbol:ee,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),de.registerSeriesType("column",H),H}),Ne(Y,"Core/Series/DataLabel.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{getDeferredAnimation:me}=Z,{format:de}=ce,{defined:he,extend:Q,fireEvent:te,isArray:ee,isString:L,merge:W,objectEach:N,pick:I,pInt:C,splat:A}=xe;return function(D){function P(){return b(this).some(n=>n?.enabled)}function v(n,o,h,d,c){let{chart:f,enabledDataSorting:u}=this,M=this.isCartesian&&f.inverted,U=n.plotX,x=n.plotY,O=h.rotation||0,z=he(U)&&he(x)&&f.isInsidePlot(U,Math.round(x),{inverted:M,paneCoordinates:!0,series:this}),j=0===O&&"justify"===I(h.overflow,u?"none":"justify"),J=this.visible&&!1!==n.visible&&he(U)&&(n.series.forceDL||u&&!j||z||I(h.inside,!!this.options.stacking)&&d&&f.isInsidePlot(U,M?d.x+1:d.y+d.height-1,{inverted:M,paneCoordinates:!0,series:this})),y=n.pos();if(J&&y){let E=o.getBBox(),X=o.getBBox(void 0,0),m={right:1,center:.5}[h.align||0]||0,F={bottom:1,middle:.5}[h.verticalAlign||0]||0;if(d=Q({x:y[0],y:Math.round(y[1]),width:0,height:0},d||{}),"plotEdges"===h.alignTo&&this.isCartesian&&(d[M?"x":"y"]=0,d[M?"width":"height"]=this.yAxis?.len||0),Q(h,{width:E.width,height:E.height}),u&&this.xAxis&&!j&&this.setDataLabelStartPos(n,o,c,z,d),o.align(W(h,{width:X.width,height:X.height}),!1,d,!1),o.alignAttr.x+=m*(X.width-E.width),o.alignAttr.y+=F*(X.height-E.height),o[o.placed?"animate":"attr"]({x:o.alignAttr.x+(E.width-X.width)/2,y:o.alignAttr.y+(E.height-X.height)/2,rotationOriginX:(o.width||0)/2,rotationOriginY:(o.height||0)/2}),j&&d.height>=0)this.justifyDataLabel(o,h,o.alignAttr,E,d,c);else if(I(h.crop,!0)){let{x:R,y:_}=o.alignAttr;J=f.isInsidePlot(R,_,{paneCoordinates:!0,series:this})&&f.isInsidePlot(R+E.width-1,_+E.height-1,{paneCoordinates:!0,series:this})}h.shape&&!O&&o[c?"attr":"animate"]({anchorX:y[0],anchorY:y[1]})}c&&u&&(o.placed=!1),J||u&&!j?(o.show(),o.placed=!0):(o.hide(),o.placed=!1)}function T(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function H(n){let o=this.hasRendered||0,h=this.initDataLabelsGroup().attr({opacity:+o});return!o&&h&&(this.visible&&h.show(),this.options.animation?h.animate({opacity:1},n):h.attr({opacity:1})),h}function B(n){let o;n=n||this.points;let h=this,d=h.chart,c=h.options,f=d.renderer,{backgroundColor:u,plotBackgroundColor:M}=d.options.chart,U=f.getContrast(L(M)&&M||L(u)&&u||"#000000"),x=b(h),{animation:O,defer:z}=x[0],j=z?me(d,O,h):{defer:0,duration:0};te(this,"drawDataLabels"),h.hasDataLabels?.()&&(o=this.initDataLabels(j),n.forEach(J=>{let y=J.dataLabels||[];A(p(x,J.dlOptions||J.options?.dataLabels)).forEach((E,X)=>{let K,oe,ae,ue,q,m=E.enabled&&(J.visible||J.dataLabelOnHidden)&&(!J.isNull||J.dataLabelOnNull)&&function(re,le){let pe=le.filter;if(pe){let ge=pe.operator,we=re[pe.property],ye=pe.value;return">"===ge&&we>ye||"<"===ge&&we<ye||">="===ge&&we>=ye||"<="===ge&&we<=ye||"=="===ge&&we==ye||"==="===ge&&we===ye||"!="===ge&&we!=ye||"!=="===ge&&we!==ye}return!0}(J,E),{backgroundColor:F,borderColor:R,distance:_,style:G={}}=E,be={},Se=y[X],ie=!Se;m&&(oe=I(E[J.formatPrefix+"Format"],E.format),K=J.getLabelConfig(),ae=he(oe)?de(oe,K,d):(E[J.formatPrefix+"Formatter"]||E.formatter).call(K,E),ue=E.rotation,!d.styledMode&&(G.color=I(E.color,G.color,L(h.color)?h.color:void 0,"#000000"),"contrast"===G.color?("none"!==F&&(q=F),J.contrastColor=f.getContrast("auto"!==q&&q||J.color||h.color),G.color=q||!he(_)&&E.inside||0>C(_||0)||c.stacking?J.contrastColor:U):delete J.contrastColor,c.cursor&&(G.cursor=c.cursor)),be={r:E.borderRadius||0,rotation:ue,padding:E.padding,zIndex:1},d.styledMode||(be.fill="auto"===F?J.color:F,be.stroke="auto"===R?J.color:R,be["stroke-width"]=E.borderWidth),N(be,(re,le)=>{void 0===re&&delete be[le]})),!Se||m&&he(ae)&&!!Se.div==!!E.useHTML&&(Se.rotation&&E.rotation||Se.rotation===E.rotation)||(Se=void 0,ie=!0),m&&he(ae)&&(Se?be.text=ae:(Se=f.label(ae,0,0,E.shape,void 0,void 0,E.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+J.colorIndex+" "+(E.className||"")+(E.useHTML?" highcharts-tracker":"")),Se&&(Se.options=E,Se.attr(be),d.styledMode?G.width&&Se.css({width:G.width,textOverflow:G.textOverflow}):Se.css(G).shadow(E.shadow),te(Se,"beforeAddingDataLabel",{labelOptions:E,point:J}),Se.added||Se.add(o),h.alignDataLabel(J,Se,E,void 0,ie),Se.isActive=!0,y[X]&&y[X]!==Se&&y[X].destroy(),y[X]=Se))});let w=y.length;for(;w--;)y[w]&&y[w].isActive?y[w].isActive=!1:(y[w]?.destroy(),y.splice(w,1));J.dataLabel=y[0],J.dataLabels=y})),te(this,"afterDrawDataLabels")}function S(n,o,h,d,c,f){let E,X,u=this.chart,M=o.align,U=o.verticalAlign,x=n.box?0:n.padding||0,O=u.inverted?this.yAxis:this.xAxis,z=O?O.left-u.plotLeft:0,j=u.inverted?this.xAxis:this.yAxis,J=j?j.top-u.plotTop:0,{x:y=0,y:w=0}=o;return(E=(h.x||0)+x+z)<0&&("right"===M&&y>=0?(o.align="left",o.inside=!0):y-=E,X=!0),(E=(h.x||0)+d.width-x+z)>u.plotWidth&&("left"===M&&y<=0?(o.align="right",o.inside=!0):y+=u.plotWidth-E,X=!0),(E=h.y+x+J)<0&&("bottom"===U&&w>=0?(o.verticalAlign="top",o.inside=!0):w-=E,X=!0),(E=(h.y||0)+d.height-x+J)>u.plotHeight&&("top"===U&&w<=0?(o.verticalAlign="bottom",o.inside=!0):w+=u.plotHeight-E,X=!0),X&&(o.x=y,o.y=w,n.placed=!f,n.align(o,void 0,c)),X}function p(n,o){let d,h=[];if(ee(n)&&!ee(o))h=n.map(function(c){return W(c,o)});else if(ee(o)&&!ee(n))h=o.map(function(c){return W(n,c)});else if(ee(n)||ee(o)){if(ee(n)&&ee(o))for(d=Math.max(n.length,o.length);d--;)h[d]=W(n[d],o[d])}else h=W(n,o);return h}function b(n){let o=n.chart.options.plotOptions;return A(p(p(o?.series?.dataLabels,o?.[n.type]?.dataLabels),n.options.dataLabels))}function l(n,o,h,d,c){let f=this.chart,u=f.inverted,M=this.xAxis,U=M.reversed,x=((u?o.height:o.width)||0)/2,O=n.pointWidth,z=O?O/2:0;o.startXPos=u?c.x:U?-x-z:M.width-x+z,o.startYPos=u?U?this.yAxis.height-x+z:-x-z:c.y,d?"hidden"===o.visibility&&(o.show(),o.attr({opacity:0}).animate({opacity:1})):o.attr({opacity:1}).animate({opacity:0},void 0,o.hide),f.hasRendered&&(h&&o.attr({x:o.startXPos,y:o.startYPos}),o.placed=!0)}D.compose=function(n){let o=n.prototype;o.initDataLabels||(o.initDataLabels=H,o.initDataLabelsGroup=T,o.alignDataLabel=v,o.drawDataLabels=B,o.justifyDataLabel=S,o.setDataLabelStartPos=l,o.hasDataLabels=P)}}(ve||(ve={})),ve}),Ne(Y,"Series/Column/ColumnDataLabel.js",[Y["Core/Series/DataLabel.js"],Y["Core/Globals.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{composed:de}=ce,{series:he}=xe,{merge:Q,pick:te,pushUnique:ee}=ve;return function(L){function W(N,I,C,A,D){let P=this.chart.inverted,v=N.series,T=(v.xAxis?v.xAxis.len:this.chart.plotSizeX)||0,H=(v.yAxis?v.yAxis.len:this.chart.plotSizeY)||0,B=N.dlBox||N.shapeArgs,S=te(N.below,N.plotY>te(this.translatedThreshold,H)),p=te(C.inside,!!this.options.stacking);if(B){if(A=Q(B),"allow"!==C.overflow||!1!==C.crop){A.y<0&&(A.height+=A.y,A.y=0);let b=A.y+A.height-H;b>0&&b<A.height-1&&(A.height-=b)}P&&(A={x:H-A.y-A.height,y:T-A.x-A.width,width:A.height,height:A.width}),p||(P?(A.x+=S?0:A.width,A.width=0):(A.y+=S?A.height:0,A.height=0))}C.align=te(C.align,!P||p?"center":S?"right":"left"),C.verticalAlign=te(C.verticalAlign,P||p?"middle":S?"top":"bottom"),he.prototype.alignDataLabel.call(this,N,I,C,A,D),C.inside&&N.contrastColor&&I.css({color:N.contrastColor})}L.compose=function(N){Z.compose(he),ee(de,"ColumnDataLabel")&&(N.prototype.alignDataLabel=W)}}(me||(me={})),me}),Ne(Y,"Series/Bar/BarSeries.js",[Y["Series/Column/ColumnSeries.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{extend:ve,merge:me}=xe;class de extends Z{}return de.defaultOptions=me(Z.defaultOptions,{}),ve(de.prototype,{inverted:!0}),ce.registerSeriesType("bar",de),de}),Ne(Y,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),Ne(Y,"Series/Scatter/ScatterSeries.js",[Y["Series/Scatter/ScatterSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{column:ve,line:me}=ce.seriesTypes,{addEvent:de,extend:he,merge:Q}=xe;class te extends me{applyJitter(){let L=this,W=this.options.jitter,N=this.points.length;W&&this.points.forEach(function(I,C){["x","y"].forEach(function(A,D){if(W[A]&&!I.isNull){let P=`plot${A.toUpperCase()}`,v=L[`${A}Axis`],T=W[A]*v.transA;if(v&&!v.logarithmic){let H=Math.max(0,(I[P]||0)-T),B=Math.min(v.len,(I[P]||0)+T);I[P]=H+(B-H)*function(S){let p=1e4*Math.sin(S);return p-Math.floor(p)}(C+D*N),"x"===A&&(I.clientX=I.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return te.defaultOptions=Q(me.defaultOptions,Z),he(te.prototype,{drawTracker:ve.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),de(te,"afterTranslate",function(){this.applyJitter()}),ce.registerSeriesType("scatter",te),te}),Ne(Y,"Series/CenteredUtilities.js",[Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve,me;let{deg2rad:de}=Z,{fireEvent:he,isNumber:Q,pick:te,relativeLength:ee}=xe;return(me=ve||(ve={})).getCenter=function(){let v,B,S,L=this.options,W=this.chart,N=2*(L.slicedOffset||0),I=W.plotWidth-2*N,C=W.plotHeight-2*N,A=L.center,D=Math.min(I,C),P=L.thickness,T=L.size,H=L.innerSize||0;"string"==typeof T&&(T=parseFloat(T)),"string"==typeof H&&(H=parseFloat(H));let p=[te(A[0],"50%"),te(A[1],"50%"),te(T&&T<0?void 0:L.size,"100%"),te(H&&H<0?void 0:L.innerSize||0,"0%")];for(!W.angular||this instanceof ce||(p[3]=0),B=0;B<4;++B)S=p[B],v=B<2||2===B&&/%$/.test(S),p[B]=ee(S,[I,C,D,p[2]][B])+(v?N:0);return p[3]>p[2]&&(p[3]=p[2]),Q(P)&&2*P<p[2]&&P>0&&(p[3]=p[2]-2*P),he(this,"afterGetCenter",{positions:p}),p},me.getStartAndEndRadians=function(L,W){let N=Q(L)?L:0,I=Q(W)&&W>N&&W-N<360?W:N+360;return{start:de*(N+-90),end:de*(I+-90)}},ve}),Ne(Y,"Series/Pie/PiePoint.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Series/Point.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{setAnimation:ve}=Z,{addEvent:me,defined:de,extend:he,isNumber:Q,pick:te,relativeLength:ee}=xe;class L extends ce{getConnectorPath(N){let I=N.dataLabelPosition,C=N.options||{},A=C.connectorShape;return I&&(this.connectorShapes[A]||A).call(this,{...I.computed,alignment:I.alignment},I.connectorPosition,C)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(N){let I=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(I.x,I.y,I.r+N,I.r+N,{innerR:I.r-1,start:I.start,end:I.end,borderRadius:I.borderRadius})}constructor(N,I,C){super(N,I,C),this.half=0,this.name??(this.name="Slice");let A=D=>{this.slice("select"===D.type)};me(this,"select",A),me(this,"unselect",A)}isValid(){return Q(this.y)&&this.y>=0}setVisible(N,I=!0){N!==this.visible&&this.update({visible:N??!this.visible},I,void 0,!1)}slice(N,I,C){let A=this.series;ve(C,A.chart),I=te(I,!0),this.sliced=this.options.sliced=N=de(N)?N:!this.sliced,A.options.data[A.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return he(L.prototype,{connectorShapes:{fixedOffset:function(W,N,I){let C=N.breakAt,A=N.touchingSliceAt;return[["M",W.x,W.y],I.softConnector?["C",W.x+("left"===W.alignment?-5:5),W.y,2*C.x-A.x,2*C.y-A.y,C.x,C.y]:["L",C.x,C.y],["L",A.x,A.y]]},straight:function(W,N){let I=N.touchingSliceAt;return[["M",W.x,W.y],["L",I.x,I.y]]},crookedLine:function(W,N,I){let{breakAt:C,touchingSliceAt:A}=N,{series:D}=this,[P,v,T]=D.center,H=T/2,{plotLeft:B,plotWidth:S}=D.chart,p="left"===W.alignment,{x:b,y:l}=W,n=C.x;if(I.crookDistance){let h=ee(I.crookDistance,1);n=p?P+H+(S+B-P-H)*(1-h):B+(P-H)*h}else n=P+(v-l)*Math.tan((this.angle||0)-Math.PI/2);let o=[["M",b,l]];return(p?n<=b&&n>=C.x:n>=b&&n<=C.x)&&o.push(["L",n,l]),o.push(["L",C.x,C.y],["L",A.x,A.y]),o}}}),L}),Ne(Y,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),Ne(Y,"Series/Pie/PieSeries.js",[Y["Series/CenteredUtilities.js"],Y["Series/Column/ColumnSeries.js"],Y["Core/Globals.js"],Y["Series/Pie/PiePoint.js"],Y["Series/Pie/PieSeriesDefaults.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/Symbols.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te){let{getStartAndEndRadians:ee}=Z,{noop:L}=xe,{clamp:W,extend:N,fireEvent:I,merge:C,pick:A}=te;class D extends de{animate(v){let T=this,B=T.startAngleRad;v||T.points.forEach(function(S){let p=S.graphic,b=S.shapeArgs;p&&b&&(p.attr({r:A(S.startR,T.center&&T.center[3]/2),start:B,end:B}),p.animate({r:b.r,start:b.start,end:b.end},T.options.animation))})}drawEmpty(){let v,T,H=this.startAngleRad,B=this.endAngleRad,S=this.options;0===this.total&&this.center?(v=this.center[0],T=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(v,T,this.center[1]/2,0,H,B).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Q.arc(v,T,this.center[2]/2,0,{start:H,end:B,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":S.borderWidth,fill:S.fillColor||"none",stroke:S.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let v=this.chart.renderer;this.points.forEach(function(T){T.graphic&&T.hasNewShapeType()&&(T.graphic=T.graphic.destroy()),T.graphic||(T.graphic=v[T.shapeType](T.shapeArgs).add(T.series.group),T.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(v,T,H,B){let S=this.center,p=this.radii?this.radii[H.index]||0:S[2]/2,b=B.dataLabelPosition,l=b?.distance||0,n=Math.asin(W((v-S[1])/(p+l),-1,1));return S[0]+Math.cos(n)*(p+l)*(T?-1:1)+(l>0?(T?-1:1)*(B.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let v,T,H,B,S=this,p=S.chart;this.drawEmpty(),S.group&&!p.styledMode&&S.group.shadow(S.options.shadow),S.points.forEach(function(b){let l={};T=b.graphic,!b.isNull&&T?(B=b.shapeArgs,v=b.getTranslate(),p.styledMode||(H=S.pointAttribs(b,b.selected&&"select")),b.delayedRendering?(T.setRadialReference(S.center).attr(B).attr(v),p.styledMode||T.attr(H).attr({"stroke-linejoin":"round"}),b.delayedRendering=!1):(T.setRadialReference(S.center),p.styledMode||C(!0,l,H),C(!0,l,B,v),T.animate(l)),T.attr({visibility:b.visible?"inherit":"hidden"}),T.addClass(b.getClassName(),!0)):T&&(b.graphic=T.destroy())})}sortByAngle(v,T){v.sort(function(H,B){return void 0!==H.angle&&(B.angle-H.angle)*T})}translate(v){I(this,"translate"),this.generatePoints();let o,h,d,c,f,u,M,T=this.options,H=T.slicedOffset,B=ee(T.startAngle,T.endAngle),S=this.startAngleRad=B.start,p=(this.endAngleRad=B.end)-S,b=this.points,l=T.ignoreHiddenPoint,n=b.length,U=0;for(v||(this.center=v=this.getCenter()),u=0;u<n;u++){M=b[u],o=S+U*p,M.isValid()&&(!l||M.visible)&&(U+=M.percentage/100),h=S+U*p;let x={x:v[0],y:v[1],r:v[2]/2,innerR:v[3]/2,start:Math.round(1e3*o)/1e3,end:Math.round(1e3*h)/1e3};M.shapeType="arc",M.shapeArgs=x,(d=(h+o)/2)>1.5*Math.PI?d-=2*Math.PI:d<-Math.PI/2&&(d+=2*Math.PI),M.slicedTranslation={translateX:Math.round(Math.cos(d)*H),translateY:Math.round(Math.sin(d)*H)},c=Math.cos(d)*v[2]/2,f=Math.sin(d)*v[2]/2,M.tooltipPos=[v[0]+.7*c,v[1]+.7*f],M.half=d<-Math.PI/2||d>Math.PI/2?1:0,M.angle=d}I(this,"afterTranslate")}updateTotals(){let B,S,v=this.points,T=v.length,H=this.options.ignoreHiddenPoint,p=0;for(B=0;B<T;B++)(S=v[B]).isValid()&&(!H||S.visible)&&(p+=S.y);for(B=0,this.total=p;B<T;B++)(S=v[B]).percentage=p>0&&(S.visible||!H)?S.y/p*100:0,S.total=p}}return D.defaultOptions=C(de.defaultOptions,me),N(D.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:ce.prototype.drawTracker,getCenter:Z.getCenter,getSymbol:L,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:ce.prototype.pointAttribs,pointClass:ve,requireSorting:!1,searchPoint:L,trackerGroups:["group","dataLabelsGroup"]}),he.registerSeriesType("pie",D),D}),Ne(Y,"Series/Pie/PieDataLabel.js",[Y["Core/Series/DataLabel.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){var de;let{composed:he,noop:Q}=ce,{distribute:te}=xe,{series:ee}=ve,{arrayMax:L,clamp:W,defined:N,pick:I,pushUnique:C,relativeLength:A}=me;return function(D){let P={radialDistributionY:function(S,p){return(p.dataLabelPosition?.top||0)+S.distributeBox.pos},radialDistributionX:function(S,p,b,l,n){let o=n.dataLabelPosition;return S.getX(b<(o?.top||0)+2||b>(o?.bottom||0)-2?l:b,p.half,p,n)},justify:function(S,p,b,l){return l[0]+(S.half?-1:1)*(b+(p.dataLabelPosition?.distance||0))},alignToPlotEdges:function(S,p,b,l){let n=S.getBBox().width;return p?n+l:b-n-l},alignToConnectors:function(S,p,b,l){let o,n=0;return S.forEach(function(h){(o=h.dataLabel.getBBox().width)>n&&(n=o)}),p?n+l:b-n-l}};function v(S,p){let{center:b,options:l}=this,n=b[2]/2,o=S.angle||0,h=Math.cos(o),d=Math.sin(o),c=b[0]+h*n,f=b[1]+d*n,u=Math.min((l.slicedOffset||0)+(l.borderWidth||0),p/5);return{natural:{x:c+h*p,y:f+d*p},computed:{},alignment:p<0?"center":S.half?"right":"left",connectorPosition:{breakAt:{x:c+h*u,y:f+d*u},touchingSliceAt:{x:c,y:f}},distance:p}}function T(){let x,O,z,S=this,p=S.points,b=S.chart,l=b.plotWidth,n=b.plotHeight,o=b.plotLeft,h=Math.round(b.chartWidth/3),d=S.center,c=d[2]/2,f=d[1],u=[[],[]],M=[0,0,0,0],U=S.dataLabelPositioners,j=0;S.visible&&S.hasDataLabels?.()&&(p.forEach(J=>{(J.dataLabels||[]).forEach(y=>{y.shortened&&(y.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),y.shortened=!1)})}),ee.prototype.drawDataLabels.apply(S),p.forEach(J=>{(J.dataLabels||[]).forEach((y,w)=>{let E=d[2]/2,X=y.options,m=A(X?.distance||0,E);0===w&&u[J.half].push(J),!N(X?.style?.width)&&y.getBBox().width>h&&(y.css({width:Math.round(.7*h)+"px"}),y.shortened=!0),y.dataLabelPosition=this.getDataLabelPosition(J,m),j=Math.max(j,m)})}),u.forEach((J,y)=>{let X,m,R,E=[],F=0;J.length&&(S.sortByAngle(J,y-.5),j>0&&(X=Math.max(0,f-c-j),m=Math.min(f+c+j,b.plotHeight),J.forEach(_=>{(_.dataLabels||[]).forEach(G=>{let K=G.dataLabelPosition;K&&K.distance>0&&(K.top=Math.max(0,f-c-K.distance),K.bottom=Math.min(f+c+K.distance,b.plotHeight),F=G.getBBox().height||21,G.lineHeight=b.renderer.fontMetrics(G.text||G).h+2*G.padding,_.distributeBox={target:(G.dataLabelPosition?.natural.y||0)-K.top+G.lineHeight/2,size:F,rank:_.y},E.push(_.distributeBox))})}),te(E,R=m+F-X,R/5)),J.forEach(_=>{(_.dataLabels||[]).forEach(G=>{let K=G.options||{},oe=_.distributeBox,ae=G.dataLabelPosition,ue=ae?.natural.y||0,be=K.connectorPadding||0,Se=G.lineHeight||21,ie=(Se-G.getBBox().height)/2,q=0,re=ue,le="inherit";if(ae){if(E&&N(oe)&&ae.distance>0&&(void 0===oe.pos?le="hidden":(z=oe.size,re=U.radialDistributionY(_,G))),K.justify)q=U.justify(_,G,c,d);else switch(K.alignTo){case"connectors":q=U.alignToConnectors(J,y,l,o);break;case"plotEdges":q=U.alignToPlotEdges(G,y,l,o);break;default:q=U.radialDistributionX(S,_,re-ie,ue,G)}if(ae.attribs={visibility:le,align:ae.alignment},ae.posAttribs={x:q+(K.x||0)+({left:be,right:-be}[ae.alignment]||0),y:re+(K.y||0)-Se/2},ae.computed.x=q,ae.computed.y=re-ie,I(K.crop,!0)){let pe;q-(O=G.getBBox().width)<be&&1===y?(pe=Math.round(O-q+be),M[3]=Math.max(pe,M[3])):q+O>l-be&&0===y&&(pe=Math.round(q+O-l+be),M[1]=Math.max(pe,M[1])),re-z/2<0?M[0]=Math.max(Math.round(z/2-re),M[0]):re+z/2>n&&(M[2]=Math.max(Math.round(re+z/2-n),M[2])),ae.sideOverflow=pe}}})}))}),(0===L(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),this.points.forEach(J=>{(J.dataLabels||[]).forEach(y=>{let{connectorColor:w,connectorWidth:E=1}=y.options||{},X=y.dataLabelPosition;if(E){let m;x=y.connector,X&&X.distance>0?(m=!x,x||(y.connector=x=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+J.colorIndex+(J.className?" "+J.className:"")).add(S.dataLabelsGroup)),b.styledMode||x.attr({"stroke-width":E,stroke:w||J.color||"#666666"}),x[m?"attr":"animate"]({d:J.getConnectorPath(y)}),x.attr({visibility:X.attribs?.visibility})):x&&(y.connector=x.destroy())}})})))}function H(){this.points.forEach(S=>{(S.dataLabels||[]).forEach(p=>{let b=p.dataLabelPosition;b?(b.sideOverflow&&(p.css({width:Math.max(p.getBBox().width-b.sideOverflow,0)+"px",textOverflow:(p.options?.style||{}).textOverflow||"ellipsis"}),p.shortened=!0),p.attr(b.attribs),p[p.moved?"animate":"attr"](b.posAttribs),p.moved=!0):p&&p.attr({y:-9999})}),delete S.distributeBox},this)}function B(S){let p=this.center,b=this.options,l=b.center,n=b.minSize||80,o=n,h=null!==b.size;return!h&&(null!==l[0]?o=Math.max(p[2]-Math.max(S[1],S[3]),n):(o=Math.max(p[2]-S[1]-S[3],n),p[0]+=(S[3]-S[1])/2),null!==l[1]?o=W(o,n,p[2]-Math.max(S[0],S[2])):(o=W(o,n,p[2]-S[0]-S[2]),p[1]+=(S[0]-S[2])/2),o<p[2]?(p[2]=o,p[3]=Math.min(b.thickness?Math.max(0,o-2*b.thickness):Math.max(0,A(b.innerSize||0,o)),o),this.translate(p),this.drawDataLabels&&this.drawDataLabels()):h=!0),h}D.compose=function(S){if(Z.compose(ee),C(he,"PieDataLabel")){let p=S.prototype;p.dataLabelPositioners=P,p.alignDataLabel=Q,p.drawDataLabels=T,p.getDataLabelPosition=v,p.placeDataLabels=H,p.verifyDataLabelOverflow=B}}}(de||(de={})),de}),Ne(Y,"Core/Geometry/GeometryUtilities.js",[],function(){var Z,ce;return(ce=Z||(Z={})).getCenterOfPoints=function(xe){let ve=xe.reduce((me,de)=>(me.x+=de.x,me.y+=de.y,me),{x:0,y:0});return{x:ve.x/xe.length,y:ve.y/xe.length}},ce.getDistanceBetweenPoints=function(xe,ve){return Math.sqrt(Math.pow(ve.x-xe.x,2)+Math.pow(ve.y-xe.y,2))},ce.getAngleBetweenPoints=function(xe,ve){return Math.atan2(ve.x-xe.x,ve.y-xe.y)},ce.pointInPolygon=function({x:xe,y:ve},me){let he,Q,de=me.length,te=!1;for(he=0,Q=de-1;he<de;Q=he++){let[ee,L]=me[he],[W,N]=me[Q];L>ve!=N>ve&&xe<(W-ee)*(ve-L)/(N-L)+ee&&(te=!te)}return te},Z}),Ne(Y,"Extensions/OverlappingDataLabels.js",[Y["Core/Geometry/GeometryUtilities.js"],Y["Core/Utilities.js"]],function(Z,ce){let{pointInPolygon:xe}=Z,{addEvent:ve,fireEvent:me,objectEach:de,pick:he}=ce;function Q(L){let C,A,D,P,v,W=L.length,N=(H,B)=>!(B.x>=H.x+H.width||B.x+B.width<=H.x||B.y>=H.y+H.height||B.y+B.height<=H.y),I=(H,B)=>{for(let S of H)if(xe({x:S[0],y:S[1]},B))return!0;return!1},T=!1;for(let H=0;H<W;H++)(C=L[H])&&(C.oldOpacity=C.opacity,C.newOpacity=1,C.absoluteBox=function(B){if(B&&(!B.alignAttr||B.placed)){let S=B.box?0:B.padding||0,p=B.alignAttr||{x:B.attr("x"),y:B.attr("y")},b=B.getBBox();return B.width=b.width,B.height=b.height,{x:p.x+(B.parentGroup?.translateX||0)+S,y:p.y+(B.parentGroup?.translateY||0)+S,width:(B.width||0)-2*S,height:(B.height||0)-2*S,polygon:b?.polygon}}}(C));L.sort((H,B)=>(B.labelrank||0)-(H.labelrank||0));for(let H=0;H<W;++H){P=(A=L[H])&&A.absoluteBox;let B=P?.polygon;for(let S=H+1;S<W;++S){v=(D=L[S])&&D.absoluteBox;let p=!1;if(P&&v&&A!==D&&0!==A.newOpacity&&0!==D.newOpacity&&"hidden"!==A.visibility&&"hidden"!==D.visibility){let b=v.polygon;if(B&&b&&B!==b?I(B,b)&&(p=!0):N(P,v)&&(p=!0),p){let l=A.labelrank<D.labelrank?A:D,n=l.text;l.newOpacity=0,n?.element.querySelector("textPath")&&n.hide()}}}}for(let H of L)te(H,this)&&(T=!0);T&&me(this,"afterHideAllOverlappingLabels")}function te(L,W){let N,I,C=!1;return L&&(I=L.newOpacity,L.oldOpacity!==I&&(L.hasClass("highcharts-data-label")?(L[I?"removeClass":"addClass"]("highcharts-data-label-hidden"),N=function(){W.styledMode||L.css({pointerEvents:I?"auto":"none"})},C=!0,L[L.isOld?"animate":"attr"]({opacity:I},void 0,N),me(W,"afterHideOverlappingLabel")):L.attr({opacity:I})),L.isOld=!0),C}function ee(){let L=this,W=[];for(let N of L.labelCollectors||[])W=W.concat(N());for(let N of L.yAxis||[])N.stacking&&N.options.stackLabels&&!N.options.stackLabels.allowOverlap&&de(N.stacking.stacks,I=>{de(I,C=>{C.label&&W.push(C.label)})});for(let N of L.series||[])if(N.visible&&N.hasDataLabels?.()){let I=C=>{for(let A of C)A.visible&&(A.dataLabels||[]).forEach(D=>{let P=D.options||{};D.labelrank=he(P.labelrank,A.labelrank,A.shapeArgs?.height),P.allowOverlap??Number(P.distance)>0?(D.oldOpacity=D.opacity,D.newOpacity=1,te(D,L)):W.push(D)})};I(N.nodes||[]),I(N.points)}this.hideOverlappingLabels(W)}return{compose:function(L){let W=L.prototype;W.hideOverlappingLabels||(W.hideOverlappingLabels=Q,ve(L,"render",ee))}}}),Ne(Y,"Extensions/BorderRadius.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{defaultOptions:ve}=Z,{noop:me}=ce,{addEvent:de,extend:he,isObject:Q,merge:te,relativeLength:ee}=xe,L={radius:0,scope:"stack",where:void 0},W=me,N=me;function I(v,T,H,B,S={}){let p=W(v,T,H,B,S),{innerR:b=0,r:l=H,start:n=0,end:o=0}=S;if(S.open||!S.borderRadius)return p;let h=o-n,d=Math.sin(h/2),c=Math.max(Math.min(ee(S.borderRadius||0,l-b),(l-b)/2,l*d/(1+d)),0),f=Math.min(c,h/Math.PI*2*b),u=p.length-1;for(;u--;)!function(M,U,x){let O,z,j,J=M[U],y=M[U+1];if("Z"===y[0]&&(y=M[0]),"M"!==J[0]&&"L"!==J[0]||"A"!==y[0]?"A"===J[0]&&("M"===y[0]||"L"===y[0])&&(O=y,z=J):(O=J,z=y,j=!0),O&&z&&z.params){let w=z[1],E=z[5],X=z.params,{start:m,end:F,cx:R,cy:_}=X,G=E?w-x:w+x,K=G?Math.asin(x/G):0,oe=E?K:-K,ae=Math.cos(K)*G;j?(X.start=m+oe,O[1]=R+ae*Math.cos(m),O[2]=_+ae*Math.sin(m),M.splice(U+1,0,["A",x,x,0,0,1,R+w*Math.cos(X.start),_+w*Math.sin(X.start)])):(X.end=F-oe,z[6]=R+w*Math.cos(X.end),z[7]=_+w*Math.sin(X.end),M.splice(U+1,0,["A",x,x,0,0,1,R+ae*Math.cos(F),_+ae*Math.sin(F)])),z[4]=Math.abs(X.end-X.start)<Math.PI?0:1}}(p,u,u>1?f:c);return p}function C(){if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){let{options:v,yAxis:T}=this,H="percent"===v.stacking,B=ve.plotOptions?.[this.type]?.borderRadius,S=A(v.borderRadius,Q(B)?B:{}),p=T.options.reversed;for(let b of this.points){let{shapeArgs:l}=b;if("roundedRect"===b.shapeType&&l){let{width:n=0,height:o=0,y:h=0}=l,d=h,c=o;if("stack"===S.scope&&b.stackTotal){let U=T.translate(H?100:b.stackTotal,!1,!0,!1,!0),x=T.translate(v.threshold||0,!1,!0,!1,!0),O=this.crispCol(0,Math.min(U,x),0,Math.abs(U-x));d=O.y,c=O.height}let f=(b.negative?-1:1)*(p?-1:1)==-1,u=S.where;!u&&this.is("waterfall")&&Math.abs((b.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(u="all"),u||(u="end");let M=Math.min(ee(S.radius,n),n/2,"all"===u?o/2:1/0)||0;"end"===u&&(f&&(d-=M),c+=M),he(l,{brBoxHeight:c,brBoxY:d,r:M})}}}}function A(v,T){return Q(v)||(v={radius:v||0}),te(L,T,v)}function D(){let v=A(this.options.borderRadius);for(let T of this.points){let H=T.shapeArgs;H&&(H.borderRadius=ee(v.radius,(H.r||0)-(H.innerR||0)))}}function P(v,T,H,B,S={}){let p=N(v,T,H,B,S),{r:b=0,brBoxHeight:l=B,brBoxY:n=T}=S,o=T-n,h=n+l-(T+B),d=o-b>-.1?0:b,c=h-b>-.1?0:b,f=Math.max(d&&o,0),u=Math.max(c&&h,0),M=[v+d,T],U=[v+H-d,T],x=[v+H,T+d],O=[v+H,T+B-c],z=[v+H-c,T+B],j=[v+c,T+B],J=[v,T+B-c],y=[v,T+d],w=(E,X)=>Math.sqrt(Math.pow(E,2)-Math.pow(X,2));if(f){let E=w(d,d-f);M[0]-=E,U[0]+=E,x[1]=y[1]=T+d-f}if(B<d-f){let E=w(d,d-f-B);x[0]=O[0]=v+H-d+E,z[0]=Math.min(x[0],z[0]),j[0]=Math.max(O[0],j[0]),J[0]=y[0]=v+d-E,x[1]=y[1]=T+B}if(u){let E=w(c,c-u);z[0]+=E,j[0]-=E,O[1]=J[1]=T+B-c+u}if(B<c-u){let E=w(c,c-u-B);x[0]=O[0]=v+H-c+E,U[0]=Math.min(x[0],U[0]),M[0]=Math.max(O[0],M[0]),J[0]=y[0]=v+c-E,O[1]=J[1]=T}return p.length=0,p.push(["M",...M],["L",...U],["A",d,d,0,0,1,...x],["L",...O],["A",c,c,0,0,1,...z],["L",...j],["A",c,c,0,0,1,...J],["L",...y],["A",d,d,0,0,1,...M],["Z"]),p}return{compose:function(v,T,H){let B=v.types.pie;if(!T.symbolCustomAttribs.includes("borderRadius")){let S=H.prototype.symbols;de(v,"afterColumnTranslate",C,{order:9}),de(B,"afterTranslate",D),T.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),W=S.arc,N=S.roundedRect,S.arc=I,S.roundedRect=P}},optionsToObject:A}}),Ne(Y,"Core/Responsive.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{diffObjects:xe,extend:ve,find:me,merge:de,pick:he,uniqueKey:Q}=Z;return function(te){function ee(W,N){let I=W.condition;(I.callback||function(){return this.chartWidth<=he(I.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=he(I.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=he(I.minWidth,0)&&this.chartHeight>=he(I.minHeight,0)}).call(this)&&N.push(W._id)}function L(W,N){let D,I=this.options.responsive,C=this.currentResponsive,A=[];!N&&I&&I.rules&&I.rules.forEach(T=>{void 0===T._id&&(T._id=Q()),this.matchResponsiveRule(T,A)},this);let P=de(...A.map(T=>me((I||{}).rules||[],H=>H._id===T)).map(T=>T&&T.chartOptions));P.isResponsiveOptions=!0,A=A.toString()||void 0,A===(C&&C.ruleIds)||(C&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(C.undoOptions,W,!0),this.updatingResponsive=!1),A?((D=xe(P,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:A,mergedOptions:P,undoOptions:D},this.updatingResponsive||this.update(P,W,!0)):this.currentResponsive=void 0)}te.compose=function(W){let N=W.prototype;return N.matchResponsiveRule||ve(N,{matchResponsiveRule:ee,setResponsive:L}),W}}(ce||(ce={})),ce}),Ne(Y,"masters/highcharts.src.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"],Y["Core/Defaults.js"],Y["Core/Animation/Fx.js"],Y["Core/Animation/AnimationUtilities.js"],Y["Core/Renderer/HTML/AST.js"],Y["Core/Templating.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Renderer/HTML/HTMLElement.js"],Y["Core/Axis/Axis.js"],Y["Core/Axis/DateTimeAxis.js"],Y["Core/Axis/LogarithmicAxis.js"],Y["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],Y["Core/Axis/Tick.js"],Y["Core/Tooltip.js"],Y["Core/Series/Point.js"],Y["Core/Pointer.js"],Y["Core/Legend/Legend.js"],Y["Core/Legend/LegendSymbol.js"],Y["Core/Chart/Chart.js"],Y["Extensions/ScrollablePlotArea.js"],Y["Core/Axis/Stacking/StackingAxis.js"],Y["Core/Axis/Stacking/StackItem.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Series/Column/ColumnDataLabel.js"],Y["Series/Pie/PieDataLabel.js"],Y["Core/Series/DataLabel.js"],Y["Extensions/OverlappingDataLabels.js"],Y["Extensions/BorderRadius.js"],Y["Core/Responsive.js"],Y["Core/Color/Color.js"],Y["Core/Time.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee,L,W,N,I,C,A,D,P,v,T,H,B,S,p,b,l,n,o,h,d,c,f,u,M,U,x){return Z.AST=de,Z.Axis=N,Z.Chart=S,Z.Color=U,Z.DataLabel=c,Z.Fx=ve,Z.HTMLElement=W,Z.Legend=H,Z.LegendSymbol=B,Z.OverlappingDataLabels=Z.OverlappingDataLabels||f,Z.PlotLineOrBand=A,Z.Point=v,Z.Pointer=T,Z.RendererRegistry=Q,Z.Series=n,Z.SeriesRegistry=o,Z.StackItem=l,Z.SVGElement=ee,Z.SVGRenderer=L,Z.Templating=he,Z.Tick=D,Z.Time=x,Z.Tooltip=P,Z.animate=me.animate,Z.animObject=me.animObject,Z.chart=S.chart,Z.color=U.parse,Z.dateFormat=he.dateFormat,Z.defaultOptions=xe.defaultOptions,Z.distribute=te.distribute,Z.format=he.format,Z.getDeferredAnimation=me.getDeferredAnimation,Z.getOptions=xe.getOptions,Z.numberFormat=he.numberFormat,Z.seriesType=o.seriesType,Z.setAnimation=me.setAnimation,Z.setOptions=xe.setOptions,Z.stop=me.stop,Z.time=xe.defaultTime,Z.timers=ve.timers,u.compose(Z.Series,Z.SVGElement,Z.SVGRenderer),h.compose(Z.Series.types.column),c.compose(Z.Series),I.compose(Z.Axis),W.compose(Z.SVGRenderer),H.compose(Z.Chart),C.compose(Z.Axis),f.compose(Z.Chart),d.compose(Z.Series.types.pie),A.compose(Z.Chart,Z.Axis),T.compose(Z.Chart),M.compose(Z.Chart),p.compose(Z.Axis,Z.Chart,Z.Series),b.compose(Z.Axis,Z.Chart,Z.Series),P.compose(Z.Pointer),ce.extend(Z,ce),Z}),Ne(Y,"Core/Axis/Color/ColorAxisComposition.js",[Y["Core/Color/Color.js"],Y["Core/Utilities.js"]],function(Z,ce){var xe;let{parse:ve}=Z,{addEvent:me,extend:de,merge:he,pick:Q,splat:te}=ce;return function(ee){let L;function W(){let{userOptions:B}=this;this.colorAxis=[],B.colorAxis&&(B.colorAxis=te(B.colorAxis),B.colorAxis.map(S=>new L(this,S)))}function N(B){let l,n,p=o=>{let h=B.allItems.indexOf(o);-1!==h&&(this.destroyItem(B.allItems[h]),B.allItems.splice(h,1))},b=[];for((this.chart.colorAxis||[]).forEach(function(o){(l=o.options)&&l.showInLegend&&(l.dataClasses&&l.visible?b=b.concat(o.getDataClassLegendSymbols()):l.visible&&b.push(o),o.series.forEach(function(h){(!h.options.showInLegend||l.dataClasses)&&("point"===h.options.legendType?h.points.forEach(function(d){p(d)}):p(h))}))}),n=b.length;n--;)B.allItems.unshift(b[n])}function I(B){B.visible&&B.item.legendColor&&B.item.legendItem.symbol.attr({fill:B.item.legendColor})}function C(B){this.chart.colorAxis?.forEach(S=>{S.update({},B.redraw)})}function A(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function D(){let B=this.axisTypes;B?-1===B.indexOf("colorAxis")&&B.push("colorAxis"):this.axisTypes=["colorAxis"]}function P(B){let S=this,p=B?"show":"hide";S.visible=S.options.visible=!!B,["graphic","dataLabel"].forEach(function(b){S[b]&&S[b][p]()}),this.series.buildKDTree()}function v(){let B=this,S=this.getPointsCollection(),p=this.options.nullColor,b=this.colorAxis,l=this.colorKey;S.forEach(n=>{let o=n.getNestedProperty(l),h=n.options.color||(n.isNull||null===n.value?p:b&&void 0!==o?b.toColor(o,n):n.color||B.color);h&&n.color!==h&&(n.color=h,"point"===B.options.legendType&&n.legendItem&&n.legendItem.label&&B.chart.legend.colorizeItem(n,n.visible))})}function T(){this.elem.attr("fill",ve(this.start).tweenTo(ve(this.end),this.pos),void 0,!0)}function H(){this.elem.attr("stroke",ve(this.start).tweenTo(ve(this.end),this.pos),void 0,!0)}ee.compose=function(B,S,p,b,l){let n=S.prototype,o=p.prototype,h=l.prototype;n.collectionsWithUpdate.includes("colorAxis")||(L=B,n.collectionsWithUpdate.push("colorAxis"),n.collectionsWithInit.colorAxis=[n.addColorAxis],me(S,"afterGetAxes",W),function(d){let c=d.prototype.createAxis;d.prototype.createAxis=function(f,u){if("colorAxis"!==f)return c.apply(this,arguments);let M=new L(this,he(u.axis,{index:this[f].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(U=>{U.series=[]}),this.series.forEach(U=>{U.bindAxes(),U.isDirtyData=!0}),Q(u.redraw,!0)&&this.redraw(u.animation),M}}(S),o.fillSetter=T,o.strokeSetter=H,me(b,"afterGetAllItems",N),me(b,"afterColorizeItem",I),me(b,"afterUpdate",C),de(h,{optionalAxis:"colorAxis",translateColors:v}),de(h.pointClass.prototype,{setVisible:P}),me(l,"afterTranslate",A,{order:1}),me(l,"bindAxes",D))},ee.pointSetVisible=P}(xe||(xe={})),xe}),Ne(Y,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}}),Ne(Y,"Core/Axis/Color/ColorAxisLike.js",[Y["Core/Color/Color.js"],Y["Core/Utilities.js"]],function(Z,ce){var xe,ve;let{parse:me}=Z,{merge:de}=ce;return(ve=xe||(xe={})).initDataClasses=function(he){let W,N,A,Q=this.chart,te=this.legendItem=this.legendItem||{},ee=this.options,L=he.dataClasses||[],I=Q.options.chart.colorCount,C=0;this.dataClasses=N=[],te.labels=[];for(let D=0,P=L.length;D<P;++D)W=de(W=L[D]),N.push(W),(Q.styledMode||!W.color)&&("category"===ee.dataClassColor?(Q.styledMode||(I=(A=Q.options.colors||[]).length,W.color=A[C]),W.colorIndex=C,++C===I&&(C=0)):W.color=me(ee.minColor).tweenTo(me(ee.maxColor),P<2?.5:D/(P-1)))},ve.initStops=function(){let he=this.options,Q=this.stops=he.stops||[[0,he.minColor||""],[1,he.maxColor||""]];for(let te=0,ee=Q.length;te<ee;++te)Q[te].color=me(Q[te][1])},ve.normalizedValue=function(he){let Q=this.max||0,te=this.min||0;return this.logarithmic&&(he=this.logarithmic.log2lin(he)),1-(Q-he)/(Q-te||1)},ve.toColor=function(he,Q){let te,ee,L,W,N,I,C=this.dataClasses,A=this.stops;if(C){for(I=C.length;I--;)if(ee=(N=C[I]).from,L=N.to,(void 0===ee||he>=ee)&&(void 0===L||he<=L)){W=N.color,Q&&(Q.dataClass=I,Q.colorIndex=N.colorIndex);break}}else{for(te=this.normalizedValue(he),I=A.length;I--&&!(te>A[I][0]););ee=A[I]||A[I+1],te=1-((L=A[I+1]||ee)[0]-te)/(L[0]-ee[0]||1),W=ee.color.tweenTo(L.color,te)}return W},xe}),Ne(Y,"Core/Axis/Color/ColorAxis.js",[Y["Core/Axis/Axis.js"],Y["Core/Axis/Color/ColorAxisComposition.js"],Y["Core/Axis/Color/ColorAxisDefaults.js"],Y["Core/Axis/Color/ColorAxisLike.js"],Y["Core/Defaults.js"],Y["Core/Legend/LegendSymbol.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){let{defaultOptions:te}=me,{series:ee}=he,{defined:L,extend:W,fireEvent:N,isArray:I,isNumber:C,merge:A,pick:D,relativeLength:P}=Q;te.colorAxis=A(te.xAxis,xe);class v extends Z{static compose(H,B,S,p){ce.compose(v,H,B,S,p)}constructor(H,B){super(H,B),this.coll="colorAxis",this.visible=!0,this.init(H,B)}init(H,B){let p=B.layout?"vertical"!==B.layout:"vertical"!==(H.options.legend||{}).layout;this.side=B.side||p?2:1,this.reversed=B.reversed||!p,this.opposite=!p,super.init(H,B,"colorAxis"),this.userOptions=B,I(H.userOptions.colorAxis)&&(H.userOptions.colorAxis[this.index]=B),B.dataClasses&&this.initDataClasses(B),this.initStops(),this.horiz=p,this.zoomEnabled=!1}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}setOptions(H){let B=A(te.colorAxis,H,{showEmpty:!1,title:null,visible:this.chart.options.legend.enabled&&!1!==H.visible});super.setOptions(B),this.options.crosshair=this.options.marker}setAxisSize(){let H=this.chart,B=this.legendItem?.symbol,{width:S,height:p}=this.getSize();B&&(this.left=+B.attr("x"),this.top=+B.attr("y"),this.width=S=+B.attr("width"),this.height=p=+B.attr("height"),this.right=H.chartWidth-this.left-S,this.bottom=H.chartHeight-this.top-p,this.pos=this.horiz?this.left:this.top),this.len=(this.horiz?S:p)||v.defaultLegendLength}getOffset(){let H=this.legendItem?.group,B=this.chart.axisOffset[this.side];if(H){this.axisParent=H,super.getOffset();let S=this.chart.legend;S.allItems.forEach(function(p){p instanceof v&&p.drawLegendSymbol(S,p)}),S.render(),this.chart.getMargins(!0),this.chart.series.some(p=>p.isDrilling)||(this.isDirty=!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=B}}setLegendColor(){let B=this.reversed,S=B?1:0,p=B?0:1,b=this.horiz?[S,0,p,0]:[0,p,0,S];this.legendColor={linearGradient:{x1:b[0],y1:b[1],x2:b[2],y2:b[3]},stops:this.stops}}drawLegendSymbol(H,B){let S=B.legendItem||{},p=H.padding,b=H.options,l=this.options.labels,n=D(b.itemDistance,10),o=this.horiz,{width:h,height:d}=this.getSize(),c=D(b.labelPadding,o?16:30);this.setLegendColor(),S.symbol||(S.symbol=this.chart.renderer.symbol("roundedRect").attr({r:b.symbolRadius??3,zIndex:1}).add(S.group)),S.symbol.attr({x:0,y:(H.baseline||0)-11,width:h,height:d}),S.labelWidth=h+p+(o?n:D(l.x,l.distance)+(this.maxLabelLength||0)),S.labelHeight=d+p+(o?c:0)}setState(H){this.series.forEach(function(B){B.setState(H)})}setVisible(){}getSeriesExtremes(){let B,S,p,b,l,n,h,d,H=this.series,o=H.length;for(this.dataMin=1/0,this.dataMax=-1/0;o--;){if(S=(n=H[o]).colorKey=D(n.options.colorKey,n.colorKey,n.pointValKey,n.zoneAxis,"y"),b=n.pointArrayMap,l=n[S+"Min"]&&n[S+"Max"],n[S+"Data"])B=n[S+"Data"];else if(b){if(B=[],p=b.indexOf(S),h=n.yData,p>=0&&h)for(d=0;d<h.length;d++)B.push(D(h[d][p],h[d]))}else B=n.yData;if(l)n.minColorValue=n[S+"Min"],n.maxColorValue=n[S+"Max"];else{let c=ee.prototype.getExtremes.call(n,B);n.minColorValue=c.dataMin,n.maxColorValue=c.dataMax}L(n.minColorValue)&&L(n.maxColorValue)&&(this.dataMin=Math.min(this.dataMin,n.minColorValue),this.dataMax=Math.max(this.dataMax,n.maxColorValue)),l||ee.prototype.applyExtremes.call(n)}}drawCrosshair(H,B){let S,p=this.legendItem||{},b=B&&B.plotX,l=B&&B.plotY,n=this.pos,o=this.len;B&&((S=this.toPixels(B.getNestedProperty(B.series.colorKey)))<n?S=n-2:S>n+o&&(S=n+o+2),B.plotX=S,B.plotY=this.len-S,super.drawCrosshair(H,B),B.plotX=b,B.plotY=l,this.cross&&!this.cross.addedToColorAxis&&p.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(p.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(H){let B=this.left,S=H.translatedValue,p=this.top;return C(S)?this.horiz?[["M",S-4,p-6],["L",S+4,p-6],["L",S,p],["Z"]]:[["M",B,S],["L",B-6,S+6],["L",B-6,S-6],["Z"]]:super.getPlotLinePath(H)}update(H,B){let S=this.chart.legend;this.series.forEach(p=>{p.isDirtyData=!0}),(H.dataClasses&&S.allItems||this.dataClasses)&&this.destroyItems(),super.update(H,B),this.legendItem&&this.legendItem.label&&(this.setLegendColor(),S.colorizeItem(this,!0))}destroyItems(){let H=this.chart,B=this.legendItem||{};if(B.label)H.legend.destroyItem(this);else if(B.labels)for(let S of B.labels)H.legend.destroyItem(S);H.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=!0,this.destroyItems(),super.destroy(...[].slice.call(arguments))}remove(H){this.destroyItems(),super.remove(H)}getDataClassLegendSymbols(){let H,B=this,S=B.chart,p=B.legendItem&&B.legendItem.labels||[],b=S.options.legend,l=D(b.valueDecimals,-1),n=D(b.valueSuffix,""),o=h=>B.series.reduce((d,c)=>(d.push(...c.points.filter(f=>f.dataClass===h)),d),[]);return p.length||B.dataClasses.forEach((h,d)=>{let c=h.from,f=h.to,{numberFormatter:u}=S,M=!0;H="",void 0===c?H="< ":void 0===f&&(H="> "),void 0!==c&&(H+=u(c,l)+n),void 0!==c&&void 0!==f&&(H+=" - "),void 0!==f&&(H+=u(f,l)+n),p.push(W({chart:S,name:H,options:{},drawLegendSymbol:de.rectangle,visible:!0,isDataClass:!0,setState:U=>{for(let x of o(d))x.setState(U)},setVisible:function(){this.visible=M=B.visible=!M;let U=[];for(let x of o(d))x.setVisible(M),x.hiddenInDataClass=!M,-1===U.indexOf(x.series)&&U.push(x.series);S.legend.colorizeItem(this,M),U.forEach(x=>{N(x,"afterDataClassLegendClick")})}},h))}),p}getSize(){let{chart:H,horiz:B}=this,{height:S,width:p}=this.options,{legend:b}=H.options;return{width:D(L(p)?P(p,H.chartWidth):void 0,b?.symbolWidth,B?v.defaultLegendLength:12),height:D(L(S)?P(S,H.chartHeight):void 0,b?.symbolHeight,B?12:v.defaultLegendLength)}}}return v.defaultLegendLength=200,v.keepProps=["legendItem"],W(v.prototype,ve),Array.prototype.push.apply(Z.keepProps,v.keepProps),v}),Ne(Y,"masters/modules/coloraxis.src.js",[Y["Core/Globals.js"],Y["Core/Axis/Color/ColorAxis.js"]],function(Z,ce){return Z.ColorAxis=Z.ColorAxis||ce,Z.ColorAxis.compose(Z.Chart,Z.Fx,Z.Legend,Z.Series),Z}),Ne(Y,"Maps/MapNavigationDefaults.js",[],function(){return{lang:{zoomIn:"Zoom in",zoomOut:"Zoom out"},mapNavigation:{buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}}),Ne(Y,"Maps/MapPointer.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{defined:xe,extend:ve,pick:me,wrap:de}=Z;return function(he){let Q,te=0;function ee(I){let C=this.chart;I=this.normalize(I),C.options.mapNavigation.enableDoubleClickZoomTo?C.pointer.inClass(I.target,"highcharts-tracker")&&C.hoverPoint&&C.hoverPoint.zoomTo():C.isInsidePlot(I.chartX-C.plotLeft,I.chartY-C.plotTop)&&C.mapZoom(.5,void 0,void 0,I.chartX,I.chartY)}function L(I){let C=this.chart,A=xe((I=this.normalize(I)).wheelDelta)&&-I.wheelDelta/120||I.deltaY||I.detail;Math.abs(A)>=1&&(te+=Math.abs(A),Q&&clearTimeout(Q),Q=setTimeout(()=>{te=0},50)),te<10&&C.isInsidePlot(I.chartX-C.plotLeft,I.chartY-C.plotTop)&&C.mapView&&C.mapView.zoomBy(-(C.options.mapNavigation.mouseWheelSensitivity-1)*A,void 0,[I.chartX,I.chartY],!(1>Math.abs(A))&&void 0)}function W(I,C,A){let D=this.chart;if(C=I.call(this,C,A),D&&D.mapView){let P=D.mapView.pixelsToLonLat({x:C.chartX-D.plotLeft,y:C.chartY-D.plotTop});P&&ve(C,P)}return C}function N(I){let C=this.chart.options.mapNavigation;C&&me(C.enableTouchZoom,C.enabled)&&(this.chart.zooming.pinchType="xy"),I.apply(this,[].slice.call(arguments,1))}he.compose=function(I){let C=I.prototype;C.onContainerDblClick||(ve(C,{onContainerDblClick:ee,onContainerMouseWheel:L}),de(C,"normalize",W),de(C,"zoomOption",N))}}(ce||(ce={})),ce}),Ne(Y,"Maps/MapSymbols.js",[],function(){let Z;function ce(ve,me,de,he,Q){if(Q){let te=Q?.r||0;Q.brBoxY=me-te,Q.brBoxHeight=he+te}return Z.roundedRect(ve,me,de,he,Q)}function xe(ve,me,de,he,Q){return Q&&(Q.brBoxHeight=he+(Q?.r||0)),Z.roundedRect(ve,me,de,he,Q)}return{compose:function(ve){(Z=ve.prototype.symbols).bottombutton=ce,Z.topbutton=xe}}}),Ne(Y,"Maps/MapNavigation.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Maps/MapNavigationDefaults.js"],Y["Maps/MapPointer.js"],Y["Maps/MapSymbols.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de){let{setOptions:he}=Z,{composed:Q}=ce,{addEvent:te,extend:ee,merge:L,objectEach:W,pick:N,pushUnique:I}=de;function C(D){D&&(D.preventDefault&&D.preventDefault(),D.stopPropagation&&D.stopPropagation(),D.cancelBubble=!0)}class A{static compose(P,v,T){ve.compose(v),me.compose(T),I(Q,"Map.Navigation")&&(te(P,"beforeRender",function(){this.mapNavigation=new A(this),this.mapNavigation.update()}),he(xe))}constructor(P){this.chart=P,this.navButtons=[]}update(P){let v=this,T=v.chart,H=v.navButtons,B=function(p){this.handler.call(T,p),C(p)},S=T.options.mapNavigation;for(P&&(S=T.options.mapNavigation=L(T.options.mapNavigation,P));H.length;)H.pop().destroy();if(!T.renderer.forExport&&N(S.enableButtons,S.enabled)){v.navButtonsGroup||(v.navButtonsGroup=T.renderer.g().attr({zIndex:7}).add()),W(S.buttons,(b,l)=>{let n={padding:(b=L(S.buttonOptions,b)).padding};!T.styledMode&&b.theme&&(ee(n,b.theme),n.style=L(b.theme.style,b.style));let{text:o,width:h=0,height:d=0,padding:c=0}=b,f=T.renderer.button("+"!==o&&"-"!==o&&o||"",0,0,B,n,void 0,void 0,void 0,"zoomIn"===l?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[l]).attr({width:h,height:d,title:T.options.lang[l],zIndex:5}).add(v.navButtonsGroup);if("+"===o||"-"===o){let u=h+1,M=[["M",c+3,c+d/2],["L",c+u-3,c+d/2]];"+"===o&&M.push(["M",c+u/2,c+3],["L",c+u/2,c+d-3]),T.renderer.path(M).addClass("highcharts-button-symbol").attr(T.styledMode?{}:{stroke:b.style?.color,"stroke-width":3,"stroke-linecap":"round"}).add(f)}if(f.handler=b.onclick,te(f.element,"dblclick",C),H.push(f),ee(b,{width:f.width,height:2*(f.height||0)}),T.hasLoaded)f.align(b,!1,b.alignTo);else{let u=te(T,"load",()=>{f.element&&f.align(b,!1,b.alignTo),u()})}});let p=(b,l)=>!(l.x>=b.x+b.width||l.x+l.width<=b.x||l.y>=b.y+b.height||l.y+l.height<=b.y);T.hasLoaded||te(T,"render",function(){let b=T.exportingGroup&&T.exportingGroup.getBBox();if(b){let l=v.navButtonsGroup.getBBox();p(b,l)&&v.navButtonsGroup.attr({translateY:"bottom"===(S.buttonOptions&&S.buttonOptions.verticalAlign)?-l.y-l.height+b.y-5:b.y+b.height-l.y+5})}})}this.updateEvents(S)}updateEvents(P){let v=this.chart;N(P.enableDoubleClickZoom,P.enabled)||P.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||te(v.container,"dblclick",function(T){v.pointer.onContainerDblClick(T)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),N(P.enableMouseWheelZoom,P.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||te(v.container,"wheel",function(T){return v.pointer.inClass(T.target,"highcharts-no-mousewheel")||(v.pointer.onContainerMouseWheel(T),C(T)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())}}return A}),Ne(Y,"Series/ColorMapComposition.js",[Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{column:{prototype:me}}=Z.seriesTypes,{addEvent:de,defined:he}=xe;return function(Q){function te(ee){let L=this.series,W=L.chart.renderer;this.moveToTopOnHover&&this.graphic&&(L.stateMarkerGraphic||(L.stateMarkerGraphic=new ce(W,"use").css({pointerEvents:"none"}).add(this.graphic.parentGroup)),"hover"===ee?.state?(this.graphic.attr({id:this.id}),L.stateMarkerGraphic.attr({href:`${W.url}#${this.id}`,visibility:"visible"})):L.stateMarkerGraphic.attr({href:""}))}Q.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0&&(void 0===this.value||!isNaN(this.value))}},Q.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(ee){let L={};return he(ee.color)&&(!ee.state||"normal"===ee.state)&&(L[this.colorProp||"fill"]=ee.color),L},pointAttribs:me.pointAttribs},Q.compose=function(ee){return de(ee.prototype.pointClass,"afterSetState",te),ee}}(ve||(ve={})),ve}),Ne(Y,"Core/Chart/MapChart.js",[Y["Core/Chart/Chart.js"],Y["Core/Defaults.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{getOptions:de}=ce,{isNumber:he,merge:Q,pick:te}=ve;class ee extends Z{init(W,N){let I=de().credits,C=Q({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:te(I.mapText,' \xa9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:te(I.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},W);super.init(C,N)}mapZoom(W,N,I,C,A){this.mapView&&(he(W)&&(W=Math.log(W)/Math.log(.5)),this.mapView.zoomBy(W,he(N)&&he(I)?this.mapView.projection.inverse([N,I]):void 0,he(C)&&he(A)?[C,A]:void 0))}update(W){W.chart&&"map"in W.chart&&this.mapView?.recommendMapView(this,[W.chart.map,...(this.options.series||[]).map(N=>N.mapData)],!0),super.update.apply(this,arguments)}}return(me=ee||(ee={})).maps={},me.mapChart=function(L,W,N){return new me(L,W,N)},me.splitPath=function(L){let W;return W="string"==typeof L?(L=L.replace(/([A-Z])/gi," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(N=>/[A-Z]/i.test(N)?N:parseFloat(N)):L,xe.prototype.pathToSegments(W)},ee}),Ne(Y,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(Z){let de,ce=-Number.MAX_VALUE,xe=Number.MAX_VALUE,ve=-Number.MAX_VALUE,me=Number.MAX_VALUE;if(Z.forEach(he=>{let Q=he[he.length-2],te=he[he.length-1];"number"==typeof Q&&"number"==typeof te&&(xe=Math.min(xe,Q),ce=Math.max(ce,Q),me=Math.min(me,te),ve=Math.max(ve,te),de=!0)}),de)return{x1:xe,y1:me,x2:ce,y2:ve}}}}),Ne(Y,"Series/Map/MapPoint.js",[Y["Series/ColorMapComposition.js"],Y["Maps/MapUtilities.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{boundsFromPath:me}=ce,de=xe.seriesTypes.scatter.prototype.pointClass,{extend:he,isNumber:Q,pick:te}=ve;class ee extends de{static getProjectedPath(W,N){return W.projectedPath||(N&&W.geometry?(N.hasCoordinates=!0,W.projectedPath=N.path(W.geometry)):W.projectedPath=W.path),W.projectedPath||[]}applyOptions(W,N){let I=this.series,C=super.applyOptions(W,N);if(I.mapData&&I.mapMap){let P=super.getNestedProperty(I.joinBy[1]),v=void 0!==P&&I.mapMap[P];v?he(C,{...v,name:C.name??v.name}):-1!==I.pointArrayMap.indexOf("value")&&(C.value=C.value||null)}return C}getProjectedBounds(W){let N=me(ee.getProjectedPath(this,W)),I=this.properties;if(N){let A=I&&I["hc-middle-lon"],D=I&&I["hc-middle-lat"];if(this.series.chart.mapView&&Q(A)&&Q(D)){let P=W.forward([A,D]);N.midX=P[0],N.midY=P[1]}else{let P=I&&I["hc-middle-x"],v=I&&I["hc-middle-y"];N.midX=N.x1+(N.x2-N.x1)*te(this.middleX,Q(P)?P:.5);let T=te(this.middleY,Q(v)?v:.5);this.geometry||(T=1-T),N.midY=N.y2-(N.y2-N.y1)*T}return N}}onMouseOver(W){ve.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?super.onMouseOver.call(this,W):this.series.onMouseOut()}setVisible(W){this.visible=this.options.visible=!!W,this.dataLabel&&this.dataLabel[W?"show":"hide"](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))}zoomTo(W){let N=this.series.chart,I=N.mapView,C=this.bounds;if(I&&C){let A=Q(this.insetIndex)&&I.insets[this.insetIndex];if(A){let D=A.projectedUnitsToPixels({x:C.x1,y:C.y1}),P=A.projectedUnitsToPixels({x:C.x2,y:C.y2}),v=I.pixelsToProjectedUnits({x:D.x,y:D.y}),T=I.pixelsToProjectedUnits({x:P.x,y:P.y});C={x1:v.x,y1:v.y,x2:T.x,y2:T.y}}I.fitToBounds(C,void 0,!1),this.series.isDirty=!0,N.redraw(W)}}}return he(ee.prototype,{dataLabelOnNull:Z.pointMembers.dataLabelOnNull,moveToTopOnHover:Z.pointMembers.moveToTopOnHover,isValid:Z.pointMembers.isValid}),ee}),Ne(Y,"Series/Map/MapSeriesDefaults.js",[Y["Core/Utilities.js"]],function(Z){let{isNumber:ce}=Z;return{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){let{numberFormatter:xe}=this.series.chart,{value:ve}=this.point;return ce(ve)?xe(ve,-1):this.point.name},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"}}),Ne(Y,"Maps/MapViewDefaults.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0,insetOptions:{borderColor:"#cccccc",borderWidth:1,padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}}}),Ne(Y,"Maps/GeoJSONComposition.js",[Y["Core/Globals.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{win:me}=Z,{format:de}=ce,{error:he,extend:Q,merge:te,wrap:ee}=xe;return function(L){function W(P){return this.mapView&&this.mapView.lonLatToProjectedUnits(P)}function N(P){return this.mapView&&this.mapView.projectedUnitsToLonLat(P)}function I(P,v){let T=this.options.chart.proj4||me.proj4;if(!T)return void he(21,!1,this);let{jsonmarginX:H=0,jsonmarginY:B=0,jsonres:S=1,scale:p=1,xoffset:b=0,xpan:l=0,yoffset:n=0,ypan:o=0}=v,h=T(v.crs,[P.lon,P.lat]),d=v.cosAngle||v.rotation&&Math.cos(v.rotation),c=v.sinAngle||v.rotation&&Math.sin(v.rotation),f=v.rotation?[h[0]*d+h[1]*c,-h[0]*c+h[1]*d]:h;return{x:((f[0]-b)*p+l)*S+H,y:-(((n-f[1])*p+o)*S-B)}}function C(P,v){let T=this.options.chart.proj4||me.proj4;if(!T)return void he(21,!1,this);if(null===P.y)return;let{jsonmarginX:H=0,jsonmarginY:B=0,jsonres:S=1,scale:p=1,xoffset:b=0,xpan:l=0,yoffset:n=0,ypan:o=0}=v,h={x:((P.x-H)/S-l)/p+b,y:((P.y-B)/S+o)/p+n},d=v.cosAngle||v.rotation&&Math.cos(v.rotation),c=v.sinAngle||v.rotation&&Math.sin(v.rotation),f=T(v.crs,"WGS84",v.rotation?{x:h.x*d+-h.y*c,y:h.x*c+h.y*d}:h);return{lat:f.y,lon:f.x}}function A(P,v){v||(v=Object.keys(P.objects)[0]);let T=P.objects[v];if(T["hc-decoded-geojson"]&&T["hc-decoded-geojson"].title===P.title)return T["hc-decoded-geojson"];let H=P.arcs;if(P.transform){let l,n,o,h=P.arcs,{scale:d,translate:c}=P.transform;H=[];for(let f=0,u=h.length;f<u;++f){let M=h[f];H.push(l=[]),n=0,o=0;for(let U=0,x=M.length;U<x;++U)l.push([(n+=M[U][0])*d[0]+c[0],(o+=M[U][1])*d[1]+c[1]])}}let B=l=>"number"==typeof l[0]?l.reduce((n,o,h)=>{let d=o<0?H[~o]:H[o];return o<0?(d=d.slice(0,0===h?d.length:d.length-1)).reverse():h&&(d=d.slice(1)),n.concat(d)},[]):l.map(B),S=T.geometries,p=[];for(let l=0,n=S.length;l<n;++l)p.push({type:"Feature",properties:S[l].properties,geometry:{type:S[l].type,coordinates:S[l].coordinates||B(S[l].arcs)}});let b={type:"FeatureCollection",copyright:P.copyright,copyrightShort:P.copyrightShort,copyrightUrl:P.copyrightUrl,features:p,"hc-recommended-mapview":T["hc-recommended-mapview"],bbox:P.bbox,title:P.title};return T["hc-decoded-geojson"]=b,b}function D(P,v){v=te(!0,this.options.credits,v),P.call(this,v),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}L.compose=function(P){let v=P.prototype;v.transformFromLatLon||(v.fromLatLonToPoint=W,v.fromPointToLatLon=N,v.transformFromLatLon=I,v.transformToLatLon=C,ee(v,"addCredits",D))},L.geojson=function(P,v="map",T){let H=[],B="Topology"===P.type?A(P):P,S=B.features;for(let p=0,b=S.length;p<b;++p){let l,n=S[p],o=n.geometry||{},h=o.type,d=o.coordinates,c=n.properties;if(("map"!==v&&"mapbubble"!==v||"Polygon"!==h&&"MultiPolygon"!==h)&&("mapline"!==v||"LineString"!==h&&"MultiLineString"!==h)?"mappoint"===v&&"Point"===h&&d.length&&(l={geometry:{coordinates:d,type:h}}):d.length&&(l={geometry:{coordinates:d,type:h}}),l){let f=c&&(c.name||c.NAME),u=c&&c.lon,M=c&&c.lat;H.push(Q(l,{lat:"number"==typeof M?M:void 0,lon:"number"==typeof u?u:void 0,name:"string"==typeof f?f:void 0,properties:c}))}}return T&&B.copyrightShort&&(T.chart.mapCredits=de(T.chart.options.credits?.mapText,{geojson:B}),T.chart.mapCreditsFull=de(T.chart.options.credits?.mapTextFull,{geojson:B})),H},L.topo2geo=A}(ve||(ve={})),ve}),Ne(Y,"Core/Geometry/PolygonClip.js",[],function(){function Z(ve,me,de=!0){let Q,te,ee,he=me[me.length-1],L=ve;for(let W=0;W<me.length;W++){let N=L;Q=me[W],L=[],te=de?N[N.length-1]:N[0];for(let I=0;I<N.length;I++)ce(he,Q,ee=N[I])?(ce(he,Q,te)||L.push(xe(he,Q,te,ee)),L.push(ee)):ce(he,Q,te)&&L.push(xe(he,Q,te,ee)),te=ee;he=Q}return L}function ce(ve,me,de){return(me[0]-ve[0])*(de[1]-ve[1])>(me[1]-ve[1])*(de[0]-ve[0])}function xe(ve,me,de,he){let Q=[ve[0]-me[0],ve[1]-me[1]],te=[de[0]-he[0],de[1]-he[1]],ee=ve[0]*me[1]-ve[1]*me[0],L=de[0]*he[1]-de[1]*he[0],W=1/(Q[0]*te[1]-Q[1]*te[0]),N=[(ee*te[0]-L*Q[0])*W,(ee*te[1]-L*Q[1])*W];return N.isIntersection=!0,N}return{clipLineString:function(ve,me){let de=[],he=Z(ve,me,!1);for(let Q=1;Q<he.length;Q++)he[Q].isIntersection&&he[Q-1].isIntersection&&(de.push(he.splice(0,Q)),Q=0),Q===he.length-1&&de.push(he);return de},clipPolygon:Z}}),Ne(Y,"Maps/Projections/LambertConformalConic.js",[],function(){let Z=Math.sign||(me=>0===me?0:me>0?1:-1),ce=Math.PI/180,xe=Math.PI/2,ve=me=>Math.tan((xe+me)/2);return class{constructor(me){let de=(me.parallels||[]).map(L=>L*ce),he=de[0]||0,Q=de[1]??he,te=Math.cos(he);"object"==typeof me.projectedBounds&&(this.projectedBounds=me.projectedBounds);let ee=he===Q?Math.sin(he):Math.log(te/Math.cos(Q))/Math.log(ve(Q)/ve(he));1e-10>Math.abs(ee)&&(ee=1e-10*(Z(ee)||1)),this.n=ee,this.c=te*Math.pow(ve(he),ee)/ee}forward(me){let{c:de,n:he,projectedBounds:Q}=this,te=me[0]*ce,ee=me[1]*ce;de>0?ee<1e-6-xe&&(ee=1e-6-xe):ee>xe-1e-6&&(ee=xe-1e-6);let L=de/Math.pow(ve(ee),he),W=L*Math.sin(he*te)*63.78137,N=63.78137*(de-L*Math.cos(he*te)),I=[W,N];return Q&&(W<Q.x1||W>Q.x2||N<Q.y1||N>Q.y2)&&(I.outside=!0),I}inverse(me){let{c:de,n:he}=this,Q=me[0]/63.78137,te=de-me[1]/63.78137,ee=Z(he)*Math.sqrt(Q*Q+te*te),L=Math.atan2(Q,Math.abs(te))*Z(te);return te*he<0&&(L-=Math.PI*Z(Q)*Z(te)),[L/he/ce,(2*Math.atan(Math.pow(de/ee,1/he))-xe)/ce]}}}),Ne(Y,"Maps/Projections/EqualEarth.js",[],function(){let Z=Math.sqrt(3)/2;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}forward(ce){let xe=Math.PI/180,ve=Math.asin(Z*Math.sin(ce[1]*xe)),me=ve*ve,de=me*me*me;return[ce[0]*xe*Math.cos(ve)*74.03120656864502/(Z*(1.340264+-.24331799999999998*me+de*(.0062510000000000005+.034164*me))),74.03120656864502*ve*(1.340264+-.081106*me+de*(893e-6+.003796*me))]}inverse(ce){let he,Q,te,ee,xe=ce[0]/74.03120656864502,ve=ce[1]/74.03120656864502,me=180/Math.PI,de=ve;for(let N=0;N<12&&(Q=(he=de*de)*he*he,te=de*(1.340264+-.081106*he+Q*(893e-6+.003796*he))-ve,de-=ee=te/(1.340264+-.24331799999999998*he+Q*(.0062510000000000005+.034164*he)),!(1e-9>Math.abs(ee)));++N);Q=(he=de*de)*he*he;let L=me*Z*xe*(1.340264+-.24331799999999998*he+Q*(.0062510000000000005+.034164*he))/Math.cos(de),W=me*Math.asin(Math.sin(de)/Z);return Math.abs(L)>180?[NaN,NaN]:[L,W]}}}),Ne(Y,"Maps/Projections/Miller.js",[],function(){let Z=Math.PI/4,ce=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}forward(xe){return[xe[0]*ce*63.78137,79.7267125*Math.log(Math.tan(Z+.4*xe[1]*ce))]}inverse(xe){return[xe[0]/63.78137/ce,2.5*(Math.atan(Math.exp(xe[1]/63.78137*.8))-Z)/ce]}}}),Ne(Y,"Maps/Projections/Orthographic.js",[],function(){let Z=Math.PI/180;return class{constructor(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}forward(ce){let xe=ce[0],ve=ce[1]*Z,me=[Math.cos(ve)*Math.sin(xe*Z)*63.78460826781007,63.78460826781007*Math.sin(ve)];return(xe<-90||xe>90)&&(me.outside=!0),me}inverse(ce){let xe=ce[0]/63.78460826781007,ve=ce[1]/63.78460826781007,me=Math.sqrt(xe*xe+ve*ve),de=Math.asin(me),he=Math.sin(de);return[Math.atan2(xe*he,me*Math.cos(de))/Z,Math.asin(me&&ve*he/me)/Z]}}}),Ne(Y,"Maps/Projections/WebMercator.js",[],function(){let Z=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}forward(ce){let xe=Math.sin(ce[1]*Z),ve=[63.78137*ce[0]*Z,63.78137*Math.log((1+xe)/(1-xe))/2];return Math.abs(ce[1])>this.maxLatitude&&(ve.outside=!0),ve}inverse(ce){return[ce[0]/(63.78137*Z),(2*Math.atan(Math.exp(ce[1]/63.78137))-Math.PI/2)/Z]}}}),Ne(Y,"Maps/Projections/ProjectionRegistry.js",[Y["Maps/Projections/LambertConformalConic.js"],Y["Maps/Projections/EqualEarth.js"],Y["Maps/Projections/Miller.js"],Y["Maps/Projections/Orthographic.js"],Y["Maps/Projections/WebMercator.js"]],function(Z,ce,xe,ve,me){return{EqualEarth:ce,LambertConformalConic:Z,Miller:xe,Orthographic:ve,WebMercator:me}}),Ne(Y,"Maps/Projection.js",[Y["Core/Geometry/PolygonClip.js"],Y["Maps/Projections/ProjectionRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{clipLineString:ve,clipPolygon:me}=Z,{clamp:de,erase:he}=xe,Q=2*Math.PI/360,te=N=>(N<-180&&(N+=360),N>180&&(N-=360),N),ee=N=>(1-Math.cos(N))/2;class W{static add(I,C){W.registry[I]=C}static distance(I,C){let{atan2:A,sqrt:D}=Math,P=((N,I)=>{let C=Math.cos,A=N[1]*Q,D=N[0]*Q,P=I[1]*Q,v=I[0]*Q;return ee(P-A)+C(A)*C(P)*ee(v-D)})(I,C);return 2*A(D(P),D(1-P))*6371e3}static geodesic(I,C,A,D=5e5){let{atan2:P,cos:v,sin:T,sqrt:H}=Math,B=W.distance,S=I[1]*Q,p=I[0]*Q,b=C[1]*Q,l=C[0]*Q,n=v(S)*v(p),o=v(b)*v(l),h=v(S)*T(p),d=v(b)*T(l),c=T(S),f=T(b),u=B(I,C),M=u/6371e3,U=T(M),x=Math.round(u/D),O=[];if(A&&O.push(I),x>1){let z=1/x;for(let j=z;j<.999;j+=z){let J=T((1-j)*M)/U,y=T(j*M)/U,w=J*n+y*o,E=J*h+y*d,X=P(J*c+y*f,H(w*w+E*E)),m=P(E,w);O.push([m/Q,X/Q])}}return A&&O.push(C),O}static insertGeodesics(I){let C=I.length-1;for(;C--;)if(Math.max(Math.abs(I[C][0]-I[C+1][0]),Math.abs(I[C][1]-I[C+1][1]))>10){let A=W.geodesic(I[C],I[C+1]);A.length&&I.splice(C+1,0,...A)}}static toString(I){let{name:C,rotation:A}=I||{};return[C,A&&A.join(",")].join(";")}constructor(I={}){this.hasCoordinates=!1,this.hasGeoProjection=!1,this.maxLatitude=90,this.options=I;let{name:C,projectedBounds:A,rotation:D}=I;this.rotator=D?this.getRotator(D):void 0;let P=C?W.registry[C]:void 0;P&&(this.def=new P(I));let{def:v,rotator:T}=this;v&&(this.maxLatitude=v.maxLatitude||90,this.hasGeoProjection=!0),T&&v?(this.forward=H=>v.forward(T.forward(H)),this.inverse=H=>T.inverse(v.inverse(H))):v?(this.forward=H=>v.forward(H),this.inverse=H=>v.inverse(H)):T&&(this.forward=T.forward,this.inverse=T.inverse),this.bounds="world"===A?v&&v.bounds:A}lineIntersectsBounds(I){let T,{x1:C,x2:A,y1:D,y2:P}=this.bounds||{},v=(B,S,p)=>{let[b,l]=B,n=S?0:1;if("number"==typeof p&&b[S]>=p!=l[S]>=p){let h=b[n]+(p-b[S])/(l[S]-b[S])*(l[n]-b[n]);return S?[h,p]:[p,h]}},H=I[0];return((T=v(I,0,C))||(T=v(I,0,A)))&&(H=T,I[1]=T),((T=v(I,1,D))||(T=v(I,1,P)))&&(H=T),H}getRotator(I){let C=I[0]*Q,A=(I[1]||0)*Q,D=(I[2]||0)*Q,P=Math.cos(A),v=Math.sin(A),T=Math.cos(D),H=Math.sin(D);if(0!==C||0!==A||0!==D)return{forward:B=>{let S=B[0]*Q+C,p=B[1]*Q,b=Math.cos(p),l=Math.cos(S)*b,n=Math.sin(S)*b,o=Math.sin(p),h=o*P+l*v;return[Math.atan2(n*T-h*H,l*P-o*v)/Q,Math.asin(h*T+n*H)/Q]},inverse:B=>{let S=B[0]*Q,p=B[1]*Q,b=Math.cos(p),l=Math.cos(S)*b,n=Math.sin(S)*b,o=Math.sin(p),h=o*T-n*H;return[(Math.atan2(n*T+o*H,l*P+h*v)-C)/Q,Math.asin(h*P-l*v)/Q]}}}forward(I){return I}inverse(I){return I}cutOnAntimeridian(I,C){let A,D=[],P=[I];for(let v=0,T=I.length;v<T;++v){let H=I[v],B=I[v-1];if(!v){if(!C)continue;B=I[I.length-1]}let S=B[0],p=H[0];if((S<-90||S>90)&&(p<-90||p>90)&&S>0!=p>0){let b=de((180-(S+360)%360)/((p+360)%360-(S+360)%360),0,1);D.push({i:v,lat:B[1]+b*(H[1]-B[1]),direction:S<0?1:-1,previousLonLat:B,lonLat:H})}}if(D.length)if(C){D.length%2==1&&(A=D.slice().sort((T,H)=>Math.abs(H.lat)-Math.abs(T.lat))[0],he(D,A));let v=D.length-2;for(;v>=0;){let T=D[v].i,H=te(180+1e-6*D[v].direction),B=te(180-1e-6*D[v].direction),S=I.splice(T,D[v+1].i-T,...W.geodesic([H,D[v].lat],[H,D[v+1].lat],!0));S.push(...W.geodesic([B,D[v+1].lat],[B,D[v].lat],!0)),P.push(S),v-=2}if(A)for(let T=0;T<P.length;T++){let{direction:H,lat:B}=A,S=P[T],p=S.indexOf(A.lonLat);if(p>-1){let b=(B<0?-1:1)*this.maxLatitude,l=te(180+1e-6*H),n=te(180-1e-6*H),o=W.geodesic([l,B],[l,b],!0);for(let h=l+120*H;h>-180&&h<180;h+=120*H)o.push([h,b]);o.push(...W.geodesic([n,b],[n,A.lat],!0)),S.splice(p,0,...o);break}}}else{let v=D.length;for(;v--;){let H=I.splice(D[v].i,I.length,[te(180+1e-6*D[v].direction),D[v].lat]);H.unshift([te(180-1e-6*D[v].direction),D[v].lat]),P.push(H)}}return P}path(I){let C,{bounds:A,def:D,rotator:P}=this,v=[],T="Polygon"===I.type||"MultiPolygon"===I.type,H=this.hasGeoProjection,B=!D||!1!==D.antimeridianCutting,S=B?P:void 0,p=B&&D||this;A&&(C=[[A.x1,A.y1],[A.x2,A.y1],[A.x2,A.y2],[A.x1,A.y2]]);let b=l=>{let n=l.map(h=>{if(B){S&&(h=S.forward(h));let d=h[0];1e-6>Math.abs(d-180)&&(d=d<180?179.999999:180.000001),h=[d,h[1]]}return h}),o=[n];H&&(W.insertGeodesics(n),B&&(o=this.cutOnAntimeridian(n,T))),o.forEach(h=>{let d,c;if(h.length<2)return;let f=!1,u=!1,M=z=>{f?v.push(["L",z[0],z[1]]):(v.push(["M",z[0],z[1]]),f=!0)},U=!1,x=!1,O=h.map(z=>{let j=p.forward(z);return j.outside?U=!0:x=!0,j[1]===1/0?j[1]=1e10:j[1]===-1/0&&(j[1]=-1e10),j});if(B){if(T&&O.push(O[0]),U){if(!x)return;if(C)if(T)O=me(O,C);else if(A)return void ve(O,C).forEach(z=>{f=!1,z.forEach(M)})}O.forEach(M)}else for(let z=0;z<O.length;z++){let j=h[z],J=O[z];J.outside?u=!0:(T&&!d&&(d=j,h.push(j),O.push(J)),u&&c&&(T&&H?W.geodesic(c,j).forEach(y=>M(p.forward(y))):f=!1),M(J),c=j,u=!1)}})};return"LineString"===I.type?b(I.coordinates):"MultiLineString"===I.type?I.coordinates.forEach(l=>b(l)):"Polygon"===I.type?(I.coordinates.forEach(l=>b(l)),v.length&&v.push(["Z"])):"MultiPolygon"===I.type&&(I.coordinates.forEach(l=>{l.forEach(n=>b(n))}),v.length&&v.push(["Z"])),v}}return W.registry=ce,W}),Ne(Y,"Maps/MapView.js",[Y["Core/Globals.js"],Y["Maps/MapViewDefaults.js"],Y["Maps/GeoJSONComposition.js"],Y["Core/Geometry/GeometryUtilities.js"],Y["Maps/MapUtilities.js"],Y["Maps/Projection.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he){let{composed:Q}=Z,{pointInPolygon:te}=ve,{topo2geo:ee}=xe,{boundsFromPath:L}=me,{addEvent:W,clamp:N,crisp:I,fireEvent:C,isArray:A,isNumber:D,isObject:P,isString:v,merge:T,pick:H,pushUnique:B,relativeLength:S}=he,p={};function b(h,d){let{width:c,height:f}=d;return Math.log(400.979322/Math.max((h.x2-h.x1)/(c/256),(h.y2-h.y1)/(f/256)))/Math.log(2)}function l(h){h.seriesOptions.mapData&&this.mapView?.recommendMapView(this,[this.options.chart.map,h.seriesOptions.mapData],this.options.drilldown?.mapZooming)}class n{static compose(d){B(Q,"MapView")&&(p=d.maps,W(d,"afterInit",function(){this.mapView=new n(this,this.options.mapView)},{order:0}),W(d,"addSeriesAsDrilldown",l),W(d,"afterDrillUp",l))}static compositeBounds(d){if(d.length)return d.slice(1).reduce((c,f)=>(c.x1=Math.min(c.x1,f.x1),c.y1=Math.min(c.y1,f.y1),c.x2=Math.max(c.x2,f.x2),c.y2=Math.max(c.y2,f.y2),c),T(d[0]))}static mergeInsets(d,c){let f=M=>{let U={};return M.forEach((x,O)=>{U[x&&x.id||`i${O}`]=x}),U},u=T(f(d),f(c));return Object.keys(u).map(M=>u[M])}constructor(d,c){this.allowTransformAnimation=!0,this.eventsToUnbind=[],this.insets=[],this.padding=[0,0,0,0],this.recommendedMapView={},this instanceof o||this.recommendMapView(d,[d.options.chart.map,...(d.options.series||[]).map(U=>U.mapData)]),this.userOptions=c||{};let f=T(ce,this.recommendedMapView,c),u=this.recommendedMapView?.insets,M=c&&c.insets;u&&M&&(f.insets=n.mergeInsets(u,M)),this.chart=d,this.center=f.center,this.options=f,this.projection=new de(f.projection),this.playingField=d.plotBox,this.zoom=f.zoom||0,this.minZoom=f.minZoom,this.createInsets(),this.eventsToUnbind.push(W(d,"afterSetChartSize",()=>{this.playingField=this.getField(),(void 0===this.minZoom||this.minZoom===this.zoom)&&(this.fitToBounds(void 0,void 0,!1),!this.chart.hasRendered&&D(this.userOptions.zoom)&&(this.zoom=this.userOptions.zoom),this.userOptions.center&&T(!0,this.center,this.userOptions.center))})),this.setUpEvents()}createInsets(){let d=this.options,c=d.insets;c&&c.forEach(f=>{let u=new o(this,T(d.insetOptions,f));this.insets.push(u)})}fitToBounds(d,c,f=!0,u){let M=d||this.getProjectedBounds();if(M){let U=H(c,d?0:this.options.padding),x=this.getField(!1),O=A(U)?U:[U,U,U,U];this.padding=[S(O[0],x.height),S(O[1],x.width),S(O[2],x.height),S(O[3],x.width)],this.playingField=this.getField();let z=b(M,this.playingField);d||(this.minZoom=z);let j=this.projection.inverse([(M.x2+M.x1)/2,(M.y2+M.y1)/2]);this.setView(j,z,f,u)}}getField(d=!0){let c=d?this.padding:[0,0,0,0];return{x:c[3],y:c[0],width:this.chart.plotWidth-c[1]-c[3],height:this.chart.plotHeight-c[0]-c[2]}}getGeoMap(d){if(v(d))return p[d]&&"Topology"===p[d].type?ee(p[d]):p[d];if(P(d,!0)){if("FeatureCollection"===d.type)return d;if("Topology"===d.type)return ee(d)}}getMapBBox(){let d=this.getProjectedBounds(),c=this.getScale();if(d){let f=this.padding,u=this.projectedUnitsToPixels({x:d.x1,y:d.y2});return{width:(d.x2-d.x1)*c+f[1]+f[3],height:(d.y2-d.y1)*c+f[0]+f[2],x:u.x-f[3],y:u.y-f[0]}}}getProjectedBounds(){let d=this.projection,c=this.chart.series.reduce((u,M)=>{let U=M.getProjectedBounds&&M.getProjectedBounds();return U&&!1!==M.options.affectsMapView&&u.push(U),u},[]),f=this.options.fitToGeometry;if(f){if(!this.fitToGeometryCache)if("MultiPoint"===f.type){let u=f.coordinates.map(x=>d.forward(x)),M=u.map(x=>x[0]),U=u.map(x=>x[1]);this.fitToGeometryCache={x1:Math.min.apply(0,M),x2:Math.max.apply(0,M),y1:Math.min.apply(0,U),y2:Math.max.apply(0,U)}}else this.fitToGeometryCache=L(d.path(f));return this.fitToGeometryCache}return this.projection.bounds||n.compositeBounds(c)}getScale(){return 256/400.979322*Math.pow(2,this.zoom)}getSVGTransform(){let{x:d,y:c,width:f,height:u}=this.playingField,M=this.projection.forward(this.center),U=this.projection.hasCoordinates?-1:1,x=this.getScale(),O=x*U;return{scaleX:x,scaleY:O,translateX:d+f/2-M[0]*x,translateY:c+u/2-M[1]*O}}lonLatToPixels(d){let c=this.lonLatToProjectedUnits(d);if(c)return this.projectedUnitsToPixels(c)}lonLatToProjectedUnits(d){let c=this.chart,f=c.mapTransforms;if(f){for(let M in f)if(Object.hasOwnProperty.call(f,M)&&f[M].hitZone){let U=c.transformFromLatLon(d,f[M]);if(U&&te(U,f[M].hitZone.coordinates[0]))return U}return c.transformFromLatLon(d,f.default)}for(let M of this.insets)if(M.options.geoBounds&&te({x:d.lon,y:d.lat},M.options.geoBounds.coordinates[0])){let U=M.projection.forward([d.lon,d.lat]),x=M.projectedUnitsToPixels({x:U[0],y:U[1]});return this.pixelsToProjectedUnits(x)}let u=this.projection.forward([d.lon,d.lat]);if(!u.outside)return{x:u[0],y:u[1]}}projectedUnitsToLonLat(d){let c=this.chart,f=c.mapTransforms;if(f){for(let U in f)if(Object.hasOwnProperty.call(f,U)&&f[U].hitZone&&te(d,f[U].hitZone.coordinates[0]))return c.transformToLatLon(d,f[U]);return c.transformToLatLon(d,f.default)}let u=this.projectedUnitsToPixels(d);for(let U of this.insets)if(U.hitZone&&te(u,U.hitZone.coordinates[0])){let x=U.pixelsToProjectedUnits(u),O=U.projection.inverse([x.x,x.y]);return{lon:O[0],lat:O[1]}}let M=this.projection.inverse([d.x,d.y]);return{lon:M[0],lat:M[1]}}recommendMapView(d,c,f=!1){this.recommendedMapView={};let u=c.map(x=>this.getGeoMap(x)),M=[];u.forEach(x=>{if(x&&(Object.keys(this.recommendedMapView).length||(this.recommendedMapView=x["hc-recommended-mapview"]||{}),x.bbox)){let[O,z,j,J]=x.bbox;M.push({x1:O,y1:z,x2:j,y2:J})}});let U=M.length&&n.compositeBounds(M);C(this,"onRecommendMapView",{geoBounds:U,chart:d},function(){if(U&&this.recommendedMapView){if(!this.recommendedMapView.projection){let{x1:x,y1:O,x2:z,y2:j}=U;this.recommendedMapView.projection=z-x>180&&j-O>90?{name:"EqualEarth",parallels:[0,0],rotation:[0]}:{name:"LambertConformalConic",parallels:[O,j],rotation:[-(x+z)/2]}}this.recommendedMapView.insets||(this.recommendedMapView.insets=void 0)}}),this.geoMap=u[0],f&&d.hasRendered&&!d.userOptions.mapView?.projection&&this.recommendedMapView&&this.update(this.recommendedMapView)}redraw(d){this.chart.series.forEach(c=>{c.useMapGeometry&&(c.isDirty=!0)}),this.chart.redraw(d)}setView(d,c,f=!0,u){d&&(this.center=d),"number"==typeof c&&("number"==typeof this.minZoom&&(c=Math.max(c,this.minZoom)),"number"==typeof this.options.maxZoom&&(c=Math.min(c,this.options.maxZoom)),D(c)&&(this.zoom=c));let M=this.getProjectedBounds();if(M){let U=this.projection.forward(this.center),{x,y:O,width:z,height:j}=this.playingField,J=this.getScale(),y=this.projectedUnitsToPixels({x:M.x1,y:M.y1}),w=this.projectedUnitsToPixels({x:M.x2,y:M.y2}),E=[(M.x1+M.x2)/2,(M.y1+M.y2)/2];if(!this.chart.series.some(X=>X.isDrilling)){let X=y.x,m=w.y,F=w.x,R=y.y;F-X<z?U[0]=E[0]:X<x&&F<x+z?U[0]+=Math.max(X-x,F-z-x)/J:F>x+z&&X>x&&(U[0]+=Math.min(F-z-x,X-x)/J),R-m<j?U[1]=E[1]:m<O&&R<O+j?U[1]-=Math.max(m-O,R-j-O)/J:R>O+j&&m>O&&(U[1]-=Math.min(R-j-O,m-O)/J),this.center=this.projection.inverse(U)}this.insets.forEach(X=>{X.options.field&&(X.hitZone=X.getHitZone(),X.playingField=X.getField())}),this.render()}C(this,"afterSetView"),f&&this.redraw(u)}projectedUnitsToPixels(d){let c=this.getScale(),f=this.projection.forward(this.center),u=this.playingField;return{x:u.x+u.width/2-c*(f[0]-d.x),y:u.y+u.height/2+c*(f[1]-d.y)}}pixelsToLonLat(d){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(d))}pixelsToProjectedUnits(d){let{x:c,y:f}=d,u=this.getScale(),M=this.projection.forward(this.center),U=this.playingField;return{x:M[0]+(c-(U.x+U.width/2))/u,y:M[1]-(f-(U.y+U.height/2))/u}}setUpEvents(){let d,c,f,{chart:u}=this,M=U=>{let{lastTouches:x,pinchDown:O}=u.pointer,z=this.projection,j=U.touches,{mouseDownX:J,mouseDownY:y}=u,w=0;if(1===O?.length?(J=O[0].chartX,y=O[0].chartY):2===O?.length&&(J=(O[0].chartX+O[1].chartX)/2,y=(O[0].chartY+O[1].chartY)/2),2===j?.length&&x&&(w=Math.log(Math.sqrt(Math.pow(x[0].chartX-x[1].chartX,2)+Math.pow(x[0].chartY-x[1].chartY,2))/Math.sqrt(Math.pow(j[0].chartX-j[1].chartX,2)+Math.pow(j[0].chartY-j[1].chartY,2)))/Math.log(.5)),D(J)&&D(y)){let E=`${J},${y}`,{chartX:X,chartY:m}=U.originalEvent;2===j?.length&&(X=(j[0].chartX+j[1].chartX)/2,m=(j[0].chartY+j[1].chartY)/2),E!==c&&(c=E,d=this.projection.forward(this.center),f=(this.projection.options.rotation||[0,0]).slice());let F=z.def&&z.def.bounds,R=F&&b(F,this.playingField)||-1/0;if("Orthographic"===z.options.name&&2>(j?.length||0)&&(this.minZoom||1/0)<1.3*R){let _=440/(this.getScale()*Math.min(u.plotWidth,u.plotHeight));if(f){let G=(J-X)*_-f[0],K=N(-f[1]-(y-m)*_,-80,80),oe=this.zoom;this.update({projection:{rotation:[-G,-K]}},!1),this.fitToBounds(void 0,void 0,!1),this.zoom=oe,u.redraw(!1)}}else if(D(X)&&D(m)){let _=this.getScale(),K=this.projection.inverse([d[0]+(J-X)/_,d[1]-(y-m)/_*(this.projection.hasCoordinates?1:-1)]);isNaN(K[0]+K[1])||this.zoomBy(w,K,void 0,!1)}U.preventDefault()}};W(u,"pan",M),W(u,"touchpan",M),W(u,"selection",U=>{if(U.resetSelection)this.zoomBy();else{let x=U.x-u.plotLeft,O=U.y-u.plotTop,{y:z,x:j}=this.pixelsToProjectedUnits({x,y:O}),{y:J,x:y}=this.pixelsToProjectedUnits({x:x+U.width,y:O+U.height});this.fitToBounds({x1:j,y1:z,x2:y,y2:J},void 0,!0,!U.originalEvent.touches&&void 0),/^touch/.test(U.originalEvent.type)||u.showResetZoom(),U.preventDefault()}})}render(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())}update(d,c=!0,f){let u=d.projection,M=u&&de.toString(u)!==de.toString(this.options.projection),U=!1;T(!0,this.userOptions,d),T(!0,this.options,d),"insets"in d&&(this.insets.forEach(x=>x.destroy()),this.insets.length=0,U=!0),(M||"fitToGeometry"in d)&&delete this.fitToGeometryCache,(M||U)&&(this.chart.series.forEach(x=>{let O=x.transformGroups;if(x.clearBounds&&x.clearBounds(),x.isDirty=!0,x.isDirtyData=!0,U&&O)for(;O.length>1;){let z=O.pop();z&&z.destroy()}}),M&&(this.projection=new de(this.options.projection)),U&&this.createInsets(),!d.center&&Object.hasOwnProperty.call(d,"zoom")&&!D(d.zoom)&&this.fitToBounds(void 0,void 0,!1)),d.center||D(d.zoom)?this.setView(this.options.center,d.zoom,!1):"fitToGeometry"in d&&this.fitToBounds(void 0,void 0,!1),c&&this.chart.redraw(f)}zoomBy(d,c,f,u){let M=this.chart,U=this.projection.forward(this.center);if("number"==typeof d){let x,O,z,j=this.zoom+d;if(f){let[J,y]=f,w=this.getScale();O=U[0]+(J-M.plotLeft-M.plotWidth/2)/w,z=U[1]+(y-M.plotTop-M.plotHeight/2)/w}if("number"==typeof O&&"number"==typeof z){let J=1-Math.pow(2,this.zoom)/Math.pow(2,j),w=U[1]-z;U[0]-=(U[0]-O)*J,U[1]+=w*J,x=this.projection.inverse(U)}this.setView(c||x,j,void 0,u)}else this.fitToBounds(void 0,void 0,void 0,u)}}class o extends n{constructor(d,c){if(super(d.chart,c),this.id=c.id,this.mapView=d,this.options=T({center:[0,0]},d.options.insetOptions,c),this.allBounds=[],this.options.geoBounds){let f=d.projection.path(this.options.geoBounds);this.geoBoundsProjectedBox=L(f),this.geoBoundsProjectedPolygon=f.map(u=>[u[1]||0,u[2]||0])}}getField(d=!0){let c=this.hitZone;if(c){let f=d?this.padding:[0,0,0,0],u=c.coordinates[0],M=u.map(J=>J[0]),U=u.map(J=>J[1]),x=Math.min.apply(0,M)+f[3],O=Math.max.apply(0,M)-f[1],z=Math.min.apply(0,U)+f[0],j=Math.max.apply(0,U)-f[2];if(D(x)&&D(z))return{x,y:z,width:O-x,height:j-z}}return super.getField.call(this,d)}getHitZone(){let{chart:d,mapView:c,options:f}=this,{coordinates:u}=f.field||{};if(u){let M=u[0];if("percent"===f.units){let U="mapBoundingBox"===f.relativeTo&&c.getMapBBox()||T(d.plotBox,{x:0,y:0});M=M.map(x=>[S(`${x[0]}%`,U.width,U.x),S(`${x[1]}%`,U.height,U.y)])}return{type:"Polygon",coordinates:[M]}}}getProjectedBounds(){return n.compositeBounds(this.allBounds)}isInside(d){let{geoBoundsProjectedBox:c,geoBoundsProjectedPolygon:f}=this;return!!(c&&d.x>=c.x1&&d.x<=c.x2&&d.y>=c.y1&&d.y<=c.y2&&f&&te(d,f))}render(){let{chart:d,mapView:c,options:f}=this,u=f.borderPath||f.field;if(u&&c.group){let M=!0;this.border||(this.border=d.renderer.path().addClass("highcharts-mapview-inset-border").add(c.group),M=!1),d.styledMode||this.border.attr({stroke:f.borderColor,"stroke-width":f.borderWidth});let U=this.border.strokeWidth(),x="mapBoundingBox"===f.relativeTo&&c.getMapBBox()||c.playingField,O=(u.coordinates||[]).reduce((z,j)=>j.reduce((J,y,w)=>{let[E,X]=y;return"percent"===f.units&&(E=d.plotLeft+S(`${E}%`,x.width,x.x),X=d.plotTop+S(`${X}%`,x.height,x.y)),E=I(E,U),X=I(X,U),J.push(0===w?["M",E,X]:["L",E,X]),J},z),[]);this.border[M?"animate":"attr"]({d:O})}}destroy(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(d=>d())}setUpEvents(){}}return n}),Ne(Y,"Series/Map/MapSeries.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Series/ColorMapComposition.js"],Y["Series/CenteredUtilities.js"],Y["Core/Globals.js"],Y["Core/Chart/MapChart.js"],Y["Series/Map/MapPoint.js"],Y["Series/Map/MapSeriesDefaults.js"],Y["Maps/MapView.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee){let{animObject:L,stop:W}=Z,{noop:N}=ve,{splitPath:I}=me,{column:C,scatter:A}=te.seriesTypes,{extend:D,find:P,fireEvent:v,getNestedProperty:T,isArray:H,defined:B,isNumber:S,isObject:p,merge:b,objectEach:l,pick:n,splat:o}=ee;class h extends A{constructor(){super(...arguments),this.processedData=[]}animate(c){let{chart:f,group:u}=this,M=L(this.options.animation);c?u.attr({translateX:f.plotLeft+f.plotWidth/2,translateY:f.plotTop+f.plotHeight/2,scaleX:.001,scaleY:.001}):u.animate({translateX:f.plotLeft,translateY:f.plotTop,scaleX:1,scaleY:1},M)}clearBounds(){this.points.forEach(c=>{delete c.bounds,delete c.insetIndex,delete c.projectedPath}),delete this.bounds}doFullTranslate(){return!(!this.isDirtyData&&!this.chart.isResizing&&this.hasRendered)}drawMapDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}drawPoints(){let c=this,{chart:f,group:u,transformGroups:M=[]}=this,{mapView:U,renderer:x}=f;if(U){this.transformGroups=M,M[0]||(M[0]=x.g().add(u));for(let O=0,z=U.insets.length;O<z;++O)M[O+1]||M.push(x.g().add(u));this.doFullTranslate()&&(this.points.forEach(O=>{let{graphic:z}=O;O.group=M["number"==typeof O.insetIndex?O.insetIndex+1:0],z&&z.parentGroup!==O.group&&z.add(O.group)}),C.prototype.drawPoints.apply(this),this.points.forEach(O=>{let z=O.graphic;if(z){let j=z.animate,J="";O.name&&(J+="highcharts-name-"+O.name.replace(/ /g,"-").toLowerCase()),O.properties&&O.properties["hc-key"]&&(J+=" highcharts-key-"+O.properties["hc-key"].toString().toLowerCase()),J&&z.addClass(J),f.styledMode&&z.css(this.pointAttribs(O,O.selected?"select":void 0)),z.attr({visibility:O.visible||!O.visible&&!O.isNull?"inherit":"hidden"}),z.animate=function(y,w,E){let X=S(y["stroke-width"])&&!S(z["stroke-width"]),m=S(z["stroke-width"])&&!S(y["stroke-width"]);if(X||m){let F=n(c.getStrokeWidth(c.options),1)/(f.mapView&&f.mapView.getScale()||1);X&&(z["stroke-width"]=F),m&&(y["stroke-width"]=F)}return j.call(z,y,w,m?function(){z.element.removeAttribute("stroke-width"),delete z["stroke-width"],E&&E.apply(this,arguments)}:E)}}})),M.forEach((O,z)=>{let j=(0===z?U:U.insets[z-1]).getSVGTransform(),J=n(this.getStrokeWidth(this.options),1),y=j.scaleX,w=j.scaleY>0?1:-1,E=X=>{(c.points||[]).forEach(m=>{let F,R=m.graphic;R&&R["stroke-width"]&&(F=this.getStrokeWidth(m.options))&&R.attr({"stroke-width":F/X})})};if(x.globalAnimation&&f.hasRendered&&U.allowTransformAnimation){let X=Number(O.attr("translateX")),m=Number(O.attr("translateY")),F=Number(O.attr("scaleX")),R=(K,oe)=>{let ae=F+(y-F)*oe.pos;O.attr({translateX:X+(j.translateX-X)*oe.pos,translateY:m+(j.translateY-m)*oe.pos,scaleX:ae,scaleY:ae*w,"stroke-width":J/ae}),E(ae)},_=b(L(x.globalAnimation)),G=_.step;_.step=function(){G&&G.apply(this,arguments),R.apply(this,arguments)},O.attr({animator:0}).animate({animator:1},_,function(){"boolean"!=typeof x.globalAnimation&&x.globalAnimation.complete&&x.globalAnimation.complete({applyDrilldown:!0}),v(this,"mapZoomComplete")}.bind(this))}else W(O),O.attr(b(j,{"stroke-width":J/y})),E(y)}),this.isDrilling||this.drawMapDataLabels()}}getProjectedBounds(){if(!this.bounds&&this.chart.mapView){let{insets:c,projection:f}=this.chart.mapView,u=[];(this.points||[]).forEach(M=>{if(M.path||M.geometry){if("string"==typeof M.path?M.path=I(M.path):H(M.path)&&"M"===M.path[0]&&(M.path=this.chart.renderer.pathToSegments(M.path)),!M.bounds){let U=M.getProjectedBounds(f);if(U){M.labelrank=n(M.labelrank,(U.x2-U.x1)*(U.y2-U.y1));let{midX:x,midY:O}=U;if(c&&S(x)&&S(O)){let z=P(c,j=>j.isInside({x,y:O}));z&&(delete M.projectedPath,(U=M.getProjectedBounds(z.projection))&&z.allBounds.push(U),M.insetIndex=c.indexOf(z))}M.bounds=U}}M.bounds&&void 0===M.insetIndex&&u.push(M.bounds)}}),this.bounds=Q.compositeBounds(u)}return this.bounds}getStrokeWidth(c){let f=this.pointAttrToOptions;return c[f&&f["stroke-width"]||"borderWidth"]}hasData(){return!!this.processedXData.length}pointAttribs(c,f){let{mapView:u,styledMode:M}=c.series.chart,U=M?this.colorAttribs(c):C.prototype.pointAttribs.call(this,c,f),x=this.getStrokeWidth(c.options);if(f){let z=b(this.options.states&&this.options.states[f],c.options.states&&c.options.states[f]||{}),j=this.getStrokeWidth(z);B(j)&&(x=j),U.stroke=z.borderColor??c.color}x&&u&&(x/=u.getScale());let O=this.getStrokeWidth(this.options);return U.dashstyle&&u&&S(O)&&(x=O/u.getScale()),c.visible||(U.fill=this.options.nullColor),B(x)?U["stroke-width"]=x:delete U["stroke-width"],U["stroke-linecap"]=U["stroke-linejoin"]=this.options.linecap,U}updateData(){return!this.processedData&&super.updateData.apply(this,arguments)}setData(c,f=!0,u,M){delete this.bounds,super.setData(c,!1,void 0,M),this.processData(),this.generatePoints(),f&&this.chart.redraw(u)}processData(){let c,f,u,M=this.options,U=M.data,x=this.chart,O=x.options.chart,z=this.joinBy,j=M.keys||this.pointArrayMap,J=[],y={},w=this.chart.mapView,E=w&&(p(M.mapData,!0)?w.getGeoMap(M.mapData):w.geoMap),X=x.mapTransforms=O.mapTransforms||E&&E["hc-transform"]||x.mapTransforms;X&&l(X,F=>{F.rotation&&(F.cosAngle=Math.cos(F.rotation),F.sinAngle=Math.sin(F.rotation))}),H(M.mapData)?u=M.mapData:E&&"FeatureCollection"===E.type&&(this.mapTitle=E.title,u=ve.geojson(E,this.type,this)),this.processedData=[];let m=this.processedData;if(U){let F;for(let R=0,_=U.length;R<_;++R){if(S(F=U[R]))m[R]={value:F};else if(H(F)){let G=0;m[R]={},!M.keys&&F.length>j.length&&"string"==typeof F[0]&&(m[R]["hc-key"]=F[0],++G);for(let K=0;K<j.length;++K,++G)j[K]&&void 0!==F[G]&&(j[K].indexOf(".")>0?de.prototype.setNestedProperty(m[R],F[G],j[K]):m[R][j[K]]=F[G])}else m[R]=U[R];z&&"_i"===z[0]&&(m[R]._i=R)}}if(u){this.mapData=u,this.mapMap={};for(let F=0;F<u.length;F++)f=(c=u[F]).properties,c._i=F,z[0]&&f&&f[z[0]]&&(c[z[0]]=f[z[0]]),y[c[z[0]]]=c;if(this.mapMap=y,z[1]){let F=z[1];m.forEach(R=>{let _=T(F,R);y[_]&&J.push(y[_])})}if(M.allAreas){if(z[1]){let R=z[1];m.forEach(_=>{J.push(T(R,_))})}let F="|"+J.map(function(R){return R&&R[z[0]]}).join("|")+"|";u.forEach(R=>{z[0]&&-1!==F.indexOf("|"+R[z[0]]+"|")||m.push(b(R,{value:null}))})}}this.processedXData=Array(m.length)}setOptions(c){let f=super.setOptions(c),u=f.joinBy;return null===f.joinBy&&(u="_i"),(u=this.joinBy=o(u))[1]||(u[1]=u[0]),f}translate(){let c=this.doFullTranslate(),f=this.chart.mapView,u=f&&f.projection;if(this.chart.hasRendered&&(this.isDirtyData||!this.hasRendered)&&(this.processData(),this.generatePoints(),delete this.bounds,!f||f.userOptions.center||S(f.userOptions.zoom)||f.zoom!==f.minZoom?this.getProjectedBounds():f.fitToBounds(void 0,void 0,!1)),f){let M=f.getSVGTransform();this.points.forEach(U=>{let x=S(U.insetIndex)&&f.insets[U.insetIndex].getSVGTransform()||M;x&&U.bounds&&S(U.bounds.midX)&&S(U.bounds.midY)&&(U.plotX=U.bounds.midX*x.scaleX+x.translateX,U.plotY=U.bounds.midY*x.scaleY+x.translateY),c&&(U.shapeType="path",U.shapeArgs={d:de.getProjectedPath(U,u)}),U.hiddenInDataClass||(U.projectedPath&&!U.projectedPath.length?U.setVisible(!1):U.visible||U.setVisible(!0))})}v(this,"afterTranslate")}update(c){c.mapData&&this.chart.mapView?.recommendMapView(this.chart,[this.chart.options.chart.map,...(this.chart.options.series||[]).map((f,u)=>u===this._i?c.mapData:f.mapData)],!0),super.update.apply(this,arguments)}}return h.defaultOptions=b(A.defaultOptions,he),D(h.prototype,{type:"map",axisTypes:ce.seriesMembers.axisTypes,colorAttribs:ce.seriesMembers.colorAttribs,colorKey:ce.seriesMembers.colorKey,directTouch:!0,drawDataLabels:N,drawGraph:N,forceDL:!0,getCenter:xe.getCenter,getExtremesFromAll:!0,getSymbol:N,isCartesian:!1,parallelArrays:ce.seriesMembers.parallelArrays,pointArrayMap:ce.seriesMembers.pointArrayMap,pointClass:de,preserveAspectRatio:!0,searchPoint:N,trackerGroups:ce.seriesMembers.trackerGroups,useMapGeometry:!0}),ce.compose(h),te.registerSeriesType("map",h),h}),Ne(Y,"Series/MapLine/MapLineSeriesDefaults.js",[],function(){return{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"}}),Ne(Y,"Series/MapLine/MapLineSeries.js",[Y["Series/MapLine/MapLineSeriesDefaults.js"],Y["Series/Map/MapSeries.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{extend:me,merge:de}=ve;class he extends ce{pointAttribs(te,ee){let L=super.pointAttribs(te,ee);return L.fill=this.options.fillColor,L}}return he.defaultOptions=de(ce.defaultOptions,Z),me(he.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),xe.registerSeriesType("mapline",he),he}),Ne(Y,"Series/MapPoint/MapPointPoint.js",[Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce){let{scatter:xe}=Z.seriesTypes,{isNumber:ve}=ce;return class me extends xe.prototype.pointClass{isValid(){return!!(this.options.geometry||ve(this.x)&&ve(this.y)||ve(this.options.lon)&&ve(this.options.lat))}}}),Ne(Y,"Series/MapPoint/MapPointSeriesDefaults.js",[],function(){return{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"}}),Ne(Y,"Series/MapPoint/MapPointSeries.js",[Y["Core/Globals.js"],Y["Series/MapPoint/MapPointPoint.js"],Y["Series/MapPoint/MapPointSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de){let{noop:he}=Z,{map:Q,scatter:te}=ve.seriesTypes,{extend:ee,fireEvent:L,isNumber:W,merge:N}=de;class I extends te{constructor(){super(...arguments),this.clearBounds=Q.prototype.clearBounds}drawDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}projectPoint(A){let D=this.chart.mapView;if(D){let{geometry:P,lon:v,lat:T}=A,H=P&&"Point"===P.type&&P.coordinates;if(W(v)&&W(T)&&(H=[v,T]),H)return D.lonLatToProjectedUnits({lon:H[0],lat:H[1]})}}translate(){let A=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),A){let D=A.getSVGTransform(),{hasCoordinates:P}=A.projection;this.points.forEach(v=>{let T,{x:H,y:B}=v,S=W(v.insetIndex)&&A.insets[v.insetIndex].getSVGTransform()||D,p=this.projectPoint(v.options)||v.properties&&this.projectPoint(v.properties);if(p?(H=p.x,B=p.y):v.bounds&&(H=v.bounds.midX,B=v.bounds.midY,S&&W(H)&&W(B)&&(v.plotX=H*S.scaleX+S.translateX,v.plotY=B*S.scaleY+S.translateY,T=!0)),W(H)&&W(B)){if(!T){let b=A.projectedUnitsToPixels({x:H,y:B});v.plotX=b.x,v.plotY=P?b.y:this.chart.plotHeight-b.y}}else v.y=v.plotX=v.plotY=void 0;v.isInside=this.isPointInside(v),v.zone=this.zones.length?v.getZone():void 0})}L(this,"afterTranslate")}}return I.defaultOptions=N(te.defaultOptions,xe),me.prototype.symbols.mapmarker=(C,A,D,P,v)=>{let T,H,B=v&&"legend"===v.context;B?(T=C+D/2,H=A+P):v&&"number"==typeof v.anchorX&&"number"==typeof v.anchorY?(T=v.anchorX,H=v.anchorY):(T=C+D/2,H=A+P/2,A-=P);let S=B?P/3:P/2;return[["M",T,H],["C",T,H,T-S,A+1.5*S,T-S,A+S],["A",S,S,1,1,1,T+S,A+S],["C",T+S,A+1.5*S,T,H,T,H],["Z"]]},ee(I.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:ce,searchPoint:he,useMapGeometry:!0}),ve.registerSeriesType("mappoint",I),I}),Ne(Y,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),Ne(Y,"Series/Bubble/BubbleLegendItem.js",[Y["Core/Color/Color.js"],Y["Core/Templating.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{parse:me}=Z,{noop:de}=xe,{arrayMax:he,arrayMin:Q,isNumber:te,merge:ee,pick:L,stableSort:W}=ve;return class{constructor(N,I){this.setState=de,this.init(N,I)}init(N,I){this.options=N,this.visible=!0,this.chart=I.chart,this.legend=I}addToLegend(N){N.splice(this.options.legendIndex,0,this)}drawLegendSymbol(N){let I,C=L(N.options.itemDistance,20),A=this.legendItem||{},D=this.options,P=D.ranges,v=D.connectorDistance;if(!P||!P.length||!te(P[0].value))return void(N.options.bubbleLegend.autoRanges=!0);W(P,function(S,p){return p.value-S.value}),this.ranges=P,this.setOptions(),this.render();let T=this.getMaxLabelSize(),H=this.ranges[0].radius,B=2*H;I=(I=v-H+T.width)>0?I:0,this.maxLabel=T,this.movementX="left"===D.labels.align?I:0,A.labelWidth=B+I+C,A.labelHeight=B+T.height/2}setOptions(){let N=this.ranges,I=this.options,C=this.chart.series[I.seriesIndex],A=this.legend.baseline,D={zIndex:I.zIndex,"stroke-width":I.borderWidth},P={zIndex:I.zIndex,"stroke-width":I.connectorWidth},v={align:this.legend.options.rtl||"left"===I.labels.align?"right":"left",zIndex:I.zIndex},T=C.options.marker.fillOpacity,H=this.chart.styledMode;N.forEach(function(B,S){H||(D.stroke=L(B.borderColor,I.borderColor,C.color),D.fill=L(B.color,I.color,1!==T?me(C.color).setOpacity(T).get("rgba"):C.color),P.stroke=L(B.connectorColor,I.connectorColor,C.color)),N[S].radius=this.getRangeRadius(B.value),N[S]=ee(N[S],{center:N[0].radius-N[S].radius+A}),H||ee(!0,N[S],{bubbleAttribs:ee(D),connectorAttribs:ee(P),labelAttribs:v})},this)}getRangeRadius(N){let I=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,I.ranges[I.ranges.length-1].value,I.ranges[0].value,I.minSize,I.maxSize,N)}render(){let N=this.legendItem||{},I=this.chart.renderer,C=this.options.zThreshold;for(let A of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),N.symbol=I.g("bubble-legend"),N.label=I.g("bubble-legend-item").css(this.legend.itemStyle||{}),N.symbol.translateX=0,N.symbol.translateY=0,N.symbol.add(N.label),N.label.add(N.group),this.ranges))A.value>=C&&this.renderRange(A);this.hideOverlappingLabels()}renderRange(N){let I=this.ranges[0],C=this.legend,A=this.options,D=A.labels,P=this.chart,v=P.series[A.seriesIndex],T=P.renderer,H=this.symbols,B=H.labels,S=N.center,p=Math.abs(N.radius),b=A.connectorDistance||0,l=D.align,h=A.connectorWidth,d=I.radius||0,c=S-p-A.borderWidth/2+h/2,f=(c%1?1:.5)-(h%2?0:.5),u=T.styledMode,M=C.options.rtl||"left"===l?-b:b;"center"===l&&(M=0,A.connectorDistance=0,N.labelAttribs.align="center"),H.bubbleItems.push(T.circle(d,S+f,p).attr(u?{}:N.bubbleAttribs).addClass((u?"highcharts-color-"+v.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(A.className||"")).add(this.legendItem.symbol)),H.connectors.push(T.path(T.crispLine([["M",d,c],["L",d+M,c]],A.connectorWidth)).attr(u?{}:N.connectorAttribs).addClass((u?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(A.connectorClassName||"")).add(this.legendItem.symbol));let U=T.text(this.formatLabel(N)).attr(u?{}:N.labelAttribs).css(u?{}:D.style).addClass("highcharts-bubble-legend-labels "+(A.labels.className||"")).add(this.legendItem.symbol),x={x:d+M+A.labels.x,y:c+A.labels.y+.4*U.getBBox().height};U.attr(x),B.push(U),U.placed=!0,U.alignAttr=x}getMaxLabelSize(){let N,I;return this.symbols.labels.forEach(function(C){I=C.getBBox(!0),N=N?I.width>N.width?I:N:I}),N||{}}formatLabel(N){let I=this.options,C=I.labels.formatter,A=I.labels.format,{numberFormatter:D}=this.chart;return A?ce.format(A,N):C?C.call(N):D(N.value,1)}hideOverlappingLabels(){let C=this.symbols;!this.options.labels.allowOverlap&&C&&(this.chart.hideOverlappingLabels(C.labels),C.labels.forEach(function(A,D){A.newOpacity?A.newOpacity!==A.oldOpacity&&C.connectors[D].show():C.connectors[D].hide()}))}getRanges(){let A,D,N=this.legend.bubbleLegend,C=N.options.ranges,P=Number.MAX_VALUE,v=-Number.MAX_VALUE;return N.chart.series.forEach(function(T){T.isBubble&&!T.ignoreSeries&&(D=T.zData.filter(te)).length&&(P=L(T.options.zMin,Math.min(P,Math.max(Q(D),!1===T.options.displayNegative?T.options.zThreshold:-Number.MAX_VALUE))),v=L(T.options.zMax,Math.max(v,he(D))))}),A=P===v?[{value:v}]:[{value:P},{value:(P+v)/2},{value:v,autoRanges:!0}],C.length&&C[0].radius&&A.reverse(),A.forEach(function(T,H){C&&C[H]&&(A[H]=ee(C[H],T))}),A}predictBubbleSizes(){let b,N=this.chart,I=N.legend.options,C=I.floating,A="horizontal"===I.layout,D=A?N.legend.lastLineHeight:0,P=N.plotSizeX,v=N.plotSizeY,T=N.series[this.options.seriesIndex],H=T.getPxExtremes(),B=Math.ceil(H.minPxSize),S=Math.ceil(H.maxPxSize),p=Math.min(v,P),l=T.options.maxSize;return C||!/%$/.test(l)?b=S:(b=(p+D)*(l=parseFloat(l))/100/(l/100+1),(A&&v-b>=P||!A&&P-b>=v)&&(b=S)),[B,Math.ceil(b)]}updateRanges(N,I){let C=this.legend.options.bubbleLegend;C.minSize=N,C.maxSize=I,C.ranges=this.getRanges()}correctSizes(){let N=this.legend,I=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(I.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,I.maxPxSize),N.render())}}}),Ne(Y,"Series/Bubble/BubbleLegendComposition.js",[Y["Series/Bubble/BubbleLegendDefaults.js"],Y["Series/Bubble/BubbleLegendItem.js"],Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{setOptions:de}=xe,{composed:he}=ve,{addEvent:Q,objectEach:te,pushUnique:ee,wrap:L}=me;function W(P,v,T){let H,B,S,p=this.legend,b=N(this)>=0;p&&p.options.enabled&&p.bubbleLegend&&p.options.bubbleLegend.autoRanges&&b?(H=p.bubbleLegend.options,B=p.bubbleLegend.predictBubbleSizes(),p.bubbleLegend.updateRanges(B[0],B[1]),H.placed||(p.group.placed=!1,p.allItems.forEach(l=>{(S=l.legendItem||{}).group&&(S.group.translateY=void 0)})),p.render(),H.placed||(this.getMargins(),this.axes.forEach(function(l){l.visible&&l.render(),H.placed||(l.setScale(),l.updateNames(),te(l.ticks,function(n){n.isNew=!0,n.isNewLabel=!0}))}),this.getMargins()),H.placed=!0,P.call(this,v,T),p.bubbleLegend.correctSizes(),D(p,I(p))):(P.call(this,v,T),p&&p.options.enabled&&p.bubbleLegend&&(p.render(),D(p,I(p))))}function N(P){let v=P.series,T=0;for(;T<v.length;){if(v[T]&&v[T].isBubble&&v[T].visible&&v[T].zData.length)return T;T++}return-1}function I(P){let B,S,p,v=P.allItems,T=[],H=v.length,b=0,l=0;for(b=0;b<H;b++)if(S=v[b].legendItem||{},p=(v[b+1]||{}).legendItem||{},S.labelHeight&&(v[b].itemHeight=S.labelHeight),v[b]===v[H-1]||S.y!==p.y){for(T.push({height:0}),B=T[T.length-1];l<=b;l++)v[l].itemHeight>B.height&&(B.height=v[l].itemHeight);B.step=b}return T}function C(P){let v=this.bubbleLegend,T=this.options,H=T.bubbleLegend,B=N(this.chart);v&&v.ranges&&v.ranges.length&&(H.ranges.length&&(H.autoRanges=!!H.ranges[0].autoRanges),this.destroyItem(v)),B>=0&&T.enabled&&H.enabled&&(H.seriesIndex=B,this.bubbleLegend=new ce(H,this),this.bubbleLegend.addToLegend(P.allItems))}function A(P){let v;if(P.defaultPrevented)return!1;let T=P.legendItem,H=this.chart,B=T.visible;this&&this.bubbleLegend&&(T.visible=!B,T.ignoreSeries=B,v=N(H)>=0,this.bubbleLegend.visible!==v&&(this.update({bubbleLegend:{enabled:v}}),this.bubbleLegend.visible=v),T.visible=B)}function D(P,v){let B,S,p,b,H=P.options.rtl,l=0;P.allItems.forEach((n,o)=>{(b=n.legendItem||{}).group&&(B=b.group.translateX||0,S=b.y||0,((p=n.movementX)||H&&n.ranges)&&(p=H?B-n.options.maxSize/2:B+p,b.group.attr({translateX:p})),o>v[l].step&&l++,b.group.attr({translateY:Math.round(S+v[l].height/2)}),b.y=S+v[l].height/2)})}return{compose:function(P,v){ee(he,"Series.BubbleLegend")&&(de({legend:{bubbleLegend:Z}}),L(P.prototype,"drawChartBox",W),Q(v,"afterGetAllItems",C),Q(v,"itemClick",A))}}}),Ne(Y,"Series/Bubble/BubblePoint.js",[Y["Core/Series/Point.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{seriesTypes:{scatter:{prototype:{pointClass:ve}}}}=ce,{extend:me}=xe;class de extends ve{haloPath(Q){let te=(Q&&this.marker&&this.marker.radius||0)+Q;if(this.series.chart.inverted){let ee=this.pos()||[0,0],{xAxis:L,yAxis:W,chart:N}=this.series;return N.renderer.symbols.circle(L.len-ee[1]-te,W.len-ee[0]-te,2*te,2*te)}return Z.prototype.haloPath.call(this,te)}}return me(de.prototype,{ttBelow:!1}),de}),Ne(Y,"Series/Bubble/BubbleSeries.js",[Y["Series/Bubble/BubbleLegendComposition.js"],Y["Series/Bubble/BubblePoint.js"],Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de){let{parse:he}=xe,{composed:Q,noop:te}=ve,{series:ee,seriesTypes:{column:{prototype:L},scatter:W}}=me,{addEvent:N,arrayMax:I,arrayMin:C,clamp:A,extend:D,isNumber:P,merge:v,pick:T,pushUnique:H}=de;function B(){let u,p=this.len,{coll:b,isXAxis:l,min:n}=this,o=l?"xData":"yData",h=(this.max||0)-(n||0),d=0,c=p,f=p/h;("xAxis"===b||"yAxis"===b)&&(this.series.forEach(M=>{if(M.bubblePadding&&M.reserveSpace()){this.allowZoomOutside=!0,u=!0;let U=M[o];if(l&&((M.onPoint||M).getRadii(0,0,M),M.onPoint&&(M.radii=M.onPoint.radii)),h>0){let x=U.length;for(;x--;)if(P(U[x])&&this.dataMin<=U[x]&&U[x]<=this.max){let O=M.radii&&M.radii[x]||0;d=Math.min((U[x]-n)*f-O,d),c=Math.max((U[x]-n)*f+O,c)}}}}),u&&h>0&&!this.logarithmic&&(c-=p,f*=(p+Math.max(0,d)-Math.min(c,p))/p,[["min","userMin",d],["max","userMax",c]].forEach(M=>{void 0===T(this.options[M[0]],this[M[1]])&&(this[M[0]]+=M[2]/f)})))}class S extends W{static compose(b,l,n){Z.compose(l,n),H(Q,"Series.Bubble")&&N(b,"foundExtremes",B)}animate(b){!b&&this.points.length<this.options.animationLimit&&this.points.forEach(function(l){let{graphic:n,plotX:o=0,plotY:h=0}=l;n&&n.width&&(this.hasRendered||n.attr({x:o,y:h,width:1,height:1}),n.animate(this.markerAttribs(l),this.options.animation))},this)}getRadii(){let o,h,d,b=this.zData,l=this.yData,n=[],c=this.chart.bubbleZExtremes,{minPxSize:f,maxPxSize:u}=this.getPxExtremes();if(!c){let M,U=Number.MAX_VALUE,x=-Number.MAX_VALUE;this.chart.series.forEach(O=>{if(O.bubblePadding&&O.reserveSpace()){let z=(O.onPoint||O).getZExtremes();z&&(U=Math.min(T(U,z.zMin),z.zMin),x=Math.max(T(x,z.zMax),z.zMax),M=!0)}}),M?(c={zMin:U,zMax:x},this.chart.bubbleZExtremes=c):c={zMin:0,zMax:0}}for(h=0,o=b.length;h<o;h++)d=b[h],n.push(this.getRadius(c.zMin,c.zMax,f,u,d,l&&l[h]));this.radii=n}getRadius(b,l,n,o,h,d){let c=this.options,f="width"!==c.sizeBy,u=c.zThreshold,M=l-b,U=.5;if(null===d||null===h)return null;if(P(h)){if(c.sizeByAbsoluteValue&&(h=Math.abs(h-u),l=M=Math.max(l-u,Math.abs(b-u)),b=0),h<b)return n/2-1;M>0&&(U=(h-b)/M)}return f&&U>=0&&(U=Math.sqrt(U)),Math.ceil(n+U*(o-n))/2}hasData(){return!!this.processedXData.length}markerAttribs(b,l){let n=super.markerAttribs(b,l),{height:o=0,width:h=0}=n;return this.chart.inverted?D(n,{x:(b.plotX||0)-h/2,y:(b.plotY||0)-o/2}):n}pointAttribs(b,l){let n=this.options.marker.fillOpacity,o=ee.prototype.pointAttribs.call(this,b,l);return 1!==n&&(o.fill=he(o.fill).setOpacity(n).get("rgba")),o}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:b,options:l,radii:n}=this,{minPxSize:o}=this.getPxExtremes(),h=b.length;for(;h--;){let d=b[h],c=n?n[h]:0;"z"===this.zoneAxis&&(d.negative=(d.z||0)<(l.zThreshold||0)),P(c)&&c>=o/2?(d.marker=D(d.marker,{radius:c,width:2*c,height:2*c}),d.dlBox={x:d.plotX-c,y:d.plotY-c,width:2*c,height:2*c}):(d.shapeArgs=d.plotY=d.dlBox=void 0,d.isInside=!1)}}getPxExtremes(){let b=Math.min(this.chart.plotWidth,this.chart.plotHeight),l=h=>{let d;return"string"==typeof h&&(d=/%$/.test(h),h=parseInt(h,10)),d?b*h/100:h},n=l(T(this.options.minSize,8));return{minPxSize:n,maxPxSize:Math.max(l(T(this.options.maxSize,"20%")),n)}}getZExtremes(){let b=this.options,l=(this.zData||[]).filter(P);if(l.length){let n=T(b.zMin,A(C(l),!1===b.displayNegative?b.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),o=T(b.zMax,I(l));if(P(n)&&P(o))return{zMin:n,zMax:o}}}}return S.defaultOptions=v(W.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:p}=this.series.chart,{z:b}=this.point;return P(b)?p(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),D(S.prototype,{alignDataLabel:L.alignDataLabel,applyZones:te,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:ce,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),N(S,"updatedData",p=>{delete p.target.chart.bubbleZExtremes}),N(S,"remove",p=>{delete p.target.chart.bubbleZExtremes}),me.registerSeriesType("bubble",S),S}),Ne(Y,"Series/MapBubble/MapBubblePoint.js",[Y["Series/Bubble/BubblePoint.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{seriesTypes:{map:{prototype:{pointClass:{prototype:ve}}}}}=ce,{extend:me}=xe;class de extends Z{isValid(){return"number"==typeof this.z}}return me(de.prototype,{applyOptions:ve.applyOptions,getProjectedBounds:ve.getProjectedBounds}),de}),Ne(Y,"Series/MapBubble/MapBubbleSeries.js",[Y["Series/Bubble/BubbleSeries.js"],Y["Series/MapBubble/MapBubblePoint.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{seriesTypes:{map:{prototype:me},mappoint:{prototype:de}}}=xe,{extend:he,merge:Q}=ve;class te extends Z{constructor(){super(...arguments),this.clearBounds=me.clearBounds}searchPoint(L,W){return this.searchKDTree({plotX:L.chartX-this.chart.plotLeft,plotY:L.chartY-this.chart.plotTop},W,L)}translate(){de.translate.call(this),this.getRadii(),this.translateBubble()}updateParallelArrays(L,W,N){super.updateParallelArrays.call(this,L,W,N);let I=this.processedXData,C=this.xData;I&&C&&(I.length=C.length)}}return te.defaultOptions=Q(Z.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),he(te.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:me.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:ce,processData:me.processData,projectPoint:de.projectPoint,kdAxisArray:["plotX","plotY"],setData:me.setData,setOptions:me.setOptions,updateData:me.updateData,useMapGeometry:!0,xyFromShape:!0}),xe.registerSeriesType("mapbubble",te),te}),Ne(Y,"Series/Heatmap/HeatmapPoint.js",[Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce){let{scatter:{prototype:{pointClass:xe}}}=Z.seriesTypes,{clamp:ve,defined:me,extend:de,pick:he}=ce;class Q extends xe{applyOptions(ee,L){return(this.isNull||null===this.value)&&delete this.color,super.applyOptions(ee,L),this.formatPrefix=this.isNull||null===this.value?"null":"point",this}getCellAttributes(){let ee=this.series,L=ee.options,W=(L.colsize||1)/2,N=(L.rowsize||1)/2,I=ee.xAxis,C=ee.yAxis,A=this.options.marker||ee.options.marker,D=ee.pointPlacementToXValue(),P=he(this.pointPadding,L.pointPadding,0),v={x1:ve(Math.round(I.len-I.translate(this.x-W,!1,!0,!1,!0,-D)),-I.len,2*I.len),x2:ve(Math.round(I.len-I.translate(this.x+W,!1,!0,!1,!0,-D)),-I.len,2*I.len),y1:ve(Math.round(C.translate(this.y-N,!1,!0,!1,!0)),-C.len,2*C.len),y2:ve(Math.round(C.translate(this.y+N,!1,!0,!1,!0)),-C.len,2*C.len)};for(let T of[["width","x"],["height","y"]]){let H=T[0],B=T[1],S=B+"1",p=B+"2",b=Math.abs(v[S]-v[p]),l=A&&A.lineWidth||0,n=Math.abs(v[S]+v[p])/2,o=A&&A[H];if(me(o)&&o<b){let h=o/2+l/2;v[S]=n-h,v[p]=n+h}P&&(("x"===B&&I.reversed||"y"===B&&!C.reversed)&&(S=p,p=B+"1"),v[S]+=P,v[p]-=P)}return v}haloPath(ee){if(!ee)return[];let{x:L=0,y:W=0,width:N=0,height:I=0}=this.shapeArgs||{};return[["M",L-ee,W-ee],["L",L-ee,W+I+ee],["L",L+N+ee,W+I+ee],["L",L+N+ee,W-ee],["Z"]]}isValid(){return this.value!==1/0&&this.value!==-1/0}}return de(Q.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),Q}),Ne(Y,"Series/Heatmap/HeatmapSeriesDefaults.js",[Y["Core/Utilities.js"]],function(Z){let{isNumber:ce}=Z;return{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){let{numberFormatter:xe}=this.series.chart,{value:ve}=this.point;return ce(ve)?xe(ve,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"}}),Ne(Y,"Series/InterpolationUtilities.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{doc:xe}=Z,{defined:ve,pick:me}=ce;return{colorFromPoint:function(de,he){let Q=he.series.colorAxis;if(Q){let te=Q.toColor(de||0,he).split(")")[0].split("(")[1].split(",").map(ee=>me(parseFloat(ee),parseInt(ee,10)));return te[3]=255*me(te[3],1),ve(de)&&he.visible||(te[3]=0),te}return[0,0,0,0]},getContext:function(de){let{canvas:he,context:Q}=de;return he&&Q?(Q.clearRect(0,0,he.width,he.height),Q):(de.canvas=xe.createElement("canvas"),de.context=de.canvas.getContext("2d",{willReadFrequently:!0})||void 0,de.context)}}}),Ne(Y,"Series/Heatmap/HeatmapSeries.js",[Y["Core/Color/Color.js"],Y["Series/ColorMapComposition.js"],Y["Series/Heatmap/HeatmapPoint.js"],Y["Series/Heatmap/HeatmapSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Utilities.js"],Y["Series/InterpolationUtilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){let{series:te,seriesTypes:{column:ee,scatter:L}}=me,{prototype:{symbols:W}}=de,{addEvent:N,extend:I,fireEvent:C,isNumber:A,merge:D,pick:P}=he,{colorFromPoint:v,getContext:T}=Q;class H extends L{constructor(){super(...arguments),this.valueMax=NaN,this.valueMin=NaN,this.isDirtyCanvas=!0}drawPoints(){let S=this,p=S.options,l=p.marker||{};if(p.interpolation){let{image:n,chart:o,xAxis:h,yAxis:d}=S,{reversed:c=!1,len:f}=h,{reversed:u=!1,len:M}=d,U={width:f,height:M};if(!n||S.isDirtyData||S.isDirtyCanvas){let x=T(S),{canvas:O,options:{colsize:z=1,rowsize:j=1},points:J,points:{length:y}}=S;if(O&&x&&o.colorAxis&&o.colorAxis[0]){let{min:E,max:X}=h.getExtremes(),{min:m,max:F}=d.getExtremes(),R=X-E,_=F-m,G=Math.round(R/z/8*8),K=Math.round(_/j/8*8),[oe,ae]=[[G,G/R,c,"ceil"],[K,K/_,!u,"floor"]].map(([re,le,pe,ge])=>pe?we=>Math[ge](re-le*we):we=>Math[ge](le*we)),ue=O.width=G+1,be=ue*(O.height=K+1),Se=(y-1)/be,ie=new Uint8ClampedArray(4*be),q=(re,le)=>4*Math.ceil(ue*ae(le-m)+oe(re-E));S.buildKDTree();for(let re=0;re<be;re++){let le=J[Math.ceil(Se*re)],{x:pe,y:ge}=le;ie.set(v(le.value,le),q(pe,ge))}x.putImageData(new ImageData(ie,ue),0,0),n?n.attr({...U,href:O.toDataURL("image/png",1)}):(S.directTouch=!1,S.image=o.renderer.image(O.toDataURL("image/png",1)).attr(U).add(S.group))}S.isDirtyCanvas=!1}else(n.width!==f||n.height!==M)&&n.attr(U)}else(l.enabled||S._hasPointMarkers)&&(te.prototype.drawPoints.call(S),S.points.forEach(n=>{n.graphic&&(n.graphic[S.chart.styledMode?"css":"animate"](S.colorAttribs(n)),null===n.value&&n.graphic.addClass("highcharts-null-point"))}))}getExtremes(){let{dataMin:S,dataMax:p}=te.prototype.getExtremes.call(this,this.valueData);return A(S)&&(this.valueMin=S),A(p)&&(this.valueMax=p),te.prototype.getExtremes.call(this)}getValidPoints(S,p){return te.prototype.getValidPoints.call(this,S,p,!0)}hasData(){return!!this.xData}init(){super.init.apply(this,arguments);let S=this.options;S.pointRange=P(S.pointRange,S.colsize||1),this.yAxis.axisPointRange=S.rowsize||1,W.ellipse=W.circle,S.marker&&A(S.borderRadius)&&(S.marker.r=S.borderRadius)}markerAttribs(S,p){let b=S.shapeArgs||{};if(S.hasImage)return{x:S.plotX,y:S.plotY};if(p&&"normal"!==p){let l=S.options.marker||{},n=this.options.marker||{},o=n.states&&n.states[p]||{},h=l.states&&l.states[p]||{},d=(h.width||o.width||b.width||0)+(h.widthPlus||o.widthPlus||0),c=(h.height||o.height||b.height||0)+(h.heightPlus||o.heightPlus||0);return{x:(b.x||0)+((b.width||0)-d)/2,y:(b.y||0)+((b.height||0)-c)/2,width:d,height:c}}return b}pointAttribs(S,p){let b=te.prototype.pointAttribs.call(this,S,p),l=this.options||{},n=this.chart.options.plotOptions||{},o=n.series||{},h=n.heatmap||{},c=S&&S.options.borderWidth||l.borderWidth||h.borderWidth||o.borderWidth||b["stroke-width"];if(b.stroke=S&&S.marker&&S.marker.lineColor||l.marker&&l.marker.lineColor||S&&S.options.borderColor||l.borderColor||h.borderColor||o.borderColor||this.color,b["stroke-width"]=c,p&&"normal"!==p){let f=D(l.states&&l.states[p],l.marker&&l.marker.states&&l.marker.states[p],S&&S.options.states&&S.options.states[p]||{});b.fill=f.color||Z.parse(b.fill).brighten(f.brightness||0).get(),b.stroke=f.lineColor||b.stroke}return b}translate(){let{borderRadius:S,marker:p}=this.options,b=p&&p.symbol||"rect",l=W[b]?b:"rect",n=-1!==["circle","square"].indexOf(l);if(!this.processedXData){let{xData:o,yData:h}=this.getProcessedData();this.processedXData=o,this.processedYData=h}for(let o of(this.generatePoints(),this.points)){let h=o.getCellAttributes(),d=Math.min(h.x1,h.x2),c=Math.min(h.y1,h.y2),f=Math.max(Math.abs(h.x2-h.x1),0),u=Math.max(Math.abs(h.y2-h.y1),0);if(o.hasImage=0===(o.marker&&o.marker.symbol||b||"").indexOf("url"),n){let M=Math.abs(f-u);d=Math.min(h.x1,h.x2)+(f<u?0:M/2),c=Math.min(h.y1,h.y2)+(f<u?M/2:0),f=u=Math.min(f,u)}o.hasImage&&(o.marker={width:f,height:u}),o.plotX=o.clientX=(h.x1+h.x2)/2,o.plotY=(h.y1+h.y2)/2,o.shapeType="path",o.shapeArgs=D(!0,{x:d,y:c,width:f,height:u},{d:W[l](d,c,f,u,{r:A(S)?S:0})})}C(this,"afterTranslate")}}return H.defaultOptions=D(L.defaultOptions,ve),N(H,"afterDataClassLegendClick",function(){this.isDirtyCanvas=!0,this.drawPoints()}),I(H.prototype,{axisTypes:ce.seriesMembers.axisTypes,colorKey:ce.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:ce.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:xe,specialGroup:"group",trackerGroups:ce.seriesMembers.trackerGroups,alignDataLabel:ee.prototype.alignDataLabel,colorAttribs:ce.seriesMembers.colorAttribs,getSymbol:te.prototype.getSymbol}),ce.compose(H),me.registerSeriesType("heatmap",H),H}),Ne(Y,"masters/modules/map.src.js",[Y["Core/Globals.js"],Y["Maps/MapNavigation.js"],Y["Series/ColorMapComposition.js"],Y["Series/MapBubble/MapBubbleSeries.js"],Y["Maps/GeoJSONComposition.js"],Y["Core/Chart/MapChart.js"],Y["Maps/MapView.js"],Y["Maps/Projection.js"]],function(Z,ce,xe,ve,me,de,he,Q){return Z.ColorMapComposition=xe,Z.MapChart=Z.MapChart||de,Z.MapNavigation=Z.MapNavigation||ce,Z.MapView=Z.MapView||he,Z.Projection=Z.Projection||Q,Z.mapChart=Z.Map=Z.MapChart.mapChart,Z.maps=Z.MapChart.maps,Z.geojson=me.geojson,Z.topo2geo=me.topo2geo,me.compose(Z.Chart),ve.compose(Z.Axis,Z.Chart,Z.Legend),ce.compose(de,Z.Pointer,Z.SVGRenderer),he.compose(de),Z}),Ne(Y,"masters/highmaps.src.js",[Y["masters/highcharts.src.js"]],function(Z){return Z.product="Highmaps",Z}),Y["masters/highmaps.src.js"]._modules=Y,Y["masters/highmaps.src.js"]},Zi.exports?(Y.default=Y,Zi.exports=Qt&&Qt.document?Y(Qt):Y):void 0!==(ji=function(){return Y(Qt)}.call(Gs,mi,Gs,Zi))&&(Zi.exports=ji)},4191:function(Zi,Gs,mi){var ji,Qt,Y;Qt=typeof window<"u"?window:this,Y=function(Qt){"use strict";var Y={};function Ne(Z,ce,xe,ve){!Z.hasOwnProperty(ce)&&(Z[ce]=ve.apply(null,xe),Qt&&"function"==typeof CustomEvent&&Qt.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:ce,module:Z[ce]}})))}return Ne(Y,"Core/Globals.js",[],function(){var Z,ce;return(ce=Z||(Z={})).SVG_NS="http://www.w3.org/2000/svg",ce.product="Highcharts",ce.version="11.4.8",ce.win=void 0!==Qt?Qt:{},ce.doc=ce.win.document,ce.svg=ce.doc&&ce.doc.createElementNS&&!!ce.doc.createElementNS(ce.SVG_NS,"svg").createSVGRect,ce.userAgent=ce.win.navigator&&ce.win.navigator.userAgent||"",ce.isChrome=ce.win.chrome,ce.isFirefox=-1!==ce.userAgent.indexOf("Firefox"),ce.isMS=/(edge|msie|trident)/i.test(ce.userAgent)&&!ce.win.opera,ce.isSafari=!ce.isChrome&&-1!==ce.userAgent.indexOf("Safari"),ce.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(ce.userAgent),ce.isWebKit=-1!==ce.userAgent.indexOf("AppleWebKit"),ce.deg2rad=2*Math.PI/360,ce.hasBidiBug=ce.isFirefox&&4>parseInt(ce.userAgent.split("Firefox/")[1],10),ce.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],ce.noop=function(){},ce.supportsPassiveEvents=function(){let xe=!1;if(!ce.isMS){let ve=Object.defineProperty({},"passive",{get:function(){xe=!0}});ce.win.addEventListener&&ce.win.removeEventListener&&(ce.win.addEventListener("testPassive",ce.noop,ve),ce.win.removeEventListener("testPassive",ce.noop,ve))}return xe}(),ce.charts=[],ce.composed=[],ce.dateFormats={},ce.seriesTypes={},ce.symbolSizes={},ce.chartCount=0,Z}),Ne(Y,"Core/Utilities.js",[Y["Core/Globals.js"]],function(Z){let ce,{charts:xe,doc:ve,win:me}=Z;function de(n,o,h,d){let c=o?"Highcharts error":"Highcharts warning";32===n&&(n=`${c}: Deprecated member`);let f=N(n),u=f?`${c} #${n}: www.highcharts.com/errors/${n}/`:n.toString();if(void 0!==d){let M="";f&&(u+="?"),S(d,function(U,x){M+=`\n - ${x}: ${U}`,f&&(u+=encodeURI(x)+"="+encodeURI(U))}),u+=M}b(Z,"displayError",{chart:h,code:n,message:u,params:d},function(){if(o)throw Error(u);me.console&&-1===de.messages.indexOf(u)&&console.warn(u)}),de.messages.push(u)}function he(n,o){return parseInt(n,o||10)}function Q(n){return"string"==typeof n}function te(n){let o=Object.prototype.toString.call(n);return"[object Array]"===o||"[object Array Iterator]"===o}function ee(n,o){return!(!n||"object"!=typeof n||o&&te(n))}function L(n){return ee(n)&&"number"==typeof n.nodeType}function W(n){let o=n&&n.constructor;return!(!ee(n,!0)||L(n)||!o||!o.name||"Object"===o.name)}function N(n){return"number"==typeof n&&!isNaN(n)&&n<1/0&&n>-1/0}function I(n){return null!=n}function C(n,o,h){let d,c=Q(o)&&!I(h),f=(u,M)=>{I(u)?n.setAttribute(M,u):c?(d=n.getAttribute(M))||"class"!==M||(d=n.getAttribute(M+"Name")):n.removeAttribute(M)};return Q(o)?f(h,o):S(o,f),d}function A(n){return te(n)?n:[n]}function D(n,o){let h;for(h in n||(n={}),o)n[h]=o[h];return n}function P(){let n=arguments,o=n.length;for(let h=0;h<o;h++){let d=n[h];if(null!=d)return d}}function v(n,o){D(n.style,o)}function T(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))}function H(n,o){return n>1e14?n:parseFloat(n.toPrecision(o||14))}(de||(de={})).messages=[],Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};let B=Array.prototype.find?function(n,o){return n.find(o)}:function(n,o){let h,d=n.length;for(h=0;h<d;h++)if(o(n[h],h))return n[h]};function S(n,o,h){for(let d in n)Object.hasOwnProperty.call(n,d)&&o.call(h||n[d],n[d],d,n)}function p(n,o,h){function d(u,M){let U=n.removeEventListener;U&&U.call(n,u,M,!1)}function c(u){let M,U;n.nodeName&&(o?(M={})[o]=!0:M=u,S(M,function(x,O){if(u[O])for(U=u[O].length;U--;)d(O,u[O][U].fn)}))}let f="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(f,"hcEvents")){let u=f.hcEvents;o?h?(u[o]=(u[o]||[]).filter(function(U){return h!==U.fn}),d(o,h)):(c(u),u[o]=[]):(c(u),delete f.hcEvents)}}function b(n,o,h,d){if(h=h||{},ve.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==Z)){let c=ve.createEvent("Events");c.initEvent(o,!0,!0),h=D(c,h),n.dispatchEvent?n.dispatchEvent(h):n.fireEvent(o,h)}else if(n.hcEvents){h.target||D(h,{preventDefault:function(){h.defaultPrevented=!0},target:n,type:o});let c=[],f=n,u=!1;for(;f.hcEvents;)Object.hasOwnProperty.call(f,"hcEvents")&&f.hcEvents[o]&&(c.length&&(u=!0),c.unshift.apply(c,f.hcEvents[o])),f=Object.getPrototypeOf(f);u&&c.sort((M,U)=>M.order-U.order),c.forEach(M=>{!1===M.fn.call(n,h)&&h.preventDefault()})}d&&!h.defaultPrevented&&d.call(n,h)}S({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,o){Z[o]=function(h){return de(32,!1,void 0,{[`Highcharts.${o}`]:`use Array.${n}`}),Array.prototype[n].apply(h,[].slice.call(arguments,1))}});let l=function(){let n=Math.random().toString(36).substring(2,9)+"-",o=0;return function(){return"highcharts-"+(ce?"":n)+o++}}();return me.jQuery&&(me.jQuery.fn.highcharts=function(){let n=[].slice.call(arguments);if(this[0])return n[0]?(new(Z[Q(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):xe[C(this[0],"data-highcharts-chart")]}),{addEvent:function(n,o,h,d={}){let c="function"==typeof n&&n.prototype||n;Object.hasOwnProperty.call(c,"hcEvents")||(c.hcEvents={});let f=c.hcEvents;Z.Point&&n instanceof Z.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);let u=n.addEventListener;return u&&u.call(n,o,h,!!Z.supportsPassiveEvents&&{passive:void 0===d.passive?-1!==o.indexOf("touch"):d.passive,capture:!1}),f[o]||(f[o]=[]),f[o].push({fn:h,order:"number"==typeof d.order?d.order:1/0}),f[o].sort((U,x)=>U.order-x.order),function(){p(n,o,h)}},arrayMax:function(n){let o=n.length,h=n[0];for(;o--;)n[o]>h&&(h=n[o]);return h},arrayMin:function(n){let o=n.length,h=n[0];for(;o--;)n[o]<h&&(h=n[o]);return h},attr:C,clamp:function(n,o,h){return n>o?n<h?n:h:o},clearTimeout:function(n){I(n)&&clearTimeout(n)},correctFloat:H,createElement:function(n,o,h,d,c){let f=ve.createElement(n);return o&&D(f,o),c&&v(f,{padding:"0",border:"none",margin:"0"}),h&&v(f,h),d&&d.appendChild(f),f},crisp:(n,o=0,h)=>{let d=o%2/2,c=h?-1:1;return(Math.round(n*c-d)+d)*c},css:v,defined:I,destroyObjectProperties:function(n,o,h){S(n,function(d,c){d!==o&&d?.destroy&&d.destroy(),(d?.destroy||!h)&&delete n[c]})},diffObjects:function(n,o,h,d){let c={};return function f(u,M,U,x){let O=h?M:u;S(u,function(z,j){if(!x&&d&&d.indexOf(j)>-1&&M[j]){z=A(z),U[j]=[];for(let J=0;J<Math.max(z.length,M[j].length);J++)M[j][J]&&(void 0===z[J]?U[j][J]=M[j][J]:(U[j][J]={},f(z[J],M[j][J],U[j][J],x+1)))}else ee(z,!0)&&!z.nodeType?(U[j]=te(z)?[]:{},f(z,M[j]||{},U[j],x+1),0!==Object.keys(U[j]).length||"colorAxis"===j&&0===x||delete U[j]):(u[j]!==M[j]||j in u&&!(j in M))&&"__proto__"!==j&&"constructor"!==j&&(U[j]=O[j])})}(n,o,c,0),c},discardElement:function(n){n&&n.parentElement&&n.parentElement.removeChild(n)},erase:function(n,o){let h=n.length;for(;h--;)if(n[h]===o){n.splice(h,1);break}},error:de,extend:D,extendClass:function(n,o){let h=function(){};return D(h.prototype=new n,o),h},find:B,fireEvent:b,getClosestDistance:function(n,o){let h,d,c,f,u=!o;return n.forEach(M=>{if(M.length>1)for(f=d=M.length-1;f>0;f--)(c=M[f]-M[f-1])<0&&!u?(o?.(),o=void 0):c&&(void 0===h||c<h)&&(h=c)}),h},getMagnitude:T,getNestedProperty:function(n,o){let h=n.split(".");for(;h.length&&I(o);){let d=h.shift();if(void 0===d||"__proto__"===d)return;if("this"===d){let f;return ee(o)&&(f=o["@this"]),f??o}let c=o[d];if(!I(c)||"function"==typeof c||"number"==typeof c.nodeType||c===me)return;o=c}return o},getStyle:function n(o,h,d){let c;if("width"===h){let u=Math.min(o.offsetWidth,o.scrollWidth),M=o.getBoundingClientRect&&o.getBoundingClientRect().width;return M<u&&M>=u-1&&(u=Math.floor(M)),Math.max(0,u-(n(o,"padding-left",!0)||0)-(n(o,"padding-right",!0)||0))}if("height"===h)return Math.max(0,Math.min(o.offsetHeight,o.scrollHeight)-(n(o,"padding-top",!0)||0)-(n(o,"padding-bottom",!0)||0));let f=me.getComputedStyle(o,void 0);return f&&(c=f.getPropertyValue(h),P(d,"opacity"!==h)&&(c=he(c))),c},inArray:function(n,o,h){return de(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),o.indexOf(n,h)},insertItem:function(n,o){let h,d=n.options.index,c=o.length;for(h=n.options.isInternal?c:0;h<c+1;h++)if(!o[h]||N(d)&&d<P(o[h].options.index,o[h]._i)||o[h].options.isInternal){o.splice(h,0,n);break}return h},isArray:te,isClass:W,isDOMElement:L,isFunction:function(n){return"function"==typeof n},isNumber:N,isObject:ee,isString:Q,keys:function(n){return de(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)},merge:function(){let n,o=arguments,h={},d=function(f,u){return"object"!=typeof f&&(f={}),S(u,function(M,U){"__proto__"!==U&&"constructor"!==U&&(f[U]=!ee(M,!0)||W(M)||L(M)?u[U]:d(f[U]||{},M))}),f};!0===o[0]&&(h=o[1],o=Array.prototype.slice.call(o,2));let c=o.length;for(n=0;n<c;n++)h=d(h,o[n]);return h},normalizeTickInterval:function(n,o,h,d,c){let f,u=n,M=n/(h=P(h,T(n)));for(!o&&(o=c?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===d&&(1===h?o=o.filter(function(U){return U%1==0}):h<=.1&&(o=[1/h]))),f=0;f<o.length&&(u=o[f],(!c||!(u*h>=n))&&(c||!(M<=(o[f]+(o[f+1]||o[f]))/2)));f++);return H(u*h,-Math.round(Math.log(.001)/Math.LN10))},objectEach:S,offset:function(n){let o=ve.documentElement,h=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:h.top+(me.pageYOffset||o.scrollTop)-(o.clientTop||0),left:h.left+(me.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:h.width,height:h.height}},pad:function(n,o,h){return Array((o||2)+1-String(n).replace("-","").length).join(h||"0")+n},pick:P,pInt:he,pushUnique:function(n,o){return 0>n.indexOf(o)&&!!n.push(o)},relativeLength:function(n,o,h){return/%$/.test(n)?o*parseFloat(n)/100+(h||0):parseFloat(n)},removeEvent:p,replaceNested:function(n,...o){let h,d;do{for(d of(h=n,o))n=n.replace(d[0],d[1])}while(n!==h);return n},splat:A,stableSort:function(n,o){let h,d,c=n.length;for(d=0;d<c;d++)n[d].safeI=d;for(n.sort(function(f,u){return 0===(h=o(f,u))?f.safeI-u.safeI:h}),d=0;d<c;d++)delete n[d].safeI},syncTimeout:function(n,o,h){return o>0?setTimeout(n,o,h):(n.call(0,h),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:l,useSerialIds:function(n){return ce=P(n,ce)},wrap:function(n,o,h){let d=n[o];n[o]=function(){let c=arguments,f=this;return h.apply(this,[function(){return d.apply(f,arguments.length?arguments:c)}].concat([].slice.call(arguments)))}}}}),Ne(Y,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),Ne(Y,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),Ne(Y,"Core/Time.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{win:xe}=Z,{defined:ve,error:me,extend:de,isNumber:he,isObject:Q,merge:te,objectEach:ee,pad:L,pick:W,splat:N,timeUnits:I}=ce,C=Z.isSafari&&xe.Intl&&xe.Intl.DateTimeFormat.prototype.formatRange,A=Z.isSafari&&xe.Intl&&!xe.Intl.DateTimeFormat.prototype.formatRange;class D{constructor(v){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=xe.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(v)}get(v,T){if(this.variableTimezone||this.timezoneOffset){let H=T.getTime(),B=H-this.getTimezoneOffset(T);T.setTime(B);let S=T["getUTC"+v]();return T.setTime(H),S}return this.useUTC?T["getUTC"+v]():T["get"+v]()}set(v,T,H){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===v||"Seconds"===v||"Minutes"===v&&this.getTimezoneOffset(T)%36e5==0)return T["setUTC"+v](H);let B=this.getTimezoneOffset(T),S=T.getTime()-B;T.setTime(S),T["setUTC"+v](H);let p=this.getTimezoneOffset(T);return S=T.getTime()+p,T.setTime(S)}return this.useUTC||C&&"FullYear"===v?T["setUTC"+v](H):T["set"+v](H)}update(v={}){let T=W(v.useUTC,!0);this.options=v=te(!0,this.options,v),this.Date=v.Date||xe.Date||Date,this.useUTC=T,this.timezoneOffset=T&&v.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=T&&!(!v.getTimezoneOffset&&!v.timezone)}makeTime(v,T,H,B,S,p){let b,l,n;return this.useUTC?(b=this.Date.UTC.apply(0,arguments),l=this.getTimezoneOffset(b),b+=l,l!==(n=this.getTimezoneOffset(b))?b+=n-l:l-36e5!==this.getTimezoneOffset(b-36e5)||A||(b-=36e5)):b=new this.Date(v,T,W(H,1),W(B,0),W(S,0),W(p,0)).getTime(),b}timezoneOffsetFunction(){let v=this,T=this.options,H=T.getTimezoneOffset;return this.useUTC?T.timezone?B=>{try{let S=`shortOffset,${T.timezone||""}`,[p,b,l,n,o=0]=(D.formatCache[S]=D.formatCache[S]||Intl.DateTimeFormat("en",{timeZone:T.timezone,timeZoneName:"shortOffset"})).format(B).split(/(GMT|:)/).map(Number),h=-36e5*(l+o/60);if(he(h))return h}catch{me(34)}return 0}:this.useUTC&&H?B=>6e4*H(B.valueOf()):()=>6e4*(v.timezoneOffset||0):B=>6e4*new Date(B.toString()).getTimezoneOffset()}dateFormat(v,T,H){if(!ve(T)||isNaN(T))return Z.defaultOptions.lang&&Z.defaultOptions.lang.invalidDate||"";v=W(v,"%Y-%m-%d %H:%M:%S");let B=this,S=new this.Date(T),p=this.get("Hours",S),b=this.get("Day",S),l=this.get("Date",S),n=this.get("Month",S),o=this.get("FullYear",S),h=Z.defaultOptions.lang,d=h&&h.weekdays,c=h&&h.shortWeekdays;return ee(de({a:c?c[b]:d[b].substr(0,3),A:d[b],d:L(l),e:L(l,2," "),w:b,b:h.shortMonths[n],B:h.months[n],m:L(n+1),o:n+1,y:o.toString().substr(2,2),Y:o,H:L(p),k:p,I:L(p%12||12),l:p%12||12,M:L(this.get("Minutes",S)),p:p<12?"AM":"PM",P:p<12?"am":"pm",S:L(this.get("Seconds",S)),L:L(Math.floor(T%1e3),3)},Z.dateFormats),function(f,u){for(;-1!==v.indexOf("%"+u);)v=v.replace("%"+u,"function"==typeof f?f.call(B,T):f)}),H?v.substr(0,1).toUpperCase()+v.substr(1):v}resolveDTLFormat(v){return Q(v,!0)?v:{main:(v=N(v))[0],from:v[1],to:v[2]}}getTimeTicks(v,T,H,B){let S,p,b,l,n=this,h=[],d={},c=new(0,n.Date)(T),f=v.unitRange,u=v.count||1;if(B=W(B,1),ve(T)){n.set("Milliseconds",c,f>=I.second?0:u*Math.floor(n.get("Milliseconds",c)/u)),f>=I.second&&n.set("Seconds",c,f>=I.minute?0:u*Math.floor(n.get("Seconds",c)/u)),f>=I.minute&&n.set("Minutes",c,f>=I.hour?0:u*Math.floor(n.get("Minutes",c)/u)),f>=I.hour&&n.set("Hours",c,f>=I.day?0:u*Math.floor(n.get("Hours",c)/u)),f>=I.day&&n.set("Date",c,f>=I.month?1:Math.max(1,u*Math.floor(n.get("Date",c)/u))),f>=I.month&&(n.set("Month",c,f>=I.year?0:u*Math.floor(n.get("Month",c)/u)),p=n.get("FullYear",c)),f>=I.year&&(p-=p%u,n.set("FullYear",c,p)),f===I.week&&(l=n.get("Day",c),n.set("Date",c,n.get("Date",c)-l+B+(l<B?-7:0))),p=n.get("FullYear",c);let M=n.get("Month",c),U=n.get("Date",c),x=n.get("Hours",c);T=c.getTime(),(n.variableTimezone||!n.useUTC)&&ve(H)&&(b=H-T>4*I.month||n.getTimezoneOffset(T)!==n.getTimezoneOffset(H));let O=c.getTime();for(S=1;O<H;)h.push(O),f===I.year?O=n.makeTime(p+S*u,0):f===I.month?O=n.makeTime(p,M+S*u):!b||f!==I.day&&f!==I.week?b&&f===I.hour&&u>1?O=n.makeTime(p,M,U,x+S*u):O+=f*u:O=n.makeTime(p,M,U+S*u*(f===I.day?1:7)),S++;h.push(O),f<=I.hour&&h.length<1e4&&h.forEach(function(z){z%18e5==0&&"000000000"===n.dateFormat("%H%M%S%L",z)&&(d[z]="day")})}return h.info=de(v,{higherRanks:d,totalRange:f*u}),h}getDateFormat(v,T,H,B){let S=this.dateFormat("%m-%d %H:%M:%S.%L",T),p="01-01 00:00:00.000",b={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond",n=l;for(l in I){if(v===I.week&&+this.dateFormat("%w",T)===H&&S.substr(6)===p.substr(6)){l="week";break}if(I[l]>v){l=n;break}if(b[l]&&S.substr(b[l])!==p.substr(b[l]))break;"week"!==l&&(n=l)}return this.resolveDTLFormat(B[l]).main}}return D.formatCache={},D}),Ne(Y,"Core/Defaults.js",[Y["Core/Chart/ChartDefaults.js"],Y["Core/Globals.js"],Y["Core/Color/Palettes.js"],Y["Core/Time.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{isTouchDevice:de}=ce,{fireEvent:he,merge:Q}=me,te={colors:xe.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:Z,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:L=>Math.sqrt(1-Math.pow(L-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:de?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};te.chart.styledMode=!1;let ee=new ve(te.time);return{defaultOptions:te,defaultTime:ee,getOptions:function(){return te},setOptions:function(L){return he(ce,"setOptions",{options:L}),Q(!0,te,L),(L.time||L.global)&&(ce.time?ce.time.update(Q(te.global,te.time,L.global,L.time)):ce.time=ee),te}}}),Ne(Y,"Core/Color/Color.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{isNumber:xe,merge:ve,pInt:me}=ce;class de{static parse(Q){return Q?new de(Q):de.None}constructor(Q){let te,ee,L,W;this.rgba=[NaN,NaN,NaN,NaN],this.input=Q;let N=Z.Color;if(N&&N!==de)return new N(Q);if("object"==typeof Q&&void 0!==Q.stops)this.stops=Q.stops.map(I=>new de(I[1]));else if("string"==typeof Q){if(this.input=Q=de.names[Q.toLowerCase()]||Q,"#"===Q.charAt(0)){let I=Q.length,C=parseInt(Q.substr(1),16);7===I?ee=[(16711680&C)>>16,(65280&C)>>8,255&C,1]:4===I&&(ee=[(3840&C)>>4|(3840&C)>>8,(240&C)>>4|240&C,(15&C)<<4|15&C,1])}if(!ee)for(L=de.parsers.length;L--&&!ee;)(te=(W=de.parsers[L]).regex.exec(Q))&&(ee=W.parse(te))}ee&&(this.rgba=ee)}get(Q){let te=this.input,ee=this.rgba;if("object"==typeof te&&void 0!==this.stops){let L=ve(te);return L.stops=[].slice.call(L.stops),this.stops.forEach((W,N)=>{L.stops[N]=[L.stops[N][0],W.get(Q)]}),L}return ee&&xe(ee[0])?"rgb"===Q||!Q&&1===ee[3]?"rgb("+ee[0]+","+ee[1]+","+ee[2]+")":"a"===Q?`${ee[3]}`:"rgba("+ee.join(",")+")":te}brighten(Q){let te=this.rgba;if(this.stops)this.stops.forEach(function(ee){ee.brighten(Q)});else if(xe(Q)&&0!==Q)for(let ee=0;ee<3;ee++)te[ee]+=me(255*Q),te[ee]<0&&(te[ee]=0),te[ee]>255&&(te[ee]=255);return this}setOpacity(Q){return this.rgba[3]=Q,this}tweenTo(Q,te){let ee=this.rgba,L=Q.rgba;if(!xe(ee[0])||!xe(L[0]))return Q.input||"none";let W=1!==L[3]||1!==ee[3];return(W?"rgba(":"rgb(")+Math.round(L[0]+(ee[0]-L[0])*(1-te))+","+Math.round(L[1]+(ee[1]-L[1])*(1-te))+","+Math.round(L[2]+(ee[2]-L[2])*(1-te))+(W?","+(L[3]+(ee[3]-L[3])*(1-te)):"")+")"}}return de.names={white:"#ffffff",black:"#000000"},de.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(he){return[me(he[1]),me(he[2]),me(he[3]),parseFloat(he[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(he){return[me(he[1]),me(he[2]),me(he[3]),1]}}],de.None=new de(""),de}),Ne(Y,"Core/Animation/Fx.js",[Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{parse:ve}=Z,{win:me}=ce,{isNumber:de,objectEach:he}=xe;class Q{constructor(ee,L,W){this.pos=NaN,this.options=L,this.elem=ee,this.prop=W}dSetter(){let ee=this.paths,L=ee&&ee[0],W=ee&&ee[1],N=this.now||0,I=[];if(1!==N&&L&&W)if(L.length===W.length&&N<1)for(let C=0;C<W.length;C++){let A=L[C],D=W[C],P=[];for(let v=0;v<D.length;v++){let T=A[v],H=D[v];P[v]=de(T)&&de(H)&&("A"!==D[0]||4!==v&&5!==v)?T+N*(H-T):H}I.push(P)}else I=W;else I=this.toD||[];this.elem.attr("d",I,void 0,!0)}update(){let ee=this.elem,L=this.prop,W=this.now,N=this.options.step;this[L+"Setter"]?this[L+"Setter"]():ee.attr?ee.element&&ee.attr(L,W,null,!0):ee.style[L]=W+this.unit,N&&N.call(ee,W,this)}run(ee,L,W){let N=this,I=N.options,C=function(P){return!C.stopped&&N.step(P)},A=me.requestAnimationFrame||function(P){setTimeout(P,13)},D=function(){for(let P=0;P<Q.timers.length;P++)Q.timers[P]()||Q.timers.splice(P--,1);Q.timers.length&&A(D)};ee!==L||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=ee,this.end=L,this.unit=W,this.now=this.start,this.pos=0,C.elem=this.elem,C.prop=this.prop,C()&&1===Q.timers.push(C)&&A(D)):(delete I.curAnim[this.prop],I.complete&&0===Object.keys(I.curAnim).length&&I.complete.call(this.elem))}step(ee){let L,W,N=+new Date,I=this.options,C=this.elem,A=I.complete,D=I.duration,P=I.curAnim;return C.attr&&!C.element?L=!1:ee||N>=D+this.startTime?(this.now=this.end,this.pos=1,this.update(),P[this.prop]=!0,W=!0,he(P,function(v){!0!==v&&(W=!1)}),W&&A&&A.call(C),L=!1):(this.pos=I.easing((N-this.startTime)/D),this.now=this.start+(this.end-this.start)*this.pos,this.update(),L=!0),L}initPath(ee,L,W){let v,T,H,B,N=ee.startX,I=ee.endX,C=W.slice(),A=ee.isArea,D=A?2:1,P=L&&W.length>L.length&&W.hasStackedCliffs,S=L&&L.slice();if(!S||P)return[C,C];function p(l,n){for(;l.length<T;){let o=l[0],h=n[T-l.length];if(h&&"M"===o[0]&&(l[0]="C"===h[0]?["C",o[1],o[2],o[1],o[2],o[1],o[2]]:["L",o[1],o[2]]),l.unshift(o),A){let d=l.pop();l.push(l[l.length-1],d)}}}function b(l){for(;l.length<T;){let n=l[Math.floor(l.length/D)-1].slice();if("C"===n[0]&&(n[1]=n[5],n[2]=n[6]),A){let o=l[Math.floor(l.length/D)].slice();l.splice(l.length/2,0,n,o)}else l.push(n)}}if(N&&I&&I.length){for(H=0;H<N.length;H++){if(N[H]===I[0]){v=H;break}if(N[0]===I[I.length-N.length+H]){v=H,B=!0;break}if(N[N.length-1]===I[I.length-N.length+H]){v=N.length-H;break}}void 0===v&&(S=[])}return S.length&&de(v)&&(T=C.length+v*D,B?(p(S,C),b(C)):(p(C,S),b(S))),[S,C]}fillSetter(){Q.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,ve(this.start).tweenTo(ve(this.end),this.pos),void 0,!0)}}return Q.timers=[],Q}),Ne(Y,"Core/Animation/AnimationUtilities.js",[Y["Core/Animation/Fx.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defined:xe,getStyle:ve,isArray:me,isNumber:de,isObject:he,merge:Q,objectEach:te,pick:ee}=ce;function L(N){return he(N)?Q({duration:500,defer:0},N):{duration:N?500:0,defer:0}}function W(N,I){let C=Z.timers.length;for(;C--;)Z.timers[C].elem!==N||I&&I!==Z.timers[C].prop||(Z.timers[C].stopped=!0)}return{animate:function(N,I,C){let A,P,v,T,D="";he(C)||(T=arguments,C={duration:T[2],easing:T[3],complete:T[4]}),de(C.duration)||(C.duration=400),C.easing="function"==typeof C.easing?C.easing:Math[C.easing]||Math.easeInOutSine,C.curAnim=Q(I),te(I,function(H,B){W(N,B),v=new Z(N,C,B),P=void 0,"d"===B&&me(I.d)?(v.paths=v.initPath(N,N.pathArray,I.d),v.toD=I.d,A=0,P=1):N.attr?A=N.attr(B):(A=parseFloat(ve(N,B))||0,"opacity"!==B&&(D="px")),P||(P=H),"string"==typeof P&&P.match("px")&&(P=P.replace(/px/g,"")),v.run(A,P,D)})},animObject:L,getDeferredAnimation:function(N,I,C){let A=L(I),P=0,v=0;return(C?[C]:N.series).forEach(T=>{let H=L(T.options.animation);P=he(I)&&xe(I.defer)?A.defer:Math.max(P,H.duration+H.defer),v=Math.min(A.duration,H.duration)}),N.renderer.forExport&&(P=0),{defer:Math.max(0,P-v),duration:Math.min(P,v)}},setAnimation:function(N,I){I.renderer.globalAnimation=ee(N,I.options.chart.animation,!0)},stop:W}}),Ne(Y,"Core/Renderer/HTML/AST.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{SVG_NS:xe,win:ve}=Z,{attr:me,createElement:de,css:he,error:Q,isFunction:te,isString:ee,objectEach:L,splat:W}=ce,{trustedTypes:N}=ve,I=N&&te(N.createPolicy)&&N.createPolicy("highcharts",{createHTML:P=>P}),C=I?I.createHTML(""):"",A=function(){try{return!!(new DOMParser).parseFromString(C,"text/html")}catch{return!1}}();class D{static filterUserAttributes(v){return L(v,(T,H)=>{let B=!0;-1===D.allowedAttributes.indexOf(H)&&(B=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(H)&&(B=ee(T)&&D.allowedReferences.some(S=>0===T.indexOf(S))),B||(Q(33,!1,void 0,{"Invalid attribute in config":`${H}`}),delete v[H]),ee(T)&&v[H]&&(v[H]=T.replace(/</g,"&lt;"))}),v}static parseStyle(v){return v.split(";").reduce((T,H)=>{let B=H.split(":").map(p=>p.trim()),S=B.shift();return S&&B.length&&(T[S.replace(/-([a-z])/g,p=>p[1].toUpperCase())]=B.join(":")),T},{})}static setElementHTML(v,T){v.innerHTML=D.emptyHTML,T&&new D(T).addToDOM(v)}constructor(v){this.nodes="string"==typeof v?this.parseMarkup(v):v}addToDOM(v){return function T(H,B){let S;return W(H).forEach(function(p){let b,l=p.tagName,n=p.textContent?Z.doc.createTextNode(p.textContent):void 0,o=D.bypassHTMLFiltering;if(l)if("#text"===l)b=n;else if(-1!==D.allowedTags.indexOf(l)||o){let d=Z.doc.createElementNS("svg"===l?xe:B.namespaceURI||xe,l),c=p.attributes||{};L(p,function(f,u){"tagName"!==u&&"attributes"!==u&&"children"!==u&&"style"!==u&&"textContent"!==u&&(c[u]=f)}),me(d,o?c:D.filterUserAttributes(c)),p.style&&he(d,p.style),n&&d.appendChild(n),T(p.children||[],d),b=d}else Q(33,!1,void 0,{"Invalid tagName in config":l});b&&B.appendChild(b),S=b}),S}(this.nodes,v)}parseMarkup(v){let T,H=[];if(v=v.trim().replace(/ style=(["'])/g," data-style=$1"),A)T=(new DOMParser).parseFromString(I?I.createHTML(v):v,"text/html");else{let S=de("div");S.innerHTML=v,T={body:S}}let B=(S,p)=>{let b=S.nodeName.toLowerCase(),l={tagName:b};"#text"===b&&(l.textContent=S.textContent||"");let n=S.attributes;if(n){let o={};[].forEach.call(n,h=>{"data-style"===h.name?l.style=D.parseStyle(h.value):o[h.name]=h.value}),l.attributes=o}if(S.childNodes.length){let o=[];[].forEach.call(S.childNodes,h=>{B(h,o)}),o.length&&(l.children=o)}p.push(l)};return[].forEach.call(T.body.childNodes,S=>B(S,H)),H}}return D.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],D.allowedReferences=["https://","http://","mailto:","/","../","./","#"],D.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],D.emptyHTML=C,D.bypassHTMLFiltering=!1,D}),Ne(Y,"Core/Templating.js",[Y["Core/Defaults.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defaultOptions:xe,defaultTime:ve}=Z,{extend:me,getNestedProperty:de,isArray:he,isNumber:Q,isObject:te,pick:ee,pInt:L}=ce,W={add:(C,A)=>C+A,divide:(C,A)=>0!==A?C/A:"",eq:(C,A)=>C==A,each:function(C){let A=arguments[arguments.length-1];return!!he(C)&&C.map((D,P)=>N(A.body,me(te(D)?D:{"@this":D},{"@index":P,"@first":0===P,"@last":P===C.length-1}))).join("")},ge:(C,A)=>C>=A,gt:(C,A)=>C>A,if:C=>!!C,le:(C,A)=>C<=A,lt:(C,A)=>C<A,multiply:(C,A)=>C*A,ne:(C,A)=>C!=A,subtract:(C,A)=>C-A,unless:C=>!C};function N(C="",A,D){let n,o,d,P=/\{([\w\:\.\,;\-\/<>%@"'\u2019= #\(\)]+)\}/g,v=/\(([\w\:\.\,;\-\/<>%@"'= ]+)\)/g,T=[],H=/f$/,B=/\.(\d)/,S=xe.lang,p=D&&D.time||ve,b=D&&D.numberFormatter||I,l=(c="")=>{let f;return"true"===c||"false"!==c&&((f=Number(c)).toString()===c?f:de(c,A))},h=0;for(;null!==(n=P.exec(C));){let c=v.exec(n[1]);c&&(n=c,d=!0),o&&o.isBlock||(o={ctx:A,expression:n[1],find:n[0],isBlock:"#"===n[1].charAt(0),start:n.index,startInner:n.index+n[0].length,length:n[0].length});let f=n[1].split(" ")[0].replace("#","");W[f]&&(o.isBlock&&f===o.fn&&h++,o.fn||(o.fn=f));let u="else"===n[1];if(o.isBlock&&o.fn&&(n[1]===`/${o.fn}`||u))if(h)!u&&h--;else{let M=o.startInner,U=C.substr(M,n.index-M);void 0===o.body?(o.body=U,o.startInner=n.index+n[0].length):o.elseBody=U,o.find+=U+n[0],u||(T.push(o),o=void 0)}else o.isBlock||T.push(o);if(c&&!o?.isBlock)break}return T.forEach(c=>{let f,u,{body:M,elseBody:U,expression:x,fn:O}=c;if(O){let z=[c],j=x.split(" ");for(u=W[O].length;u--;)z.unshift(l(j[u+1]));f=W[O].apply(A,z),c.isBlock&&"boolean"==typeof f&&(f=N(f?M:U,A,D))}else{let z=x.split(":");if(f=l(z.shift()||""),z.length&&"number"==typeof f){let j=z.join(":");if(H.test(j)){let J=parseInt((j.match(B)||["","-1"])[1],10);null!==f&&(f=b(f,J,S.decimalPoint,j.indexOf(",")>-1?S.thousandsSep:""))}else f=p.dateFormat(j,f)}}C=C.replace(c.find,ee(f,""))}),d?N(C,A,D):C}function I(C,A,D,P){let v,T;A=+A;let H=xe.lang,B=((C=+C||0).toString().split(".")[1]||"").split("e")[0].length,S=C.toString().split("e"),p=A;-1===A?A=Math.min(B,20):Q(A)?A&&S[1]&&S[1]<0&&((T=A+ +S[1])>=0?(S[0]=(+S[0]).toExponential(T).split("e")[0],A=T):(S[0]=S[0].split(".")[0]||0,C=A<20?(S[0]*Math.pow(10,S[1])).toFixed(A):0,S[1]=0)):A=2;let b=(Math.abs(S[1]?S[0]:C)+Math.pow(10,-Math.max(A,B)-1)).toFixed(A),l=String(L(b)),n=l.length>3?l.length%3:0;return D=ee(D,H.decimalPoint),P=ee(P,H.thousandsSep),v=(C<0?"-":"")+(n?l.substr(0,n)+P:""),0>+S[1]&&!p?v="0":v+=l.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+P),A?v+=D+b.slice(-A):0==+v&&(v="0"),S[1]&&0!=+v&&(v+="e"+S[1]),v}return{dateFormat:function(C,A,D){return ve.dateFormat(C,A,D)},format:N,helpers:W,numberFormat:I}}),Ne(Y,"Core/Renderer/RendererRegistry.js",[Y["Core/Globals.js"]],function(Z){var ce,xe;let ve;return(xe=ce||(ce={})).rendererTypes={},xe.getRendererType=function(me=ve){return xe.rendererTypes[me]||xe.rendererTypes[ve]},xe.registerRendererType=function(me,de,he){xe.rendererTypes[me]=de,(!ve||he)&&(ve=me,Z.Renderer=de)},ce}),Ne(Y,"Core/Renderer/RendererUtilities.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{clamp:xe,pick:ve,pushUnique:me,stableSort:de}=Z;return(ce||(ce={})).distribute=function he(Q,te,ee){let P,v,T,B,S,b,L=Q,W=L.reducedLen||te,N=(l,n)=>l.target-n.target,I=[],C=Q.length,A=[],D=I.push,H=!0,p=0;for(P=C;P--;)p+=Q[P].size;if(p>W){for(de(Q,(l,n)=>(n.rank||0)-(l.rank||0)),T=(b=Q[0].rank===Q[Q.length-1].rank)?C/2:-1,v=b?T:C-1;T&&p>W;)B=Q[P=Math.floor(v)],me(A,P)&&(p-=B.size),v+=T,b&&v>=Q.length&&(T/=2,v=T);A.sort((l,n)=>n-l).forEach(l=>D.apply(I,Q.splice(l,1)))}for(de(Q,N),Q=Q.map(l=>({size:l.size,targets:[l.target],align:ve(l.align,.5)}));H;){for(P=Q.length;P--;)B=Q[P],S=(Math.min.apply(0,B.targets)+Math.max.apply(0,B.targets))/2,B.pos=xe(S-B.size*B.align,0,te-B.size);for(P=Q.length,H=!1;P--;)P>0&&Q[P-1].pos+Q[P-1].size>Q[P].pos&&(Q[P-1].size+=Q[P].size,Q[P-1].targets=Q[P-1].targets.concat(Q[P].targets),Q[P-1].align=.5,Q[P-1].pos+Q[P-1].size>te&&(Q[P-1].pos=te-Q[P-1].size),Q.splice(P,1),H=!0)}return D.apply(L,I),P=0,Q.some(l=>{let n=0;return(l.targets||[]).some(()=>(L[P].pos=l.pos+n,void 0!==ee&&Math.abs(L[P].pos-L[P].target)>ee?(L.slice(0,P+1).forEach(o=>delete o.pos),L.reducedLen=(L.reducedLen||te)-.1*te,L.reducedLen>.1*te&&he(L,te,ee),!0):(n+=L[P].size,P++,!1)))}),de(L,N),L},ce}),Ne(Y,"Core/Renderer/SVG/SVGElement.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{animate:me,animObject:de,stop:he}=Z,{deg2rad:Q,doc:te,svg:ee,SVG_NS:L,win:W}=xe,{addEvent:N,attr:I,createElement:C,crisp:A,css:D,defined:P,erase:v,extend:T,fireEvent:H,isArray:B,isFunction:S,isObject:p,isString:b,merge:l,objectEach:n,pick:o,pInt:h,pushUnique:d,replaceNested:c,syncTimeout:f,uniqueKey:u}=ve;class M{_defaultGetter(x){let O=o(this[x+"Value"],this[x],this.element?this.element.getAttribute(x):null,0);return/^-?[\d\.]+$/.test(O)&&(O=parseFloat(O)),O}_defaultSetter(x,O,z){z.setAttribute(O,x)}add(x){let O,z=this.renderer,j=this.element;return x&&(this.parentGroup=x),void 0!==this.textStr&&"text"===this.element.nodeName&&z.buildText(this),this.added=!0,(!x||x.handleZ||this.zIndex)&&(O=this.zIndexSetter()),O||(x?x.element:z.box).appendChild(j),this.onAdd&&this.onAdd(),this}addClass(x,O){let z=O?"":this.attr("class")||"";return(x=(x||"").split(/ /g).reduce(function(j,J){return-1===z.indexOf(J)&&j.push(J),j},z?[z]:[]).join(" "))!==z&&this.attr("class",x),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(x,O,z,j=!0){let J,y,w,E,X={},m=this.renderer,F=m.alignedObjects,R=!!x;x?(this.alignOptions=x,this.alignByTranslate=O,this.alignTo=z):(x=this.alignOptions||{},O=this.alignByTranslate,z=this.alignTo);let _=!z||b(z)?z||"renderer":void 0;_&&(R&&d(F,this),z=void 0);let G=o(z,m[_],m),K=x.align,oe=x.verticalAlign;return J=(G.x||0)+(x.x||0),y=(G.y||0)+(x.y||0),"right"===K?w=1:"center"===K&&(w=2),w&&(J+=((G.width||0)-(x.width||0))/w),X[O?"translateX":"x"]=Math.round(J),"bottom"===oe?E=1:"middle"===oe&&(E=2),E&&(y+=((G.height||0)-(x.height||0))/E),X[O?"translateY":"y"]=Math.round(y),j&&(this[this.placed?"animate":"attr"](X),this.placed=!0),this.alignAttr=X,this}alignSetter(x){let O={left:"start",center:"middle",right:"end"};O[x]&&(this.alignValue=x,this.element.setAttribute("text-anchor",O[x]))}animate(x,O,z){let j=de(o(O,this.renderer.globalAnimation,!0)),J=j.defer;return te.hidden&&(j.duration=0),0!==j.duration?(z&&(j.complete=z),f(()=>{this.element&&me(this,x,j)},J)):(this.attr(x,void 0,z||j.complete),n(x,function(y,w){j.step&&j.step.call(this,y,{prop:w,pos:1,elem:this})},this)),this}applyTextOutline(x){let O=this.element;-1!==x.indexOf("contrast")&&(x=x.replace(/contrast/g,this.renderer.getContrast(O.style.fill)));let z=x.split(" "),j=z[z.length-1],J=z[0];if(J&&"none"!==J&&xe.svg){this.fakeTS=!0,J=J.replace(/(^[\d\.]+)(.*?)$/g,function(m,F,R){return 2*Number(F)+R}),this.removeTextOutline();let y=te.createElementNS(L,"tspan");I(y,{class:"highcharts-text-outline",fill:j,stroke:j,"stroke-width":J,"stroke-linejoin":"round"});let w=O.querySelector("textPath")||O;[].forEach.call(w.childNodes,m=>{let F=m.cloneNode(!0);F.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(R=>F.removeAttribute(R)),y.appendChild(F)});let E=0;[].forEach.call(w.querySelectorAll("text tspan"),m=>{E+=Number(m.getAttribute("dy"))});let X=te.createElementNS(L,"tspan");X.textContent="\u200b",I(X,{x:Number(O.getAttribute("x")),dy:-E}),y.appendChild(X),w.insertBefore(y,w.firstChild)}}attr(x,O,z,j){let w,E,m,{element:J}=this,y=M.symbolCustomAttribs,X=this;return"string"==typeof x&&void 0!==O&&(w=x,(x={})[w]=O),"string"==typeof x?X=(this[x+"Getter"]||this._defaultGetter).call(this,x,J):(n(x,function(F,R){m=!1,j||he(this,R),this.symbolName&&-1!==y.indexOf(R)&&(E||(this.symbolAttr(x),E=!0),m=!0),this.rotation&&("x"===R||"y"===R)&&(this.doTransform=!0),m||(this[R+"Setter"]||this._defaultSetter).call(this,F,R,J)},this),this.afterSetters()),z&&z.call(this),X}clip(x){if(x&&!x.clipPath){let O=u()+"-",z=this.renderer.createElement("clipPath").attr({id:O}).add(this.renderer.defs);T(x,{clipPath:z,id:O,count:0}),x.add(z)}return this.attr("clip-path",x?`url(${this.renderer.url}#${x.id})`:"none")}crisp(x,O){O=Math.round(O||x.strokeWidth||0);let z=x.x||this.x||0,j=x.y||this.y||0,J=(x.width||this.width||0)+z,y=(x.height||this.height||0)+j,w=A(z,O),E=A(j,O);return T(x,{x:w,y:E,width:A(J,O)-w,height:A(y,O)-E}),P(x.strokeWidth)&&(x.strokeWidth=O),x}complexColor(x,O,z){let J,y,w,E,X,m,F,R,_,G,oe,j=this.renderer,K=[];H(this.renderer,"complexColor",{args:arguments},function(){if(x.radialGradient?y="radialGradient":x.linearGradient&&(y="linearGradient"),y){if(w=x[y],X=j.gradients,m=x.stops,_=z.radialReference,B(w)&&(x[y]=w={x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===y&&_&&!P(w.gradientUnits)&&(E=w,w=l(w,j.getRadialAttr(_,E),{gradientUnits:"userSpaceOnUse"})),n(w,function(ae,ue){"id"!==ue&&K.push(ue,ae)}),n(m,function(ae){K.push(ae)}),X[K=K.join(",")])G=X[K].attr("id");else{w.id=G=u();let ae=X[K]=j.createElement(y).attr(w).add(j.defs);ae.radAttr=E,ae.stops=[],m.forEach(function(ue){0===ue[1].indexOf("rgba")?(F=(J=ce.parse(ue[1])).get("rgb"),R=J.get("a")):(F=ue[1],R=1);let be=j.createElement("stop").attr({offset:ue[0],"stop-color":F,"stop-opacity":R}).add(ae);ae.stops.push(be)})}oe="url("+j.url+"#"+G+")",z.setAttribute(O,oe),z.gradient=K,x.toString=function(){return oe}}})}css(x){let J,O=this.styles,z={},j=this.element,y=!O;if(O&&n(x,function(w,E){O&&O[E]!==w&&(z[E]=w,y=!0)}),y){O&&(x=T(O,z)),null===x.width||"auto"===x.width?delete this.textWidth:"text"===j.nodeName.toLowerCase()&&x.width&&(J=this.textWidth=h(x.width)),T(this.styles,x),J&&!ee&&this.renderer.forExport&&delete x.width;let w=l(x);j.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(E=>w&&delete w[E]),w.color&&(w.fill=w.color)),D(j,w)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),x.textOutline&&this.applyTextOutline(x.textOutline)),this}dashstyleSetter(x){let O,z=this["stroke-width"];if("inherit"===z&&(z=1),x=x&&x.toLowerCase()){let j=x.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(O=j.length;O--;)j[O]=""+h(j[O])*o(z,NaN);x=j.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",x)}}destroy(){let y,w,x=this,O=x.element||{},z=x.renderer,j=O.ownerSVGElement,J="SPAN"===O.nodeName&&x.parentGroup||void 0;if(O.onclick=O.onmouseout=O.onmouseover=O.onmousemove=O.point=null,he(x),x.clipPath&&j){let E=x.clipPath;[].forEach.call(j.querySelectorAll("[clip-path],[CLIP-PATH]"),function(X){X.getAttribute("clip-path").indexOf(E.element.id)>-1&&X.removeAttribute("clip-path")}),x.clipPath=E.destroy()}if(x.connector=x.connector?.destroy(),x.stops){for(w=0;w<x.stops.length;w++)x.stops[w].destroy();x.stops.length=0,x.stops=void 0}for(x.safeRemoveChild(O);J&&J.div&&0===J.div.childNodes.length;)y=J.parentGroup,x.safeRemoveChild(J.div),delete J.div,J=y;x.alignOptions&&v(z.alignedObjects,x),n(x,function(E,X){x[X]&&x[X].parentGroup===x&&x[X].destroy&&x[X].destroy(),delete x[X]})}dSetter(x,O,z){B(x)&&("string"==typeof x[0]&&(x=this.renderer.pathToSegments(x)),this.pathArray=x,x=x.reduce((j,J,y)=>J&&J.join?(y?j+" ":"")+J.join(" "):(J||"").toString(),"")),/(NaN| {2}|^$)/.test(x)&&(x="M 0 0"),this[O]!==x&&(z.setAttribute(O,x),this[O]=x)}fillSetter(x,O,z){"string"==typeof x?z.setAttribute(O,x):x&&this.complexColor(x,O,z)}hrefSetter(x,O,z){z.setAttributeNS("http://www.w3.org/1999/xlink",O,x)}getBBox(x,O){let z,j,J,y,{alignValue:w,element:E,renderer:X,styles:m,textStr:F}=this,{cache:R,cacheKeys:_}=X,G=E.namespaceURI===this.SVG_NS,K=o(O,this.rotation,0),oe=X.styledMode?E&&M.prototype.getStyle.call(E,"font-size"):m.fontSize;if(P(F)&&(-1===(y=F.toString()).indexOf("<")&&(y=y.replace(/\d/g,"0")),y+=["",X.rootFontSize,oe,K,this.textWidth,w,m.textOverflow,m.fontWeight].join(",")),y&&!x&&(z=R[y]),!z||z.polygon){if(G||X.forExport){try{J=this.fakeTS&&function(ue){let be=E.querySelector(".highcharts-text-outline");be&&D(be,{display:ue})},S(J)&&J("none"),z=E.getBBox?T({},E.getBBox()):{width:E.offsetWidth,height:E.offsetHeight,x:0,y:0},S(J)&&J("")}catch{}(!z||z.width<0)&&(z={x:0,y:0,width:0,height:0})}else z=this.htmlGetBBox();j=z.height,G&&(z.height=j={"11px,17":14,"13px,20":16}[`${oe||""},${Math.round(j)}`]||j),K&&(z=this.getRotatedBox(z,K));let ae={bBox:z};H(this,"afterGetBBox",ae),z=ae.bBox}if(y&&(""===F||z.height>0)){for(;_.length>250;)delete R[_.shift()];R[y]||_.push(y),R[y]=z}return z}getRotatedBox(x,O){let{x:z,y:j,width:J,height:y}=x,{alignValue:w,translateY:E,rotationOriginX:X=0,rotationOriginY:m=0}=this,F={right:1,center:.5}[w||0]||0,R=Number(this.element.getAttribute("y")||0)-(E?0:j),_=O*Q,G=(O-90)*Q,K=Math.cos(_),oe=Math.sin(_),ae=J*K,ue=J*oe,be=Math.cos(G),Se=Math.sin(G),[[ie,q],[re,le]]=[X,m].map(it=>[it-it*K,it*oe]),pe=z+F*(J-ae)+ie+le+R*be,ge=pe+ae,we=ge-y*be,ye=we-ae,Me=j+R-F*ue-q+re+R*Se,Pe=Me+ue,Re=Pe-y*Se,Fe=Re-ue,De=Math.min(pe,ge,we,ye),He=Math.min(Me,Pe,Re,Fe);return{x:De,y:He,width:Math.max(pe,ge,we,ye)-De,height:Math.max(Me,Pe,Re,Fe)-He,polygon:[[pe,Me],[ge,Pe],[we,Re],[ye,Fe]]}}getStyle(x){return W.getComputedStyle(this.element||this,"").getPropertyValue(x)}hasClass(x){return-1!==(""+this.attr("class")).split(" ").indexOf(x)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(x,O){this.onEvents={},this.opacity=1,this.SVG_NS=L,this.element="span"===O||"body"===O?C(O):te.createElementNS(this.SVG_NS,O),this.renderer=x,this.styles={},H(this,"afterInit")}on(x,O){let{onEvents:z}=this;return z[x]&&z[x](),z[x]=N(this.element,x,O),this}opacitySetter(x,O,z){let j=Number(Number(x).toFixed(3));this.opacity=j,z.setAttribute(O,j)}reAlign(){this.alignOptions?.width&&"left"!==this.alignOptions.align&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(x){return this.attr("class",(""+this.attr("class")).replace(b(x)?RegExp(`(^| )${x}( |$)`):x," ").replace(/ +/g," ").trim())}removeTextOutline(){let x=this.element.querySelector("tspan.highcharts-text-outline");x&&this.safeRemoveChild(x)}safeRemoveChild(x){let O=x.parentNode;O&&O.removeChild(x)}setRadialReference(x){let O=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=x,O&&O.radAttr&&O.animate(this.renderer.getRadialAttr(x,O.radAttr)),this}shadow(x){let{renderer:O}=this,z=l(90===this.parentGroup?.rotation?{offsetX:-1,offsetY:-1}:{},p(x)?x:{}),j=O.shadowDefinition(z);return this.attr({filter:x?`url(${O.url}#${j})`:"none"})}show(x=!0){return this.attr({visibility:x?"inherit":"visible"})}"stroke-widthSetter"(x,O,z){this[O]=x,z.setAttribute(O,x)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let z,x=this.getStyle("stroke-width"),O=0;return/px$/.test(x)?O=h(x):""!==x&&(I(z=te.createElementNS(L,"rect"),{width:x,"stroke-width":0}),this.element.parentNode.appendChild(z),O=z.getBBox().width,z.parentNode.removeChild(z)),O}symbolAttr(x){let O=this;M.symbolCustomAttribs.forEach(function(z){O[z]=o(x[z],O[z])}),O.attr({d:O.renderer.symbols[O.symbolName](O.x,O.y,O.width,O.height,O)})}textSetter(x){x!==this.textStr&&(delete this.textPxLength,this.textStr=x,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(x){let O=this.element,z=O.getElementsByTagName("title")[0]||te.createElementNS(this.SVG_NS,"title");O.insertBefore?O.insertBefore(z,O.firstChild):O.appendChild(z),z.textContent=c(o(x,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let x=this.element;return x.parentNode.appendChild(x),this}translate(x,O){return this.attr({translateX:x,translateY:O})}updateTransform(x="transform"){let{element:O,matrix:z,rotation:j=0,rotationOriginX:J,rotationOriginY:y,scaleX:w,scaleY:E,translateX:X=0,translateY:m=0}=this,F=["translate("+X+","+m+")"];P(z)&&F.push("matrix("+z.join(",")+")"),j&&(F.push("rotate("+j+" "+o(J,O.getAttribute("x"),0)+" "+o(y,O.getAttribute("y")||0)+")"),"SPAN"===this.text?.element.tagName&&this.text.attr({rotation:j,rotationOriginX:(J||0)-this.padding,rotationOriginY:(y||0)-this.padding})),(P(w)||P(E))&&F.push("scale("+o(w,1)+" "+o(E,1)+")"),F.length&&!(this.text||this).textPath&&O.setAttribute(x,F.join(" "))}visibilitySetter(x,O,z){"inherit"===x?z.removeAttribute(O):this[O]!==x&&z.setAttribute(O,x),this[O]=x}xGetter(x){return"circle"===this.element.nodeName&&("x"===x?x="cx":"y"===x&&(x="cy")),this._defaultGetter(x)}zIndexSetter(x,O){let E,X,m,R,G,z=this.renderer,j=this.parentGroup,J=(j||z).element||z.box,y=this.element,w=J===z.box,F=!1,_=this.added;if(P(x)?(y.setAttribute("data-z-index",x),this[O]===(x=+x)&&(_=!1)):P(this[O])&&y.removeAttribute("data-z-index"),this[O]=x,_){for((x=this.zIndex)&&j&&(j.handleZ=!0),G=(E=J.childNodes).length-1;G>=0&&!F;G--)R=!P(m=(X=E[G]).getAttribute("data-z-index")),X!==y&&(x<0&&R&&!w&&!G?(J.insertBefore(y,E[G]),F=!0):(h(m)<=x||R&&(!P(x)||x>=0))&&(J.insertBefore(y,E[G+1]),F=!0));F||(J.insertBefore(y,E[w?3:0]),F=!0)}return F}}return M.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],M.prototype.strokeSetter=M.prototype.fillSetter,M.prototype.yGetter=M.prototype.xGetter,M.prototype.matrixSetter=M.prototype.rotationOriginXSetter=M.prototype.rotationOriginYSetter=M.prototype.rotationSetter=M.prototype.scaleXSetter=M.prototype.scaleYSetter=M.prototype.translateXSetter=M.prototype.translateYSetter=M.prototype.verticalAlignSetter=function(U,x){this[x]=U,this.doTransform=!0},M}),Ne(Y,"Core/Renderer/SVG/SVGLabel.js",[Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce){let{defined:xe,extend:ve,isNumber:me,merge:de,pick:he,removeEvent:Q}=ce;class te extends Z{constructor(L,W,N,I,C,A,D,P,v,T){let H;super(L,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=W,this.x=N,this.y=I,this.anchorX=A,this.anchorY=D,this.baseline=v,this.className=T,this.addClass("button"===T?"highcharts-no-tooltip":"highcharts-label"),T&&this.addClass("highcharts-"+T),this.text=L.text(void 0,0,0,P).attr({zIndex:1}),"string"==typeof C&&((H=/^url\((.*?)\)$/.test(C))||this.renderer.symbols[C])&&(this.symbolKey=C),this.bBox=te.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=L.styledMode||H,this.deferredAttr={},this.alignFactor=0}alignSetter(L){let W={left:0,center:.5,right:1}[L];W!==this.alignFactor&&(this.alignFactor=W,this.bBox&&me(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(L,W){this.anchorX=L,this.boxAttr(W,Math.round(L)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(L,W){this.anchorY=L,this.boxAttr(W,L-this.ySetting)}boxAttr(L,W){this.box?this.box.attr(L,W):this.deferredAttr[L]=W}css(L){if(L){let W={};L=de(L),te.textProps.forEach(N=>{void 0!==L[N]&&(W[N]=L[N],delete L[N])}),this.text.css(W),"fontSize"in W||"fontWeight"in W?this.updateTextPadding():("width"in W||"textOverflow"in W)&&this.updateBoxSize()}return Z.prototype.css.call(this,L)}destroy(){Q(this.element,"mouseenter"),Q(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Z.prototype.destroy.call(this)}fillSetter(L,W){L&&(this.needsBox=!0),this.fill=L,this.boxAttr(W,L)}getBBox(L,W){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();let{padding:N,height:I=0,translateX:C=0,translateY:A=0,width:D=0}=this,P=he(this.paddingLeft,N),v=W??(this.rotation||0),T={width:D,height:I,x:C+this.bBox.x-P,y:A+this.bBox.y-N+this.baselineOffset};return v&&(T=this.getRotatedBox(T,v)),T}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(L){this.heightSetting=L,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:he(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&xe(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(L,W){me(L)?L!==this[W]&&(this[W]=L,this.updateTextPadding()):this[W]=void 0}rSetter(L,W){this.boxAttr(W,L)}strokeSetter(L,W){this.stroke=L,this.boxAttr(W,L)}"stroke-widthSetter"(L,W){L&&(this.needsBox=!0),this["stroke-width"]=L,this.boxAttr(W,L)}"text-alignSetter"(L){this.textAlign=L}textSetter(L){void 0!==L&&this.text.attr({text:L}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let L,W=this.text,N={},I=this.padding,C=this.bBox=me(this.widthSetting)&&me(this.heightSetting)&&!this.textAlign||!xe(W.textStr)?te.emptyBBox:W.getBBox(void 0,0);this.width=this.getPaddedWidth(),this.height=(this.heightSetting||C.height||0)+2*I;let A=this.renderer.fontMetrics(W);if(this.baselineOffset=I+Math.min((this.text.firstLineMetrics||A).b,C.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-A.h)/2),this.needsBox&&!W.textPath){if(!this.box){let D=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();D.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),D.add(this)}L=this.getCrispAdjust(),N.x=L,N.y=(this.baseline?-this.baselineOffset:0)+L,N.width=Math.round(this.width),N.height=Math.round(this.height),this.box.attr(ve(N,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let L=this.text;if(!L.textPath){this.updateBoxSize();let W=this.baseline?0:this.baselineOffset,N=he(this.paddingLeft,this.padding);xe(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(N+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(N!==L.x||W!==L.y)&&(L.attr("x",N),L.hasBoxWidthChanged&&(this.bBox=L.getBBox(!0)),void 0!==W&&L.attr("y",W)),L.x=N,L.y=W}}widthSetter(L){this.widthSetting=me(L)?L:void 0,this.doUpdate=!0}getPaddedWidth(){let L=this.padding,W=he(this.paddingLeft,L),N=he(this.paddingRight,L);return(this.widthSetting||this.bBox.width||0)+W+N}xSetter(L){this.x=L,this.alignFactor&&(L-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(L),this.attr("translateX",this.xSetting)}ySetter(L){this.ySetting=this.y=Math.round(L),this.attr("translateY",this.ySetting)}}return te.emptyBBox={width:0,height:0,x:0,y:0},te.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],te}),Ne(Y,"Core/Renderer/SVG/Symbols.js",[Y["Core/Utilities.js"]],function(Z){let{defined:ce,isNumber:xe,pick:ve}=Z;function me(Q,te,ee,L,W){let N=[];if(W){let I=W.start||0,C=ve(W.r,ee),A=ve(W.r,L||ee),D=2e-4/(W.borderRadius?1:Math.max(C,1)),P=Math.abs((W.end||0)-I-2*Math.PI)<D,v=(W.end||0)-(P?D:0),T=W.innerR,H=ve(W.open,P),B=Math.cos(I),S=Math.sin(I),p=Math.cos(v),b=Math.sin(v),l=ve(W.longArc,v-I-Math.PI<D?0:1),n=["A",C,A,0,l,ve(W.clockwise,1),Q+C*p,te+A*b];n.params={start:I,end:v,cx:Q,cy:te},N.push(["M",Q+C*B,te+A*S],n),ce(T)&&((n=["A",T,T,0,l,ce(W.clockwise)?1-W.clockwise:0,Q+T*B,te+T*S]).params={start:v,end:I,cx:Q,cy:te},N.push(H?["M",Q+T*p,te+T*b]:["L",Q+T*p,te+T*b],n)),H||N.push(["Z"])}return N}function de(Q,te,ee,L,W){return W&&W.r?he(Q,te,ee,L,W):[["M",Q,te],["L",Q+ee,te],["L",Q+ee,te+L],["L",Q,te+L],["Z"]]}function he(Q,te,ee,L,W){let N=W?.r||0;return[["M",Q+N,te],["L",Q+ee-N,te],["A",N,N,0,0,1,Q+ee,te+N],["L",Q+ee,te+L-N],["A",N,N,0,0,1,Q+ee-N,te+L],["L",Q+N,te+L],["A",N,N,0,0,1,Q,te+L-N],["L",Q,te+N],["A",N,N,0,0,1,Q+N,te],["Z"]]}return{arc:me,callout:function(Q,te,ee,L,W){let N=Math.min(W&&W.r||0,ee,L),I=N+6,C=W&&W.anchorX,A=W&&W.anchorY||0,D=he(Q,te,ee,L,{r:N});if(!xe(C)||C<ee&&C>0&&A<L&&A>0)return D;if(Q+C>ee-I)if(A>te+I&&A<te+L-I)D.splice(3,1,["L",Q+ee,A-6],["L",Q+ee+6,A],["L",Q+ee,A+6],["L",Q+ee,te+L-N]);else if(C<ee){let P=A<te+I;D.splice(P?2:5,0,["L",C,A],["L",Q+ee-N,P?te:te+L])}else D.splice(3,1,["L",Q+ee,L/2],["L",C,A],["L",Q+ee,L/2],["L",Q+ee,te+L-N]);else if(Q+C<I)if(A>te+I&&A<te+L-I)D.splice(7,1,["L",Q,A+6],["L",Q-6,A],["L",Q,A-6],["L",Q,te+N]);else if(C>0){let P=A<te+I;D.splice(P?1:6,0,["L",C,A],["L",Q+N,P?te:te+L])}else D.splice(7,1,["L",Q,L/2],["L",C,A],["L",Q,L/2],["L",Q,te+N]);else A>L&&C<ee-I?D.splice(5,1,["L",C+6,te+L],["L",C,te+L+6],["L",C-6,te+L],["L",Q+N,te+L]):A<0&&C>I&&D.splice(1,1,["L",C-6,te],["L",C,te-6],["L",C+6,te],["L",ee-N,te]);return D},circle:function(Q,te,ee,L){return me(Q+ee/2,te+L/2,ee/2,L/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(Q,te,ee,L){return[["M",Q+ee/2,te],["L",Q+ee,te+L/2],["L",Q+ee/2,te+L],["L",Q,te+L/2],["Z"]]},rect:de,roundedRect:he,square:de,triangle:function(Q,te,ee,L){return[["M",Q+ee/2,te],["L",Q+ee,te+L],["L",Q,te+L],["Z"]]},"triangle-down":function(Q,te,ee,L){return[["M",Q,te],["L",Q+ee,te],["L",Q+ee/2,te+L],["Z"]]}}}),Ne(Y,"Core/Renderer/SVG/TextBuilder.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{doc:ve,SVG_NS:me,win:de}=ce,{attr:he,extend:Q,fireEvent:te,isString:ee,objectEach:L,pick:W}=xe;return class{constructor(N){let I=N.styles;this.renderer=N.renderer,this.svgElement=N,this.width=N.textWidth,this.textLineHeight=I&&I.lineHeight,this.textOutline=I&&I.textOutline,this.ellipsis=!(!I||"ellipsis"!==I.textOverflow),this.noWrap=!(!I||"nowrap"!==I.whiteSpace)}buildSVG(){let N=this.svgElement,I=N.element,C=N.renderer,A=W(N.textStr,"").toString(),D=-1!==A.indexOf("<"),P=I.childNodes,v=!N.added&&C.box,T=[A,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,N.getStyle("font-size"),this.width].join(",");if(T!==N.textCache){N.textCache=T,delete N.actualWidth;for(let H=P.length;H--;)I.removeChild(P[H]);if(D||this.ellipsis||this.width||N.textPath||-1!==A.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(A))){if(""!==A){v&&v.appendChild(I);let H=new Z(A);this.modifyTree(H.nodes),H.addToDOM(I),this.modifyDOM(),this.ellipsis&&-1!==(I.textContent||"").indexOf("\u2026")&&N.attr("title",this.unescapeEntities(N.textStr||"",["&lt;","&gt;"])),v&&v.removeChild(I)}}else I.appendChild(ve.createTextNode(this.unescapeEntities(A)));ee(this.textOutline)&&N.applyTextOutline&&N.applyTextOutline(this.textOutline)}}modifyDOM(){let N,I=this.svgElement,C=he(I.element,"x");for(I.firstLineMetrics=void 0;(N=I.element.firstChild)&&/^[\s\u200B]*$/.test(N.textContent||" ");)I.element.removeChild(N);[].forEach.call(I.element.querySelectorAll("tspan.highcharts-br"),(v,T)=>{v.nextSibling&&v.previousSibling&&(0===T&&1===v.previousSibling.nodeType&&(I.firstLineMetrics=I.renderer.fontMetrics(v.previousSibling)),he(v,{dy:this.getLineHeight(v.nextSibling),x:C}))});let A=this.width||0;if(!A)return;let D=(v,T)=>{let H=v.textContent||"",B=H.replace(/([^\^])-/g,"$1- ").split(" "),S=!this.noWrap&&(B.length>1||I.element.childNodes.length>1),p=this.getLineHeight(T),b=0,l=I.actualWidth;if(this.ellipsis)H&&this.truncate(v,H,void 0,0,Math.max(0,A-.8*p),(n,o)=>n.substring(0,o)+"\u2026");else if(S){let n=[],o=[];for(;T.firstChild&&T.firstChild!==v;)o.push(T.firstChild),T.removeChild(T.firstChild);for(;B.length;)B.length&&!this.noWrap&&b>0&&(n.push(v.textContent||""),v.textContent=B.join(" ").replace(/- /g,"-")),this.truncate(v,void 0,B,0===b&&l||0,A,(h,d)=>B.slice(0,d).join(" ").replace(/- /g,"-")),l=I.actualWidth,b++;o.forEach(h=>{T.insertBefore(h,v)}),n.forEach(h=>{T.insertBefore(ve.createTextNode(h),v);let d=ve.createElementNS(me,"tspan");d.textContent="\u200b",he(d,{dy:p,x:C}),T.insertBefore(d,v)})}},P=v=>{[].slice.call(v.childNodes).forEach(T=>{T.nodeType===de.Node.TEXT_NODE?D(T,v):(-1!==T.className.baseVal.indexOf("highcharts-br")&&(I.actualWidth=0),P(T))})};P(I.element)}getLineHeight(N){let I=N.nodeType===de.Node.TEXT_NODE?N.parentElement:N;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(I||this.svgElement.element).h}modifyTree(N){let I=(C,A)=>{let{attributes:D={},children:P,style:v={},tagName:T}=C,H=this.renderer.styledMode;if("b"===T||"strong"===T?H?D.class="highcharts-strong":v.fontWeight="bold":("i"===T||"em"===T)&&(H?D.class="highcharts-emphasized":v.fontStyle="italic"),v&&v.color&&(v.fill=v.color),"br"===T){D.class="highcharts-br",C.textContent="\u200b";let B=N[A+1];B&&B.textContent&&(B.textContent=B.textContent.replace(/^ +/gm,""))}else"a"===T&&P&&P.some(B=>"#text"===B.tagName)&&(C.children=[{children:P,tagName:"tspan"}]);"#text"!==T&&"a"!==T&&(C.tagName="tspan"),Q(C,{attributes:D,style:v}),P&&P.filter(B=>"#text"!==B.tagName).forEach(I)};N.forEach(I),te(this.svgElement,"afterModifyTree",{nodes:N})}truncate(N,I,C,A,D,P){let v,T,H=this.svgElement,{rotation:B}=H,S=[],p=C?1:0,b=(I||C||"").length,l=b,n=function(o,h){let d=h||o,c=N.parentNode;if(c&&void 0===S[d]&&c.getSubStringLength)try{S[d]=A+c.getSubStringLength(0,C?d+1:d)}catch{}return S[d]};if(H.rotation=0,A+(T=n(N.textContent.length))>D){for(;p<=b;)l=Math.ceil((p+b)/2),C&&(v=P(C,l)),T=n(l,v&&v.length-1),p===b?p=b+1:T>D?b=l-1:p=l;0===b?N.textContent="":I&&b===I.length-1||(N.textContent=v||P(I||C,l))}C&&C.splice(0,l),H.actualWidth=T,H.rotation=B}unescapeEntities(N,I){return L(this.renderer.escapes,function(C,A){I&&-1!==I.indexOf(C)||(N=N.toString().replace(RegExp(C,"g"),A))}),N}}}),Ne(Y,"Core/Renderer/SVG/SVGRenderer.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Defaults.js"],Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Renderer/SVG/SVGLabel.js"],Y["Core/Renderer/SVG/Symbols.js"],Y["Core/Renderer/SVG/TextBuilder.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee){let L,{defaultOptions:W}=ce,{charts:N,deg2rad:I,doc:C,isFirefox:A,isMS:D,isWebKit:P,noop:v,SVG_NS:T,symbolSizes:H,win:B}=ve,{addEvent:S,attr:p,createElement:b,crisp:l,css:n,defined:o,destroyObjectProperties:h,extend:d,isArray:c,isNumber:f,isObject:u,isString:M,merge:U,pick:x,pInt:O,replaceNested:z,uniqueKey:j}=ee;class J{constructor(w,E,X,m,F,R,_){let G,K,oe=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ae=oe.element;_||oe.css(this.getStyle(m||{})),w.appendChild(ae),p(w,"dir","ltr"),-1===w.innerHTML.indexOf("xmlns")&&p(ae,"xmlns",this.SVG_NS),this.box=ae,this.boxWrapper=oe,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(C.createTextNode("Created with Highcharts 11.4.8")),this.defs=this.createElement("defs").add(),this.allowHTML=R,this.forExport=F,this.styledMode=_,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=oe.getStyle("font-size"),this.setSize(E,X,!1),A&&w.getBoundingClientRect&&((G=function(){n(w,{left:0,top:0}),K=w.getBoundingClientRect(),n(w,{left:Math.ceil(K.left)-K.left+"px",top:Math.ceil(K.top)-K.top+"px"})})(),this.unSubPixelFix=S(B,"resize",G))}definition(w){return new Z([w]).addToDOM(this.defs.element)}getReferenceURL(){if((A||P)&&C.getElementsByTagName("base").length){if(!o(L)){let w=j(),E=new Z([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:w},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${w})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(C.body);n(E,{position:"fixed",top:0,left:0,zIndex:9e5});let X=C.elementFromPoint(6,6);L="hitme"===(X&&X.id),C.body.removeChild(E)}if(L)return z(B.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(w){return this.style=d({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},w),this.style}setStyle(w){this.boxWrapper.css(this.getStyle(w))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let w=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,this.defs=w.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(w){return new this.Element(this,w)}getRadialAttr(w,E){return{cx:w[0]-w[2]/2+(E.cx||0)*w[2],cy:w[1]-w[2]/2+(E.cy||0)*w[2],r:(E.r||0)*w[2]}}shadowDefinition(w){let E=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(w).map(m=>`${m}-${w[m]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),X=U({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},w);return this.defs.element.querySelector(`#${E}`)||this.definition({tagName:"filter",attributes:{id:E,filterUnits:X.filterUnits},children:this.getShadowFilterContent(X)}),E}getShadowFilterContent(w){return[{tagName:"feDropShadow",attributes:{dx:w.offsetX,dy:w.offsetY,"flood-color":w.color,"flood-opacity":Math.min(5*w.opacity,1),stdDeviation:w.width/2}}]}buildText(w){new te(w).buildSVG()}getContrast(w){let E=xe.parse(w).rgba.map(m=>{let F=m/255;return F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4)}),X=.2126*E[0]+.7152*E[1]+.0722*E[2];return 1.05/(X+.05)>(X+.05)/.05?"#FFFFFF":"#000000"}button(w,E,X,m,F={},R,_,G,K,oe){let ae=this.label(w,E,X,K,void 0,void 0,oe,void 0,"button"),ue=this.styledMode,be=arguments,Se=0;F=U(W.global.buttonTheme,F),ue&&(delete F.fill,delete F.stroke,delete F["stroke-width"]);let ie=F.states||{},q=F.style||{};delete F.states,delete F.style;let re=[Z.filterUserAttributes(F)],le=[q];return ue||["hover","select","disabled"].forEach((pe,ge)=>{re.push(U(re[0],Z.filterUserAttributes(be[ge+5]||ie[pe]||{}))),le.push(re[ge+1].style),delete re[ge+1].style}),S(ae.element,D?"mouseover":"mouseenter",function(){3!==Se&&ae.setState(1)}),S(ae.element,D?"mouseout":"mouseleave",function(){3!==Se&&ae.setState(Se)}),ae.setState=(pe=0)=>{if(1!==pe&&(ae.state=Se=pe),ae.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][pe]),!ue){ae.attr(re[pe]);let ge=le[pe];u(ge)&&ae.css(ge)}},ae.attr(re[0]),!ue&&(ae.css(d({cursor:"default"},q)),oe&&ae.text.css({pointerEvents:"none"})),ae.on("touchstart",pe=>pe.stopPropagation()).on("click",function(pe){3!==Se&&m.call(ae,pe)})}crispLine(w,E){let[X,m]=w;return o(X[1])&&X[1]===m[1]&&(X[1]=m[1]=l(X[1],E)),o(X[2])&&X[2]===m[2]&&(X[2]=m[2]=l(X[2],E)),w}path(w){let E=this.styledMode?{}:{fill:"none"};return c(w)?E.d=w:u(w)&&d(E,w),this.createElement("path").attr(E)}circle(w,E,X){let m=u(w)?w:void 0===w?{}:{x:w,y:E,r:X},F=this.createElement("circle");return F.xSetter=F.ySetter=function(R,_,G){G.setAttribute("c"+_,R)},F.attr(m)}arc(w,E,X,m,F,R){let _;u(w)?(E=(_=w).y,X=_.r,m=_.innerR,F=_.start,R=_.end,w=_.x):_={innerR:m,start:F,end:R};let G=this.symbol("arc",w,E,X,X,_);return G.r=X,G}rect(w,E,X,m,F,R){let _=u(w)?w:void 0===w?{}:{x:w,y:E,r:F,width:Math.max(X||0,0),height:Math.max(m||0,0)},G=this.createElement("rect");return this.styledMode||(void 0!==R&&(_["stroke-width"]=R,d(_,G.crisp(_))),_.fill="none"),G.rSetter=function(K,oe,ae){G.r=K,p(ae,{rx:K,ry:K})},G.rGetter=function(){return G.r||0},G.attr(_)}roundedRect(w){return this.symbol("roundedRect").attr(w)}setSize(w,E,X){this.width=w,this.height=E,this.boxWrapper.animate({width:w,height:E},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:x(X,!0)?void 0:0}),this.alignElements()}g(w){let E=this.createElement("g");return w?E.attr({class:"highcharts-"+w}):E}image(w,E,X,m,F,R){let _={preserveAspectRatio:"none"};f(E)&&(_.x=E),f(X)&&(_.y=X),f(m)&&(_.width=m),f(F)&&(_.height=F);let G=this.createElement("image").attr(_),K=function(oe){G.attr({href:w}),R.call(G,oe)};if(R){G.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let oe=new B.Image;S(oe,"load",K),oe.src=w,oe.complete&&K({})}else G.attr({href:w});return G}symbol(w,E,X,m,F,R){let _,G,K,oe,ae=this,ue=/^url\((.*?)\)$/,be=ue.test(w),Se=!be&&(this.symbols[w]?w:"circle"),ie=Se&&this.symbols[Se];if(ie)"number"==typeof E&&(G=ie.call(this.symbols,E||0,X||0,m||0,F||0,R)),_=this.path(G),ae.styledMode||_.attr("fill","none"),d(_,{symbolName:Se||void 0,x:E,y:X,width:m,height:F}),R&&d(_,R);else if(be){K=w.match(ue)[1];let q=_=this.image(K);q.imgwidth=x(R&&R.width,H[K]&&H[K].width),q.imgheight=x(R&&R.height,H[K]&&H[K].height),oe=re=>re.attr({width:re.width,height:re.height}),["width","height"].forEach(re=>{q[`${re}Setter`]=function(le,pe){this[pe]=le;let{alignByTranslate:ge,element:we,width:ye,height:Me,imgwidth:Pe,imgheight:Re}=this,Fe="width"===pe?Pe:Re,De=1;R&&"within"===R.backgroundSize&&ye&&Me&&Pe&&Re?(De=Math.min(ye/Pe,Me/Re),p(we,{width:Math.round(Pe*De),height:Math.round(Re*De)})):we&&Fe&&we.setAttribute(pe,Fe),!ge&&Pe&&Re&&this.translate(((ye||0)-Pe*De)/2,((Me||0)-Re*De)/2)}}),o(E)&&q.attr({x:E,y:X}),q.isImg=!0,q.symbolUrl=w,o(q.imgwidth)&&o(q.imgheight)?oe(q):(q.attr({width:0,height:0}),b("img",{onload:function(){let re=N[ae.chartIndex];0===this.width&&(n(this,{position:"absolute",top:"-999em"}),C.body.appendChild(this)),H[K]={width:this.width,height:this.height},q.imgwidth=this.width,q.imgheight=this.height,q.element&&oe(q),this.parentNode&&this.parentNode.removeChild(this),ae.imgCount--,ae.imgCount||!re||re.hasLoaded||re.onload()},src:K}),this.imgCount++)}return _}clipRect(w,E,X,m){return this.rect(w,E,X,m,0)}text(w,E,X,m){let F={};if(m&&(this.allowHTML||!this.forExport))return this.html(w,E,X);F.x=Math.round(E||0),X&&(F.y=Math.round(X)),o(w)&&(F.text=w);let R=this.createElement("text").attr(F);return m&&(!this.forExport||this.allowHTML)||(R.xSetter=function(_,G,K){let oe=K.getElementsByTagName("tspan"),ae=K.getAttribute(G);for(let be,ue=0;ue<oe.length;ue++)(be=oe[ue]).getAttribute(G)===ae&&be.setAttribute(G,_);K.setAttribute(G,_)}),R}fontMetrics(w){let E=O(de.prototype.getStyle.call(w,"font-size")||0),X=E<24?E+3:Math.round(1.2*E);return{h:X,b:Math.round(.8*X),f:E}}rotCorr(w,E,X){let m=w;return E&&X&&(m=Math.max(m*Math.cos(E*I),4)),{x:-w/3*Math.sin(E*I),y:m}}pathToSegments(w){let E=[],X=[],m={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let F=0;F<w.length;F++)M(X[0])&&f(w[F])&&X.length===m[X[0].toUpperCase()]&&w.splice(F,0,X[0].replace("M","L").replace("m","l")),"string"==typeof w[F]&&(X.length&&E.push(X.slice(0)),X.length=0),X.push(w[F]);return E.push(X.slice(0)),E}label(w,E,X,m,F,R,_,G,K){return new he(this,w,E,X,m,F,R,_,G,K)}alignElements(){this.alignedObjects.forEach(w=>w.align())}}return d(J.prototype,{Element:de,SVG_NS:T,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Q,draw:v}),me.registerRendererType("svg",J,!0),J}),Ne(Y,"Core/Renderer/HTML/HTMLElement.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Globals.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{composed:me}=ce,{attr:de,css:he,createElement:Q,defined:te,extend:ee,pInt:L,pushUnique:W}=ve;function N(D,P,v){let T=this.div?.style||v.style;xe.prototype[`${P}Setter`].call(this,D,P,v),T&&(T[P]=D)}let I=(D,P)=>{if(!D.div){let v=de(D.element,"class"),T=D.css,H=Q("div",v?{className:v}:void 0,{position:"absolute",left:`${D.translateX||0}px`,top:`${D.translateY||0}px`,...D.styles,display:D.display,opacity:D.opacity,visibility:D.visibility},D.parentGroup?.div||P);D.classSetter=(B,S,p)=>{p.setAttribute("class",B),H.className=B},D.translateXSetter=D.translateYSetter=(B,S)=>{D[S]=B,H.style["translateX"===S?"left":"top"]=`${B}px`,D.doTransform=!0},D.opacitySetter=D.visibilitySetter=N,D.css=B=>(T.call(D,B),B.cursor&&(H.style.cursor=B.cursor),B.pointerEvents&&(H.style.pointerEvents=B.pointerEvents),D),D.on=function(){return xe.prototype.on.apply({element:H,onEvents:D.onEvents},arguments),D},D.div=H}return D.div};class C extends xe{static compose(P){W(me,this.compose)&&(P.prototype.html=function(v,T,H){return new C(this,"span").attr({text:v,x:Math.round(T),y:Math.round(H)})})}constructor(P,v){super(P,v),this.css({position:"absolute",...P.styledMode?{}:{fontFamily:P.style.fontFamily,fontSize:P.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(P,v,T){this.xCorr=-P*T,this.yCorr=-v}css(P){let v,{element:T}=this,H="SPAN"===T.tagName&&P&&"width"in P,B=H&&P.width;return H&&(delete P.width,this.textWidth=L(B)||void 0,v=!0),"ellipsis"===P?.textOverflow&&(P.whiteSpace="nowrap",P.overflow="hidden"),ee(this.styles,P),he(T,P),v&&this.updateTransform(),this}htmlGetBBox(){let{element:P}=this;return{x:P.offsetLeft,y:P.offsetTop,width:P.offsetWidth,height:P.offsetHeight}}updateTransform(){if(!this.added)return void(this.alignOnAdd=!0);let{element:P,renderer:v,rotation:T,rotationOriginX:H,rotationOriginY:B,styles:S,textAlign:p="left",textWidth:b,translateX:l=0,translateY:n=0,x:o=0,y:h=0}=this,d={left:0,center:.5,right:1}[p],c=S.whiteSpace;if(he(P,{marginLeft:`${l}px`,marginTop:`${n}px`}),"SPAN"===P.tagName){let M,f=[T,p,P.innerHTML,b,this.textAlign].join(","),u=-1*this.parentGroup?.padding||0,U=!1;if(b!==this.oldTextWidth){let J=this.textPxLength?this.textPxLength:(he(P,{width:"",whiteSpace:c||"nowrap"}),P.offsetWidth),y=b||0;(y>this.oldTextWidth||J>y)&&(/[ \-]/.test(P.textContent||P.innerText)||"ellipsis"===P.style.textOverflow)&&(he(P,{width:J>y||T?b+"px":"auto",display:"block",whiteSpace:c||"normal"}),this.oldTextWidth=b,U=!0)}this.hasBoxWidthChanged=U,f!==this.cTT&&(M=v.fontMetrics(P).b,te(T)&&(T!==(this.oldRotation||0)||p!==this.oldAlign)&&this.setSpanRotation(T,u,u),this.getSpanCorrection(!te(T)&&this.textPxLength||P.offsetWidth,M,d));let{xCorr:x=0,yCorr:O=0}=this;he(P,{left:`${o+x}px`,top:`${h+O}px`,transformOrigin:`${(H??o)-x-o-u}px ${(B??h)-O-h-u}px`}),this.cTT=f,this.oldRotation=T,this.oldAlign=p}}setSpanRotation(P,v,T){he(this.element,{transform:`rotate(${P}deg)`,transformOrigin:`${v}% ${T}px`})}add(P){let v,T=this.renderer.box.parentNode,H=[];if(this.parentGroup=P,P&&!(v=P.div)){let B=P;for(;B;)H.push(B),B=B.parentGroup;for(let S of H.reverse())v=I(S,T)}return(v||T).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(P){P!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Z.setElementHTML(this.element,P??""),this.textStr=P,this.doTransform=!0)}alignSetter(P){this.alignValue=this.textAlign=P,this.doTransform=!0}xSetter(P,v){this[v]=P,this.doTransform=!0}}let A=C.prototype;return A.visibilitySetter=A.opacitySetter=N,A.ySetter=A.rotationSetter=A.rotationOriginXSetter=A.rotationOriginYSetter=A.xSetter,C}),Ne(Y,"Core/Axis/AxisDefaults.js",[],function(){var Z,ce;return(ce=Z||(Z={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},ce.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:xe}=this.axis.chart;return xe(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},Z}),Ne(Y,"Core/Foundation.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,isFunction:ve,objectEach:me,removeEvent:de}=Z;return(ce||(ce={})).registerEventOptions=function(he,Q){he.eventOptions=he.eventOptions||{},me(Q.events,function(te,ee){he.eventOptions[ee]!==te&&(he.eventOptions[ee]&&(de(he,ee,he.eventOptions[ee]),delete he.eventOptions[ee]),ve(te)&&(he.eventOptions[ee]=te,xe(he,ee,te,{order:0})))})},ce}),Ne(Y,"Core/Axis/Tick.js",[Y["Core/Templating.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{deg2rad:ve}=ce,{clamp:me,correctFloat:de,defined:he,destroyObjectProperties:Q,extend:te,fireEvent:ee,isNumber:L,merge:W,objectEach:N,pick:I}=xe;return class{constructor(C,A,D,P,v){this.isNew=!0,this.isNewLabel=!0,this.axis=C,this.pos=A,this.type=D||"",this.parameters=v||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,ee(this,"init"),D||P||this.addLabel()}addLabel(){let d,c,f,C=this,A=C.axis,D=A.options,P=A.chart,v=A.categories,T=A.logarithmic,H=A.names,B=C.pos,S=I(C.options&&C.options.labels,D.labels),p=A.tickPositions,b=B===p[0],l=B===p[p.length-1],n=(!S.step||1===S.step)&&1===A.tickInterval,o=p.info,h=C.label,u=this.parameters.category||(v?I(v[B],H[B],B):B);T&&L(u)&&(u=de(T.lin2log(u))),A.dateTime&&(o?d=(c=P.time.resolveDTLFormat(D.dateTimeLabelFormats[!D.grid&&o.higherRanks[B]||o.unitName])).main:L(u)&&(d=A.dateTime.getXDateFormat(u,D.dateTimeLabelFormats||{}))),C.isFirst=b,C.isLast=l;let M={axis:A,chart:P,dateTimeLabelFormat:d,isFirst:b,isLast:l,pos:B,tick:C,tickPositionInfo:o,value:u};ee(this,"labelFormat",M);let U=z=>S.formatter?S.formatter.call(z,z):S.format?(z.text=A.defaultLabelFormatter.call(z),Z.format(S.format,z,P)):A.defaultLabelFormatter.call(z),x=U.call(M,M),O=c&&c.list;C.shortenLabel=O?function(){for(f=0;f<O.length;f++)if(te(M,{dateTimeLabelFormat:O[f]}),h.attr({text:U.call(M,M)}),h.getBBox().width<A.getSlotWidth(C)-2*(S.padding||0))return;h.attr({text:""})}:void 0,n&&A._addedPlotLB&&C.moveLabel(x,S),he(h)||C.movedLabel?h&&h.textStr!==x&&!n&&(!h.textWidth||S.style.width||h.styles.width||h.css({width:null}),h.attr({text:x}),h.textPxLength=h.getBBox().width):(C.label=h=C.createLabel(x,S),C.rotation=0)}createLabel(C,A,D){let P=this.axis,v=P.chart,T=he(C)&&A.enabled?v.renderer.text(C,D?.x,D?.y,A.useHTML).add(P.labelGroup):void 0;return T&&(v.styledMode||T.css(W(A.style)),T.textPxLength=T.getBBox().width),T}destroy(){Q(this,this.axis)}getPosition(C,A,D,P){let v=this.axis,T=v.chart,H=P&&T.oldChartHeight||T.chartHeight,B={x:C?de(v.translate(A+D,void 0,void 0,P)+v.transB):v.left+v.offset+(v.opposite?(P&&T.oldChartWidth||T.chartWidth)-v.right-v.left:0),y:C?H-v.bottom+v.offset-(v.opposite?v.height:0):de(H-v.translate(A+D,void 0,void 0,P)-v.transB)};return B.y=me(B.y,-1e9,1e9),ee(this,"afterGetPosition",{pos:B}),B}getLabelPosition(C,A,D,P,v,T,H,B){let S,p,b=this.axis,l=b.transA,n=b.isLinked&&b.linkedParent?b.linkedParent.reversed:b.reversed,o=b.staggerLines,h=b.tickRotCorr||{x:0,y:0},d=P||b.reserveSpaceDefault?0:-b.labelOffset*("center"===b.labelAlign?.5:1),c=v.distance,f={};return S=0===b.side?D.rotation?-c:-D.getBBox().height:2===b.side?h.y+c:Math.cos(D.rotation*ve)*(h.y-D.getBBox(!1,0).height/2),he(v.y)&&(S=0===b.side&&b.horiz?v.y+S:v.y),C=C+I(v.x,[0,1,0,-1][b.side]*c)+d+h.x-(T&&P?T*l*(n?-1:1):0),A=A+S-(T&&!P?T*l*(n?1:-1):0),o&&(p=H/(B||1)%o,b.opposite&&(p=o-p-1),A+=p*(b.labelOffset/o)),f.x=C,f.y=Math.round(A),ee(this,"afterGetLabelPosition",{pos:f,tickmarkOffset:T,index:H}),f}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(C,A,D,P,v=!1,T){return T.crispLine([["M",C,A],["L",C+(v?0:-D),A+(v?D:0)]],P)}handleOverflow(C){let c,f,u,A=this.axis,D=A.options.labels,P=C.x,v=A.chart.chartWidth,T=A.chart.spacing,H=I(A.labelLeft,Math.min(A.pos,T[3])),B=I(A.labelRight,Math.max(A.isRadial?0:A.pos+A.len,v-T[1])),S=this.label,p=this.rotation,b={left:0,center:.5,right:1}[A.labelAlign||S.attr("align")],l=S.getBBox().width,n=A.getSlotWidth(this),o={},h=n,d=1;p||"justify"!==D.overflow?p<0&&P-b*l<H?u=Math.round(P/Math.cos(p*ve)-H):p>0&&P+b*l>B&&(u=Math.round((v-P)/Math.cos(p*ve))):(c=P-b*l,f=P+(1-b)*l,c<H?h=C.x+h*(1-b)-H:f>B&&(h=B-C.x+h*b,d=-1),(h=Math.min(n,h))<n&&"center"===A.labelAlign&&(C.x+=d*(n-h-b*(n-Math.min(l,h)))),(l>h||A.autoRotation&&(S.styles||{}).width)&&(u=h)),u&&(this.shortenLabel?this.shortenLabel():(o.width=Math.floor(u)+"px",(D.style||{}).textOverflow||(o.textOverflow="ellipsis"),S.css(o)))}moveLabel(C,A){let H,D=this,P=D.label,v=D.axis,T=!1;P&&P.textStr===C?(D.movedLabel=P,T=!0,delete D.label):N(v.ticks,function(B){T||B.isNew||B===D||!B.label||B.label.textStr!==C||(D.movedLabel=B.label,T=!0,B.labelPos=D.movedLabel.xy,delete B.label)}),!T&&(D.labelPos||P)&&(H=D.labelPos||P.xy,D.movedLabel=D.createLabel(C,A,H),D.movedLabel&&D.movedLabel.attr({opacity:0}))}render(C,A,D){let P=this.axis,v=P.horiz,T=this.pos,H=I(this.tickmarkOffset,P.tickmarkOffset),B=this.getPosition(v,T,H,A),b=P.pos,l=b+P.len,n=v?B.x:B.y;!P.chart.polar&&this.isNew&&(de(n)<b||n>l)&&(D=0);let o=I(D,this.label&&this.label.newOpacity,1);D=I(D,1),this.isActive=!0,this.renderGridLine(A,D),this.renderMark(B,D),this.renderLabel(B,A,o,C),this.isNew=!1,ee(this,"afterRender")}renderGridLine(C,A){let b,D=this.axis,P=D.options,v={},T=this.pos,H=this.type,B=I(this.tickmarkOffset,D.tickmarkOffset),S=D.chart.renderer,p=this.gridLine,l=P.gridLineWidth,n=P.gridLineColor,o=P.gridLineDashStyle;"minor"===this.type&&(l=P.minorGridLineWidth,n=P.minorGridLineColor,o=P.minorGridLineDashStyle),p||(D.chart.styledMode||(v.stroke=n,v["stroke-width"]=l||0,v.dashstyle=o),H||(v.zIndex=1),C&&(A=0),this.gridLine=p=S.path().attr(v).addClass("highcharts-"+(H?H+"-":"")+"grid-line").add(D.gridGroup)),p&&(b=D.getPlotLinePath({value:T+B,lineWidth:p.strokeWidth(),force:"pass",old:C,acrossPanes:!1}))&&p[C||this.isNew?"attr":"animate"]({d:b,opacity:A})}renderMark(C,A){let D=this.axis,P=D.options,v=D.chart.renderer,T=this.type,H=D.tickSize(T?T+"Tick":"tick"),B=C.x,S=C.y,p=I(P["minor"!==T?"tickWidth":"minorTickWidth"],!T&&D.isXAxis?1:0),b=P["minor"!==T?"tickColor":"minorTickColor"],l=this.mark,n=!l;H&&(D.opposite&&(H[0]=-H[0]),l||(this.mark=l=v.path().addClass("highcharts-"+(T?T+"-":"")+"tick").add(D.axisGroup),D.chart.styledMode||l.attr({stroke:b,"stroke-width":p})),l[n?"attr":"animate"]({d:this.getMarkPath(B,S,H[0],l.strokeWidth(),D.horiz,v),opacity:A}))}renderLabel(C,A,D,P){let v=this.axis,T=v.horiz,H=v.options,B=this.label,S=H.labels,p=S.step,b=I(this.tickmarkOffset,v.tickmarkOffset),l=C.x,n=C.y,o=!0;B&&L(l)&&(B.xy=C=this.getLabelPosition(l,n,B,T,S,b,P,p),this.isFirst&&!this.isLast&&!H.showFirstLabel||this.isLast&&!this.isFirst&&!H.showLastLabel?o=!1:!T||S.step||S.rotation||A||0===D||this.handleOverflow(C),p&&P%p&&(o=!1),o&&L(C.y)?(C.opacity=D,B[this.isNewLabel?"attr":"animate"](C).show(!0),this.isNewLabel=!1):(B.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let C=this.label,A=this.axis;C&&!this.isNew&&(C.animate({opacity:0},void 0,C.destroy),delete this.label),A.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),Ne(Y,"Core/Axis/Axis.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/AxisDefaults.js"],Y["Core/Color/Color.js"],Y["Core/Defaults.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Axis/Tick.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){let{animObject:te}=Z,{xAxis:ee,yAxis:L}=ce,{defaultOptions:W}=ve,{registerEventOptions:N}=me,{deg2rad:I}=de,{arrayMax:C,arrayMin:A,clamp:D,correctFloat:P,defined:v,destroyObjectProperties:T,erase:H,error:B,extend:S,fireEvent:p,getClosestDistance:b,insertItem:l,isArray:n,isNumber:o,isString:h,merge:d,normalizeTickInterval:c,objectEach:f,pick:u,relativeLength:M,removeEvent:U,splat:x,syncTimeout:O}=Q,z=(J,y)=>c(y,void 0,void 0,u(J.options.allowDecimals,y<.5||void 0!==J.tickAmount),!!J.tickAmount);S(W,{xAxis:ee,yAxis:d(ee,L)});class j{constructor(y,w,E){this.init(y,w,E)}init(y,w,E=this.coll){let X="xAxis"===E,m=this.isZAxis||(y.inverted?!X:X);this.chart=y,this.horiz=m,this.isXAxis=X,this.coll=E,p(this,"init",{userOptions:w}),this.opposite=u(w.opposite,this.opposite),this.side=u(w.side,this.side,m?this.opposite?0:2:this.opposite?1:3),this.setOptions(w);let F=this.options,R=F.labels;this.type??(this.type=F.type||"linear"),this.uniqueNames??(this.uniqueNames=F.uniqueNames??!0),p(this,"afterSetType"),this.userOptions=w,this.minPixelPadding=0,this.reversed=u(F.reversed,this.reversed),this.visible=F.visible,this.zoomEnabled=F.zoomEnabled,this.hasNames="category"===this.type||!0===F.categories,this.categories=n(F.categories)&&F.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=v(F.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=F.minRange||F.maxZoom,this.range=F.range,this.offset=F.offset||0,this.max=void 0,this.min=void 0;let _=u(F.crosshair,x(y.options.tooltip.crosshairs)[X?0:1]);this.crosshair=!0===_?{}:_,-1===y.axes.indexOf(this)&&(X?y.axes.splice(y.xAxis.length,0,this):y.axes.push(this),l(this,y[this.coll])),y.orderItems(this.coll),this.series=this.series||[],y.inverted&&!this.isZAxis&&X&&!v(this.reversed)&&(this.reversed=!0),this.labelRotation=o(R.rotation)?R.rotation:void 0,N(this,F),p(this,"afterInit")}setOptions(y){this.options=d(this.horiz?{labels:{autoRotation:[-45],padding:4},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}},W[this.coll],y),p(this,"afterSetOptions",{userOptions:y})}defaultLabelFormatter(){let ae,ue,y=this.axis,{numberFormatter:w}=this.chart,E=o(this.value)?this.value:NaN,X=y.chart.time,m=y.categories,F=this.dateTimeLabelFormat,R=W.lang,_=R.numericSymbols,G=R.numericSymbolMagnitude||1e3,K=y.logarithmic?Math.abs(E):y.tickInterval,oe=_&&_.length;if(m)ue=`${this.value}`;else if(F)ue=X.dateFormat(F,E);else if(oe&&_&&K>=1e3)for(;oe--&&void 0===ue;)K>=(ae=Math.pow(G,oe+1))&&10*E%ae==0&&null!==_[oe]&&0!==E&&(ue=w(E/ae,-1)+_[oe]);return void 0===ue&&(ue=Math.abs(E)>=1e4?w(E,-1):w(E,-1,void 0,"")),ue}getSeriesExtremes(){let y,w=this;p(this,"getSeriesExtremes",null,function(){w.hasVisibleSeries=!1,w.dataMin=w.dataMax=w.threshold=void 0,w.softThreshold=!w.isXAxis,w.series.forEach(E=>{if(E.reserveSpace()){let m,R,_,X=E.options,F=X.threshold;if(w.hasVisibleSeries=!0,w.positiveValuesOnly&&0>=(F||0)&&(F=void 0),w.isXAxis)(m=E.xData)&&m.length&&(m=w.logarithmic?m.filter(G=>G>0):m,R=(y=E.getXExtremes(m)).min,_=y.max,o(R)||R instanceof Date||(m=m.filter(o),R=(y=E.getXExtremes(m)).min,_=y.max),m.length&&(w.dataMin=Math.min(u(w.dataMin,R),R),w.dataMax=Math.max(u(w.dataMax,_),_)));else{let G=E.applyExtremes();o(G.dataMin)&&(R=G.dataMin,w.dataMin=Math.min(u(w.dataMin,R),R)),o(G.dataMax)&&(_=G.dataMax,w.dataMax=Math.max(u(w.dataMax,_),_)),v(F)&&(w.threshold=F),(!X.softThreshold||w.positiveValuesOnly)&&(w.softThreshold=!1)}}})}),p(this,"afterGetSeriesExtremes")}translate(y,w,E,X,m,F){let R=this.linkedParent||this,_=X&&R.old?R.old.min:R.min;if(!o(_))return NaN;let G=R.minPixelPadding,K=(R.isOrdinal||R.brokenAxis?.hasBreaks||R.logarithmic&&m)&&R.lin2val,oe=1,ae=0,ue=X&&R.old?R.old.transA:R.transA,be=0;return ue||(ue=R.transA),E&&(oe*=-1,ae=R.len),R.reversed&&(oe*=-1,ae-=oe*(R.sector||R.len)),w?(be=(y=y*oe+ae-G)/ue+_,K&&(be=R.lin2val(be))):(K&&(y=R.val2lin(y)),be=oe*(y-_)*ue+ae+oe*G+(o(F)?ue*F:0),R.isRadial||(be=P(be))),be}toPixels(y,w){return this.translate(y,!1,!this.horiz,void 0,!0)+(w?0:this.pos)}toValue(y,w){return this.translate(y-(w?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(y){let be,Se,ie,q,re,w=this,E=w.chart,X=w.left,m=w.top,F=y.old,R=y.value,_=y.lineWidth,G=F&&E.oldChartHeight||E.chartHeight,K=F&&E.oldChartWidth||E.chartWidth,oe=w.transB,ae=y.translatedValue,ue=y.force;function le(ge,we,ye){return"pass"!==ue&&(ge<we||ge>ye)&&(ue?ge=D(ge,we,ye):re=!0),ge}let pe={value:R,lineWidth:_,old:F,force:ue,acrossPanes:y.acrossPanes,translatedValue:ae};return p(this,"getPlotLinePath",pe,function(ge){be=ie=(ae=D(ae=u(ae,w.translate(R,void 0,void 0,F)),-1e9,1e9))+oe,Se=q=G-ae-oe,o(ae)?w.horiz?(Se=m,q=G-w.bottom+(w.options.isInternal?0:E.scrollablePixelsY||0),be=ie=le(be,X,X+w.width)):(be=X,ie=K-w.right+(E.scrollablePixelsX||0),Se=q=le(Se,m,m+w.height)):(re=!0,ue=!1),ge.path=re&&!ue?void 0:E.renderer.crispLine([["M",be,Se],["L",ie,q]],_||1)}),pe.path}getLinearTickPositions(y,w,E){let X,m,F,R=P(Math.floor(w/y)*y),_=P(Math.ceil(E/y)*y),G=[];if(P(R+y)===R&&(F=20),this.single)return[w];for(X=R;X<=_&&(G.push(X),(X=P(X+y,F))!==m);)m=X;return G}getMinorTickInterval(){let{minorTicks:y,minorTickInterval:w}=this.options;return!0===y?u(w,"auto"):!1!==y?w:void 0}getMinorTickPositions(){let G,y=this.options,w=this.tickPositions,E=this.minorTickInterval,X=this.pointRangePadding||0,m=(this.min||0)-X,F=(this.max||0)+X,R=F-m,_=[];if(R&&R/E<this.len/3){let K=this.logarithmic;if(K)this.paddedTicks.forEach(function(oe,ae,ue){ae&&_.push.apply(_,K.getLogTickPositions(E,ue[ae-1],ue[ae],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())_=_.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(E),m,F,y.startOfWeek));else for(G=m+(w[0]-m)%E;G<=F&&G!==_[0];G+=E)_.push(G)}return 0!==_.length&&this.trimTicks(_),_}adjustForMinRange(){let F,R,_,G,y=this.options,w=this.logarithmic,{max:E,min:X,minRange:m}=this;this.isXAxis&&void 0===m&&!w&&(m=v(y.min)||v(y.max)||v(y.floor)||v(y.ceiling)?null:Math.min(5*(b(this.series.map(K=>(K.xIncrement?K.xData?.slice(0,2):K.xData)||[]))||0),this.dataMax-this.dataMin)),o(E)&&o(X)&&o(m)&&E-X<m&&(R=this.dataMax-this.dataMin>=m,F=(m-E+X)/2,_=[X-F,u(y.min,X-F)],R&&(_[2]=w?w.log2lin(this.dataMin):this.dataMin),G=[(X=C(_))+m,u(y.max,X+m)],R&&(G[2]=w?w.log2lin(this.dataMax):this.dataMax),(E=A(G))-X<m&&(_[0]=E-m,_[1]=u(y.min,E-m),X=C(_))),this.minRange=m,this.min=X,this.max=E}getClosest(){let y,w;if(this.categories)w=1;else{let E=[];this.series.forEach(function(X){let m=X.closestPointRange;1===X.xData?.length?E.push(X.xData[0]):!X.noSharedTooltip&&v(m)&&X.reserveSpace()&&(w=v(w)?Math.min(w,m):m)}),E.length&&(E.sort((X,m)=>X-m),y=b([E]))}return y&&w?Math.min(y,w):y||w}nameToX(y){let m,w=n(this.options.categories),E=w?this.categories:this.names,X=y.options.x;return y.series.requireSorting=!1,v(X)||(X=this.uniqueNames&&E?w?E.indexOf(y.name):u(E.keys[y.name],-1):y.series.autoIncrement()),-1===X?!w&&E&&(m=E.length):m=X,void 0!==m?(this.names[m]=y.name,this.names.keys[y.name]=m):y.x&&(m=y.x),m}updateNames(){let y=this,w=this.names;w.length>0&&(Object.keys(w.keys).forEach(function(E){delete w.keys[E]}),w.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(E=>{E.xIncrement=null,(!E.points||E.isDirtyData)&&(y.max=Math.max(y.max,E.xData.length-1),E.processData(),E.generatePoints()),E.data.forEach(function(X,m){let F;X?.options&&void 0!==X.name&&void 0!==(F=y.nameToX(X))&&F!==X.x&&(X.x=F,E.xData[m]=F)})}))}setAxisTranslation(){let R,K,y=this,w=y.max-y.min,E=y.linkedParent,X=!!y.categories,m=y.isXAxis,F=y.axisPointRange||0,_=0,G=0,oe=y.transA;(m||X||F)&&(R=y.getClosest(),E?(_=E.minPointOffset,G=E.pointRangePadding):y.series.forEach(function(ae){let ue=X?1:m?u(ae.options.pointRange,R,0):y.axisPointRange||0,be=ae.options.pointPlacement;if(F=Math.max(F,ue),!y.single||X){let Se=ae.is("xrange")?!m:m;_=Math.max(_,Se&&h(be)?0:ue/2),G=Math.max(G,Se&&"on"===be?0:ue)}}),K=y.ordinal&&y.ordinal.slope&&R?y.ordinal.slope/R:1,y.minPointOffset=_*=K,y.pointRangePadding=G*=K,y.pointRange=Math.min(F,y.single&&X?1:w),m&&R&&(y.closestPointRange=R)),y.translationSlope=y.transA=oe=y.staticScale||y.len/(w+G||1),y.transB=y.horiz?y.left:y.bottom,y.minPixelPadding=oe*_,p(this,"afterSetAxisTranslation")}minFromRange(){let{max:y,min:w}=this;return o(y)&&o(w)&&y-w||void 0}setTickInterval(y){let ye,Pe,Re,Fe,De,{categories:w,chart:E,dataMax:X,dataMin:m,dateTime:F,isXAxis:R,logarithmic:_,options:G,softThreshold:K}=this,oe=o(this.threshold)?this.threshold:void 0,ae=this.minRange||0,{ceiling:ue,floor:be,linkedTo:Se,softMax:ie,softMin:q}=G,re=o(Se)&&E[this.coll]?.[Se],le=G.tickPixelInterval,pe=G.maxPadding,ge=G.minPadding,we=0,Me=o(G.tickInterval)&&G.tickInterval>=0?G.tickInterval:void 0;if(F||w||re||this.getTickAmount(),Fe=u(this.userMin,G.min),De=u(this.userMax,G.max),re?(this.linkedParent=re,ye=re.getExtremes(),this.min=u(ye.min,ye.dataMin),this.max=u(ye.max,ye.dataMax),this.type!==re.type&&B(11,!0,E)):(K&&v(oe)&&o(X)&&o(m)&&(m>=oe?(Pe=oe,ge=0):X<=oe&&(Re=oe,pe=0)),this.min=u(Fe,Pe,m),this.max=u(De,Re,X)),o(this.max)&&o(this.min)&&(_&&(this.positiveValuesOnly&&!y&&0>=Math.min(this.min,u(m,this.min))&&B(10,!0,E),this.min=P(_.log2lin(this.min),16),this.max=P(_.log2lin(this.max),16)),this.range&&o(m)&&(this.userMin=this.min=Fe=Math.max(m,this.minFromRange()||0),this.userMax=De=this.max,this.range=void 0)),p(this,"foundExtremes"),this.adjustForMinRange(),o(this.min)&&o(this.max)){if(!o(this.userMin)&&o(q)&&q<this.min&&(this.min=Fe=q),!o(this.userMax)&&o(ie)&&ie>this.max&&(this.max=De=ie),w||this.axisPointRange||this.stacking?.usePercentage||re||!(we=this.max-this.min)||(!v(Fe)&&ge&&(this.min-=we*ge),v(De)||!pe||(this.max+=we*pe)),!o(this.userMin)&&o(be)&&(this.min=Math.max(this.min,be)),!o(this.userMax)&&o(ue)&&(this.max=Math.min(this.max,ue)),K&&o(m)&&o(X)){let ze=oe||0;!v(Fe)&&this.min<ze&&m>=ze?this.min=G.minRange?Math.min(ze,this.max-ae):ze:!v(De)&&this.max>ze&&X<=ze&&(this.max=G.minRange?Math.max(ze,this.min+ae):ze)}!E.polar&&this.min>this.max&&(v(G.min)?this.max=this.min:v(G.max)&&(this.min=this.max)),we=this.max-this.min}if(this.tickInterval=this.min!==this.max&&o(this.min)&&o(this.max)?re&&!Me&&le===re.options.tickPixelInterval?Me=re.tickInterval:u(Me,this.tickAmount?we/Math.max(this.tickAmount-1,1):void 0,w?1:we*le/Math.max(this.len,le)):1,R&&!y){let ze=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Oe){Oe.forceCrop=Oe.forceCropping?.(),Oe.processData(ze)}),p(this,"postProcessData",{hasExtremesChanged:ze})}this.setAxisTranslation(),p(this,"initialAxisTranslation"),this.pointRange&&!Me&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let He=u(G.minTickInterval,F&&!this.series.some(ze=>ze.noSharedTooltip)?this.closestPointRange:0);!Me&&this.tickInterval<He&&(this.tickInterval=He),F||_||Me||(this.tickInterval=z(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let G,y=this.options,w=y.tickPositions,E=y.tickPositioner,X=this.getMinorTickInterval(),m=!this.isPanning,F=m&&y.startOnTick,R=m&&y.endOnTick,_=[];if(this.tickmarkOffset=this.categories&&"between"===y.tickmarkPlacement&&1===this.tickInterval?.5:0,this.single=this.min===this.max&&v(this.min)&&!this.tickAmount&&(this.min%1==0||!1!==y.allowDecimals),w)_=w.slice();else if(o(this.min)&&o(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))_=[this.min,this.max],B(19,!1,this.chart);else if(this.dateTime)_=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,y.units),this.min,this.max,y.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)_=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let K=this.tickInterval,oe=K;for(;oe<=2*K&&(_=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&_.length>this.tickAmount);)this.tickInterval=z(this,oe*=1.1)}_.length>this.len&&(_=[_[0],_[_.length-1]])[0]===_[1]&&(_.length=1),E&&(this.tickPositions=_,(G=E.apply(this,[this.min,this.max]))&&(_=G))}this.tickPositions=_,this.minorTickInterval="auto"===X&&this.tickInterval?this.tickInterval/y.minorTicksPerMajor:X,this.paddedTicks=_.slice(0),this.trimTicks(_,F,R),!this.isLinked&&o(this.min)&&o(this.max)&&(this.single&&_.length<2&&!this.categories&&!this.series.some(K=>K.is("heatmap")&&"between"===K.options.pointPlacement)&&(this.min-=.5,this.max+=.5),w||G||this.adjustTickAmount()),p(this,"afterSetTickPositions")}trimTicks(y,w,E){let X=y[0],m=y[y.length-1],F=!this.isOrdinal&&this.minPointOffset||0;if(p(this,"trimTicks"),!this.isLinked){if(w&&X!==-1/0)this.min=X;else for(;this.min-F>y[0];)y.shift();if(E)this.max=m;else for(;this.max+F<y[y.length-1];)y.pop();0===y.length&&v(X)&&!this.options.tickPositions&&y.push((m+X)/2)}}alignToOthers(){let y,w=this,E=w.chart,X=[this],m=w.options,F=E.options.chart,R="yAxis"===this.coll&&F.alignThresholds,_=[];if(w.thresholdAlignment=void 0,(!1!==F.alignTicks&&m.alignTicks||R)&&!1!==m.startOnTick&&!1!==m.endOnTick&&!w.logarithmic){let G=oe=>{let{horiz:ae,options:ue}=oe;return[ae?ue.left:ue.top,ue.width,ue.height,ue.pane].join(",")},K=G(this);E[this.coll].forEach(function(oe){let{series:ae}=oe;ae.length&&ae.some(ue=>ue.visible)&&oe!==w&&G(oe)===K&&(y=!0,X.push(oe))})}if(y&&R){X.forEach(K=>{let oe=K.getThresholdAlignment(w);o(oe)&&_.push(oe)});let G=_.length>1?_.reduce((K,oe)=>K+oe,0)/_.length:void 0;X.forEach(K=>{K.thresholdAlignment=G})}return y}getThresholdAlignment(y){if((!o(this.dataMin)||this!==y&&this.series.some(w=>w.isDirty||w.isDirtyData))&&this.getSeriesExtremes(),o(this.threshold)){let w=D((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(w=1-w),w}}getTickAmount(){let y=this.options,w=y.tickPixelInterval,E=y.tickAmount;v(y.tickInterval)||E||!(this.len<w)||this.isRadial||this.logarithmic||!y.startOnTick||!y.endOnTick||(E=2),!E&&this.alignToOthers()&&(E=Math.ceil(this.len/w)+1),E<4&&(this.finalTickAmt=E,E=5),this.tickAmount=E}adjustTickAmount(){let oe,ae,be,y=this,{finalTickAmt:w,max:E,min:X,options:m,tickPositions:F,tickAmount:R,thresholdAlignment:_}=y,G=F?.length,K=u(y.threshold,y.softThreshold?0:null),ue=y.tickInterval,Se=()=>F.push(P(F[F.length-1]+ue)),ie=()=>F.unshift(P(F[0]-ue));if(o(_)&&(be=_<.5?Math.ceil(_*(R-1)):Math.floor(_*(R-1)),m.reversed&&(be=R-1-be)),y.hasData()&&o(X)&&o(E)){let q=()=>{y.transA*=(G-1)/(R-1),y.min=m.startOnTick?F[0]:Math.min(X,F[0]),y.max=m.endOnTick?F[F.length-1]:Math.max(E,F[F.length-1])};if(o(be)&&o(y.threshold)){for(;F[be]!==K||F.length!==R||F[0]>X||F[F.length-1]<E;){for(F.length=0,F.push(y.threshold);F.length<R;)void 0===F[be]||F[be]>y.threshold?ie():Se();if(ue>8*y.tickInterval)break;ue*=2}q()}else if(G<R){for(;F.length<R;)F.length%2||X===K?Se():ie();q()}if(v(w)){for(ae=oe=F.length;ae--;)(3===w&&ae%2==1||w<=2&&ae>0&&ae<oe-1)&&F.splice(ae,1);y.finalTickAmt=void 0}}}setScale(){let{coll:y,stacking:w}=this,E=!1,X=!1;this.series.forEach(F=>{E=E||F.isDirtyData||F.isDirty,X=X||F.xAxis&&F.xAxis.isDirty||!1}),this.setAxisSize();let m=this.len!==(this.old&&this.old.len);m||E||X||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(w&&"yAxis"===y&&w.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),w&&"xAxis"===y&&w.buildStacks(),this.isDirty||(this.isDirty=m||this.min!==this.old?.min||this.max!==this.old?.max)):w&&w.cleanStacks(),E&&delete this.allExtremes,p(this,"afterSetScale")}setExtremes(y,w,E=!0,X,m){this.series.forEach(F=>{delete F.kdTree}),p(this,"setExtremes",m=S(m,{min:y,max:w}),F=>{this.userMin=F.min,this.userMax=F.max,this.eventArgs=F,E&&this.chart.redraw(X)})}setAxisSize(){let y=this.chart,w=this.options,E=w.offsets||[0,0,0,0],X=this.horiz,m=this.width=Math.round(M(u(w.width,y.plotWidth-E[3]+E[1]),y.plotWidth)),F=this.height=Math.round(M(u(w.height,y.plotHeight-E[0]+E[2]),y.plotHeight)),R=this.top=Math.round(M(u(w.top,y.plotTop+E[0]),y.plotHeight,y.plotTop)),_=this.left=Math.round(M(u(w.left,y.plotLeft+E[3]),y.plotWidth,y.plotLeft));this.bottom=y.chartHeight-F-R,this.right=y.chartWidth-m-_,this.len=Math.max(X?m:F,0),this.pos=X?_:R}getExtremes(){let y=this.logarithmic;return{min:y?P(y.lin2log(this.min)):this.min,max:y?P(y.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(y){let w=this.logarithmic,E=w?w.lin2log(this.min):this.min,X=w?w.lin2log(this.max):this.max;return null===y||y===-1/0?y=E:y===1/0?y=X:E>y?y=E:X<y&&(y=X),this.translate(y,0,1,0,1)}autoLabelAlign(y){let w=(u(y,0)-90*this.side+720)%360,E={align:"center"};return p(this,"autoLabelAlign",E,function(X){w>15&&w<165?X.align="right":w>195&&w<345&&(X.align="left")}),E.align}tickSize(y){let m,w=this.options,E=u(w["tick"===y?"tickWidth":"minorTickWidth"],"tick"===y&&this.isXAxis&&!this.categories?1:0),X=w["tick"===y?"tickLength":"minorTickLength"];E&&X&&("inside"===w[y+"Position"]&&(X=-X),m=[X,E]);let F={tickSize:m};return p(this,"afterTickSize",F),F.tickSize}labelMetrics(){let y=this.chart.renderer,w=this.ticks,E=w[Object.keys(w)[0]]||{};return this.chart.renderer.fontMetrics(E.label||E.movedLabel||y.box)}unsquish(){let oe,ue,y=this.options.labels,w=y.padding||0,E=this.horiz,X=this.tickInterval,m=this.len/(((this.categories?1:0)+this.max-this.min)/X),F=y.rotation,R=P(.8*this.labelMetrics().h),_=Math.max(this.max-this.min,0),G=function(be){let Se=(be+2*w)/(m||1);return(Se=Se>1?Math.ceil(Se):1)*X>_&&be!==1/0&&m!==1/0&&_&&(Se=Math.ceil(_/X)),P(Se*X)},K=X,ae=Number.MAX_VALUE;if(E){if(!y.staggerLines&&(o(F)?ue=[F]:m<y.autoRotationLimit&&(ue=y.autoRotation)),ue){let be,Se;for(let ie of ue)(ie===F||ie&&ie>=-90&&ie<=90)&&(Se=(be=G(Math.abs(R/Math.sin(I*ie))))+Math.abs(ie/360))<ae&&(ae=Se,oe=ie,K=be)}}else K=G(.75*R);return this.autoRotation=ue,this.labelRotation=u(oe,o(F)?F:0),y.step?X:K}getSlotWidth(y){let w=this.chart,E=this.horiz,X=this.options.labels,m=Math.max(this.tickPositions.length-(this.categories?0:1),1),F=w.margin[3];if(y&&o(y.slotWidth))return y.slotWidth;if(E&&X.step<2)return X.rotation?0:(this.staggerLines||1)*this.len/m;if(!E){let R=X.style.width;if(void 0!==R)return parseInt(String(R),10);if(F)return F-w.spacing[3]}return.33*w.chartWidth}renderUnsquish(){let ue,be,ie,q,y=this.chart,w=y.renderer,E=this.tickPositions,X=this.ticks,m=this.options.labels,F=m.style,R=this.horiz,_=this.getSlotWidth(),G=Math.max(1,Math.round(_-(R?2*(m.padding||0):m.distance||0))),K={},oe=this.labelMetrics(),ae=F.textOverflow,Se=0;if(h(m.rotation)||(K.rotation=m.rotation||0),E.forEach(function(re){let le=X[re];le.movedLabel&&le.replaceMovedLabel(),le&&le.label&&le.label.textPxLength>Se&&(Se=le.label.textPxLength)}),this.maxLabelLength=Se,this.autoRotation)Se>G&&Se>oe.h?K.rotation=this.labelRotation:this.labelRotation=0;else if(_&&(ue=G,!ae))for(be="clip",q=E.length;!R&&q--;)(ie=X[E[q]].label)&&("ellipsis"===ie.styles.textOverflow?ie.css({textOverflow:"clip"}):ie.textPxLength>_&&ie.css({width:_+"px"}),ie.getBBox().height>this.len/E.length-(oe.h-oe.f)&&(ie.specificTextOverflow="ellipsis"));K.rotation&&(ue=Se>.5*y.chartHeight?.33*y.chartHeight:Se,ae||(be="ellipsis")),this.labelAlign=m.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(K.align=this.labelAlign),E.forEach(function(re){let le=X[re],pe=le&&le.label,ge=F.width,we={};pe&&(pe.attr(K),le.shortenLabel?le.shortenLabel():ue&&!ge&&"nowrap"!==F.whiteSpace&&(ue<pe.textPxLength||"SPAN"===pe.element.tagName)?(we.width=ue+"px",ae||(we.textOverflow=pe.specificTextOverflow||be),pe.css(we)):!pe.styles.width||we.width||ge||pe.css({width:null}),delete pe.specificTextOverflow,le.rotation=K.rotation)},this),this.tickRotCorr=w.rotCorr(oe.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some(function(y){return y.hasData()})||this.options.showEmpty&&v(this.min)&&v(this.max)}addTitle(y){let w,m=this.opposite,F=this.options.title,R=this.chart.styledMode;this.axisTitle||((w=F.textAlign)||(w=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:m?"right":"left",middle:"center",high:m?"left":"right"})[F.align]),this.axisTitle=this.chart.renderer.text(F.text||"",0,0,F.useHTML).attr({zIndex:7,rotation:F.rotation||0,align:w}).addClass("highcharts-axis-title"),R||this.axisTitle.css(d(F.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),R||F.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[y?"show":"hide"](y)}generateTick(y){let w=this.ticks;w[y]?w[y].addLabel():w[y]=new he(this,y)}createGroups(){let{axisParent:y,chart:w,coll:E,options:X}=this,m=w.renderer,F=(R,_,G)=>m.g(R).attr({zIndex:G}).addClass(`highcharts-${E.toLowerCase()}${_} `+(this.isRadial?`highcharts-radial-axis${_} `:"")+(X.className||"")).add(y);this.axisGroup||(this.gridGroup=F("grid","-grid",X.gridZIndex),this.axisGroup=F("axis","",X.zIndex),this.labelGroup=F("axis-labels","-labels",X.labels.zIndex))}getOffset(){let q,le,we,ye,y=this,{chart:w,horiz:E,options:X,side:m,ticks:F,tickPositions:R,coll:_}=y,G=w.inverted&&!y.isZAxis?[1,0,3,2][m]:m,K=y.hasData(),oe=X.title,ae=X.labels,ue=o(X.crossing),be=w.axisOffset,Se=w.clipOffset,ie=[-1,1,1,-1][m],re=0,pe=0,ge=0;if(y.showAxis=q=K||X.showEmpty,y.staggerLines=y.horiz&&ae.staggerLines||void 0,y.createGroups(),K||y.isLinked?(R.forEach(function(Me){y.generateTick(Me)}),y.renderUnsquish(),y.reserveSpaceDefault=0===m||2===m||{1:"left",3:"right"}[m]===y.labelAlign,u(ae.reserveSpace,!ue&&null,"center"===y.labelAlign||null,y.reserveSpaceDefault)&&R.forEach(function(Me){ge=Math.max(F[Me].getLabelSize(),ge)}),y.staggerLines&&(ge*=y.staggerLines),y.labelOffset=ge*(y.opposite?-1:1)):f(F,function(Me,Pe){Me.destroy(),delete F[Pe]}),oe?.text&&!1!==oe.enabled&&(y.addTitle(q),q&&!ue&&!1!==oe.reserveSpace&&(y.titleOffset=re=y.axisTitle.getBBox()[E?"height":"width"],pe=v(le=oe.offset)?0:u(oe.margin,E?5:10))),y.renderLine(),y.offset=ie*u(X.offset,be[m]?be[m]+(X.margin||0):0),y.tickRotCorr=y.tickRotCorr||{x:0,y:0},ye=0===m?-y.labelMetrics().h:2===m?y.tickRotCorr.y:0,we=Math.abs(ge)+pe,ge&&(we-=ye,we+=ie*(E?u(ae.y,y.tickRotCorr.y+ie*ae.distance):u(ae.x,ie*ae.distance))),y.axisTitleMargin=u(le,we),y.getMaxLabelDimensions&&(y.maxLabelDimensions=y.getMaxLabelDimensions(F,R)),"colorAxis"!==_&&Se){let Me=this.tickSize("tick");be[m]=Math.max(be[m],(y.axisTitleMargin||0)+re+ie*y.offset,we,R&&R.length&&Me?Me[0]+ie*y.offset:0);let Pe=!y.axisLine||X.offset?0:y.axisLine.strokeWidth()/2;Se[G]=Math.max(Se[G],Pe)}p(this,"afterGetOffset")}getLinePath(y){let w=this.chart,E=this.opposite,X=this.offset,m=this.horiz,F=this.left+(E?this.width:0)+X,R=w.chartHeight-this.bottom-(E?this.height:0)+X;return E&&(y*=-1),w.renderer.crispLine([["M",m?this.left:F,m?R:this.top],["L",m?w.chartWidth-this.right:F,m?R:w.chartHeight-this.bottom]],y)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(y){let w=this.horiz,E=this.left,X=this.top,m=this.len,F=this.options.title,R=w?E:X,_=this.opposite,G=this.offset,K=F.x,oe=F.y,ae=this.chart.renderer.fontMetrics(y),ue=y?Math.max(y.getBBox(!1,0).height-ae.h-1,0):0,be={low:R+(w?0:m),middle:R+m/2,high:R+(w?m:0)}[F.align],Se=(w?X+this.height:E)+(w?1:-1)*(_?-1:1)*(this.axisTitleMargin||0)+[-ue,ue,ae.f,-ue][this.side],ie={x:w?be+K:Se+(_?this.width:0)+G+K,y:w?Se+oe-(_?this.height:0)+G:be+oe};return p(this,"afterGetTitlePosition",{titlePosition:ie}),ie}renderMinorTick(y,w){let E=this.minorTicks;E[y]||(E[y]=new he(this,y,"minor")),w&&E[y].isNew&&E[y].render(null,!0),E[y].render(null,!1,1)}renderTick(y,w,E){let m=this.ticks;(!this.isLinked||y>=this.min&&y<=this.max||this.grid&&this.grid.isColumn)&&(m[y]||(m[y]=new he(this,y)),E&&m[y].isNew&&m[y].render(w,!0,-1),m[y].render(w))}render(){let y,w,E=this,X=E.chart,m=E.logarithmic,R=E.options,_=E.isLinked,G=E.tickPositions,K=E.axisTitle,oe=E.ticks,ae=E.minorTicks,ue=E.alternateBands,be=R.stackLabels,Se=R.alternateGridColor,ie=R.crossing,q=E.tickmarkOffset,re=E.axisLine,le=E.showAxis,pe=te(X.renderer.globalAnimation);if(E.labelEdge.length=0,E.overlap=!1,[oe,ae,ue].forEach(function(ge){f(ge,function(we){we.isActive=!1})}),o(ie)){let ge=this.isXAxis?X.yAxis[0]:X.xAxis[0],we=[1,-1,-1,1][this.side];if(ge){let ye=ge.toPixels(ie,!0);E.horiz&&(ye=ge.len-ye),E.offset=we*ye}}if(E.hasData()||_){let ge=E.chart.hasRendered&&E.old&&o(E.old.min);E.minorTickInterval&&!E.categories&&E.getMinorTickPositions().forEach(function(we){E.renderMinorTick(we,ge)}),G.length&&(G.forEach(function(we,ye){E.renderTick(we,ye,ge)}),q&&(0===E.min||E.single)&&(oe[-1]||(oe[-1]=new he(E,-1,null,!0)),oe[-1].render(-1))),Se&&G.forEach(function(we,ye){w=void 0!==G[ye+1]?G[ye+1]+q:E.max-q,ye%2==0&&we<E.max&&w<=E.max+(X.polar?-q:q)&&(ue[we]||(ue[we]=new de.PlotLineOrBand(E,{})),y=we+q,ue[we].options={from:m?m.lin2log(y):y,to:m?m.lin2log(w):w,color:Se,className:"highcharts-alternate-grid"},ue[we].render(),ue[we].isActive=!0)}),E._addedPlotLB||(E._addedPlotLB=!0,(R.plotLines||[]).concat(R.plotBands||[]).forEach(function(we){E.addPlotBandOrLine(we)}))}[oe,ae,ue].forEach(function(ge){let we=[],ye=pe.duration;f(ge,function(Me,Pe){Me.isActive||(Me.render(Pe,!1,0),Me.isActive=!1,we.push(Pe))}),O(function(){let Me=we.length;for(;Me--;)ge[we[Me]]&&!ge[we[Me]].isActive&&(ge[we[Me]].destroy(),delete ge[we[Me]])},ge!==ue&&X.hasRendered&&ye?ye:0)}),re&&(re[re.isPlaced?"animate":"attr"]({d:this.getLinePath(re.strokeWidth())}),re.isPlaced=!0,re[le?"show":"hide"](le)),K&&le&&(K[K.isNew?"attr":"animate"](E.getTitlePosition(K)),K.isNew=!1),be&&be.enabled&&E.stacking&&E.stacking.renderStackTotals(),E.old={len:E.len,max:E.max,min:E.min,transA:E.transA,userMax:E.userMax,userMin:E.userMin},E.isDirty=!1,p(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(y){y.render()})),this.series.forEach(function(y){y.isDirty=!0})}getKeepProps(){return this.keepProps||j.keepProps}destroy(y){let w=this,E=w.plotLinesAndBands,X=this.eventOptions;if(p(this,"destroy",{keepEvents:y}),y||U(w),[w.ticks,w.minorTicks,w.alternateBands].forEach(function(m){T(m)}),E){let m=E.length;for(;m--;)E[m].destroy()}for(let m in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(F){w[F]&&(w[F]=w[F].destroy())}),w.plotLinesAndBandsGroups)w.plotLinesAndBandsGroups[m]=w.plotLinesAndBandsGroups[m].destroy();f(w,function(m,F){-1===w.getKeepProps().indexOf(F)&&delete w[F]}),this.eventOptions=X}drawCrosshair(y,w){let F,R,_,K,E=this.crosshair,X=u(E&&E.snap,!0),m=this.chart,G=this.cross;if(p(this,"drawCrosshair",{e:y,point:w}),y||(y=this.cross&&this.cross.e),E&&!1!==(v(w)||!X)){if(X?v(w)&&(R=u("colorAxis"!==this.coll?w.crosshairPos:null,this.isXAxis?w.plotX:this.len-w.plotY)):R=y&&(this.horiz?y.chartX-this.pos:this.len-y.chartY+this.pos),v(R)&&(K={value:w&&(this.isXAxis?w.x:u(w.stackY,w.y)),translatedValue:R},m.polar&&S(K,{isCrosshair:!0,chartX:y&&y.chartX,chartY:y&&y.chartY,point:w}),F=this.getPlotLinePath(K)||null),!v(F))return void this.hideCrosshair();_=this.categories&&!this.isRadial,G||(this.cross=G=m.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(_?"category ":"thin ")+(E.className||"")).attr({zIndex:u(E.zIndex,2)}).add(),!m.styledMode&&(G.attr({stroke:E.color||(_?xe.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":u(E.width,1)}).css({"pointer-events":"none"}),E.dashStyle&&G.attr({dashstyle:E.dashStyle}))),G.show().attr({d:F}),_&&!E.width&&G.attr({"stroke-width":this.transA}),this.cross.e=y}else this.hideCrosshair();p(this,"afterDrawCrosshair",{e:y,point:w})}hideCrosshair(){this.cross&&this.cross.hide(),p(this,"afterHideCrosshair")}update(y,w){let E=this.chart;y=d(this.userOptions,y),this.destroy(!0),this.init(E,y),E.isDirtyBox=!0,u(w,!0)&&E.redraw()}remove(y){let w=this.chart,E=this.coll,X=this.series,m=X.length;for(;m--;)X[m]&&X[m].remove(!1);H(w.axes,this),H(w[E]||[],this),w.orderItems(E),this.destroy(),w.isDirtyBox=!0,u(y,!0)&&w.redraw()}setTitle(y,w){this.update({title:y},w)}setCategories(y,w){this.update({categories:y},w)}}return j.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],j}),Ne(Y,"Core/Axis/DateTimeAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,getMagnitude:ve,normalizeTickInterval:me,timeUnits:de}=Z;return function(he){function Q(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function te(){"datetime"===this.type?this.dateTime||(this.dateTime=new ee(this)):this.dateTime=void 0}he.compose=function(L){return L.keepProps.includes("dateTime")||(L.keepProps.push("dateTime"),L.prototype.getTimeTicks=Q,xe(L,"afterSetType",te)),L};class ee{constructor(W){this.axis=W}normalizeTimeTickInterval(W,N){let P,I=N||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],C=I[I.length-1],A=de[C[0]],D=C[1];for(P=0;P<I.length&&(A=de[(C=I[P])[0]],D=C[1],!(I[P+1]&&W<=(A*D[D.length-1]+de[I[P+1][0]])/2));P++);return A===de.year&&W<5*A&&(D=[1,2,5]),{unitRange:A,count:me(W/A,D,"year"===C[0]?Math.max(ve(W/A),1):1),unitName:C[0]}}getXDateFormat(W,N){let{axis:I}=this,C=I.chart.time;return I.closestPointRange?C.getDateFormat(I.closestPointRange,W,I.options.startOfWeek,N)||C.resolveDTLFormat(N.year).main:C.resolveDTLFormat(N.day).main}}he.Additions=ee}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/LogarithmicAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{addEvent:xe,normalizeTickInterval:ve,pick:me}=Z;return function(de){function he(){"logarithmic"!==this.type?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new te(this))}function Q(){let ee=this.logarithmic;ee&&(this.lin2val=function(L){return ee.lin2log(L)},this.val2lin=function(L){return ee.log2lin(L)})}de.compose=function(ee){return ee.keepProps.includes("logarithmic")||(ee.keepProps.push("logarithmic"),xe(ee,"afterSetType",he),xe(ee,"afterInit",Q)),ee};class te{constructor(L){this.axis=L}getLogTickPositions(L,W,N,I){let C=this.axis,A=C.len,D=C.options,P=[];if(I||(this.minorAutoInterval=void 0),L>=.5)L=Math.round(L),P=C.getLinearTickPositions(L,W,N);else if(L>=.08){let v,T,H,B,S,p,b;for(v=L>.3?[1,2,4]:L>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],T=Math.floor(W);T<N+1&&!b;T++)for(H=0,B=v.length;H<B&&!b;H++)(S=this.log2lin(this.lin2log(T)*v[H]))>W&&(!I||p<=N)&&void 0!==p&&P.push(p),p>N&&(b=!0),p=S}else{let v=this.lin2log(W),T=this.lin2log(N),H=I?C.getMinorTickInterval():D.tickInterval;L=ve(L=me("auto"===H?null:H,this.minorAutoInterval,D.tickPixelInterval/(I?5:1)*(T-v)/((I?A/C.tickPositions.length:A)||1))),P=C.getLinearTickPositions(L,v,T).map(this.log2lin),I||(this.minorAutoInterval=L/5)}return I||(C.tickInterval=L),P}lin2log(L){return Math.pow(10,L)}log2lin(L){return Math.log(L)/Math.LN10}}de.Additions=te}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{erase:xe,extend:ve,isNumber:me}=Z;return function(de){let he;function Q(C){return this.addPlotBandOrLine(C,"plotBands")}function te(C,A){let D=this.userOptions,P=new he(this,C);if(this.visible&&(P=P.render()),P){if(this._addedPlotLB||(this._addedPlotLB=!0,(D.plotLines||[]).concat(D.plotBands||[]).forEach(v=>{this.addPlotBandOrLine(v)})),A){let v=D[A]||[];v.push(C),D[A]=v}this.plotLinesAndBands.push(P)}return P}function ee(C){return this.addPlotBandOrLine(C,"plotLines")}function L(C,A,D){let S,b,P=this.getPlotLinePath({value:A,force:!0,acrossPanes:(D=D||this.options).acrossPanes}),v=[],T=this.horiz,H=!me(this.min)||!me(this.max)||C<this.min&&A<this.min||C>this.max&&A>this.max,B=this.getPlotLinePath({value:C,force:!0,acrossPanes:D.acrossPanes}),p=1;if(B&&P)for(H&&(b=B.toString()===P.toString(),p=0),S=0;S<B.length;S+=2){let l=B[S],n=B[S+1],o=P[S],h=P[S+1];("M"===l[0]||"L"===l[0])&&("M"===n[0]||"L"===n[0])&&("M"===o[0]||"L"===o[0])&&("M"===h[0]||"L"===h[0])&&(T&&o[1]===l[1]?(o[1]+=p,h[1]+=p):T||o[2]!==l[2]||(o[2]+=p,h[2]+=p),v.push(["M",l[1],l[2]],["L",n[1],n[2]],["L",h[1],h[2]],["L",o[1],o[2]],["Z"])),v.isFlat=b}return v}function W(C){this.removePlotBandOrLine(C)}function N(C){let A=this.plotLinesAndBands,D=this.options,P=this.userOptions;if(A){let v=A.length;for(;v--;)A[v].id===C&&A[v].destroy();[D.plotLines||[],P.plotLines||[],D.plotBands||[],P.plotBands||[]].forEach(function(T){for(v=T.length;v--;)(T[v]||{}).id===C&&xe(T,T[v])})}}function I(C){this.removePlotBandOrLine(C)}de.compose=function(C,A){let D=A.prototype;return D.addPlotBand||(he=C,ve(D,{addPlotBand:Q,addPlotLine:ee,addPlotBandOrLine:te,getPlotBandPath:L,removePlotBand:W,removePlotLine:I,removePlotBandOrLine:N})),A}}(ce||(ce={})),ce}),Ne(Y,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[Y["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],Y["Core/Utilities.js"]],function(Z,ce){let{addEvent:xe,arrayMax:ve,arrayMin:me,defined:de,destroyObjectProperties:he,erase:Q,fireEvent:te,merge:ee,objectEach:L,pick:W}=ce;class N{static compose(C,A){return xe(C,"afterInit",function(){this.labelCollectors.push(()=>{let D=[];for(let P of this.axes)for(let{label:v,options:T}of P.plotLinesAndBands)v&&!T?.label?.allowOverlap&&D.push(v);return D})}),Z.compose(N,A)}constructor(C,A){this.axis=C,this.options=A,this.id=A.id}render(){te(this,"render");let f,{axis:C,options:A}=this,{horiz:D,logarithmic:P}=C,{color:v,events:T,zIndex:H=0}=A,B={},S=C.chart.renderer,p=A.to,b=A.from,l=A.value,n=A.borderWidth,o=A.label,{label:h,svgElem:d}=this,c=[],u=de(b)&&de(p),M=de(l),U=!d,x={class:"highcharts-plot-"+(u?"band ":"line ")+(A.className||"")},O=u?"bands":"lines";if(!C.chart.styledMode&&(M?(x.stroke=v||"#999999",x["stroke-width"]=W(A.width,1),A.dashStyle&&(x.dashstyle=A.dashStyle)):u&&(x.fill=v||"#e6e9ff",n&&(x.stroke=A.borderColor,x["stroke-width"]=n))),B.zIndex=H,O+="-"+H,(f=C.plotLinesAndBandsGroups[O])||(C.plotLinesAndBandsGroups[O]=f=S.g("plot-"+O).attr(B).add()),d||(this.svgElem=d=S.path().attr(x).add(f)),de(l))c=C.getPlotLinePath({value:P?.log2lin(l)??l,lineWidth:d.strokeWidth(),acrossPanes:A.acrossPanes});else{if(!de(b)||!de(p))return;c=C.getPlotBandPath(P?.log2lin(b)??b,P?.log2lin(p)??p,A)}return!this.eventsAdded&&T&&(L(T,(z,j)=>{d?.on(j,J=>{T[j].apply(this,[J])})}),this.eventsAdded=!0),!U&&d.d||!c?.length?d&&(c?(d.show(),d.animate({d:c})):d.d&&(d.hide(),h&&(this.label=h=h.destroy()))):d.attr({d:c}),o&&(de(o.text)||de(o.formatter))&&c?.length&&C.width>0&&C.height>0&&!c.isFlat?(o=ee({align:D&&u?"center":void 0,x:D?!u&&4:10,verticalAlign:!D&&u?"middle":void 0,y:D?u?16:10:u?6:-4,rotation:D&&!u?90:0,...u?{inside:!0}:{}},o),this.renderLabel(o,c,u,H)):h&&h.hide(),this}renderLabel(C,A,D,P){let v=this.axis,H=C.inside,B=this.label;B||(this.label=B=v.chart.renderer.text(this.getLabelText(C),0,0,C.useHTML).attr({align:C.textAlign||C.align,rotation:C.rotation,class:"highcharts-plot-"+(D?"band":"line")+"-label "+(C.className||""),zIndex:P}),v.chart.styledMode||B.css(ee({fontSize:"0.8em",textOverflow:D&&!H?"":"ellipsis"},C.style)),B.add());let S=A.xBounds||[A[0][1],A[1][1],D?A[2][1]:A[0][1]],p=A.yBounds||[A[0][2],A[1][2],D?A[2][2]:A[0][2]],b=me(S),l=me(p),n=ve(S)-b;B.align(C,!1,{x:b,y:l,width:n,height:ve(p)-l}),(!B.alignValue||"left"===B.alignValue||de(H))&&B.css({width:(C.style?.width||(D&&H?n:90===B.rotation?v.height-(B.alignAttr.y-v.top):(C.clip?v.width:v.chart.chartWidth)-(B.alignAttr.x-v.left)))+"px"}),B.show(!0)}getLabelText(C){return de(C.formatter)?C.formatter.call(this):C.text}destroy(){Q(this.axis.plotLinesAndBands,this),delete this.axis,he(this)}}return N}),Ne(Y,"Core/Tooltip.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Templating.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de){var he;let{animObject:Q}=Z,{format:te}=ce,{composed:ee,doc:L,isSafari:W}=xe,{distribute:N}=ve,{addEvent:I,clamp:C,css:A,discardElement:D,extend:P,fireEvent:v,isArray:T,isNumber:H,isString:B,merge:S,pick:p,pushUnique:b,splat:l,syncTimeout:n}=de;class o{constructor(d,c,f){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=d,this.init(d,c),this.pointer=f}bodyFormatter(d){return d.map(function(c){let f=c.series.tooltipOptions;return(f[(c.point.formatPrefix||"point")+"Formatter"]||c.point.tooltipFormatter).call(c.point,f[(c.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(d){this.chart.series.forEach(function(c){let f=c&&c.tt;f&&(!f.isActive||d?c.tt=f.destroy():f.isActive=!1)})}defaultFormatter(d){let c,f=this.points||l(this);return(c=(c=[d.tooltipFooterHeaderFormatter(f[0])]).concat(d.bodyFormatter(f))).push(d.tooltipFooterHeaderFormatter(f[0],!0)),c}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),D(this.container)),de.clearTimeout(this.hideTimer)}getAnchor(d,c){let f,{chart:u,pointer:M}=this,U=u.inverted,x=u.plotTop,O=u.plotLeft;if((d=l(d))[0].series&&d[0].series.yAxis&&!d[0].series.yAxis.options.reversedStacks&&(d=d.slice().reverse()),this.followPointer&&c)void 0===c.chartX&&(c=M.normalize(c)),f=[c.chartX-O,c.chartY-x];else if(d[0].tooltipPos)f=d[0].tooltipPos;else{let z=0,j=0;d.forEach(function(J){let y=J.pos(!0);y&&(z+=y[0],j+=y[1])}),z/=d.length,j/=d.length,this.shared&&d.length>1&&c&&(U?z=c.chartX:j=c.chartY),f=[z-O,j-x]}return f.map(Math.round)}getClassName(d,c,f){let M=d.series,U=M.options;return[this.options.className,"highcharts-label",f&&"highcharts-tooltip-header",c?"highcharts-tooltip-box":"highcharts-tooltip",!f&&"highcharts-color-"+p(d.colorIndex,M.colorIndex),U&&U.className].filter(B).join(" ")}getLabel({anchorX:d,anchorY:c}={anchorX:0,anchorY:0}){let f=this,u=this.chart.styledMode,M=this.options,U=this.split&&this.allowShared,x=this.container,O=this.chart.renderer;if(this.label){let z=!this.label.hasClass("highcharts-label");(!U&&z||U&&!z)&&this.destroy()}if(!this.label){if(this.outside){let z=this.chart.options.chart.style,j=me.getRendererType();this.container=x=xe.doc.createElement("div"),x.className="highcharts-tooltip-container",A(x,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(z&&z.zIndex||0)+3)}),this.renderer=O=new j(x,0,0,z,void 0,void 0,O.styledMode)}if(U?this.label=O.g("tooltip"):(this.label=O.label("",d,c,M.shape,void 0,void 0,M.useHTML,void 0,"tooltip").attr({padding:M.padding,r:M.borderRadius}),u||this.label.attr({fill:M.backgroundColor,"stroke-width":M.borderWidth||0}).css(M.style).css({pointerEvents:M.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),f.outside){let z=this.label;[z.xSetter,z.ySetter].forEach((j,J)=>{z[J?"ySetter":"xSetter"]=y=>{j.call(z,f.distance),z[J?"y":"x"]=y,x&&(x.style[J?"top":"left"]=`${y}px`)}})}this.label.attr({zIndex:8}).shadow(M.shadow).add()}return x&&!x.parentElement&&xe.doc.body.appendChild(x),this.label}getPlayingField(){let{body:d,documentElement:c}=L,{chart:f,distance:u,outside:M}=this;return{width:M?Math.max(d.scrollWidth,c.scrollWidth,d.offsetWidth,c.offsetWidth,c.clientWidth)-2*u:f.chartWidth,height:M?Math.max(d.scrollHeight,c.scrollHeight,d.offsetHeight,c.offsetHeight,c.clientHeight):f.chartHeight}}getPosition(d,c,f){let ue,{distance:u,chart:M,outside:U,pointer:x}=this,{inverted:O,plotLeft:z,plotTop:j,polar:J}=M,{plotX:y=0,plotY:w=0}=f,E={},X=O&&f.h||0,{height:m,width:F}=this.getPlayingField(),R=x.getChartPosition(),_=pe=>pe*R.scaleX,G=pe=>pe*R.scaleY,K=pe=>{let ge="x"===pe;return[pe,ge?F:m,ge?d:c].concat(U?[ge?_(d):G(c),ge?R.left-u+_(y+z):R.top-u+G(w+j),0,ge?F:m]:[ge?d:c,ge?y+z:w+j,ge?z:j,ge?z+M.plotWidth:j+M.plotHeight])},oe=K("y"),ae=K("x"),be=!!f.negative;!J&&M.hoverSeries?.yAxis?.reversed&&(be=!be);let Se=!this.followPointer&&p(f.ttBelow,!J&&!O===be),ie=function(pe,ge,we,ye,Me,Pe,Re){let Fe=U?"y"===pe?G(u):_(u):u,De=(we-ye)/2,He=ye<Me-u,ze=Me+u+ye<ge,Oe=Me-Fe-we+De,it=Me+Fe-De;if(Se&&ze)E[pe]=it;else if(!Se&&He)E[pe]=Oe;else if(He)E[pe]=Math.min(Re-ye,Oe-X<0?Oe:Oe-X);else{if(!ze)return!1;E[pe]=Math.max(Pe,it+X+we>ge?it:it+X)}},q=function(pe,ge,we,ye,Me){if(Me<u||Me>ge-u)return!1;E[pe]=Me<we/2?1:Me>ge-ye/2?ge-ye-2:Me-we/2},re=function(pe){[oe,ae]=[ae,oe],ue=pe},le=()=>{!1!==ie.apply(0,oe)?!1!==q.apply(0,ae)||ue||(re(!0),le()):ue?E.x=E.y=0:(re(!0),le())};return(O&&!J||this.len>1)&&re(),le(),E}hide(d){let c=this;de.clearTimeout(this.hideTimer),d=p(d,this.options.hideDelay),this.isHidden||(this.hideTimer=n(function(){let f=c.getLabel();c.getLabel().animate({opacity:0},{duration:d&&150,complete:()=>{f.hide(),c.container&&c.container.remove()}}),c.isHidden=!0},d))}init(d,c){this.chart=d,this.options=c,this.crosshairs=[],this.isHidden=!0,this.split=c.split&&!d.inverted&&!d.polar,this.shared=c.shared||this.split,this.outside=p(c.outside,!(!d.scrollablePixelsX&&!d.scrollablePixelsY))}shouldStickOnContact(d){return!(this.followPointer||!this.options.stickOnContact||d&&!this.pointer.inClass(d.target,"highcharts-tooltip"))}move(d,c,f,u){let M=this,U=Q(!M.isHidden&&M.options.animation),O={x:d,y:c};M.followPointer||(M.len||0)>1||(O.anchorX=f,O.anchorY=u),U.step=()=>M.drawTracker(),M.getLabel().animate(O,U)}refresh(d,c){let{chart:f,options:u,pointer:M,shared:U}=this,x=l(d),O=x[0],z=[],j=u.format,J=u.formatter||this.defaultFormatter,y=f.styledMode,w={},E=this.allowShared;if(!u.enabled||!O.series)return;de.clearTimeout(this.hideTimer),this.allowShared=!(!T(d)&&d.series&&d.series.noSharedTooltip),E=E&&!this.allowShared,this.followPointer=!this.split&&O.series.tooltipOptions.followPointer;let X=this.getAnchor(d,c),m=X[0],F=X[1];U&&this.allowShared?(M.applyInactiveState(x),x.forEach(function(G){G.setState("hover"),z.push(G.getLabelConfig())}),(w=O.getLabelConfig()).points=z):w=O.getLabelConfig(),this.len=z.length;let R=B(j)?te(j,w,f):J.call(w,this),_=O.series;if(this.distance=p(_.tooltipOptions.distance,16),!1===R)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(R,x);else{let G=m,K=F;if(c&&M.isDirectTouch&&(G=c.chartX-f.plotLeft,K=c.chartY-f.plotTop),!f.polar&&!1!==_.options.clip&&!x.some(oe=>M.isDirectTouch||oe.series.shouldShowTooltip(G,K)))return void this.hide();{let oe=this.getLabel(E&&this.tt||{});(!u.style.width||y)&&oe.css({width:(this.outside?this.getPlayingField():f.spacingBox).width+"px"}),oe.attr({class:this.getClassName(O),text:R&&R.join?R.join(""):R}),this.outside&&oe.attr({x:C(oe.x||0,0,this.getPlayingField().width-(oe.width||0))}),y||oe.attr({stroke:u.borderColor||O.color||_.color||"#666666"}),this.updatePosition({plotX:m,plotY:F,negative:O.negative,ttBelow:O.ttBelow,h:X[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}v(this,"refresh")}renderSplit(d,c){let f=this,{chart:u,chart:{chartWidth:M,chartHeight:U,plotHeight:x,plotLeft:O,plotTop:z,scrollablePixelsY:j=0,scrollablePixelsX:J,styledMode:y},distance:w,options:E,options:{positioner:X},pointer:m}=f,{scrollLeft:F=0,scrollTop:R=0}=u.scrollablePlotArea?.scrollingContainer||{},_=f.outside&&"number"!=typeof J?L.documentElement.getBoundingClientRect():{left:F,right:F+M,top:R,bottom:R+U},G=f.getLabel(),K=this.renderer||u.renderer,oe=!(!u.xAxis[0]||!u.xAxis[0].opposite),{left:ae,top:ue}=m.getChartPosition(),be=z+R,Se=0,ie=x-j;function q(ye,Me,Pe,Re,Fe=!0){let De,He;return Pe?(De=oe?0:ie,He=C(ye-Re/2,_.left,_.right-Re-(f.outside?ae:0))):(De=Me-be,He=C(He=Fe?ye-Re-w:ye+w,Fe?He:_.left,_.right)),{x:He,y:De}}B(d)&&(d=[!1,d]);let re=d.slice(0,c.length+1).reduce(function(ye,Me,Pe){if(!1!==Me&&""!==Me){let Re=c[Pe-1]||{isHeader:!0,plotX:c[0].plotX,plotY:x,series:{}},Fe=Re.isHeader,De=Fe?f:Re.series,He=De.tt=function(rt,bt,Ht){let zt=rt,{isHeader:yt,series:hi}=bt;if(!zt){let Zt={padding:E.padding,r:E.borderRadius};y||(Zt.fill=E.backgroundColor,Zt["stroke-width"]=E.borderWidth??1),zt=K.label("",0,0,E[yt?"headerShape":"shape"],void 0,void 0,E.useHTML).addClass(f.getClassName(bt,!0,yt)).attr(Zt).add(G)}return zt.isActive=!0,zt.attr({text:Ht}),y||zt.css(E.style).attr({stroke:E.borderColor||bt.color||hi.color||"#333333"}),zt}(De.tt,Re,Me.toString()),ze=He.getBBox(),Oe=ze.width+He.strokeWidth();Fe&&(Se=ze.height,ie+=Se,oe&&(be-=Se));let{anchorX:it,anchorY:ot}=function(rt){let bt,Ht,{isHeader:zt,plotX:yt=0,plotY:hi=0,series:Zt}=rt;if(zt)bt=Math.max(O+yt,O),Ht=z+x/2;else{let{xAxis:Ei,yAxis:_t}=Zt;bt=Ei.pos+C(yt,-w,Ei.len+w),Zt.shouldShowTooltip(0,_t.pos-z+hi,{ignoreX:!0})&&(Ht=_t.pos+hi)}return{anchorX:bt=C(bt,_.left-w,_.right+w),anchorY:Ht}}(Re);if("number"==typeof ot){let rt=ze.height+1,bt=X?X.call(f,Oe,rt,Re):q(it,ot,Fe,Oe);ye.push({align:X?0:void 0,anchorX:it,anchorY:ot,boxWidth:Oe,point:Re,rank:p(bt.rank,Fe?1:0),size:rt,target:bt.y,tt:He,x:bt.x})}else He.isActive=!1}return ye},[]);!X&&re.some(ye=>{let{outside:Me}=f,Pe=(Me?ae:0)+ye.anchorX;return Pe<_.left&&Pe+ye.boxWidth<_.right||Pe<ae-_.left+ye.boxWidth&&_.right-Pe>Pe})&&(re=re.map(ye=>{let{x:Me,y:Pe}=q(ye.anchorX,ye.anchorY,ye.point.isHeader,ye.boxWidth,!1);return P(ye,{target:Pe,x:Me})})),f.cleanSplit(),N(re,ie);let le={left:ae,right:ae};re.forEach(function(ye){let{x:Me,boxWidth:Pe,isHeader:Re}=ye;!Re&&(f.outside&&ae+Me<le.left&&(le.left=ae+Me),!Re&&f.outside&&le.left+Pe>le.right&&(le.right=ae+Me))}),re.forEach(function(ye){let{x:Me,anchorX:Pe,anchorY:Re,pos:Fe,point:{isHeader:De}}=ye,He={visibility:void 0===Fe?"hidden":"inherit",x:Me,y:(Fe||0)+be,anchorX:Pe,anchorY:Re};if(f.outside&&Me<Pe){let ze=ae-le.left;ze>0&&(De||(He.x=Me+ze,He.anchorX=Pe+ze),De&&(He.x=(le.right-le.left)/2,He.anchorX=Pe+ze))}ye.tt.attr(He)});let{container:pe,outside:ge,renderer:we}=f;if(ge&&pe&&we){let{width:ye,height:Me,x:Pe,y:Re}=G.getBBox();we.setSize(ye+Pe,Me+Re,!1),pe.style.left=le.left+"px",pe.style.top=ue+"px"}W&&G.attr({opacity:1===G.opacity?.999:1})}drawTracker(){if(!this.shouldStickOnContact())return void(this.tracker&&(this.tracker=this.tracker.destroy()));let d=this.chart,c=this.label,f=this.shared?d.hoverPoints:d.hoverPoint;if(!c||!f)return;let u={x:0,y:0,width:0,height:0},M=this.getAnchor(f),U=c.getBBox();M[0]+=d.plotLeft-(c.translateX||0),M[1]+=d.plotTop-(c.translateY||0),u.x=Math.min(0,M[0]),u.y=Math.min(0,M[1]),u.width=M[0]<0?Math.max(Math.abs(M[0]),U.width-M[0]):Math.max(Math.abs(M[0]),U.width),u.height=M[1]<0?Math.max(Math.abs(M[1]),U.height-Math.abs(M[1])):Math.max(Math.abs(M[1]),U.height),this.tracker?this.tracker.attr(u):(this.tracker=c.renderer.rect(u).addClass("highcharts-tracker").add(c),d.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(d){return d.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(d,c){let f=d.series,u=f.tooltipOptions,M=f.xAxis,U=M&&M.dateTime,x={isFooter:c,labelConfig:d},O=u.xDateFormat,z=u[c?"footerFormat":"headerFormat"];return v(this,"headerFormatter",x,function(j){U&&!O&&H(d.key)&&(O=U.getXDateFormat(d.key,u.dateTimeLabelFormats)),U&&O&&(d.point&&d.point.tooltipDateKeys||["key"]).forEach(function(J){z=z.replace("{point."+J+"}","{point."+J+":"+O+"}")}),f.chart.styledMode&&(z=this.styledModeFormat(z)),j.text=te(z,{point:d,series:f},this.chart)}),x.text}update(d){this.destroy(),this.init(this.chart,S(!0,this.options,d))}updatePosition(d){let F,{chart:c,container:f,distance:u,options:M,pointer:U,renderer:x}=this,{height:O=0,width:z=0}=this.getLabel(),{left:j,top:J,scaleX:y,scaleY:w}=U.getChartPosition(),E=(M.positioner||this.getPosition).call(this,z,O,d),X=(d.plotX||0)+c.plotLeft,m=(d.plotY||0)+c.plotTop;x&&f&&(M.positioner&&(E.x+=j-u,E.y+=J-u),F=(M.borderWidth||0)+2*u+2,x.setSize(z+F,O+F,!1),(1!==y||1!==w)&&(A(f,{transform:`scale(${y}, ${w})`}),X*=y,m*=w),X+=j-E.x,m+=J-E.y),this.move(Math.round(E.x),Math.round(E.y||0),X,m)}}return(he=o||(o={})).compose=function(h){b(ee,"Core.Tooltip")&&I(h,"afterInit",function(){let d=this.chart;d.options.tooltip&&(d.tooltip=new he(d,d.options.tooltip,this))})},o}),Ne(Y,"Core/Series/Point.js",[Y["Core/Renderer/HTML/AST.js"],Y["Core/Animation/AnimationUtilities.js"],Y["Core/Defaults.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{animObject:de}=ce,{defaultOptions:he}=xe,{format:Q}=ve,{addEvent:te,crisp:ee,erase:L,extend:W,fireEvent:N,getNestedProperty:I,isArray:C,isFunction:A,isNumber:D,isObject:P,merge:v,pick:T,syncTimeout:H,removeEvent:B,uniqueKey:S}=me;class p{animateBeforeDestroy(){let l=this,n={x:l.startXPos,opacity:0},o=l.getGraphicalProps();o.singular.forEach(function(h){l[h]=l[h].animate("dataLabel"===h?{x:l[h].startXPos,y:l[h].startYPos,opacity:0}:n)}),o.plural.forEach(function(h){l[h].forEach(function(d){d.element&&d.animate(W({x:l.startXPos},d.startYPos?{x:d.startXPos,y:d.startYPos}:{}))})})}applyOptions(l,n){let o=this.series,h=o.options.pointValKey||o.pointValKey;return W(this,l=p.prototype.optionsToObject.call(this,l)),this.options=this.options?W(this.options,l):l,l.group&&delete this.group,l.dataLabels&&delete this.dataLabels,h&&(this.y=p.prototype.getNestedProperty.call(this,h)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&o.xAxis&&o.xAxis.hasNames&&(this.x=o.xAxis.nameToX(this)),void 0===this.x&&o?this.x=n??o.autoIncrement():D(l.x)&&o.options.relativeXValue&&(this.x=o.autoIncrement(l.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let l=this,n=l.series,o=n.chart,h=n.options.dataSorting,d=o.hoverPoints,c=de(l.series.chart.renderer.globalAnimation),f=()=>{for(let u in(l.graphic||l.graphics||l.dataLabel||l.dataLabels)&&(B(l),l.destroyElements()),l)delete l[u]};l.legendItem&&o.legend.destroyItem(l),d&&(l.setState(),L(d,l),d.length||(o.hoverPoints=null)),l===o.hoverPoint&&l.onMouseOut(),h&&h.enabled?(this.animateBeforeDestroy(),H(f,c.duration)):f(),o.pointCount--}this.destroyed=!0}destroyElements(l){let n=this,o=n.getGraphicalProps(l);o.singular.forEach(function(h){n[h]=n[h].destroy()}),o.plural.forEach(function(h){n[h].forEach(function(d){d&&d.element&&d.destroy()}),delete n[h]})}firePointEvent(l,n,o){let h=this,d=this.series.options;h.manageEvent(l),"click"===l&&d.allowPointSelect&&(o=function(c){!h.destroyed&&h.select&&h.select(null,c.ctrlKey||c.metaKey||c.shiftKey)}),N(h,l,n,o)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(l){let n,o,h=this,d=[],c={singular:[],plural:[]};for((l=l||{graphic:1,dataLabel:1}).graphic&&d.push("graphic","connector"),l.dataLabel&&d.push("dataLabel","dataLabelPath","dataLabelUpper"),o=d.length;o--;)h[n=d[o]]&&c.singular.push(n);return["graphic","dataLabel"].forEach(function(f){let u=f+"s";l[f]&&h[u]&&c.plural.push(u)}),c}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(l){return l?0===l.indexOf("custom.")?I(l,this.options):this[l]:void 0}getZone(){let h,l=this.series,n=l.zones,o=l.zoneAxis||"y",d=0;for(h=n[0];this[o]>=h.value;)h=n[++d];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=h&&h.color&&!this.options.color?h.color:this.nonZonedColor,h}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(l,n,o){this.formatPrefix="point",this.visible=!0,this.series=l,this.applyOptions(n,o),this.id??(this.id=S()),this.resolveColor(),l.chart.pointCount++,N(this,"afterInit")}isValid(){return(D(this.x)||this.x instanceof Date)&&D(this.y)}optionsToObject(l){let f,n=this.series,o=n.options.keys,h=o||n.pointArrayMap||["y"],d=h.length,c={},u=0,M=0;if(D(l)||null===l)c[h[0]]=l;else if(C(l))for(!o&&l.length>d&&("string"==(f=typeof l[0])?c.name=l[0]:"number"===f&&(c.x=l[0]),u++);M<d;)o&&void 0===l[u]||(h[M].indexOf(".")>0?p.prototype.setNestedProperty(c,l[u],h[M]):c[h[M]]=l[u]),u++,M++;else"object"==typeof l&&(c=l,l.dataLabels&&(n.hasDataLabels=()=>!0),l.marker&&(n._hasPointMarkers=!0));return c}pos(l,n=this.plotY){if(!this.destroyed){let{plotX:o,series:h}=this,{chart:d,xAxis:c,yAxis:f}=h,u=0,M=0;if(D(o)&&D(n))return l&&(u=c?c.pos:d.plotLeft,M=f?f.pos:d.plotTop),d.inverted&&c&&f?[f.len-n+M,c.len-o+u]:[o+u,n+M]}}resolveColor(){let h,d,f,l=this.series,o=l.chart.styledMode,c=l.chart.options.chart.colorCount;delete this.nonZonedColor,l.options.colorByPoint?(o||(h=(d=l.options.colors||l.chart.options.colors)[l.colorCounter],c=d.length),f=l.colorCounter,l.colorCounter++,l.colorCounter===c&&(l.colorCounter=0)):(o||(h=l.color),f=l.colorIndex),this.colorIndex=T(this.options.colorIndex,f),this.color=T(this.options.color,h)}setNestedProperty(l,n,o){return o.split(".").reduce(function(h,d,c,f){return h[d]=f.length-1===c?n:P(h[d],!0)?h[d]:{},h[d]},l),l}shouldDraw(){return!this.isNull}tooltipFormatter(l){let n=this.series,o=n.tooltipOptions,h=T(o.valueDecimals,""),d=o.valuePrefix||"",c=o.valueSuffix||"";return n.chart.styledMode&&(l=n.chart.tooltip.styledModeFormat(l)),(n.pointArrayMap||["y"]).forEach(function(f){f="{point."+f,(d||c)&&(l=l.replace(RegExp(f+"}","g"),d+f+"}"+c)),l=l.replace(RegExp(f+"}","g"),f+":,."+h+"f}")}),Q(l,{point:this,series:this.series},n.chart)}update(l,n,o,h){let d,c=this,f=c.series,u=c.graphic,M=f.chart,U=f.options;function x(){c.applyOptions(l);let O=u&&c.hasMockGraphic;u&&(null===c.y?!O:O)&&(c.graphic=u.destroy(),delete c.hasMockGraphic),P(l,!0)&&(u&&u.element&&l&&l.marker&&void 0!==l.marker.symbol&&(c.graphic=u.destroy()),l?.dataLabels&&c.dataLabel&&(c.dataLabel=c.dataLabel.destroy())),d=c.index,f.updateParallelArrays(c,d),U.data[d]=P(U.data[d],!0)||P(l,!0)?c.options:T(l,U.data[d]),f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(M.isDirtyBox=!0),"point"===U.legendType&&(M.isDirtyLegend=!0),n&&M.redraw(o)}n=T(n,!0),!1===h?x():c.firePointEvent("update",{options:l},x)}remove(l,n){this.series.removePoint(this.series.data.indexOf(this),l,n)}select(l,n){let o=this,h=o.series,d=h.chart;l=T(l,!o.selected),this.selectedStaging=l,o.firePointEvent(l?"select":"unselect",{accumulate:n},function(){o.selected=o.options.selected=l,h.options.data[h.data.indexOf(o)]=o.options,o.setState(l&&"select"),n||d.getSelectedPoints().forEach(function(c){let f=c.series;c.selected&&c!==o&&(c.selected=c.options.selected=!1,f.options.data[f.data.indexOf(c)]=c.options,c.setState(d.hoverPoints&&f.options.inactiveOtherPoints?"inactive":""),c.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(l){let{inverted:n,pointer:o}=this.series.chart;o&&(l=l?o.normalize(l):o.getChartCoordinatesFromPoint(this,n),o.runPointActions(l,this))}onMouseOut(){let l=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(l.hoverPoints||[]).forEach(function(n){n.setState()}),l.hoverPoints=l.hoverPoint=null}manageEvent(l){let n=v(this.series.options.point,this.options),o=n.events?.[l];!A(o)||this.hcEvents?.[l]&&-1!==this.hcEvents?.[l]?.map(h=>h.fn).indexOf(o)?this.importedUserEvent&&!o&&this.hcEvents?.[l]&&(B(this,l),delete this.hcEvents[l],Object.keys(this.hcEvents)||delete this.importedUserEvent):(this.importedUserEvent?.(),this.importedUserEvent=te(this,l,o))}setState(l,n){let j,J,y,E,o=this.series,h=this.state,d=o.options.states[l||"normal"]||{},c=he.plotOptions[o.type].marker&&o.options.marker,u=c&&c.states&&c.states[l||"normal"]||{},U=this.marker||{},x=o.chart,O=c&&o.markerAttribs,z=o.halo,w=o.stateMarkerGraphic;if((l=l||"")===this.state&&!n||this.selected&&"select"!==l||!1===d.enabled||l&&(!1===u.enabled||c&&!1===c.enabled&&!1===u.enabled)||l&&U.states&&U.states[l]&&!1===U.states[l].enabled)return;if(this.state=l,O&&(j=o.markerAttribs(this,l)),this.graphic&&!this.hasMockGraphic){if(h&&this.graphic.removeClass("highcharts-point-"+h),l&&this.graphic.addClass("highcharts-point-"+l),!x.styledMode){J=o.pointAttribs(this,l),y=T(x.options.chart.animation,d.animation);let R=J.opacity;o.options.inactiveOtherPoints&&D(R)&&(this.dataLabels||[]).forEach(function(_){_&&!_.hasClass("highcharts-data-label-hidden")&&(_.animate({opacity:R},y),_.connector&&_.connector.animate({opacity:R},y))}),this.graphic.animate(J,y)}j&&this.graphic.animate(j,T(x.options.chart.animation,u.animation,c.animation)),w&&w.hide()}else l&&u&&(E=U.symbol||o.symbol,w&&w.currentSymbol!==E&&(w=w.destroy()),j&&(w?w[n?"animate":"attr"]({x:j.x,y:j.y}):E&&(o.stateMarkerGraphic=w=x.renderer.symbol(E,j.x,j.y,j.width,j.height).add(o.markerGroup),w.currentSymbol=E)),!x.styledMode&&w&&"inactive"!==this.state&&w.attr(o.pointAttribs(this,l))),w&&(w[l&&this.isInside?"show":"hide"](),w.element.point=this,w.addClass(this.getClassName(),!0));let X=d.halo,m=this.graphic||w,F=m&&m.visibility||"inherit";X&&X.size&&m&&"hidden"!==F&&!this.isCluster?(z||(o.halo=z=x.renderer.path().add(m.parentGroup)),z.show()[n?"animate":"attr"]({d:this.haloPath(X.size)}),z.attr({class:"highcharts-halo highcharts-color-"+T(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),visibility:F,zIndex:-1}),z.point=this,x.styledMode||z.attr(W({fill:this.color||o.color,"fill-opacity":X.opacity},Z.filterUserAttributes(X.attributes||{})))):z?.point?.haloPath&&!z.point.destroyed&&z.animate({d:z.point.haloPath(0)},null,z.hide),N(this,"afterSetState",{state:l})}haloPath(l){let n=this.pos();return n?this.series.chart.renderer.symbols.circle(ee(n[0],1)-l,n[1]-l,2*l,2*l):[]}}return p}),Ne(Y,"Core/Pointer.js",[Y["Core/Color/Color.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{parse:me}=Z,{charts:de,composed:he,isTouchDevice:Q}=ce,{addEvent:te,attr:ee,css:L,extend:W,find:N,fireEvent:I,isNumber:C,isObject:A,objectEach:D,offset:P,pick:v,pushUnique:T,splat:H}=xe;class B{applyInactiveState(p){let l,b=[];(p||[]).forEach(function(n){l=n.series,b.push(l),l.linkedParent&&b.push(l.linkedParent),l.linkedSeries&&(b=b.concat(l.linkedSeries)),l.navigatorSeries&&b.push(l.navigatorSeries)}),this.chart.series.forEach(function(n){-1===b.indexOf(n)?n.setState("inactive",!0):n.options.inactiveOtherPoints&&n.setAllPointsToState("inactive")})}destroy(){let p=this;this.eventsToUnbind.forEach(b=>b()),this.eventsToUnbind=[],!ce.chartCount&&(B.unbindDocumentMouseUp&&B.unbindDocumentMouseUp.forEach(b=>b()),B.unbindDocumentTouchEnd&&(B.unbindDocumentTouchEnd=B.unbindDocumentTouchEnd())),clearInterval(p.tooltipTimeout),D(p,function(b,l){p[l]=void 0})}getSelectionMarkerAttrs(p,b){let l={args:{chartX:p,chartY:b},attrs:{},shapeType:"rect"};return I(this,"getSelectionMarkerAttrs",l,n=>{let o,{chart:h,zoomHor:d,zoomVert:c}=this,{mouseDownX:f=0,mouseDownY:u=0}=h,M=n.attrs;M.x=h.plotLeft,M.y=h.plotTop,M.width=d?1:h.plotWidth,M.height=c?1:h.plotHeight,d&&(o=p-f,M.width=Math.max(1,Math.abs(o)),M.x=(o>0?0:o)+f),c&&(o=b-u,M.height=Math.max(1,Math.abs(o)),M.y=(o>0?0:o)+u)}),l}drag(p){let j,{chart:b}=this,{mouseDownX:l=0,mouseDownY:n=0}=b,{panning:o,panKey:h,selectionMarkerFill:d}=b.options.chart,c=b.plotLeft,f=b.plotTop,u=b.plotWidth,M=b.plotHeight,U=A(o)?o.enabled:o,x=h&&p[`${h}Key`],O=p.chartX,z=p.chartY,J=this.selectionMarker;if((!J||!J.touch)&&(O<c?O=c:O>c+u&&(O=c+u),z<f?z=f:z>f+M&&(z=f+M),this.hasDragged=Math.sqrt(Math.pow(l-O,2)+Math.pow(n-z,2)),this.hasDragged>10)){j=b.isInsidePlot(l-c,n-f,{visiblePlotOnly:!0});let{shapeType:y,attrs:w}=this.getSelectionMarkerAttrs(O,z);(b.hasCartesianSeries||b.mapView)&&this.hasZoom&&j&&!x&&!J&&(this.selectionMarker=J=b.renderer[y](),J.attr({class:"highcharts-selection-marker",zIndex:7}).add(),b.styledMode||J.attr({fill:d||me("#334eff").setOpacity(.25).get()})),J&&J.attr(w),j&&!J&&U&&b.pan(p,o)}}dragStart(p){let b=this.chart;b.mouseIsDown=p.type,b.cancelClick=!1,b.mouseDownX=p.chartX,b.mouseDownY=p.chartY}getSelectionBox(p){let b={args:{marker:p},result:p.getBBox()};return I(this,"getSelectionBox",b),b.result}drop(p){let b,{chart:l,selectionMarker:n}=this;for(let o of l.axes)o.isPanning&&(o.isPanning=!1,(o.options.startOnTick||o.options.endOnTick||o.series.some(h=>h.boosted))&&(o.forceRedraw=!0,o.setExtremes(o.userMin,o.userMax,!1),b=!0));if(b&&l.redraw(),n&&p){if(this.hasDragged){let o=this.getSelectionBox(n);l.transform({axes:l.axes.filter(h=>h.zoomEnabled&&("xAxis"===h.coll&&this.zoomX||"yAxis"===h.coll&&this.zoomY)),selection:{originalEvent:p,xAxis:[],yAxis:[],...o},from:o})}C(l.index)&&(this.selectionMarker=n.destroy())}l&&C(l.index)&&(L(l.container,{cursor:l._cursor}),l.cancelClick=this.hasDragged>10,l.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(p,b,l){let n;return p.forEach(function(o){let h=!(o.noSharedTooltip&&b)&&0>o.options.findNearestPointBy.indexOf("y"),d=o.searchPoint(l,h);A(d,!0)&&d.series&&(!A(n,!0)||function(c,f){let u=c.distX-f.distX,M=c.dist-f.dist,U=f.series.group?.zIndex-c.series.group?.zIndex;return 0!==u&&b?u:0!==M?M:0!==U?U:c.series.index>f.series.index?-1:1}(n,d)>0)&&(n=d)}),n}getChartCoordinatesFromPoint(p,b){let{xAxis:l,yAxis:n}=p.series,o=p.shapeArgs;if(l&&n){let h=p.clientX??p.plotX??0,d=p.plotY||0;return p.isNode&&o&&C(o.x)&&C(o.y)&&(h=o.x,d=o.y),b?{chartX:n.len+n.pos-d,chartY:l.len+l.pos-h}:{chartX:h+l.pos,chartY:d+n.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:p}=this.chart,b=P(p);this.chartPosition={left:b.left,top:b.top,scaleX:1,scaleY:1};let{offsetHeight:l,offsetWidth:n}=p;return n>2&&l>2&&(this.chartPosition.scaleX=b.width/n,this.chartPosition.scaleY=b.height/l),this.chartPosition}getCoordinates(p){let b={xAxis:[],yAxis:[]};for(let l of this.chart.axes)b[l.isXAxis?"xAxis":"yAxis"].push({axis:l,value:l.toValue(p[l.horiz?"chartX":"chartY"])});return b}getHoverData(p,b,l,n,o,h){let u,d=[],c=function(x){return x.visible&&!(!o&&x.directTouch)&&v(x.options.enableMouseTracking,!0)},f=b,M={chartX:h?h.chartX:void 0,chartY:h?h.chartY:void 0,shared:o};I(this,"beforeGetHoverData",M),u=f&&!f.stickyTracking?[f]:l.filter(x=>x.stickyTracking&&(M.filter||c)(x));let U=n&&p||!h?p:this.findNearestKDPoint(u,o,h);return f=U&&U.series,U&&(o&&!f.noSharedTooltip?(u=l.filter(function(x){return M.filter?M.filter(x):c(x)&&!x.noSharedTooltip})).forEach(function(x){let O=N(x.points,function(z){return z.x===U.x&&!z.isNull});A(O)&&(x.boosted&&x.boost&&(O=x.boost.getPoint(O)),d.push(O))}):d.push(U)),I(this,"afterGetHoverData",M={hoverPoint:U}),{hoverPoint:M.hoverPoint,hoverSeries:f,hoverPoints:d}}getPointFromEvent(p){let l,b=p.target;for(;b&&!l;)l=b.point,b=b.parentNode;return l}onTrackerMouseOut(p){let l=p.relatedTarget,n=this.chart.hoverSeries;this.isDirectTouch=!1,!n||!l||n.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+n.index)&&this.inClass(l,"highcharts-tracker")||n.onMouseOut()}inClass(p,b){let n,l=p;for(;l;){if(n=ee(l,"class")){if(-1!==n.indexOf(b))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}l=l.parentElement}}constructor(p,b){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=b,this.chart=p,this.runChartClick=!!b.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),I(this,"afterInit")}normalize(p,b){let l=p.touches,n=l?l.length?l.item(0):v(l.changedTouches,p.changedTouches)[0]:p;b||(b=this.getChartPosition());let o=n.pageX-b.left,h=n.pageY-b.top;return W(p,{chartX:Math.round(o/=b.scaleX),chartY:Math.round(h/=b.scaleY)})}onContainerClick(p){let b=this.chart,l=b.hoverPoint,n=this.normalize(p),o=b.plotLeft,h=b.plotTop;!b.cancelClick&&(l&&this.inClass(n.target,"highcharts-tracker")?(I(l.series,"click",W(n,{point:l})),b.hoverPoint&&l.firePointEvent("click",n)):(W(n,this.getCoordinates(n)),b.isInsidePlot(n.chartX-o,n.chartY-h,{visiblePlotOnly:!0})&&I(b,"click",n)))}onContainerMouseDown(p){let b=1==(1&(p.buttons||p.button));p=this.normalize(p),ce.isFirefox&&0!==p.button&&this.onContainerMouseMove(p),(void 0===p.button||b)&&(this.zoomOption(p),b&&p.preventDefault?.(),this.dragStart(p))}onContainerMouseLeave(p){let{pointer:b}=de[v(B.hoverChartIndex,-1)]||{};p=this.normalize(p),this.onContainerMouseMove(p),b&&!this.inClass(p.relatedTarget,"highcharts-tooltip")&&(b.reset(),b.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(p){let b=this.chart,l=b.tooltip,n=this.normalize(p);this.setHoverChartIndex(p),("mousedown"===b.mouseIsDown||this.touchSelect(n))&&this.drag(n),!b.openMenu&&(this.inClass(n.target,"highcharts-tracker")||b.isInsidePlot(n.chartX-b.plotLeft,n.chartY-b.plotTop,{visiblePlotOnly:!0}))&&(!l||!l.shouldStickOnContact(n))&&(this.inClass(n.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(n))}onDocumentTouchEnd(p){this.onDocumentMouseUp(p)}onContainerTouchMove(p){this.touchSelect(p)?this.onContainerMouseMove(p):this.touch(p)}onContainerTouchStart(p){this.touchSelect(p)?this.onContainerMouseDown(p):(this.zoomOption(p),this.touch(p,!0))}onDocumentMouseMove(p){let b=this.chart,l=b.tooltip,n=this.chartPosition,o=this.normalize(p,n);!n||b.isInsidePlot(o.chartX-b.plotLeft,o.chartY-b.plotTop,{visiblePlotOnly:!0})||l&&l.shouldStickOnContact(o)||o.target!==b.container.ownerDocument&&this.inClass(o.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(p){de[v(B.hoverChartIndex,-1)]?.pointer?.drop(p)}pinch(p){let b=this,{chart:l,hasZoom:n,lastTouches:o}=b,h=[].map.call(p.touches||[],M=>b.normalize(M)),d=h.length,c=1===d&&(b.inClass(p.target,"highcharts-tracker")&&l.runTrackerClick||b.runChartClick),f=l.tooltip,u=1===d&&v(f?.options.followTouchMove,!0);d>1?b.initiated=!0:u&&(b.initiated=!1),n&&b.initiated&&!c&&!1!==p.cancelable&&p.preventDefault(),"touchstart"===p.type?(b.pinchDown=h,b.res=!0,l.mouseDownX=p.chartX):u?this.runPointActions(b.normalize(p)):o&&(I(l,"touchpan",{originalEvent:p,touches:h},()=>{let M=U=>{let x=U[0],O=U[1]||x;return{x:x.chartX,y:x.chartY,width:O.chartX-x.chartX,height:O.chartY-x.chartY}};l.transform({axes:l.axes.filter(U=>U.zoomEnabled&&(this.zoomHor&&U.horiz||this.zoomVert&&!U.horiz)),to:M(h),from:M(o),trigger:p.type})}),b.res&&(b.res=!1,this.reset(!1,0))),b.lastTouches=h}reset(p,b){let l=this.chart,n=l.hoverSeries,o=l.hoverPoint,h=l.hoverPoints,d=l.tooltip,c=d&&d.shared?h:o;p&&c&&H(c).forEach(function(f){f.series.isCartesian&&void 0===f.plotX&&(p=!1)}),p?d&&c&&H(c).length&&(d.refresh(c),d.shared&&h?h.forEach(function(f){f.setState(f.state,!0),f.series.isCartesian&&(f.series.xAxis.crosshair&&f.series.xAxis.drawCrosshair(null,f),f.series.yAxis.crosshair&&f.series.yAxis.drawCrosshair(null,f))}):o&&(o.setState(o.state,!0),l.axes.forEach(function(f){f.crosshair&&o.series[f.coll]===f&&f.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),h&&h.forEach(function(f){f.setState()}),n&&n.onMouseOut(),d&&d.hide(b),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l.axes.forEach(function(f){f.hideCrosshair()}),l.hoverPoints=l.hoverPoint=void 0)}runPointActions(p,b,l){let n=this.chart,h=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,d=!!h&&h.shared,c=b||n.hoverPoint,f=c&&c.series||n.hoverSeries,M=this.getHoverData(c,f,n.series,(!p||"touchmove"!==p.type)&&(!!b||f&&f.directTouch&&this.isDirectTouch),d,p);c=M.hoverPoint,f=M.hoverSeries;let U=M.hoverPoints,x=f&&f.tooltipOptions.followPointer&&!f.tooltipOptions.split,O=d&&f&&!f.noSharedTooltip;if(c&&(l||c!==n.hoverPoint||h&&h.isHidden)){if((n.hoverPoints||[]).forEach(function(z){-1===U.indexOf(z)&&z.setState()}),n.hoverSeries!==f&&f.onMouseOver(),this.applyInactiveState(U),(U||[]).forEach(function(z){z.setState("hover")}),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!c.series)return;n.hoverPoints=U,n.hoverPoint=c,c.firePointEvent("mouseOver",void 0,()=>{h&&c&&h.refresh(O?U:c,p)})}else if(x&&h&&!h.isHidden){let z=h.getAnchor([{}],p);n.isInsidePlot(z[0],z[1],{visiblePlotOnly:!0})&&h.updatePosition({plotX:z[0],plotY:z[1]})}this.unDocMouseMove||(this.unDocMouseMove=te(n.container.ownerDocument,"mousemove",z=>de[B.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(z)),this.eventsToUnbind.push(this.unDocMouseMove)),n.axes.forEach(function(z){let j,J=v((z.crosshair||{}).snap,!0);!J||(j=n.hoverPoint)&&j.series[z.coll]===z||(j=N(U,y=>y.series&&y.series[z.coll]===z)),j||!J?z.drawCrosshair(p,j):z.hideCrosshair()})}setDOMEvents(){let p=this.chart.container,b=p.ownerDocument;p.onmousedown=this.onContainerMouseDown.bind(this),p.onmousemove=this.onContainerMouseMove.bind(this),p.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(te(p,"mouseenter",this.onContainerMouseEnter.bind(this)),te(p,"mouseleave",this.onContainerMouseLeave.bind(this))),B.unbindDocumentMouseUp||(B.unbindDocumentMouseUp=[]),B.unbindDocumentMouseUp.push(te(b,"mouseup",this.onDocumentMouseUp.bind(this)));let l=this.chart.renderTo.parentElement;for(;l&&"BODY"!==l.tagName;)this.eventsToUnbind.push(te(l,"scroll",()=>{delete this.chartPosition})),l=l.parentElement;this.eventsToUnbind.push(te(p,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),te(p,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),B.unbindDocumentTouchEnd||(B.unbindDocumentTouchEnd=te(b,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),te(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Q)return;let p=this.pointerCaptureEventsToUnbind,b=this.chart,l=b.container,n=v(b.options.tooltip?.followTouchMove,!0)&&b.series.some(o=>o.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&n?(p.push(te(l,"pointerdown",o=>{o.target?.hasPointerCapture(o.pointerId)&&o.target?.releasePointerCapture(o.pointerId)}),te(l,"pointermove",o=>{b.pointer?.getPointFromEvent(o)?.onMouseOver(o)})),b.styledMode||L(l,{"touch-action":"none"}),l.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!n&&(p.forEach(o=>o()),p.length=0,b.styledMode||L(l,{"touch-action":v(b.options.chart.style?.["touch-action"],"manipulation")}),l.className=l.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(p){let b=this.chart,l=ce.charts[v(B.hoverChartIndex,-1)];if(l&&l!==b){let n={relatedTarget:b.container};p&&!p?.relatedTarget&&(p={...n,...p}),l.pointer?.onContainerMouseLeave(p||n)}l&&l.mouseIsDown||(B.hoverChartIndex=b.index)}touch(p,b){let l,{chart:n,pinchDown:o=[]}=this;this.setHoverChartIndex(),1===(p=this.normalize(p)).touches.length?n.isInsidePlot(p.chartX-n.plotLeft,p.chartY-n.plotTop,{visiblePlotOnly:!0})&&!n.openMenu?(b&&this.runPointActions(p),"touchmove"===p.type&&(l=!!o[0]&&Math.pow(o[0].chartX-p.chartX,2)+Math.pow(o[0].chartY-p.chartY,2)>=16),v(l,!0)&&this.pinch(p)):b&&this.reset():2===p.touches.length&&this.pinch(p)}touchSelect(p){return!(!this.chart.zooming.singleTouch||!p.touches||1!==p.touches.length)}zoomOption(p){let o,h,b=this.chart,l=b.inverted,n=b.zooming.type||"";/touch/.test(p.type)&&(n=v(b.zooming.pinchType,n)),this.zoomX=o=/x/.test(n),this.zoomY=h=/y/.test(n),this.zoomHor=o&&!l||h&&l,this.zoomVert=h&&!l||o&&l,this.hasZoom=o||h}}return(ve=B||(B={})).compose=function(S){T(he,"Core.Pointer")&&te(S,"beforeRender",function(){this.pointer=new ve(this,this.options)})},B}),Ne(Y,"Core/Legend/LegendSymbol.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{extend:xe,merge:ve,pick:me}=Z;return function(de){function he(Q,te,ee){let S,L=this.legendItem=this.legendItem||{},{chart:W,options:N}=this,{baseline:I=0,symbolWidth:C,symbolHeight:A}=Q,D=this.symbol||"circle",P=A/2,v=W.renderer,T=L.group,H=I-Math.round((Q.fontMetrics?.b||A)*(ee?.4:.3)),B={},p=N.marker,b=0;if(W.styledMode||(B["stroke-width"]=Math.min(N.lineWidth||0,24),N.dashStyle?B.dashstyle=N.dashStyle:"square"===N.linecap||(B["stroke-linecap"]="round")),L.line=v.path().addClass("highcharts-graph").attr(B).add(T),ee&&(L.area=v.path().addClass("highcharts-area").add(T)),B["stroke-linecap"]&&(b=Math.min(L.line.strokeWidth(),C)/2),C){let l=[["M",b,H],["L",C-b,H]];L.line.attr({d:l}),L.area?.attr({d:[...l,["L",C-b,I],["L",b,I]]})}if(p&&!1!==p.enabled&&C){let l=Math.min(me(p.radius,P),P);0===D.indexOf("url")&&(p=ve(p,{width:A,height:A}),l=0),L.symbol=S=v.symbol(D,C/2-l,H-l,2*l,2*l,xe({context:"legend"},p)).addClass("highcharts-point").add(T),S.isMarker=!0}}de.areaMarker=function(Q,te){he.call(this,Q,te,!0)},de.lineMarker=he,de.rectangle=function(Q,te){let ee=te.legendItem||{},W=Q.symbolHeight,N=Q.options.squareSymbol;ee.symbol=this.chart.renderer.rect(N?(Q.symbolWidth-W)/2:0,Q.baseline-W+1,N?W:Q.symbolWidth,W,me(Q.options.symbolRadius,W/2)).addClass("highcharts-point").attr({zIndex:3}).add(ee.group)}}(ce||(ce={})),ce}),Ne(Y,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:Z}=this.series.chart;return"number"!=typeof this.y?"":Z(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),Ne(Y,"Core/Series/SeriesRegistry.js",[Y["Core/Globals.js"],Y["Core/Defaults.js"],Y["Core/Series/Point.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{defaultOptions:de}=ce,{extend:he,extendClass:Q,merge:te}=ve;return function(ee){function L(W,N){let I=de.plotOptions||{},C=N.defaultOptions,A=N.prototype;return A.type=W,A.pointClass||(A.pointClass=xe),!ee.seriesTypes[W]&&(C&&(I[W]=C),ee.seriesTypes[W]=N,!0)}ee.seriesTypes=Z.seriesTypes,ee.registerSeriesType=L,ee.seriesType=function(W,N,I,C,A){let D=de.plotOptions||{};if(D[W]=te(D[N=N||""],I),delete ee.seriesTypes[W],L(W,Q(ee.seriesTypes[N]||function(){},C)),ee.seriesTypes[W].prototype.type=W,A){class P extends xe{}he(P.prototype,A),ee.seriesTypes[W].prototype.pointClass=P}return ee.seriesTypes[W]}}(me||(me={})),me}),Ne(Y,"Core/Series/Series.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Defaults.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Legend/LegendSymbol.js"],Y["Core/Series/Point.js"],Y["Core/Series/SeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee){let{animObject:L,setAnimation:W}=Z,{defaultOptions:N}=ce,{registerEventOptions:I}=xe,{svg:C,win:A}=ve,{seriesTypes:D}=Q,{arrayMax:P,arrayMin:v,clamp:T,correctFloat:H,crisp:B,defined:S,destroyObjectProperties:p,diffObjects:b,erase:l,error:n,extend:o,find:h,fireEvent:d,getClosestDistance:c,getNestedProperty:f,insertItem:u,isArray:M,isNumber:U,isString:x,merge:O,objectEach:z,pick:j,removeEvent:J,splat:y,syncTimeout:w}=ee;class E{constructor(){this.zoneAxis="y"}init(m,F){let R;d(this,"init",{options:F});let _=this,G=m.series;this.eventsToUnbind=[],_.chart=m,_.options=_.setOptions(F);let K=_.options,oe=!1!==K.visible;_.linkedSeries=[],_.bindAxes(),o(_,{name:K.name,state:"",visible:oe,selected:!0===K.selected}),I(this,K);let ae=K.events;(ae&&ae.click||K.point&&K.point.events&&K.point.events.click||K.allowPointSelect)&&(m.runTrackerClick=!0),_.getColor(),_.getSymbol(),_.parallelArrays.forEach(function(ue){_[ue+"Data"]||(_[ue+"Data"]=[])}),_.isCartesian&&(m.hasCartesianSeries=!0),G.length&&(R=G[G.length-1]),_._i=j(R&&R._i,-1)+1,_.opacity=_.options.opacity,m.orderItems("series",u(this,G)),K.dataSorting&&K.dataSorting.enabled?_.setDataSortingOptions():_.points||_.data||_.setData(K.data,!1),d(this,"afterInit")}is(m){return D[m]&&this instanceof D[m]}bindAxes(){let m,F=this,R=F.options,_=F.chart;d(this,"bindAxes",null,function(){(F.axisTypes||[]).forEach(function(G){(_[G]||[]).forEach(function(K){m=K.options,(j(R[G],0)===K.index||void 0!==R[G]&&R[G]===m.id)&&(u(F,K.series),F[G]=K,K.isDirty=!0)}),F[G]||F.optionalAxis===G||n(18,!0,_)})}),d(this,"afterBindAxes")}updateParallelArrays(m,F,R){let _=m.series,G=U(F)?function(K){let oe="y"===K&&_.toYData?_.toYData(m):m[K];_[K+"Data"][F]=oe}:function(K){Array.prototype[F].apply(_[K+"Data"],R)};_.parallelArrays.forEach(G)}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(m,F){let R=m.marker,_=F.marker||{};return R&&(_.enabled&&!R.enabled||_.symbol!==R.symbol||_.height!==R.height||_.width!==R.width)}autoIncrement(m){let oe,ae,F=this.options,R=F.pointIntervalUnit,_=F.relativeXValue,G=this.chart.time,K=this.xIncrement;return K=j(K,F.pointStart,0),this.pointInterval=ae=j(this.pointInterval,F.pointInterval,1),_&&U(m)&&(ae*=m),R&&(oe=new G.Date(K),"day"===R?G.set("Date",oe,G.get("Date",oe)+ae):"month"===R?G.set("Month",oe,G.get("Month",oe)+ae):"year"===R&&G.set("FullYear",oe,G.get("FullYear",oe)+ae),ae=oe.getTime()-K),_&&U(m)?K+ae:(this.xIncrement=K+ae,K)}setDataSortingOptions(){let m=this.options;o(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),S(m.pointRange)||(m.pointRange=1)}setOptions(m){let F,R=this.chart,_=R.options.plotOptions,G=R.userOptions||{},K=O(m),oe=R.styledMode,ae={plotOptions:_,userOptions:K};d(this,"setOptions",ae);let ue=ae.plotOptions[this.type],be=G.plotOptions||{},Se=be.series||{},ie=N.plotOptions[this.type]||{},q=be[this.type]||{};this.userOptions=ae.userOptions;let re=O(ue,_.series,q,K);this.tooltipOptions=O(N.tooltip,N.plotOptions.series?.tooltip,ie?.tooltip,R.userOptions.tooltip,be.series?.tooltip,q.tooltip,K.tooltip),this.stickyTracking=j(K.stickyTracking,q.stickyTracking,Se.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||re.stickyTracking),null===ue.marker&&delete re.marker,this.zoneAxis=re.zoneAxis||"y";let le=this.zones=(re.zones||[]).map(pe=>({...pe}));return(re.negativeColor||re.negativeFillColor)&&!re.zones&&(F={value:re[this.zoneAxis+"Threshold"]||re.threshold||0,className:"highcharts-negative"},oe||(F.color=re.negativeColor,F.fillColor=re.negativeFillColor),le.push(F)),le.length&&S(le[le.length-1].value)&&le.push(oe?{}:{color:this.color,fillColor:this.fillColor}),d(this,"afterSetOptions",{options:re}),re}getName(){return j(this.options.name,"Series "+(this.index+1))}getCyclic(m,F,R){let _,G,K=this.chart,oe=`${m}Index`,ae=`${m}Counter`,ue=R?.length||K.options.chart.colorCount;!F&&(S(G=j("color"===m?this.options.colorIndex:void 0,this[oe]))?_=G:(K.series.length||(K[ae]=0),_=K[ae]%ue,K[ae]+=1),R&&(F=R[_])),void 0!==_&&(this[oe]=_),this[m]=F}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||N.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(m,F){let R,_,G,K=m.id,oe=m.x,ae=this.points,ue=this.options.dataSorting;if(K){let be=this.chart.get(K);be instanceof de&&(R=be)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let be=Se=>!Se.touched&&Se.index===m.index;if(ue&&ue.matchByName?be=Se=>!Se.touched&&Se.name===m.name:this.options.relativeXValue&&(be=Se=>!Se.touched&&Se.options.x===m.x),!(R=h(ae,be)))return}return R&&void 0!==(G=R&&R.index)&&(_=!0),void 0===G&&U(oe)&&(G=this.xData.indexOf(oe,F)),-1!==G&&void 0!==G&&this.cropped&&(G=G>=this.cropStart?G-this.cropStart:G),!_&&U(G)&&ae[G]&&ae[G].touched&&(G=void 0),G}updateData(m,F){let ue,be,Se,ie,R=this.options,_=R.dataSorting,G=this.points,K=[],oe=this.requireSorting,ae=m.length===G.length,q=!0;if(this.xIncrement=null,m.forEach(function(re,le){let pe,ge=S(re)&&this.pointClass.prototype.optionsToObject.call({series:this},re)||{};ge.id||U(ge.x)?(-1===(pe=this.findPointIndex(ge,ie))||void 0===pe?K.push(re):G[pe]&&re!==R.data[pe]?(G[pe].update(re,!1,null,!1),G[pe].touched=!0,oe&&(ie=pe+1)):G[pe]&&(G[pe].touched=!0),(!ae||le!==pe||_&&_.enabled||this.hasDerivedData)&&(ue=!0)):K.push(re)},this),ue)for(be=G.length;be--;)(Se=G[be])&&!Se.touched&&Se.remove&&Se.remove(!1,F);else!ae||_&&_.enabled?q=!1:(m.forEach(function(re,le){re===G[le].y||G[le].destroyed||G[le].update(re,!1,null,!1)}),K.length=0);return G.forEach(function(re){re&&(re.touched=!1)}),!!q&&(K.forEach(function(re){this.addPoint(re,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=P(this.xData),this.autoIncrement()),!0)}setData(m,F=!0,R,_){let we,ye,Me,Fe,G=this,K=G.points,oe=K&&K.length||0,ae=G.options,ue=G.chart,be=ae.dataSorting,Se=G.xAxis,ie=ae.turboThreshold,q=this.xData,re=this.yData,le=G.pointArrayMap,pe=le&&le.length,ge=ae.keys,Pe=0,Re=1;ue.options.chart.allowMutatingData||(ae.data&&delete G.options.data,G.userOptions.data&&delete G.userOptions.data,Fe=O(!0,m));let De=(m=Fe||m||[]).length;if(be&&be.enabled&&(m=this.sortData(m)),ue.options.chart.allowMutatingData&&!1!==_&&De&&oe&&!G.cropped&&!G.hasGroupedData&&G.visible&&!G.boosted&&(Me=this.updateData(m,R)),!Me){G.xIncrement=null,G.colorCounter=0,this.parallelArrays.forEach(function(ze){G[ze+"Data"].length=0});let He=ie&&De>ie;if(He){let ze=G.getFirstValidPoint(m),Oe=G.getFirstValidPoint(m,De-1,-1),it=ot=>!(!M(ot)||!ge&&!U(ot[0]));if(U(ze)&&U(Oe))for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we];else if(it(ze)&&it(Oe))if(pe)if(ze.length===pe)for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we];else for(we=0;we<De;we++)ye=m[we],q[we]=ye[0],re[we]=ye.slice(1,pe+1);else if(ge&&(Pe=ge.indexOf("x"),Re=ge.indexOf("y"),Pe=Pe>=0?Pe:0,Re=Re>=0?Re:1),1===ze.length&&(Re=0),Pe===Re)for(we=0;we<De;we++)q[we]=this.autoIncrement(),re[we]=m[we][Re];else for(we=0;we<De;we++)ye=m[we],q[we]=ye[Pe],re[we]=ye[Re];else He=!1}if(!He)for(we=0;we<De;we++)ye={series:G},G.pointClass.prototype.applyOptions.apply(ye,[m[we]]),G.updateParallelArrays(ye,we);for(re&&x(re[0])&&n(14,!0,ue),G.data=[],G.options.data=G.userOptions.data=m,we=oe;we--;)K[we]?.destroy();Se&&(Se.minRange=Se.userMinRange),G.isDirty=ue.isDirtyBox=!0,G.isDirtyData=!!K,R=!1}"point"===ae.legendType&&(this.processData(),this.generatePoints()),F&&ue.redraw(R)}sortData(m){let F=this,R=F.options.dataSorting.sortKey||"y",_=function(G,K){return S(K)&&G.pointClass.prototype.optionsToObject.call({series:G},K)||{}};return m.forEach(function(G,K){m[K]=_(F,G),m[K].index=K},this),m.concat().sort((G,K)=>{let oe=f(R,G),ae=f(R,K);return ae<oe?-1:ae>oe?1:0}).forEach(function(G,K){G.x=K},this),F.linkedSeries&&F.linkedSeries.forEach(function(G){let K=G.options,oe=K.data;K.dataSorting&&K.dataSorting.enabled||!oe||(oe.forEach(function(ae,ue){oe[ue]=_(G,ae),m[ue]&&(oe[ue].x=m[ue].x,oe[ue].index=ue)}),G.setData(oe,!1))}),m}getProcessedData(m){let oe,ae,be,Se,ie,F=this,R=F.xAxis,_=F.options.cropThreshold,G=R?.logarithmic,K=F.isCartesian,ue=0,q=F.xData,re=F.yData,le=!1,pe=q.length;R&&(Se=(be=R.getExtremes()).min,ie=be.max,le=!(!R.categories||R.names.length)),K&&F.sorted&&!m&&(!_||pe>_||F.forceCrop)&&(q[pe-1]<Se||q[0]>ie?(q=[],re=[]):F.yData&&(q[0]<Se||q[pe-1]>ie)&&(q=(oe=this.cropData(F.xData,F.yData,Se,ie)).xData,re=oe.yData,ue=oe.start,ae=!0));let ge=c([G?q.map(G.log2lin):q],()=>F.requireSorting&&!le&&n(15,!1,F.chart));return{xData:q,yData:re,cropped:ae,cropStart:ue,closestPointRange:ge}}processData(m){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!m)return!1;let R=this.getProcessedData();this.cropped=R.cropped,this.cropStart=R.cropStart,this.processedXData=R.xData,this.processedYData=R.yData,this.closestPointRange=this.basePointRange=R.closestPointRange,d(this,"afterProcessData")}cropData(m,F,R,_){let K,oe,G=m.length,ae=0,ue=G;for(K=0;K<G;K++)if(m[K]>=R){ae=Math.max(0,K-1);break}for(oe=K;oe<G;oe++)if(m[oe]>_){ue=oe+1;break}return{xData:m.slice(ae,ue),yData:F.slice(ae,ue),start:ae,end:ue}}generatePoints(){let ie,q,re,le,m=this.options,F=this.processedData||m.data,R=this.processedXData,_=this.processedYData,G=this.pointClass,K=R.length,oe=this.cropStart||0,ae=this.hasGroupedData,ue=m.keys,be=[],Se=m.dataGrouping&&m.dataGrouping.groupAll?oe:0,pe=this.data;if(!pe&&!ae){let ge=[];ge.length=F.length,pe=this.data=ge}for(ue&&ae&&(this.options.keys=!1),le=0;le<K;le++)q=oe+le,ae?((re=new G(this,[R[le]].concat(y(_[le])))).dataGroup=this.groupMap[Se+le],re.dataGroup.options&&(re.options=re.dataGroup.options,o(re,re.dataGroup.options),delete re.dataLabels)):(re=pe[q])||void 0===F[q]||(pe[q]=re=new G(this,F[q],R[le])),re&&(re.index=ae?Se+le:q,be[le]=re);if(this.options.keys=ue,pe&&(K!==(ie=pe.length)||ae))for(le=0;le<ie;le++)le!==oe||ae||(le+=K),pe[le]&&(pe[le].destroyElements(),pe[le].plotX=void 0);this.data=pe,this.points=be,d(this,"afterGeneratePoints")}getXExtremes(m){return{min:v(m),max:P(m)}}getExtremes(m,F){let Se,ie,q,re,le,pe,ge,R=this.xAxis,_=this.yAxis,G=[],K=this.requireSorting&&!this.is("column")?1:0,oe=!!_&&_.positiveValuesOnly,ae=F||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:ue,processedYData:be}=this,we=0,ye=0,Me=0;if(this.cropped&&ae){let De=this.getProcessedData(!0);ue=De.xData,be=De.yData}let Pe=(m=m||this.stackedYData||be||[]).length,Re=ue||this.xData;for(R&&(we=(Se=R.getExtremes()).min,ye=Se.max),pe=0;pe<Pe;pe++)if(re=Re[pe],ie=(U(le=m[pe])||M(le))&&((U(le)?le>0:le.length)||!oe),q=F||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!R||(Re[pe+K]||re)>=we&&(Re[pe-K]||re)<=ye,ie&&q)if(ge=le.length)for(;ge--;)U(le[ge])&&(G[Me++]=le[ge]);else G[Me++]=le;let Fe={activeYData:G,dataMin:v(G),dataMax:P(G)};return d(this,"afterGetExtremes",{dataExtremes:Fe}),Fe}applyExtremes(){let m=this.getExtremes();return this.dataMin=m.dataMin,this.dataMax=m.dataMax,m}getFirstValidPoint(m,F=0,R=1){let _=m.length,G=F;for(;G>=0&&G<_;){if(S(m[G]))return m[G];G+=R}}translate(){this.processedXData||this.processData(),this.generatePoints();let q,re,le,pe,m=this.options,F=m.stacking,R=this.xAxis,_=R.categories,G=this.enabledDataSorting,K=this.yAxis,oe=this.points,ae=oe.length,ue=this.pointPlacementToXValue(),be=!!ue,Se=m.threshold,ie=m.startFromThreshold?Se:0,ge=Number.MAX_VALUE;function we(ye){return T(ye,-1e9,1e9)}for(q=0;q<ae;q++){let ye,Re,Fe,Me=oe[q],Pe=Me.x,De=Me.y,He=Me.low,ze=F&&K.stacking?.stacks[(this.negStacks&&De<(ie?0:Se)?"-":"")+this.stackKey];re=R.translate(Pe,!1,!1,!1,!0,ue),Me.plotX=U(re)?H(we(re)):void 0,F&&this.visible&&ze&&ze[Pe]&&(pe=this.getStackIndicator(pe,Pe,this.index),!Me.isNull&&pe.key&&(Fe=(Re=ze[Pe]).points[pe.key]),Re&&M(Fe)&&(He=Fe[0],De=Fe[1],He===ie&&pe.key===ze[Pe].base&&(He=j(U(Se)?Se:K.min)),K.positiveValuesOnly&&S(He)&&He<=0&&(He=void 0),Me.total=Me.stackTotal=j(Re.total),Me.percentage=S(Me.y)&&Re.total?Me.y/Re.total*100:void 0,Me.stackY=De,this.irregularWidths||Re.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Me.yBottom=S(He)?we(K.translate(He,!1,!0,!1,!0)):void 0,this.dataModify&&(De=this.dataModify.modifyValue(De,q)),U(De)&&void 0!==Me.plotX&&(ye=U(ye=K.translate(De,!1,!0,!1,!0))?we(ye):void 0),Me.plotY=ye,Me.isInside=this.isPointInside(Me),Me.clientX=be?H(R.translate(Pe,!1,!1,!1,!0,ue)):re,Me.negative=(Me.y||0)<(Se||0),Me.category=j(_&&_[Me.x],Me.x),Me.isNull||!1===Me.visible||(void 0!==le&&(ge=Math.min(ge,Math.abs(re-le))),le=re),Me.zone=this.zones.length?Me.getZone():void 0,!Me.graphic&&this.group&&G&&(Me.isNew=!0)}this.closestPointRangePx=ge,d(this,"afterTranslate")}getValidPoints(m,F,R){let _=this.chart;return(m||this.points||[]).filter(function(G){let{plotX:K,plotY:oe}=G;return!(!(R||!G.isNull&&U(oe))||F&&!_.isInsidePlot(K,oe,{inverted:_.inverted}))&&!1!==G.visible})}getClipBox(){let{chart:m,xAxis:F,yAxis:R}=this,{x:_,y:G,width:K,height:oe}=O(m.clipBox);return F&&F.len!==m.plotSizeX&&(K=F.len),R&&R.len!==m.plotSizeY&&(oe=R.len),m.inverted&&!this.invertible&&([K,oe]=[oe,K]),{x:_,y:G,width:K,height:oe}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:m,group:F,markerGroup:R}=this,_=m.sharedClips,G=m.renderer,K=this.getClipBox(),oe=this.getSharedClipKey(),ae=_[oe];ae?ae.animate(K):_[oe]=ae=G.clipRect(K),F&&F.clip(!1===this.options.clip?void 0:ae),R&&R.clip()}animate(m){let{chart:F,group:R,markerGroup:_}=this,G=F.inverted,K=L(this.options.animation),oe=[this.getSharedClipKey(),K.duration,K.easing,K.defer].join(","),ae=F.sharedClips[oe],ue=F.sharedClips[oe+"m"];if(m&&R){let be=this.getClipBox();ae?ae.attr("height",be.height):(be.width=0,G&&(be.x=F.plotHeight),ae=F.renderer.clipRect(be),F.sharedClips[oe]=ae,ue=F.renderer.clipRect({x:-99,y:-99,width:G?F.plotWidth+199:99,height:G?99:F.plotHeight+199}),F.sharedClips[oe+"m"]=ue),R.clip(ae),_?.clip(ue)}else if(ae&&!ae.hasClass("highcharts-animating")){let be=this.getClipBox(),Se=K.step;(_?.element.childNodes.length||F.series.length>1)&&(K.step=function(ie,q){Se&&Se.apply(q,arguments),"width"===q.prop&&ue?.element&&ue.attr(G?"height":"width",ie+99)}),ae.addClass("highcharts-animating").animate(be,K)}}afterAnimate(){this.setClip(),z(this.chart.sharedClips,(m,F,R)=>{m&&!this.chart.container.querySelector(`[clip-path="url(#${m.id})"]`)&&(m.destroy(),delete R[F])}),this.finishedAnimating=!0,d(this,"afterAnimate")}drawPoints(m=this.points){let F,R,_,G,K,oe,ae,ue=this.chart,be=ue.styledMode,{colorAxis:Se,options:ie}=this,q=ie.marker,re=this[this.specialGroup||"markerGroup"],le=this.xAxis,pe=j(q.enabled,!le||!!le.isRadial||null,this.closestPointRangePx>=q.enabledThreshold*q.radius);if(!1!==q.enabled||this._hasPointMarkers)for(F=0;F<m.length;F++)if(G=(_=(R=m[F]).graphic)?"animate":"attr",K=R.marker||{},oe=!!R.marker,(pe&&void 0===K.enabled||K.enabled)&&!R.isNull&&!1!==R.visible){let ge=j(K.symbol,this.symbol,"rect");ae=this.markerAttribs(R,R.selected&&"select"),this.enabledDataSorting&&(R.startXPos=le.reversed?-(ae.width||0):le.width);let we=!1!==R.isInside;if(!_&&we&&((ae.width||0)>0||R.hasImage)&&(R.graphic=_=ue.renderer.symbol(ge,ae.x,ae.y,ae.width,ae.height,oe?K:q).add(re),this.enabledDataSorting&&ue.hasRendered&&(_.attr({x:R.startXPos}),G="animate")),_&&"animate"===G&&_[we?"show":"hide"](we).animate(ae),_){let ye=this.pointAttribs(R,be||!R.selected?void 0:"select");be?Se&&_.css({fill:ye.fill}):_[G](ye)}_&&_.addClass(R.getClassName(),!0)}else _&&(R.graphic=_.destroy())}markerAttribs(m,F){let ae,ue,R=this.options,_=R.marker,G=m.marker||{},K=G.symbol||_.symbol,oe={},be=j(G.radius,_&&_.radius);F&&(ae=_.states[F],be=j((ue=G.states&&G.states[F])&&ue.radius,ae&&ae.radius,be&&be+(ae&&ae.radiusPlus||0))),m.hasImage=K&&0===K.indexOf("url"),m.hasImage&&(be=0);let Se=m.pos();return U(be)&&Se&&(R.crisp&&(Se[0]=B(Se[0],m.hasImage?0:"rect"===K?_?.lineWidth||0:1)),oe.x=Se[0]-be,oe.y=Se[1]-be),be&&(oe.width=oe.height=2*be),oe}pointAttribs(m,F){let ue,be,ie,q,R=this.options.marker,_=m&&m.options,G=_&&_.marker||{},K=_&&_.color,oe=m&&m.color,ae=m&&m.zone&&m.zone.color,Se=this.color,re=j(G.lineWidth,R.lineWidth),le=1;return Se=K||ae||oe||Se,ie=G.fillColor||R.fillColor||Se,q=G.lineColor||R.lineColor||Se,ue=R.states[F=F||"normal"]||{},re=j((be=G.states&&G.states[F]||{}).lineWidth,ue.lineWidth,re+j(be.lineWidthPlus,ue.lineWidthPlus,0)),ie=be.fillColor||ue.fillColor||ie,{stroke:q=be.lineColor||ue.lineColor||q,"stroke-width":re,fill:ie,opacity:le=j(be.opacity,ue.opacity,le)}}destroy(m){let F,R,_,G=this,K=G.chart,oe=/AppleWebKit\/533/.test(A.navigator.userAgent),ae=G.data||[];for(d(G,"destroy",{keepEventsForUpdate:m}),this.removeEvents(m),(G.axisTypes||[]).forEach(function(ue){(_=G[ue])&&_.series&&(l(_.series,G),_.isDirty=_.forceRedraw=!0)}),G.legendItem&&G.chart.legend.destroyItem(G),F=ae.length;F--;)(R=ae[F])&&R.destroy&&R.destroy();for(let ue of G.zones)p(ue,void 0,!0);ee.clearTimeout(G.animationTimeout),z(G,function(ue,be){ue instanceof te&&!ue.survive&&ue[oe&&"group"===be?"hide":"destroy"]()}),K.hoverSeries===G&&(K.hoverSeries=void 0),l(K.series,G),K.orderItems("series"),z(G,function(ue,be){m&&"hcEvents"===be||delete G[be]})}applyZones(){let{area:m,chart:F,graph:R,zones:_,points:G,xAxis:K,yAxis:oe,zoneAxis:ae}=this,{inverted:ue,renderer:be}=F,Se=this[`${ae}Axis`],{isXAxis:ie,len:q=0}=Se||{},re=(R?.strokeWidth()||0)/2+1,le=(pe,ge=0,we=0)=>{ue&&(we=q-we);let{translated:ye=0,lineClip:Me}=pe,Pe=we-ye;Me?.push(["L",ge,Math.abs(Pe)<re?we-re*(Pe<=0?-1:1):ye])};if(_.length&&(R||m)&&Se&&U(Se.min)){let pe=Se.getExtremes().max,ge=Me=>{Me.forEach((Pe,Re)=>{("M"===Pe[0]||"L"===Pe[0])&&(Me[Re]=[Pe[0],ie?q-Pe[1]:Pe[1],ie?Pe[2]:q-Pe[2]])})};if(_.forEach(Me=>{Me.lineClip=[],Me.translated=T(Se.toPixels(j(Me.value,pe),!0)||0,0,q)}),R&&!this.showLine&&R.hide(),m&&m.hide(),"y"===ae&&G.length<K.len)for(let Me of G){let{plotX:Pe,plotY:Re,zone:Fe}=Me,De=Fe&&_[_.indexOf(Fe)-1];Fe&&le(Fe,Pe,Re),De&&le(De,Pe,Re)}let we=[],ye=Se.toPixels(Se.getExtremes().min,!0);_.forEach(Me=>{let Pe=Me.lineClip||[],Re=Math.round(Me.translated||0);K.reversed&&Pe.reverse();let{clip:Fe,simpleClip:De}=Me,He=0,ze=0,Oe=K.len,it=oe.len;ie?(He=Re,Oe=ye):(ze=Re,it=ye);let ot=[["M",He,ze],["L",Oe,ze],["L",Oe,it],["L",He,it],["Z"]],rt=[ot[0],...Pe,ot[1],ot[2],...we,ot[3],ot[4]];we=Pe.reverse(),ye=Re,ue&&(ge(rt),m&&ge(ot)),Fe?(Fe.animate({d:rt}),De?.animate({d:ot})):(Fe=Me.clip=be.path(rt),m&&(De=Me.simpleClip=be.path(ot))),R&&Me.graph?.clip(Fe),m&&Me.area?.clip(De)})}else this.visible&&(R&&R.show(),m&&m.show())}plotGroup(m,F,R,_,G){let K=this[m],oe=!K,ae={visibility:R,zIndex:_||.1};return S(this.opacity)&&!this.chart.styledMode&&"inactive"!==this.state&&(ae.opacity=this.opacity),K||(this[m]=K=this.chart.renderer.g().add(G)),K.addClass("highcharts-"+F+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(S(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(K.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),K.attr(ae)[oe?"attr":"animate"](this.getPlotBox(F)),K}getPlotBox(m){let F=this.xAxis,R=this.yAxis,_=this.chart,G=_.inverted&&!_.polar&&F&&this.invertible&&"series"===m;return _.inverted&&(F=R,R=this.xAxis),{translateX:F?F.left:_.plotLeft,translateY:R?R.top:_.plotTop,rotation:G?90:0,rotationOriginX:G?(F.len-R.len)/2:0,rotationOriginY:G?(F.len+R.len)/2:0,scaleX:G?-1:1,scaleY:1}}removeEvents(m){let{eventsToUnbind:F}=this;m||J(this),F.length&&(F.forEach(R=>{R()}),F.length=0)}render(){let m=this,{chart:F,options:R,hasRendered:_}=m,G=L(R.animation),K=m.visible?"inherit":"hidden",oe=R.zIndex,ae=F.seriesGroup,ue=m.finishedAnimating?0:G.duration;d(this,"render"),m.plotGroup("group","series",K,oe,ae),m.markerGroup=m.plotGroup("markerGroup","markers",K,oe,ae),!1!==R.clip&&m.setClip(),ue&&m.animate?.(!0),m.drawGraph&&(m.drawGraph(),m.applyZones()),m.visible&&m.drawPoints(),m.drawDataLabels?.(),m.redrawPoints?.(),R.enableMouseTracking&&m.drawTracker?.(),ue&&m.animate?.(),_||(ue&&G.defer&&(ue+=G.defer),m.animationTimeout=w(()=>{m.afterAnimate()},ue||0)),m.isDirty=!1,m.hasRendered=!0,d(m,"afterRender")}redraw(){let m=this.isDirty||this.isDirtyData;this.translate(),this.render(),m&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(m,F){let{xAxis:R,yAxis:_}=this,G=this.chart.inverted;return this.searchKDTree({clientX:G?R.len-m.chartY+R.pos:m.chartX-R.pos,plotY:G?_.len-m.chartX+_.pos:m.chartY-_.pos},F,m)}buildKDTree(m){this.buildingKdTree=!0;let F=this,R=F.options.findNearestPointBy.indexOf("y")>-1?2:1;delete F.kdTree,w(function(){F.kdTree=function _(G,K,oe){let ae,ue,be=G?.length;if(be)return ae=F.kdAxisArray[K%oe],G.sort((Se,ie)=>(Se[ae]||0)-(ie[ae]||0)),{point:G[ue=Math.floor(be/2)],left:_(G.slice(0,ue),K+1,oe),right:_(G.slice(ue+1),K+1,oe)}}(F.getValidPoints(void 0,!F.directTouch),R,R),F.buildingKdTree=!1},F.options.kdNow||"touchstart"===m?.type?0:1)}searchKDTree(m,F,R){let _=this,[G,K]=this.kdAxisArray,oe=F?"distX":"dist",ae=(_.options.findNearestPointBy||"").indexOf("y")>-1?2:1,ue=!!_.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(R),this.kdTree)return function be(Se,ie,q,re){let ge,we,le=ie.point,pe=_.kdAxisArray[q%re],ye=le;!function(Fe,De){let He=Fe[G],ze=De[G],Oe=S(He)&&S(ze)?He-ze:null,it=Fe[K],ot=De[K],rt=S(it)&&S(ot)?it-ot:0,bt=ue&&De.marker?.radius||0;De.dist=Math.sqrt((Oe&&Oe*Oe||0)+rt*rt)-bt,De.distX=S(Oe)?Math.abs(Oe)-bt:Number.MAX_VALUE}(Se,le);let Me=(Se[pe]||0)-(le[pe]||0)+(ue&&le.marker?.radius||0),Pe=Me<0?"left":"right",Re=Me<0?"right":"left";return ie[Pe]&&(ye=(ge=be(Se,ie[Pe],q+1,re))[oe]<ye[oe]?ge:le),ie[Re]&&Math.sqrt(Me*Me)<ye[oe]&&(ye=(we=be(Se,ie[Re],q+1,re))[oe]<ye[oe]?we:ye),ye}(m,this.kdTree,ae,ae)}pointPlacementToXValue(){let{options:m,xAxis:F}=this,R=m.pointPlacement;return"between"===R&&(R=F.reversed?-.5:.5),U(R)?R*(m.pointRange||F.pointRange):0}isPointInside(m){let{chart:F,xAxis:R,yAxis:_}=this,{plotX:G=-1,plotY:K=-1}=m;return K>=0&&K<=(_?_.len:F.plotHeight)&&G>=0&&G<=(R?R.len:F.plotWidth)}drawTracker(){let m=this,F=m.options,R=F.trackByArea,_=[].concat((R?m.areaPath:m.graphPath)||[]),G=m.chart,K=G.pointer,oe=G.renderer,ae=G.options.tooltip?.snap||0,ue=()=>{F.enableMouseTracking&&G.hoverSeries!==m&&m.onMouseOver()},be="rgba(192,192,192,"+(C?1e-4:.002)+")",Se=m.tracker;Se?Se.attr({d:_}):m.graph&&(m.tracker=Se=oe.path(_).attr({visibility:m.visible?"inherit":"hidden",zIndex:2}).addClass(R?"highcharts-tracker-area":"highcharts-tracker-line").add(m.group),G.styledMode||Se.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:be,fill:R?be:"none","stroke-width":m.graph.strokeWidth()+(R?0:2*ae)}),[m.tracker,m.markerGroup,m.dataLabelsGroup].forEach(ie=>{ie&&(ie.addClass("highcharts-tracker").on("mouseover",ue).on("mouseout",q=>{K?.onTrackerMouseOut(q)}),F.cursor&&!G.styledMode&&ie.css({cursor:F.cursor}),ie.on("touchstart",ue))})),d(this,"afterDrawTracker")}addPoint(m,F,R,_,G){let K,oe,ae=this.options,ue=this.data,be=this.chart,Se=this.xAxis,ie=Se&&Se.hasNames&&Se.names,q=ae.data,re=this.xData;F=j(F,!0);let le={series:this};this.pointClass.prototype.applyOptions.apply(le,[m]);let pe=le.x;if(oe=re.length,this.requireSorting&&pe<re[oe-1])for(K=!0;oe&&re[oe-1]>pe;)oe--;this.updateParallelArrays(le,"splice",[oe,0,0]),this.updateParallelArrays(le,oe),ie&&le.name&&(ie[pe]=le.name),q.splice(oe,0,m),(K||this.processedData)&&(this.data.splice(oe,0,null),this.processData()),"point"===ae.legendType&&this.generatePoints(),R&&(ue[0]&&ue[0].remove?ue[0].remove(!1):(ue.shift(),this.updateParallelArrays(le,"shift"),q.shift())),!1!==G&&d(this,"addPoint",{point:le}),this.isDirty=!0,this.isDirtyData=!0,F&&be.redraw(_)}removePoint(m,F,R){let _=this,G=_.data,K=G[m],oe=_.points,ae=_.chart,ue=function(){oe&&oe.length===G.length&&oe.splice(m,1),G.splice(m,1),_.options.data.splice(m,1),_.updateParallelArrays(K||{series:_},"splice",[m,1]),K&&K.destroy(),_.isDirty=!0,_.isDirtyData=!0,F&&ae.redraw()};W(R,ae),F=j(F,!0),K?K.firePointEvent("remove",null,ue):ue()}remove(m,F,R,_){let G=this,K=G.chart;function oe(){G.destroy(_),K.isDirtyLegend=K.isDirtyBox=!0,K.linkSeries(_),j(m,!0)&&K.redraw(F)}!1!==R?d(G,"remove",null,oe):oe()}update(m,F){d(this,"update",{options:m=b(m,this.userOptions)});let Se,ie,R=this,_=R.chart,G=R.userOptions,K=R.initialType||R.type,oe=_.options.plotOptions,ae=D[K].prototype,ue=R.finishedAnimating&&{animation:!1},be={},q=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],re=m.type||G.type||_.options.chart.type,le=!(this.hasDerivedData||re&&re!==this.type||void 0!==m.pointStart||void 0!==m.pointInterval||void 0!==m.relativeXValue||m.joinBy||m.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(ge=>R.hasOptionChanged(ge)));re=re||K,le&&(q.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),!1!==m.visible&&q.push("area","graph"),R.parallelArrays.forEach(function(ge){q.push(ge+"Data")}),m.data&&(m.dataSorting&&o(R.options.dataSorting,m.dataSorting),this.setData(m.data,!1))),m=O(G,{index:void 0===G.index?R.index:G.index,pointStart:oe?.series?.pointStart??G.pointStart??R.xData?.[0]},!le&&{data:R.options.data},m,ue),le&&m.data&&(m.data=R.options.data),(q=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(q)).forEach(function(ge){q[ge]=R[ge],delete R[ge]});let pe=!1;if(D[re]){if(pe=re!==R.type,R.remove(!1,!1,!1,!0),pe)if(_.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(R,D[re].prototype);else{let ge=Object.hasOwnProperty.call(R,"hcEvents")&&R.hcEvents;for(ie in ae)R[ie]=void 0;o(R,D[re].prototype),ge?R.hcEvents=ge:delete R.hcEvents}}else n(17,!0,_,{missingModuleFor:re});if(q.forEach(function(ge){R[ge]=q[ge]}),R.init(_,m),le&&this.points)for(let ge of(!1===(Se=R.options).visible?(be.graphic=1,be.dataLabel=1):(this.hasMarkerChanged(Se,G)&&(be.graphic=1),R.hasDataLabels?.()||(be.dataLabel=1)),this.points))ge&&ge.series&&(ge.resolveColor(),Object.keys(be).length&&ge.destroyElements(be),!1===Se.showInLegend&&ge.legendItem&&_.legend.destroyItem(ge));R.initialType=K,_.linkSeries(),_.setSortedData(),pe&&R.linkedSeries.length&&(R.isDirtyData=!0),d(this,"afterUpdate"),j(F,!0)&&_.redraw(!!le&&void 0)}setName(m){this.name=this.options.name=this.userOptions.name=m,this.chart.isDirtyLegend=!0}hasOptionChanged(m){let R=this.options[m],_=this.chart.options.plotOptions,G=this.userOptions[m],K=j(_?.[this.type]?.[m],_?.series?.[m]);return G&&!S(K)?R!==G:R!==j(K,R)}onMouseOver(){let m=this.chart,F=m.hoverSeries;m.pointer?.setHoverChartIndex(),F&&F!==this&&F.onMouseOut(),this.options.events.mouseOver&&d(this,"mouseOver"),this.setState("hover"),m.hoverSeries=this}onMouseOut(){let m=this.options,F=this.chart,R=F.tooltip,_=F.hoverPoint;F.hoverSeries=null,_&&_.onMouseOut(),this&&m.events.mouseOut&&d(this,"mouseOut"),R&&!this.stickyTracking&&(!R.shared||this.noSharedTooltip)&&R.hide(),F.series.forEach(function(G){G.setState("",!0)})}setState(m,F){let R=this,_=R.options,G=R.graph,K=_.inactiveOtherPoints,oe=_.states,ae=j(oe[m||"normal"]&&oe[m||"normal"].animation,R.chart.options.chart.animation),ue=_.lineWidth,be=_.opacity;if(R.state!==(m=m||"")&&([R.group,R.markerGroup,R.dataLabelsGroup].forEach(function(Se){Se&&(R.state&&Se.removeClass("highcharts-series-"+R.state),m&&Se.addClass("highcharts-series-"+m))}),R.state=m,!R.chart.styledMode)){if(oe[m]&&!1===oe[m].enabled)return;if(m&&(ue=oe[m].lineWidth||ue+(oe[m].lineWidthPlus||0),be=j(oe[m].opacity,be)),G&&!G.dashstyle&&U(ue))for(let Se of[G,...this.zones.map(ie=>ie.graph)])Se?.animate({"stroke-width":ue},ae);K||[R.group,R.markerGroup,R.dataLabelsGroup,R.labelBySeries].forEach(function(Se){Se&&Se.animate({opacity:be},ae)})}F&&K&&R.points&&R.setAllPointsToState(m||void 0)}setAllPointsToState(m){this.points.forEach(function(F){F.setState&&F.setState(m)})}setVisible(m,F){let R=this,_=R.chart,G=_.options.chart.ignoreHiddenSeries;R.visible=m=R.options.visible=R.userOptions.visible=void 0===m?!R.visible:m;let oe=m?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(ae=>{R[ae]?.[oe]()}),(_.hoverSeries===R||_.hoverPoint?.series===R)&&R.onMouseOut(),R.legendItem&&_.legend.colorizeItem(R,m),R.isDirty=!0,R.options.stacking&&_.series.forEach(ae=>{ae.options.stacking&&ae.visible&&(ae.isDirty=!0)}),R.linkedSeries.forEach(ae=>{ae.setVisible(m,!1)}),G&&(_.isDirtyBox=!0),d(R,oe),!1!==F&&_.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(m){this.selected=m=this.options.selected=void 0===m?!this.selected:m,this.checkbox&&(this.checkbox.checked=m),d(this,m?"select":"unselect")}shouldShowTooltip(m,F,R={}){return R.series=this,R.visiblePlotOnly=!0,this.chart.isInsidePlot(m,F,R)}drawLegendSymbol(m,F){me[this.options.legendSymbol||"rectangle"]?.call(this,m,F)}}return E.defaultOptions=he,E.types=Q.seriesTypes,E.registerType=Q.registerSeriesType,o(E.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:de,requireSorting:!0,sorted:!0}),Q.series=E,E}),Ne(Y,"Core/Legend/Legend.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Series/Point.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){var te;let{animObject:ee,setAnimation:L}=Z,{registerEventOptions:W}=ce,{composed:N,marginNames:I}=xe,{distribute:C}=de,{format:A}=he,{addEvent:D,createElement:P,css:v,defined:T,discardElement:H,find:B,fireEvent:S,isNumber:p,merge:b,pick:l,pushUnique:n,relativeLength:o,stableSort:h,syncTimeout:d}=Q;class c{constructor(u,M){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=u,this.setOptions(M),M.enabled&&(this.render(),W(this,M),D(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),D(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(u){let M=l(u.padding,8);this.options=u,this.chart.styledMode||(this.itemStyle=u.itemStyle,this.itemHiddenStyle=b(this.itemStyle,u.itemHiddenStyle)),this.itemMarginTop=u.itemMarginTop,this.itemMarginBottom=u.itemMarginBottom,this.padding=M,this.initialItemY=M-5,this.symbolWidth=l(u.symbolWidth,16),this.pages=[],this.proximate="proximate"===u.layout&&!this.chart.inverted,this.baseline=void 0}update(u,M){let U=this.chart;this.setOptions(b(!0,this.options,u)),"events"in this.options&&W(this,this.options),this.destroy(),U.isDirtyLegend=U.isDirtyBox=!0,l(M,!0)&&U.redraw(),S(this,"afterUpdate",{redraw:M})}colorizeItem(u,M){let{area:U,group:x,label:O,line:z,symbol:j}=u.legendItem||{};if(x?.[M?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:J={}}=this,y=J.color,{fillColor:w,fillOpacity:E,lineColor:X,marker:m}=u.options,F=R=>(!M&&(R.fill&&(R.fill=y),R.stroke&&(R.stroke=y)),R);O?.css(b(M?this.itemStyle:J)),z?.attr(F({stroke:X||u.color})),j&&j.attr(F(m&&j.isMarker?u.pointAttribs():{fill:u.color})),U?.attr(F({fill:w||u.color,"fill-opacity":w?1:E??.75}))}S(this,"afterColorizeItem",{item:u,visible:M})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(u){let{group:M,x:U=0,y:x=0}=u.legendItem||{},O=this.options,J=u.checkbox;if(M&&M.element){let y={translateX:O.rtl?this.legendWidth-U-2*O.symbolPadding-4:U,translateY:x};M[T(M.translateY)?"animate":"attr"](y,void 0,()=>{S(this,"afterPositionItem",{item:u})})}J&&(J.x=U,J.y=x)}destroyItem(u){let M=u.checkbox,U=u.legendItem||{};for(let x of["group","label","line","symbol"])U[x]&&(U[x]=U[x].destroy());M&&H(M),u.legendItem=void 0}destroy(){for(let u of this.getAllItems())this.destroyItem(u);for(let u of["clipRect","up","down","pager","nav","box","title","group"])this[u]&&(this[u]=this[u].destroy());this.display=null}positionCheckboxes(){let u,M=this.group&&this.group.alignAttr,U=this.clipHeight||this.legendHeight,x=this.titleHeight;M&&(u=M.translateY,this.allItems.forEach(function(O){let z,j=O.checkbox;j&&(z=u+x+j.y+(this.scrollOffset||0)+3,v(j,{left:M.translateX+O.checkboxOffset+j.x-20+"px",top:z+"px",display:this.proximate||z>u-6&&z<u+U-6?"":"none"}))},this))}renderTitle(){let x,u=this.options,M=this.padding,U=u.title,O=0;U.text&&(this.title||(this.title=this.chart.renderer.label(U.text,M-3,M-4,void 0,void 0,void 0,u.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(U.style),this.title.add(this.group)),U.width||this.title.css({width:this.maxLegendWidth+"px"}),O=(x=this.title.getBBox()).height,this.offsetWidth=x.width,this.contentGroup.attr({translateY:O})),this.titleHeight=O}setText(u){let M=this.options;u.legendItem.label.attr({text:M.labelFormat?A(M.labelFormat,u,this.chart):M.labelFormatter.call(u)})}renderItem(u){let M=u.legendItem=u.legendItem||{},U=this.chart,x=U.renderer,O=this.options,j=this.symbolWidth,J=O.symbolPadding||0,y=this.itemStyle,w=this.itemHiddenStyle,E="horizontal"===O.layout?l(O.itemDistance,20):0,X=!O.rtl,m=!u.series,F=!m&&u.series.drawLegendSymbol?u.series:u,R=F.options,_=!!this.createCheckboxForItem&&R&&R.showCheckbox,G=O.useHTML,K=u.options.className,oe=M.label,ae=j+J+E+(_?20:0);!oe&&(M.group=x.g("legend-item").addClass("highcharts-"+F.type+"-series highcharts-color-"+u.colorIndex+(K?" "+K:"")+(m?" highcharts-series-"+u.index:"")).attr({zIndex:1}).add(this.scrollGroup),M.label=oe=x.text("",X?j+J:-J,this.baseline||0,G),U.styledMode||oe.css(b(u.visible?y:w)),oe.attr({align:X?"left":"right",zIndex:2}).add(M.group),!this.baseline&&(this.fontMetrics=x.fontMetrics(oe),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,oe.attr("y",this.baseline),this.symbolHeight=l(O.symbolHeight,this.fontMetrics.f),O.squareSymbol&&(this.symbolWidth=l(O.symbolWidth,Math.max(this.symbolHeight,16)),ae=this.symbolWidth+J+E+(_?20:0),X&&oe.attr("x",this.symbolWidth+J))),F.drawLegendSymbol(this,u),this.setItemEvents&&this.setItemEvents(u,oe,G)),_&&!u.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(u),this.colorizeItem(u,u.visible),(U.styledMode||!y.width)&&oe.css({width:(O.itemWidth||this.widthOption||U.spacingBox.width)-ae+"px"}),this.setText(u);let ue=oe.getBBox(),be=this.fontMetrics&&this.fontMetrics.h||0;u.itemWidth=u.checkboxOffset=O.itemWidth||M.labelWidth||ue.width+ae,this.maxItemWidth=Math.max(this.maxItemWidth,u.itemWidth),this.totalItemWidth+=u.itemWidth,this.itemHeight=u.itemHeight=Math.round(M.labelHeight||(ue.height>1.5*be?ue.height:be))}layoutItem(u){let M=this.options,U=this.padding,x="horizontal"===M.layout,O=u.itemHeight,z=this.itemMarginBottom,j=this.itemMarginTop,J=x?l(M.itemDistance,20):0,y=this.maxLegendWidth,w=M.alignColumns&&this.totalItemWidth>y?this.maxItemWidth:u.itemWidth,E=u.legendItem||{};x&&this.itemX-U+w>y&&(this.itemX=U,this.lastLineHeight&&(this.itemY+=j+this.lastLineHeight+z),this.lastLineHeight=0),this.lastItemY=j+this.itemY+z,this.lastLineHeight=Math.max(O,this.lastLineHeight),E.x=this.itemX,E.y=this.itemY,x?this.itemX+=w:(this.itemY+=j+O+z,this.lastLineHeight=O),this.offsetWidth=this.widthOption||Math.max((x?this.itemX-U-(u.checkbox?0:J):w)+U,this.offsetWidth)}getAllItems(){let u=[];return this.chart.series.forEach(function(M){let U=M&&M.options;M&&l(U.showInLegend,!T(U.linkedTo)&&void 0,!0)&&(u=u.concat((M.legendItem||{}).labels||("point"===U.legendType?M.data:M)))}),S(this,"afterGetAllItems",{allItems:u}),u}getAlignment(){let u=this.options;return this.proximate?u.align.charAt(0)+"tv":u.floating?"":u.align.charAt(0)+u.verticalAlign.charAt(0)+u.layout.charAt(0)}adjustMargins(u,M){let U=this.chart,x=this.options,O=this.getAlignment();O&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(z,j){z.test(O)&&!T(u[j])&&(U[I[j]]=Math.max(U[I[j]],U.legend[(j+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][j]*x[j%2?"x":"y"]+l(x.margin,12)+M[j]+(U.titleOffset[j]||0)))})}proximatePositions(){let u,M=this.chart,U=[],x="left"===this.options.align;for(let O of(this.allItems.forEach(function(z){let j,J,w,E,y=x;z.yAxis&&(z.xAxis.options.reversed&&(y=!y),z.points&&(j=B(y?z.points:z.points.slice(0).reverse(),function(X){return p(X.plotY)})),J=this.itemMarginTop+z.legendItem.label.getBBox().height+this.itemMarginBottom,E=z.yAxis.top-M.plotTop,w=z.visible?(j?j.plotY:z.yAxis.height)+(E-.3*J):E+z.yAxis.height,U.push({target:w,size:J,item:z}))},this),C(U,M.plotHeight)))u=O.item.legendItem||{},p(O.pos)&&(u.y=M.plotTop-M.spacing[0]+O.pos)}render(){let z,j,J,w,u=this.chart,M=u.renderer,U=this.options,x=this.padding,O=this.getAllItems(),y=this.group,E=this.box;this.itemX=x,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=o(U.width,u.spacingBox.width-x),w=u.spacingBox.width-2*x-U.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(w/=2),this.maxLegendWidth=this.widthOption||w,y||(this.group=y=M.g("legend").addClass(U.className||"").attr({zIndex:7}).add(),this.contentGroup=M.g().attr({zIndex:1}).add(y),this.scrollGroup=M.g().add(this.contentGroup)),this.renderTitle(),h(O,(X,m)=>(X.options&&X.options.legendIndex||0)-(m.options&&m.options.legendIndex||0)),U.reversed&&O.reverse(),this.allItems=O,this.display=z=!!O.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,O.forEach(this.renderItem,this),O.forEach(this.layoutItem,this),j=(this.widthOption||this.offsetWidth)+x,J=this.lastItemY+this.lastLineHeight+this.titleHeight,J=this.handleOverflow(J)+x,E||(this.box=E=M.rect().addClass("highcharts-legend-box").attr({r:U.borderRadius}).add(y)),u.styledMode||E.attr({stroke:U.borderColor,"stroke-width":U.borderWidth||0,fill:U.backgroundColor||"none"}).shadow(U.shadow),j>0&&J>0&&E[E.placed?"animate":"attr"](E.crisp.call({},{x:0,y:0,width:j,height:J},E.strokeWidth())),y[z?"show":"hide"](),u.styledMode&&"none"===y.getStyle("display")&&(j=J=0),this.legendWidth=j,this.legendHeight=J,z&&this.align(),this.proximate||this.positionItems(),S(this,"afterRender")}align(u=this.chart.spacingBox){let M=this.chart,U=this.options,x=u.y;/(lth|ct|rth)/.test(this.getAlignment())&&M.titleOffset[0]>0?x+=M.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&M.titleOffset[2]>0&&(x-=M.titleOffset[2]),x!==u.y&&(u=b(u,{y:x})),M.hasRendered||(this.group.placed=!1),this.group.align(b(U,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":U.verticalAlign}),!0,u)}handleOverflow(u){let G,K,oe,M=this,U=this.chart,x=U.renderer,O=this.options,z=O.y,j="top"===O.verticalAlign,J=this.padding,y=O.maxHeight,w=O.navigation,E=l(w.animation,!0),X=w.arrowSize||12,m=this.pages,F=this.allItems,R=function(Se){"number"==typeof Se?be.attr({height:Se}):be&&(M.clipRect=be.destroy(),M.contentGroup.clip()),M.contentGroup.div&&(M.contentGroup.div.style.clip=Se?"rect("+J+"px,9999px,"+(J+Se)+"px,0)":"auto")},_=function(Se){return M[Se]=x.circle(0,0,1.3*X).translate(X/2,X/2).add(ue),U.styledMode||M[Se].attr("fill","rgba(0,0,0,0.0001)"),M[Se]},ae=U.spacingBox.height+(j?-z:z)-J,ue=this.nav,be=this.clipRect;return"horizontal"!==O.layout||"middle"===O.verticalAlign||O.floating||(ae/=2),y&&(ae=Math.min(ae,y)),m.length=0,u&&ae>0&&u>ae&&!1!==w.enabled?(this.clipHeight=G=Math.max(ae-20-this.titleHeight-J,0),this.currentPage=l(this.currentPage,1),this.fullHeight=u,F.forEach((Se,ie)=>{let q=(oe=Se.legendItem||{}).y||0,re=Math.round(oe.label.getBBox().height),le=m.length;(!le||q-m[le-1]>G&&(K||q)!==m[le-1])&&(m.push(K||q),le++),oe.pageIx=le-1,K&&((F[ie-1].legendItem||{}).pageIx=le-1),ie===F.length-1&&q+re-m[le-1]>G&&q>m[le-1]&&(m.push(q),oe.pageIx=le),q!==K&&(K=q)}),be||(be=M.clipRect=x.clipRect(0,J-2,9999,0),M.contentGroup.clip(be)),R(G),ue||(this.nav=ue=x.g().attr({zIndex:1}).add(this.group),this.up=x.symbol("triangle",0,0,X,X).add(ue),_("upTracker").on("click",function(){M.scroll(-1,E)}),this.pager=x.text("",15,10).addClass("highcharts-legend-navigation"),!U.styledMode&&w.style&&this.pager.css(w.style),this.pager.add(ue),this.down=x.symbol("triangle-down",0,0,X,X).add(ue),_("downTracker").on("click",function(){M.scroll(1,E)})),M.scroll(0),u=ae):ue&&(R(),this.nav=ue.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),u}scroll(u,M){let U=this.chart,x=this.pages,O=x.length,z=this.clipHeight,j=this.options.navigation,J=this.pager,y=this.padding,w=this.currentPage+u;w>O&&(w=O),w>0&&(void 0!==M&&L(M,U),this.nav.attr({translateX:y,translateY:z+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(E){E.attr({class:1===w?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),J.attr({text:w+"/"+O}),[this.down,this.downTracker].forEach(function(E){E.attr({x:18+this.pager.getBBox().width,class:w===O?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),U.styledMode||(this.up.attr({fill:1===w?j.inactiveColor:j.activeColor}),this.upTracker.css({cursor:1===w?"default":"pointer"}),this.down.attr({fill:w===O?j.inactiveColor:j.activeColor}),this.downTracker.css({cursor:w===O?"default":"pointer"})),this.scrollOffset=-x[w-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=w,this.positionCheckboxes(),d(()=>{S(this,"afterScroll",{currentPage:w})},ee(l(M,U.renderer.globalAnimation,!0)).duration))}setItemEvents(u,M,U){let x=this,O=u.legendItem||{},z=x.chart.renderer.boxWrapper,j=u instanceof me,J=u instanceof ve,y="highcharts-legend-"+(j?"point":"series")+"-active",w=x.chart.styledMode,E=U?[M,O.symbol]:[O.group],X=m=>{x.allItems.forEach(F=>{u!==F&&[F].concat(F.linkedSeries||[]).forEach(R=>{R.setState(m,!j)})})};for(let m of E)m&&m.on("mouseover",function(){u.visible&&X("inactive"),u.setState("hover"),u.visible&&z.addClass(y),w||M.css(x.options.itemHoverStyle)}).on("mouseout",function(){x.chart.styledMode||M.css(b(u.visible?x.itemStyle:x.itemHiddenStyle)),X(""),z.removeClass(y),u.setState()}).on("click",function(F){z.removeClass(y),S(x,"itemClick",{browserEvent:F,legendItem:u},function(){u.setVisible&&u.setVisible(),X(u.visible?"inactive":"")}),j?u.firePointEvent("legendItemClick",{browserEvent:F}):J&&S(u,"legendItemClick",{browserEvent:F})})}createCheckboxForItem(u){u.checkbox=P("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:u.selected,defaultChecked:u.selected},this.options.itemCheckboxStyle,this.chart.container),D(u.checkbox,"click",function(M){S(u.series||u,"checkboxClick",{checked:M.target.checked,item:u},function(){u.select()})})}}return(te=c||(c={})).compose=function(f){n(N,"Core.Legend")&&D(f,"beforeMargins",function(){this.legend=new te(this,this.options.legend)})},c}),Ne(Y,"Core/Chart/Chart.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/Axis.js"],Y["Core/Defaults.js"],Y["Core/Templating.js"],Y["Core/Foundation.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Time.js"],Y["Core/Utilities.js"],Y["Core/Renderer/HTML/AST.js"],Y["Core/Axis/Tick.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee,L,W,N,I){let{animate:C,animObject:A,setAnimation:D}=Z,{defaultOptions:P,defaultTime:v}=xe,{numberFormat:T}=ve,{registerEventOptions:H}=me,{charts:B,doc:S,marginNames:p,svg:b,win:l}=de,{seriesTypes:n}=te,{addEvent:o,attr:h,createElement:d,css:c,defined:f,diffObjects:u,discardElement:M,erase:U,error:x,extend:O,find:z,fireEvent:j,getStyle:J,isArray:y,isNumber:w,isObject:E,isString:X,merge:m,objectEach:F,pick:R,pInt:_,relativeLength:G,removeEvent:K,splat:oe,syncTimeout:ae,uniqueKey:ue}=W;class be{static chart(ie,q,re){return new be(ie,q,re)}constructor(ie,q,re){this.sharedClips={};let le=[...arguments];(X(ie)||ie.nodeName)&&(this.renderTo=le.shift()),this.init(le[0],le[1])}setZoomOptions(){let ie=this.options.chart,q=ie.zooming;this.zooming={...q,type:R(ie.zoomType,q.type),key:R(ie.zoomKey,q.key),pinchType:R(ie.pinchType,q.pinchType),singleTouch:R(ie.zoomBySingleTouch,q.singleTouch,!1),resetButton:m(q.resetButton,ie.resetZoomButton)}}init(ie,q){j(this,"init",{args:arguments},function(){let re=m(P,ie),le=re.chart;this.userOptions=O({},ie),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=q,this.isResizing=0,this.options=re,this.axes=[],this.series=[],this.time=ie.time&&Object.keys(ie.time).length?new L(ie.time):de.time,this.numberFormatter=le.numberFormatter||T,this.styledMode=le.styledMode,this.hasCartesianSeries=le.showAxes,this.index=B.length,B.push(this),de.chartCount++,H(this,le),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),j(this,"afterInit"),this.firstRender()})}initSeries(ie){let re=ie.type||this.options.chart.type,le=n[re];le||x(17,!0,this,{missingModuleFor:re});let pe=new le;return"function"==typeof pe.init&&pe.init(this,ie),pe}setSortedData(){this.getSeriesOrderByLinks().forEach(function(ie){ie.points||ie.data||!ie.enabledDataSorting||ie.setData(ie.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(ie,q){return ie.linkedSeries.length||q.linkedSeries.length?q.linkedSeries.length-ie.linkedSeries.length:0})}orderItems(ie,q=0){let re=this[ie],le=this.options[ie]=oe(this.options[ie]).slice(),pe=this.userOptions[ie]=this.userOptions[ie]?oe(this.userOptions[ie]).slice():[];if(this.hasRendered&&(le.splice(q),pe.splice(q)),re)for(let ge=q,we=re.length;ge<we;++ge){let ye=re[ge];ye&&(ye.index=ge,ye instanceof Q&&(ye.name=ye.getName()),ye.options.isInternal||(le[ge]=ye.options,pe[ge]=ye.userOptions))}}isInsidePlot(ie,q,re={}){let{inverted:le,plotBox:pe,plotLeft:ge,plotTop:we,scrollablePlotBox:ye}=this,{scrollLeft:Me=0,scrollTop:Pe=0}=re.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},Re=re.series,Fe=re.visiblePlotOnly&&ye||pe,De=re.inverted?q:ie,He=re.inverted?ie:q,ze={x:De,y:He,isInsidePlot:!0,options:re};if(!re.ignoreX){let Oe=Re&&(le&&!this.polar?Re.yAxis:Re.xAxis)||{pos:ge,len:1/0},it=re.paneCoordinates?Oe.pos+De:ge+De;it>=Math.max(Me+ge,Oe.pos)&&it<=Math.min(Me+ge+Fe.width,Oe.pos+Oe.len)||(ze.isInsidePlot=!1)}if(!re.ignoreY&&ze.isInsidePlot){let Oe=!le&&re.axis&&!re.axis.isXAxis&&re.axis||Re&&(le?Re.xAxis:Re.yAxis)||{pos:we,len:1/0},it=re.paneCoordinates?Oe.pos+He:we+He;it>=Math.max(Pe+we,Oe.pos)&&it<=Math.min(Pe+we+Fe.height,Oe.pos+Oe.len)||(ze.isInsidePlot=!1)}return j(this,"afterIsInsidePlot",ze),ze.isInsidePlot}redraw(ie){j(this,"beforeRedraw");let Pe,Re,Fe,ze,q=this.hasCartesianSeries?this.axes:this.colorAxis||[],re=this.series,le=this.pointer,pe=this.legend,ge=this.userOptions.legend,we=this.renderer,ye=we.isHidden(),Me=[],De=this.isDirtyBox,He=this.isDirtyLegend;for(we.rootFontSize=we.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),D(!!this.hasRendered&&ie,this),ye&&this.temporaryDisplay(),this.layOutTitles(!1),Fe=re.length;Fe--;)if(((ze=re[Fe]).options.stacking||ze.options.centerInCategory)&&(Re=!0,ze.isDirty)){Pe=!0;break}if(Pe)for(Fe=re.length;Fe--;)(ze=re[Fe]).options.stacking&&(ze.isDirty=!0);re.forEach(function(Oe){Oe.isDirty&&("point"===Oe.options.legendType?("function"==typeof Oe.updateTotals&&Oe.updateTotals(),He=!0):ge&&(ge.labelFormatter||ge.labelFormat)&&(He=!0)),Oe.isDirtyData&&j(Oe,"updatedData")}),He&&pe&&pe.options.enabled&&(pe.render(),this.isDirtyLegend=!1),Re&&this.getStacks(),q.forEach(function(Oe){Oe.updateNames(),Oe.setScale()}),this.getMargins(),q.forEach(function(Oe){Oe.isDirty&&(De=!0)}),q.forEach(function(Oe){let it=Oe.min+","+Oe.max;Oe.extKey!==it&&(Oe.extKey=it,Me.push(function(){j(Oe,"afterSetExtremes",O(Oe.eventArgs,Oe.getExtremes())),delete Oe.eventArgs})),(De||Re)&&Oe.redraw()}),De&&this.drawChartBox(),j(this,"predraw"),re.forEach(function(Oe){(De||Oe.isDirty)&&Oe.visible&&Oe.redraw(),Oe.isDirtyData=!1}),le&&le.reset(!0),we.draw(),j(this,"redraw"),j(this,"render"),ye&&this.temporaryDisplay(!0),Me.forEach(function(Oe){Oe.call()})}get(ie){let q=this.series;function re(pe){return pe.id===ie||pe.options&&pe.options.id===ie}let le=z(this.axes,re)||z(this.series,re);for(let pe=0;!le&&pe<q.length;pe++)le=z(q[pe].points||[],re);return le}getAxes(){let ie=this.userOptions;for(let q of(j(this,"getAxes"),["xAxis","yAxis"]))for(let re of ie[q]=oe(ie[q]||{}))new ce(this,re,q);j(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((ie,q)=>(q.getPointsCollection().forEach(re=>{R(re.selectedStaging,re.selected)&&ie.push(re)}),ie),[])}getSelectedSeries(){return this.series.filter(function(ie){return ie.selected})}setTitle(ie,q,re){this.applyDescription("title",ie),this.applyDescription("subtitle",q),this.applyDescription("caption",void 0),this.layOutTitles(re)}applyDescription(ie,q){let re=this,le=this.options[ie]=m(this.options[ie],q),pe=this[ie];pe&&q&&(this[ie]=pe=pe.destroy()),le&&!pe&&((pe=this.renderer.text(le.text,0,0,le.useHTML).attr({align:le.align,class:"highcharts-"+ie,zIndex:le.zIndex||4}).add()).update=function(ge,we){re.applyDescription(ie,ge),re.layOutTitles(we)},this.styledMode||pe.css(O("title"===ie?{fontSize:this.options.isStock?"1em":"1.2em"}:{},le.style)),this[ie]=pe)}layOutTitles(ie=!0){let q=[0,0,0],re=this.renderer,le=this.spacingBox;["title","subtitle","caption"].forEach(function(ge){let we=this[ge],ye=this.options[ge],Me=ye.verticalAlign||"top",Pe="title"===ge?"top"===Me?-3:0:"top"===Me?q[0]+2:0;if(we){we.css({width:(ye.width||le.width+(ye.widthAdjust||0))+"px"});let Re=re.fontMetrics(we).b,Fe=Math.round(we.getBBox(ye.useHTML).height);we.align(O({y:"bottom"===Me?Re:Pe+Re,height:Fe},ye),!1,"spacingBox"),ye.floating||("top"===Me?q[0]=Math.ceil(q[0]+Fe):"bottom"===Me&&(q[2]=Math.ceil(q[2]+Fe)))}},this),q[0]&&"top"===(this.options.title.verticalAlign||"top")&&(q[0]+=this.options.title.margin),q[2]&&"bottom"===this.options.caption.verticalAlign&&(q[2]+=this.options.caption.margin);let pe=!this.titleOffset||this.titleOffset.join(",")!==q.join(",");this.titleOffset=q,j(this,"afterLayOutTitles"),!this.isDirtyBox&&pe&&(this.isDirtyBox=this.isDirtyLegend=pe,this.hasRendered&&ie&&this.isDirtyBox&&this.redraw())}getContainerBox(){let ie=[].map.call(this.renderTo.children,re=>{if(re!==this.container){let le=re.style.display;return re.style.display="none",[re,le]}}),q={width:J(this.renderTo,"width",!0)||0,height:J(this.renderTo,"height",!0)||0};return ie.filter(Boolean).forEach(([re,le])=>{re.style.display=le}),q}getChartSize(){let ie=this.options.chart,q=ie.width,re=ie.height,le=this.getContainerBox(),pe=le.height>1&&!(!this.renderTo.parentElement?.style.height&&"100%"===this.renderTo.style.height);this.chartWidth=Math.max(0,q||le.width||600),this.chartHeight=Math.max(0,G(re,this.chartWidth)||(pe?le.height:400)),this.containerBox=le}temporaryDisplay(ie){let re,q=this.renderTo;if(ie)for(;q&&q.style;)q.hcOrigStyle&&(c(q,q.hcOrigStyle),delete q.hcOrigStyle),q.hcOrigDetached&&(S.body.removeChild(q),q.hcOrigDetached=!1),q=q.parentNode;else for(;q&&q.style&&(S.body.contains(q)||q.parentNode||(q.hcOrigDetached=!0,S.body.appendChild(q)),("none"===J(q,"display",!1)||q.hcOricDetached)&&(q.hcOrigStyle={display:q.style.display,height:q.style.height,overflow:q.style.overflow},re={display:"block",overflow:"hidden"},q!==this.renderTo&&(re.height=0),c(q,re),q.offsetWidth||q.style.setProperty("display","block","important")),(q=q.parentNode)!==S.body););}setClassName(ie){this.container.className="highcharts-container "+(ie||"")}getContainer(){let pe,ie=this.options,q=ie.chart,re="data-highcharts-chart",le=ue(),ge=this.renderTo;ge||(this.renderTo=ge=q.renderTo),X(ge)&&(this.renderTo=ge=S.getElementById(ge)),ge||x(13,!0,this);let we=_(h(ge,re));w(we)&&B[we]&&B[we].hasRendered&&B[we].destroy(),h(ge,re,this.index),ge.innerHTML=N.emptyHTML,q.skipClone||ge.offsetWidth||this.temporaryDisplay(),this.getChartSize();let ye=this.chartHeight,Me=this.chartWidth;c(ge,{overflow:"hidden"}),this.styledMode||(pe=O({position:"relative",overflow:"hidden",width:Me+"px",height:ye+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},q.style||{}));let Pe=d("div",{id:le},pe,ge);this.container=Pe,this.getChartSize(),Me===this.chartWidth||(Me=this.chartWidth,this.styledMode||c(Pe,{width:R(q.style?.width,Me+"px")})),this.containerBox=this.getContainerBox(),this._cursor=Pe.style.cursor;let Re=q.renderer||!b?he.getRendererType(q.renderer):ee;if(this.renderer=new Re(Pe,Me,ye,void 0,q.forExport,ie.exporting&&ie.exporting.allowHTML,this.styledMode),D(void 0,this),this.setClassName(q.className),this.styledMode)for(let Fe in ie.defs)this.renderer.definition(ie.defs[Fe]);else this.renderer.setStyle(q.style);this.renderer.chartIndex=this.index,j(this,"afterGetContainer")}getMargins(ie){let{spacing:q,margin:re,titleOffset:le}=this;this.resetMargins(),le[0]&&!f(re[0])&&(this.plotTop=Math.max(this.plotTop,le[0]+q[0])),le[2]&&!f(re[2])&&(this.marginBottom=Math.max(this.marginBottom,le[2]+q[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(re,q),j(this,"getMargins"),ie||this.getAxisMargins()}getAxisMargins(){let ie=this,q=ie.axisOffset=[0,0,0,0],re=ie.colorAxis,le=ie.margin,pe=function(ge){ge.forEach(function(we){we.visible&&we.getOffset()})};ie.hasCartesianSeries?pe(ie.axes):re&&re.length&&pe(re),p.forEach(function(ge,we){f(le[we])||(ie[ge]+=q[we])}),ie.setChartSize()}getOptions(){return u(this.userOptions,P)}reflow(ie){let q=this,re=q.containerBox,le=q.getContainerBox();delete q.pointer?.chartPosition,!q.isPrinting&&!q.isResizing&&re&&le.width&&((le.width!==re.width||le.height!==re.height)&&(W.clearTimeout(q.reflowTimeout),q.reflowTimeout=ae(function(){q.container&&q.setSize(void 0,void 0,!1)},ie?100:0)),q.containerBox=le)}setReflow(){let ie=this,q=re=>{ie.options?.chart.reflow&&ie.hasLoaded&&ie.reflow(re)};if("function"==typeof ResizeObserver)new ResizeObserver(q).observe(ie.renderTo);else{let re=o(l,"resize",q);o(this,"destroy",re)}}setSize(ie,q,re){let le=this,pe=le.renderer;le.isResizing+=1,D(re,le);let ge=pe.globalAnimation;le.oldChartHeight=le.chartHeight,le.oldChartWidth=le.chartWidth,void 0!==ie&&(le.options.chart.width=ie),void 0!==q&&(le.options.chart.height=q),le.getChartSize();let{chartWidth:we,chartHeight:ye,scrollablePixelsX:Me=0,scrollablePixelsY:Pe=0}=le;(le.isDirtyBox||we!==le.oldChartWidth||ye!==le.oldChartHeight)&&(le.styledMode||(ge?C:c)(le.container,{width:`${we+Me}px`,height:`${ye+Pe}px`},ge),le.setChartSize(!0),pe.setSize(we,ye,ge),le.axes.forEach(function(Re){Re.isDirty=!0,Re.setScale()}),le.isDirtyLegend=!0,le.isDirtyBox=!0,le.layOutTitles(),le.getMargins(),le.redraw(ge),le.oldChartHeight=void 0,j(le,"resize"),setTimeout(()=>{le&&j(le,"endResize")},A(ge).duration)),le.isResizing-=1}setChartSize(ie){let q,re,le,pe,{chartHeight:ge,chartWidth:we,inverted:ye,spacing:Me,renderer:Pe}=this,Re=this.clipOffset,Fe=Math[ye?"floor":"round"];this.plotLeft=q=Math.round(this.plotLeft),this.plotTop=re=Math.round(this.plotTop),this.plotWidth=le=Math.max(0,Math.round(we-q-this.marginRight)),this.plotHeight=pe=Math.max(0,Math.round(ge-re-this.marginBottom)),this.plotSizeX=ye?pe:le,this.plotSizeY=ye?le:pe,this.spacingBox=Pe.spacingBox={x:Me[3],y:Me[0],width:we-Me[3]-Me[1],height:ge-Me[0]-Me[2]},this.plotBox=Pe.plotBox={x:q,y:re,width:le,height:pe},Re&&(this.clipBox={x:Fe(Re[3]),y:Fe(Re[0]),width:Fe(this.plotSizeX-Re[1]-Re[3]),height:Fe(this.plotSizeY-Re[0]-Re[2])}),ie||(this.axes.forEach(function(De){De.setAxisSize(),De.setAxisTranslation()}),Pe.alignElements()),j(this,"afterSetChartSize",{skipAxes:ie})}resetMargins(){j(this,"resetMargins");let ie=this,q=ie.options.chart,re=q.plotBorderWidth||0,le=re/2;["margin","spacing"].forEach(function(pe){let ge=q[pe],we=E(ge)?ge:[ge,ge,ge,ge];["Top","Right","Bottom","Left"].forEach(function(ye,Me){ie[pe][Me]=R(q[pe+ye],we[Me])})}),p.forEach(function(pe,ge){ie[pe]=R(ie.margin[ge],ie.spacing[ge])}),ie.axisOffset=[0,0,0,0],ie.clipOffset=[le,le,le,le],ie.plotBorderWidth=re}drawChartBox(){let bt,Ht,zt,ie=this.options.chart,q=this.renderer,re=this.chartWidth,le=this.chartHeight,pe=this.styledMode,ge=this.plotBGImage,we=ie.backgroundColor,ye=ie.plotBackgroundColor,Me=ie.plotBackgroundImage,Pe=this.plotLeft,Re=this.plotTop,Fe=this.plotWidth,De=this.plotHeight,He=this.plotBox,ze=this.clipRect,Oe=this.clipBox,it=this.chartBackground,ot=this.plotBackground,rt=this.plotBorder,yt="animate";it||(this.chartBackground=it=q.rect().addClass("highcharts-background").add(),yt="attr"),pe?bt=Ht=it.strokeWidth():(Ht=(bt=ie.borderWidth||0)+(ie.shadow?8:0),zt={fill:we||"none"},(bt||it["stroke-width"])&&(zt.stroke=ie.borderColor,zt["stroke-width"]=bt),it.attr(zt).shadow(ie.shadow)),it[yt]({x:Ht/2,y:Ht/2,width:re-Ht-bt%2,height:le-Ht-bt%2,r:ie.borderRadius}),yt="animate",ot||(yt="attr",this.plotBackground=ot=q.rect().addClass("highcharts-plot-background").add()),ot[yt](He),!pe&&(ot.attr({fill:ye||"none"}).shadow(ie.plotShadow),Me&&(ge?(Me!==ge.attr("href")&&ge.attr("href",Me),ge.animate(He)):this.plotBGImage=q.image(Me,Pe,Re,Fe,De).add())),ze?ze.animate({width:Oe.width,height:Oe.height}):this.clipRect=q.clipRect(Oe),yt="animate",rt||(yt="attr",this.plotBorder=rt=q.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),pe||rt.attr({stroke:ie.plotBorderColor,"stroke-width":ie.plotBorderWidth||0,fill:"none"}),rt[yt](rt.crisp({x:Pe,y:Re,width:Fe,height:De},-rt.strokeWidth())),this.isDirtyBox=!1,j(this,"afterDrawChartBox")}propFromSeries(){let ie,q,re,le=this,pe=le.options.chart,ge=le.options.series;["inverted","angular","polar"].forEach(function(we){for(q=n[pe.type],re=pe[we]||q&&q.prototype[we],ie=ge&&ge.length;!re&&ie--;)(q=n[ge[ie].type])&&q.prototype[we]&&(re=!0);le[we]=re})}linkSeries(ie){let q=this,re=q.series;re.forEach(function(le){le.linkedSeries.length=0}),re.forEach(function(le){let{linkedTo:pe}=le.options;if(X(pe)){let ge;(ge=":previous"===pe?q.series[le.index-1]:q.get(pe))&&ge.linkedParent!==le&&(ge.linkedSeries.push(le),le.linkedParent=ge,ge.enabledDataSorting&&le.setDataSortingOptions(),le.visible=R(le.options.visible,ge.options.visible,le.visible))}}),j(this,"afterLinkSeries",{isUpdating:ie})}renderSeries(){this.series.forEach(function(ie){ie.translate(),ie.render()})}render(){let ye,ie=this.axes,q=this.colorAxis,re=this.renderer,le=this.options.chart.axisLayoutRuns||2,pe=Pe=>{Pe.forEach(Re=>{Re.visible&&Re.render()})},ge=0,we=!0,Me=0;for(let Pe of(this.setTitle(),j(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),ie)){let{options:Re}=Pe,{labels:Fe}=Re;if(this.hasCartesianSeries&&Pe.horiz&&Pe.visible&&Fe.enabled&&Pe.series.length&&"colorAxis"!==Pe.coll&&!this.polar){ge=Re.tickLength,Pe.createGroups();let De=new I(Pe,0,"",!0),He=De.createLabel("x",Fe);if(De.destroy(),He&&R(Fe.reserveSpace,!w(Re.crossing))&&(ge=He.getBBox().height+Fe.distance+Math.max(Re.offset||0,0)),ge){He?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-ge,0);(we||ye||le>1)&&Me<le;){let Pe=this.plotWidth,Re=this.plotHeight;for(let Fe of ie)0===Me?Fe.setScale():(Fe.horiz&&we||!Fe.horiz&&ye)&&Fe.setTickInterval(!0);0===Me?this.getAxisMargins():this.getMargins(),we=Pe/this.plotWidth>(Me?1:1.1),ye=Re/this.plotHeight>(Me?1:1.05),Me++}this.drawChartBox(),this.hasCartesianSeries?pe(ie):q&&q.length&&pe(q),this.seriesGroup||(this.seriesGroup=re.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(ie){let q=this,re=m(!0,this.options.credits,ie);re.enabled&&!this.credits&&(this.credits=this.renderer.text(re.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){re.href&&(l.location.href=re.href)}).attr({align:re.position.align,zIndex:8}),q.styledMode||this.credits.css(re.style),this.credits.add().align(re.position),this.credits.update=function(le){q.credits=q.credits.destroy(),q.addCredits(le)})}destroy(){let ie,q=this,re=q.axes,le=q.series,pe=q.container,ge=pe&&pe.parentNode;for(j(q,"destroy"),q.renderer.forExport?U(B,q):B[q.index]=void 0,de.chartCount--,q.renderTo.removeAttribute("data-highcharts-chart"),K(q),ie=re.length;ie--;)re[ie]=re[ie].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ie=le.length;ie--;)le[ie]=le[ie].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(we){let ye=q[we];ye&&ye.destroy&&(q[we]=ye.destroy())}),pe&&(pe.innerHTML=N.emptyHTML,K(pe),ge&&M(pe)),F(q,function(we,ye){delete q[ye]})}firstRender(){let ie=this,q=ie.options;ie.getContainer(),ie.resetMargins(),ie.setChartSize(),ie.propFromSeries(),ie.getAxes();let re=y(q.series)?q.series:[];q.series=[],re.forEach(function(le){ie.initSeries(le)}),ie.linkSeries(),ie.setSortedData(),j(ie,"beforeRender"),ie.render(),ie.pointer?.getChartPosition(),ie.renderer.imgCount||ie.hasLoaded||ie.onload(),ie.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(ie){ie&&void 0!==this.index&&ie.apply(this,[this])},this),j(this,"load"),j(this,"render"),f(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:ie,title:q}=this;!ie||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(q&&q.element.textContent||"").replace(/</g,"&lt;")}),ie.accessibility&&!1===ie.accessibility.enabled||x('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(ie,q,re){let le,pe=this;return ie&&(q=R(q,!0),j(pe,"addSeries",{options:ie},function(){le=pe.initSeries(ie),pe.isDirtyLegend=!0,pe.linkSeries(),le.enabledDataSorting&&le.setData(ie.data,!1),j(pe,"afterAddSeries",{series:le}),q&&pe.redraw(re)})),le}addAxis(ie,q,re,le){return this.createAxis(q?"xAxis":"yAxis",{axis:ie,redraw:re,animation:le})}addColorAxis(ie,q,re){return this.createAxis("colorAxis",{axis:ie,redraw:q,animation:re})}createAxis(ie,q){let re=new ce(this,q.axis,ie);return R(q.redraw,!0)&&this.redraw(q.animation),re}showLoading(ie){let q=this,re=q.options,le=re.loading,pe=function(){ge&&c(ge,{left:q.plotLeft+"px",top:q.plotTop+"px",width:q.plotWidth+"px",height:q.plotHeight+"px"})},ge=q.loadingDiv,we=q.loadingSpan;ge||(q.loadingDiv=ge=d("div",{className:"highcharts-loading highcharts-loading-hidden"},null,q.container)),we||(q.loadingSpan=we=d("span",{className:"highcharts-loading-inner"},null,ge),o(q,"redraw",pe)),ge.className="highcharts-loading",N.setElementHTML(we,R(ie,re.lang.loading,"")),q.styledMode||(c(ge,O(le.style,{zIndex:10})),c(we,le.labelStyle),q.loadingShown||(c(ge,{opacity:0,display:""}),C(ge,{opacity:le.style.opacity||.5},{duration:le.showDuration||0}))),q.loadingShown=!0,pe()}hideLoading(){let ie=this.options,q=this.loadingDiv;q&&(q.className="highcharts-loading highcharts-loading-hidden",this.styledMode||C(q,{opacity:0},{duration:ie.loading.hideDuration||100,complete:function(){c(q,{display:"none"})}})),this.loadingShown=!1}update(ie,q,re,le){let pe,ge,we,ye=this,Me={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Pe=ie.isResponsiveOptions,Re=[];j(ye,"update",{options:ie}),Pe||ye.setResponsive(!1,!0),ie=u(ie,ye.options),ye.userOptions=m(ye.userOptions,ie);let Fe=ie.chart;Fe&&(m(!0,ye.options.chart,Fe),this.setZoomOptions(),"className"in Fe&&ye.setClassName(Fe.className),("inverted"in Fe||"polar"in Fe||"type"in Fe)&&(ye.propFromSeries(),pe=!0),"alignTicks"in Fe&&(pe=!0),"events"in Fe&&H(this,Fe),F(Fe,function(ze,Oe){-1!==ye.propsRequireUpdateSeries.indexOf("chart."+Oe)&&(ge=!0),-1!==ye.propsRequireDirtyBox.indexOf(Oe)&&(ye.isDirtyBox=!0),-1===ye.propsRequireReflow.indexOf(Oe)||(ye.isDirtyBox=!0,Pe||(we=!0))}),!ye.styledMode&&Fe.style&&ye.renderer.setStyle(ye.options.chart.style||{})),!ye.styledMode&&ie.colors&&(this.options.colors=ie.colors),ie.time&&(this.time===v&&(this.time=new L(ie.time)),m(!0,ye.options.time,ie.time)),F(ie,function(ze,Oe){ye[Oe]&&"function"==typeof ye[Oe].update?ye[Oe].update(ze,!1):"function"==typeof ye[Me[Oe]]?ye[Me[Oe]](ze):"colors"!==Oe&&-1===ye.collectionsWithUpdate.indexOf(Oe)&&m(!0,ye.options[Oe],ie[Oe]),"chart"!==Oe&&-1!==ye.propsRequireUpdateSeries.indexOf(Oe)&&(ge=!0)}),this.collectionsWithUpdate.forEach(function(ze){ie[ze]&&(oe(ie[ze]).forEach(function(Oe,it){let ot,rt=f(Oe.id);rt&&(ot=ye.get(Oe.id)),!ot&&ye[ze]&&(ot=ye[ze][R(Oe.index,it)])&&(rt&&f(ot.options.id)||ot.options.isInternal)&&(ot=void 0),ot&&ot.coll===ze&&(ot.update(Oe,!1),re&&(ot.touched=!0)),!ot&&re&&ye.collectionsWithInit[ze]&&(ye.collectionsWithInit[ze][0].apply(ye,[Oe].concat(ye.collectionsWithInit[ze][1]||[]).concat([!1])).touched=!0)}),re&&ye[ze].forEach(function(Oe){Oe.touched||Oe.options.isInternal?delete Oe.touched:Re.push(Oe)}))}),Re.forEach(function(ze){ze.chart&&ze.remove&&ze.remove(!1)}),pe&&ye.axes.forEach(function(ze){ze.update({},!1)}),ge&&ye.getSeriesOrderByLinks().forEach(function(ze){ze.chart&&ze.update({},!1)},this);let De=Fe&&Fe.width,He=Fe&&(X(Fe.height)?G(Fe.height,De||ye.chartWidth):Fe.height);we||w(De)&&De!==ye.chartWidth||w(He)&&He!==ye.chartHeight?ye.setSize(De,He,le):R(q,!0)&&ye.redraw(le),j(ye,"afterUpdate",{options:ie,redraw:q,animation:le})}setSubtitle(ie,q){this.applyDescription("subtitle",ie),this.layOutTitles(q)}setCaption(ie,q){this.applyDescription("caption",ie),this.layOutTitles(q)}showResetZoom(){let ie=this,q=P.lang,re=ie.zooming.resetButton,le=re.theme,pe="chart"===re.relativeTo||"spacingBox"===re.relativeTo?null:"plotBox";function ge(){ie.zoomOut()}j(this,"beforeShowResetZoom",null,function(){ie.resetZoomButton=ie.renderer.button(q.resetZoom,null,null,ge,le).attr({align:re.position.align,title:q.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(re.position,!1,pe)}),j(this,"afterShowResetZoom")}zoomOut(){j(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(ie,q){let re=this,le="object"==typeof q?q:{enabled:q,type:"x"},pe=le.type,ge=pe&&re[{x:"xAxis",xy:"axes",y:"yAxis"}[pe]].filter(ye=>ye.options.panningEnabled&&!ye.options.isInternal),we=re.options.chart;we?.panning&&(we.panning=le),j(this,"pan",{originalEvent:ie},()=>{re.transform({axes:ge,event:ie,to:{x:ie.chartX-(re.mouseDownX||0),y:ie.chartY-(re.mouseDownY||0)},trigger:"pan"}),c(re.container,{cursor:"move"})})}transform(ie){let Re,Fe,{axes:q=this.axes,event:re,from:le={},reset:pe,selection:ge,to:we={},trigger:ye}=ie,{inverted:Me}=this,Pe=!1;for(let De of(this.hoverPoints?.forEach(He=>He.setState()),q)){let{horiz:He,len:ze,minPointOffset:Oe=0,options:it,reversed:ot}=De,rt=He?"width":"height",bt=He?"x":"y",Ht=R(we[rt],De.len),zt=R(le[rt],De.len),yt=10>Math.abs(Ht)?1:Ht/zt,hi=(le[bt]||0)+zt/2-De.pos,Zt=hi-((we[bt]??De.pos)+Ht/2-De.pos)/yt,Ei=ot&&!Me||!ot&&Me?-1:1;if(!pe&&(hi<0||hi>De.len))continue;let _t=De.toValue(Zt,!0)+(ge||De.isOrdinal?0:Oe*Ei),Ut=De.toValue(Zt+ze/yt,!0)-(ge||De.isOrdinal?0:Oe*Ei||0),si=De.allExtremes;if(_t>Ut&&([_t,Ut]=[Ut,_t]),1===yt&&!pe&&"yAxis"===De.coll&&!si){for(let Ks of De.series){let Ni=Ks.getExtremes(Ks.getProcessedData(!0).yData,!0);si??(si={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),w(Ni.dataMin)&&w(Ni.dataMax)&&(si.dataMin=Math.min(Ni.dataMin,si.dataMin),si.dataMax=Math.max(Ni.dataMax,si.dataMax))}De.allExtremes=si}let{dataMin:Wr,dataMax:jr,min:cs,max:ss}=O(De.getExtremes(),si||{}),Ys=Wr??it.min,$s=jr??it.max,Fi=Ut-_t,zs=De.categories?0:Math.min(Fi,$s-Ys),ds=Ys-zs*(f(it.min)?0:it.minPadding),us=$s+zs*(f(it.max)?0:it.maxPadding),_s=De.allowZoomOutside||1===yt||"zoom"!==ye&&yt>1,Bi=Math.min(it.min??ds,ds,_s?cs:ds),Vi=Math.max(it.max??us,us,_s?ss:us);(!De.isOrdinal||De.options.overscroll||1!==yt||pe)&&(_t<Bi&&(_t=Bi,yt>=1&&(Ut=_t+Fi)),Ut>Vi&&(Ut=Vi,yt>=1&&(_t=Ut-Fi)),(pe||De.series.length&&(_t!==cs||Ut!==ss)&&_t>=Bi&&Ut<=Vi)&&(ge?ge[De.coll].push({axis:De,min:_t,max:Ut}):(De.isPanning="zoom"!==ye,De.isPanning&&(Fe=!0),De.setExtremes(pe?void 0:_t,pe?void 0:Ut,!1,!1,{move:Zt,trigger:ye,scale:yt}),!pe&&(_t>Bi||Ut<Vi)&&"mousewheel"!==ye&&(Re=!0)),Pe=!0),re&&(this[He?"mouseDownX":"mouseDownY"]=re[He?"chartX":"chartY"]))}return Pe&&(ge?j(this,"selection",ge,()=>{delete ie.selection,ie.trigger="zoom",this.transform(ie)}):(!Re||Fe||this.resetZoomButton?!Re&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw("zoom"===ye&&(this.options.chart.animation??this.pointCount<100)))),Pe}}return O(be.prototype,{callbacks:[],collectionsWithInit:{xAxis:[be.prototype.addAxis,[!0]],yAxis:[be.prototype.addAxis,[!1]],series:[be.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),be}),Ne(Y,"Extensions/ScrollablePlotArea.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{stop:me}=Z,{composed:de}=ce,{addEvent:he,createElement:Q,css:te,defined:ee,merge:L,pushUnique:W}=ve;function N(){let A=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!A&&(this.scrollablePlotArea=A=new C(this)),A?.applyFixed()}function I(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class C{static compose(D,P,v){W(de,this.compose)&&(he(D,"afterInit",I),he(P,"afterSetChartSize",T=>this.afterSetSize(T.target,T)),he(P,"render",N),he(v,"show",I))}static afterSetSize(D,P){let v,T,H,{minWidth:B,minHeight:S}=D.options.chart.scrollablePlotArea||{},{clipBox:p,plotBox:b,inverted:l,renderer:n}=D;if(!n.forExport&&(B?(D.scrollablePixelsX=v=Math.max(0,B-D.chartWidth),v&&(D.scrollablePlotBox=L(D.plotBox),b.width=D.plotWidth+=v,p[l?"height":"width"]+=v,H=!0)):S&&(D.scrollablePixelsY=T=Math.max(0,S-D.chartHeight),ee(T)&&(D.scrollablePlotBox=L(D.plotBox),b.height=D.plotHeight+=T,p[l?"width":"height"]+=T,H=!1)),ee(H)&&!P.skipAxes))for(let o of D.axes)o.horiz===H&&(o.setAxisSize(),o.setAxisTranslation())}constructor(D){let P,v=D.options.chart,T=xe.getRendererType(),H=v.scrollablePlotArea||{},B=this.moveFixedElements.bind(this),S={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};D.scrollablePixelsX&&(S.overflowX="auto"),D.scrollablePixelsY&&(S.overflowY="auto"),this.chart=D;let p=this.parentDiv=Q("div",{className:"highcharts-scrolling-parent"},{position:"relative"},D.renderTo),b=this.scrollingContainer=Q("div",{className:"highcharts-scrolling"},S,p),l=this.innerContainer=Q("div",{className:"highcharts-inner-container"},void 0,b),n=this.fixedDiv=Q("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(v.style?.zIndex||0)+2,top:0},void 0,!0),o=this.fixedRenderer=new T(n,D.chartWidth,D.chartHeight,v.style);this.mask=o.path().attr({fill:v.backgroundColor||"#fff","fill-opacity":H.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),b.parentNode.insertBefore(n,b),te(D.renderTo,{overflow:"visible"}),he(D,"afterShowResetZoom",B),he(D,"afterApplyDrilldown",B),he(D,"afterLayOutTitles",B),he(b,"scroll",()=>{let{pointer:h,hoverPoint:d}=D;h&&(delete h.chartPosition,d&&(P=d),h.runPointActions(void 0,P,!0))}),l.appendChild(D.container)}applyFixed(){let{chart:D,fixedRenderer:P,isDirty:v,scrollingContainer:T}=this,{axisOffset:H,chartWidth:B,chartHeight:S,container:p,plotHeight:b,plotLeft:l,plotTop:n,plotWidth:o,scrollablePixelsX:h=0,scrollablePixelsY:d=0}=D,{scrollPositionX:c=0,scrollPositionY:f=0}=D.options.chart.scrollablePlotArea||{},u=B+h,M=S+d;P.setSize(B,S),(v??!0)&&(this.isDirty=!1,this.moveFixedElements()),me(D.container),te(p,{width:`${u}px`,height:`${M}px`}),D.renderer.boxWrapper.attr({width:u,height:M,viewBox:[0,0,u,M].join(" ")}),D.chartBackground?.attr({width:u,height:M}),te(T,{width:`${B}px`,height:`${S}px`}),ee(v)||(T.scrollLeft=h*c,T.scrollTop=d*f);let U=n-H[0]-1,x=l-H[3]-1,O=n+b+H[2]+1,z=l+o+H[1]+1,j=l+o-h,J=n+b-d,y=[["M",0,0]];h?y=[["M",0,U],["L",l-1,U],["L",l-1,O],["L",0,O],["Z"],["M",j,U],["L",B,U],["L",B,O],["L",j,O],["Z"]]:d&&(y=[["M",x,0],["L",x,n-1],["L",z,n-1],["L",z,0],["Z"],["M",x,J],["L",x,S],["L",z,S],["L",z,J],["Z"]]),"adjustHeight"!==D.redrawTrigger&&this.mask.attr({d:y})}moveFixedElements(){let D,{container:P,inverted:v,scrollablePixelsX:T,scrollablePixelsY:H}=this.chart,B=this.fixedRenderer,S=C.fixedSelectors;for(let p of(T&&!v?D=".highcharts-yaxis":T&&v||H&&!v?D=".highcharts-xaxis":H&&v&&(D=".highcharts-yaxis"),D&&S.push(`${D}:not(.highcharts-radial-axis)`,`${D}-labels:not(.highcharts-radial-axis-labels)`),S))[].forEach.call(P.querySelectorAll(p),b=>{(b.namespaceURI===B.SVG_NS?B.box:B.box.parentNode).appendChild(b),b.style.pointerEvents="auto"})}}return C.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],C}),Ne(Y,"Core/Axis/Stacking/StackItem.js",[Y["Core/Templating.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{format:ve}=Z,{series:me}=ce,{destroyObjectProperties:de,fireEvent:he,isNumber:Q,pick:te}=xe;return class{constructor(ee,L,W,N,I){let C=ee.chart.inverted,A=ee.reversed;this.axis=ee;let D=this.isNegative=!!W!=!!A;this.options=L=L||{},this.x=N,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=I,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:L.align||(C?D?"left":"right":"center"),verticalAlign:L.verticalAlign||(C?"middle":D?"bottom":"top"),y:L.y,x:L.x},this.textAlign=L.textAlign||(C?D?"right":"left":"center")}destroy(){de(this,this.axis)}render(ee){let L=this.axis.chart,W=this.options,N=W.format,I=N?ve(N,this,L):W.formatter.call(this);if(this.label)this.label.attr({text:I,visibility:"hidden"});else{this.label=L.renderer.label(I,null,void 0,W.shape,void 0,void 0,W.useHTML,!1,"stack-labels");let C={r:W.borderRadius||0,text:I,padding:te(W.padding,5),visibility:"hidden"};L.styledMode||(C.fill=W.backgroundColor,C.stroke=W.borderColor,C["stroke-width"]=W.borderWidth,this.label.css(W.style||{})),this.label.attr(C),this.label.added||this.label.add(ee)}this.label.labelrank=L.plotSizeY,he(this,"afterRender")}setOffset(ee,L,W,N,I,C){let{alignOptions:A,axis:D,label:P,options:v,textAlign:T}=this,H=D.chart,B=this.getStackBox({xOffset:ee,width:L,boxBottom:W,boxTop:N,defaultX:I,xAxis:C}),{verticalAlign:S}=A;if(P&&B){let n,p=P.getBBox(void 0,0),b=P.padding,l="justify"===te(v.overflow,"justify");A.x=v.x||0,A.y=v.y||0;let{x:o,y:h}=this.adjustStackPosition({labelBox:p,verticalAlign:S,textAlign:T});B.x-=o,B.y-=h,P.align(A,!1,B),(n=H.isInsidePlot(P.alignAttr.x+A.x+o,P.alignAttr.y+A.y+h))||(l=!1),l&&me.prototype.justifyDataLabel.call(D,P,A,P.alignAttr,p,B),P.attr({x:P.alignAttr.x,y:P.alignAttr.y,rotation:v.rotation,rotationOriginX:p.width*{left:0,center:.5,right:1}[v.textAlign||"center"],rotationOriginY:p.height/2}),te(!l&&v.crop,!0)&&(n=Q(P.x)&&Q(P.y)&&H.isInsidePlot(P.x-b+(P.width||0),P.y)&&H.isInsidePlot(P.x+b,P.y)),P[n?"show":"hide"]()}he(this,"afterSetOffset",{xOffset:ee,width:L})}adjustStackPosition({labelBox:ee,verticalAlign:L,textAlign:W}){let N={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:ee.width/2+ee.width/2*N[W],y:ee.height/2*N[L]}}getStackBox(ee){let L=this.axis,W=L.chart,{boxTop:N,defaultX:I,xOffset:C,width:A,boxBottom:D}=ee,P=L.stacking.usePercentage?100:te(N,this.total,0),v=L.toPixels(P),T=ee.xAxis||W.xAxis[0],H=te(I,T.translate(this.x))+C,B=Math.abs(v-L.toPixels(D||Q(L.min)&&L.logarithmic&&L.logarithmic.lin2log(L.min)||0)),p=this.isNegative;return W.inverted?{x:(p?v:v-B)-W.plotLeft,y:T.height-H-A+T.top-W.plotTop,width:B,height:A}:{x:H+T.transB-W.plotLeft,y:(p?v-B:v)-W.plotTop,width:A,height:B}}}}),Ne(Y,"Core/Axis/Stacking/StackingAxis.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Axis/Axis.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Axis/Stacking/StackItem.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){var de;let{getDeferredAnimation:he}=Z,{series:{prototype:Q}}=xe,{addEvent:te,correctFloat:ee,defined:L,destroyObjectProperties:W,fireEvent:N,isArray:I,isNumber:C,objectEach:A,pick:D}=me;function P(){let n=this.inverted;this.axes.forEach(o=>{o.stacking&&o.stacking.stacks&&o.hasVisibleSeries&&(o.stacking.oldStacks=o.stacking.stacks)}),this.series.forEach(o=>{let h=o.xAxis&&o.xAxis.options||{};o.options.stacking&&o.reserveSpace()&&(o.stackKey=[o.type,D(o.options.stack,""),n?h.top:h.left,n?h.height:h.width].join(","))})}function v(){let n=this.stacking;if(n){let o=n.stacks;A(o,(h,d)=>{W(h),delete o[d]}),n.stackTotalGroup?.destroy()}}function T(){this.stacking||(this.stacking=new l(this))}function H(n,o,h,d){return!L(n)||n.x!==o||d&&n.stackKey!==d?n={x:o,index:0,key:d,stackKey:d}:n.index++,n.key=[h,o,n.index].join(","),n}function B(){let n,o=this,d=o.stackKey||"",c=o.yAxis.stacking.stacks,f=o.processedXData,M=o[o.options.stacking+"Stacker"];M&&[d,"-"+d].forEach(U=>{let O,z,j,x=f.length;for(;x--;)O=f[x],n=o.getStackIndicator(n,O,o.index,U),z=c[U]?.[O],(j=z?.points[n.key||""])&&M.call(o,j,z,x)})}function S(n,o,h){let d=o.total?100/o.total:0;n[0]=ee(n[0]*d),n[1]=ee(n[1]*d),this.stackedYData[h]=n[1]}function p(n){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?Q.setStackedPoints.call(this,n,"group"):n.stacking.resetStacks())}function b(n,o){let h,d,c,f,u,M,U,x,O,z=o||this.options.stacking;if(!z||!this.reserveSpace()||({group:"xAxis"}[z]||"yAxis")!==n.coll)return;let j=this.processedXData,J=this.processedYData,y=[],w=J.length,E=this.options,X=E.threshold||0,m=E.startFromThreshold?X:0,F=E.stack,R=o?`${this.type},${z}`:this.stackKey||"",_="-"+R,G=this.negStacks,K=n.stacking,oe=K.stacks,ae=K.oldStacks;for(K.stacksTouched+=1,U=0;U<w;U++){x=j[U],O=J[U],M=(h=this.getStackIndicator(h,x,this.index)).key||"",oe[u=(d=G&&O<(m?0:X))?_:R]||(oe[u]={}),oe[u][x]||(ae[u]?.[x]?(oe[u][x]=ae[u][x],oe[u][x].total=null):oe[u][x]=new ve(n,n.options.stackLabels,!!d,x,F)),c=oe[u][x],null!==O?(c.points[M]=c.points[this.index]=[D(c.cumulative,m)],L(c.cumulative)||(c.base=M),c.touched=K.stacksTouched,h.index>0&&!1===this.singleStacks&&(c.points[M][0]=c.points[this.index+","+x+",0"][0])):(delete c.points[M],delete c.points[this.index]);let ue=c.total||0;"percent"===z?(f=d?R:_,ue=G&&oe[f]?.[x]?(f=oe[f][x]).total=Math.max(f.total||0,ue)+Math.abs(O)||0:ee(ue+(Math.abs(O)||0))):"group"===z?(I(O)&&(O=O[0]),null!==O&&ue++):ue=ee(ue+(O||0)),c.cumulative="group"===z?(ue||1)-1:ee(D(c.cumulative,m)+(O||0)),c.total=ue,null!==O&&(c.points[M].push(c.cumulative),y[U]=c.cumulative,c.hasValidPoints=!0)}"percent"===z&&(K.usePercentage=!0),"group"!==z&&(this.stackedYData=y),K.oldStacks={}}class l{constructor(o){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=o}buildStacks(){let o,h,d=this.axis,c=d.series,f="xAxis"===d.coll,u=d.options.reversedStacks,M=c.length;for(this.resetStacks(),this.usePercentage=!1,h=M;h--;)o=c[u?h:M-h-1],f&&o.setGroupedPoints(d),o.setStackedPoints(d);if(!f)for(h=0;h<M;h++)c[h].modifyStacks();N(d,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,A(this.stacks,o=>{A(o,h=>{h.cumulative=h.total})}))}resetStacks(){A(this.stacks,o=>{A(o,(h,d)=>{C(h.touched)&&h.touched<this.stacksTouched?(h.destroy(),delete o[d]):(h.total=null,h.cumulative=null)})})}renderStackTotals(){let o=this.axis,h=o.chart,d=h.renderer,c=this.stacks,f=he(h,o.options.stackLabels?.animation||!1),u=this.stackTotalGroup=this.stackTotalGroup||d.g("stack-labels").attr({zIndex:6,opacity:0}).add();u.translate(h.plotLeft,h.plotTop),A(c,M=>{A(M,U=>{U.render(u)})}),u.animate({opacity:1},f)}}return(de||(de={})).compose=function(n,o,h){let d=o.prototype,c=h.prototype;d.getStacks||(te(n,"init",T),te(n,"destroy",v),d.getStacks=P,c.getStackIndicator=H,c.modifyStacks=B,c.percentStacker=S,c.setGroupedPoints=p,c.setStackedPoints=b)},de}),Ne(Y,"Series/Line/LineSeries.js",[Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{defined:ve,merge:me,isObject:de}=xe;class he extends Z{drawGraph(){let te=this.options,ee=(this.gappedPath||this.getGraphPath).call(this),L=this.chart.styledMode;[this,...this.zones].forEach((W,N)=>{let I,C=W.graph,A=C?"animate":"attr",D=W.dashStyle||te.dashStyle;C?(C.endX=this.preventGraphAnimation?null:ee.xMap,C.animate({d:ee})):ee.length&&(W.graph=C=this.chart.renderer.path(ee).addClass("highcharts-graph"+(N?` highcharts-zone-graph-${N-1} `:" ")+(N&&W.className||"")).attr({zIndex:1}).add(this.group)),C&&!L&&(I={stroke:!N&&te.lineColor||W.color||this.color||"#cccccc","stroke-width":te.lineWidth||0,fill:this.fillGraph&&this.color||"none"},D?I.dashstyle=D:"square"!==te.linecap&&(I["stroke-linecap"]=I["stroke-linejoin"]="round"),C[A](I).shadow(N<2&&te.shadow&&me({filterUnits:"userSpaceOnUse"},de(te.shadow)?te.shadow:{}))),C&&(C.startX=ee.xMap,C.isArea=ee.isArea)})}getGraphPath(te,ee,L){let A,W=this,N=W.options,I=[],C=[],D=N.step,P=(te=te||W.points).reversed;return P&&te.reverse(),(D={right:1,center:2}[D]||D&&3)&&P&&(D=4-D),(te=this.getValidPoints(te,!1,!(N.connectNulls&&!ee&&!L))).forEach(function(v,T){let H,B=v.plotX,S=v.plotY,p=te[T-1],b=v.isNull||"number"!=typeof S;(v.leftCliff||p&&p.rightCliff)&&!L&&(A=!0),b&&!ve(ee)&&T>0?A=!N.connectNulls:b&&!ee?A=!0:(0===T||A?H=[["M",v.plotX,v.plotY]]:W.getPointSpline?H=[W.getPointSpline(te,v,T)]:D?(H=1===D?[["L",p.plotX,S]]:2===D?[["L",(p.plotX+B)/2,p.plotY],["L",(p.plotX+B)/2,S]]:[["L",B,p.plotY]]).push(["L",B,S]):H=[["L",B,S]],C.push(v.x),D&&(C.push(v.x),2===D&&C.push(v.x)),I.push.apply(I,H),A=!1)}),I.xMap=C,W.graphPath=I,I}}return he.defaultOptions=me(Z.defaultOptions,{legendSymbol:"lineMarker"}),ce.registerSeriesType("line",he),he}),Ne(Y,"Series/Area/AreaSeriesDefaults.js",[],function(){return{threshold:0,legendSymbol:"areaMarker"}}),Ne(Y,"Series/Area/AreaSeries.js",[Y["Series/Area/AreaSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{seriesTypes:{line:ve}}=ce,{extend:me,merge:de,objectEach:he,pick:Q}=xe;class te extends ve{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:L,options:W}=this;[this,...this.zones].forEach((N,I)=>{let C={},A=N.fillColor||W.fillColor,D=N.area,P=D?"animate":"attr";D?(D.endX=this.preventGraphAnimation?null:L.xMap,D.animate({d:L})):(C.zIndex=0,(D=N.area=this.chart.renderer.path(L).addClass("highcharts-area"+(I?` highcharts-zone-area-${I-1} `:" ")+(I&&N.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(C.fill=A||N.color||this.color,C["fill-opacity"]=A?1:W.fillOpacity??.75,D.css({pointerEvents:this.stickyTracking?"none":"auto"})),D[P](C),D.startX=L.xMap,D.shiftUnit=W.step?2:1})}getGraphPath(L){let W,N,I,C=ve.prototype.getGraphPath,A=this.options,D=A.stacking,P=this.yAxis,v=[],T=[],H=this.index,B=P.stacking.stacks[this.stackKey],S=A.threshold,p=Math.round(P.getThreshold(A.threshold)),b=Q(A.connectNulls,"percent"===D),l=function(f,u,M){let j,J,U=L[f],x=D&&B[U.x].points[H],O=U[M+"Null"]||0,z=U[M+"Cliff"]||0,y=!0;z||O?(j=(O?x[0]:x[1])+z,J=x[0]+z,y=!!O):!D&&L[u]&&L[u].isNull&&(j=J=S),void 0!==j&&(T.push({plotX:W,plotY:null===j?p:P.getThreshold(j),isNull:y,isCliff:!0}),v.push({plotX:W,plotY:null===J?p:P.getThreshold(J),doCurve:!1}))};L=L||this.points,D&&(L=this.getStackPoints(L));for(let f=0,u=L.length;f<u;++f)D||(L[f].leftCliff=L[f].rightCliff=L[f].leftNull=L[f].rightNull=void 0),N=L[f].isNull,W=Q(L[f].rectPlotX,L[f].plotX),I=D?Q(L[f].yBottom,p):p,N&&!b||(b||l(f,f-1,"left"),N&&!D&&b||(T.push(L[f]),v.push({x:f,plotX:W,plotY:I})),b||l(f,f+1,"right"));let n=C.call(this,T,!0,!0);v.reversed=!0;let o=C.call(this,v,!0,!0),h=o[0];h&&"M"===h[0]&&(o[0]=["L",h[1],h[2]]);let d=n.concat(o);d.length&&d.push(["Z"]);let c=C.call(this,T,!1,b);return this.chart.series.length>1&&D&&T.some(f=>f.isCliff)&&(d.hasStackedCliffs=c.hasStackedCliffs=!0),d.xMap=n.xMap,this.areaPath=d,c}getStackPoints(L){let W=this,N=[],I=[],C=this.xAxis,A=this.yAxis,D=A.stacking.stacks[this.stackKey],P={},v=A.series,T=v.length,H=A.options.reversedStacks?1:-1,B=v.indexOf(W);if(L=L||this.points,this.options.stacking){for(let p=0;p<L.length;p++)L[p].leftNull=L[p].rightNull=void 0,P[L[p].x]=L[p];he(D,function(p,b){null!==p.total&&I.push(b)}),I.sort(function(p,b){return p-b});let S=v.map(p=>p.visible);I.forEach(function(p,b){let n,o,l=0;if(P[p]&&!P[p].isNull)N.push(P[p]),[-1,1].forEach(function(h){let d=1===h?"rightNull":"leftNull",c=D[I[b+h]],f=0;if(c){let u=B;for(;u>=0&&u<T;){let M=v[u].index;!(n=c.points[M])&&(M===W.index?P[p][d]=!0:S[u]&&(o=D[p].points[M])&&(f-=o[1]-o[0])),u+=H}}P[p][1===h?"rightCliff":"leftCliff"]=f});else{let h=B;for(;h>=0&&h<T;){if(n=D[p].points[v[h].index]){l=n[1];break}h+=H}l=Q(l,0),l=A.translate(l,0,1,0,1),N.push({isNull:!0,plotX:C.translate(p,0,0,0,1),x:p,plotY:l,yBottom:l})}})}return N}}return te.defaultOptions=de(ve.defaultOptions,Z),me(te.prototype,{singleStacks:!1}),ce.registerSeriesType("area",te),te}),Ne(Y,"Series/Spline/SplineSeries.js",[Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce){let{line:xe}=Z.seriesTypes,{merge:ve,pick:me}=ce;class de extends xe{getPointSpline(Q,te,ee){let L,W,N,I,C=te.plotX||0,A=te.plotY||0,D=Q[ee-1],P=Q[ee+1];function v(H){return H&&!H.isNull&&!1!==H.doCurve&&!te.isCliff}if(v(D)&&v(P)){let B=D.plotY||0,p=P.plotY||0,b=0;L=(1.5*C+(D.plotX||0))/2.5,W=(1.5*A+B)/2.5,N=(1.5*C+(P.plotX||0))/2.5,I=(1.5*A+p)/2.5,N!==L&&(b=(I-W)*(N-C)/(N-L)+A-I),W+=b,I+=b,W>B&&W>A?(W=Math.max(B,A),I=2*A-W):W<B&&W<A&&(W=Math.min(B,A),I=2*A-W),I>p&&I>A?(I=Math.max(p,A),W=2*A-I):I<p&&I<A&&(I=Math.min(p,A),W=2*A-I),te.rightContX=N,te.rightContY=I,te.controlPoints={low:[L,W],high:[N,I]}}let T=["C",me(D.rightContX,D.plotX,0),me(D.rightContY,D.plotY,0),me(L,C,0),me(W,A,0),C,A];return D.rightContX=D.rightContY=void 0,T}}return de.defaultOptions=ve(xe.defaultOptions),Z.registerSeriesType("spline",de),de}),Ne(Y,"Series/AreaSpline/AreaSplineSeries.js",[Y["Series/Spline/SplineSeries.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{area:ve,area:{prototype:me}}=ce.seriesTypes,{extend:de,merge:he}=xe;class Q extends Z{}return Q.defaultOptions=he(Z.defaultOptions,ve.defaultOptions),de(Q.prototype,{getGraphPath:me.getGraphPath,getStackPoints:me.getStackPoints,drawGraph:me.drawGraph}),ce.registerSeriesType("areaspline",Q),Q}),Ne(Y,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),Ne(Y,"Series/Column/ColumnSeries.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Color/Color.js"],Y["Series/Column/ColumnSeriesDefaults.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he){let{animObject:Q}=Z,{parse:te}=ce,{noop:ee}=ve,{clamp:L,crisp:W,defined:N,extend:I,fireEvent:C,isArray:A,isNumber:D,merge:P,pick:v,objectEach:T}=he;class H extends me{animate(S){let p,b,l=this,n=this.yAxis,o=n.pos,h=n.reversed,d=l.options,{clipOffset:c,inverted:f}=this.chart,u={},M=f?"translateX":"translateY";S&&c?(u.scaleY=.001,b=L(n.toPixels(d.threshold),o,o+n.len),f?(b+=h?-Math.floor(c[0]):Math.ceil(c[2]),u.translateX=b-n.len):(b+=h?Math.ceil(c[0]):-Math.floor(c[2]),u.translateY=b),l.clipBox&&l.setClip(),l.group.attr(u)):(p=Number(l.group.attr(M)),l.group.animate({scaleY:1},I(Q(l.options.animation),{step:function(U,x){l.group&&(u[M]=p+x.pos*(o-p),l.group.attr(u))}})))}init(S,p){super.init.apply(this,arguments);let b=this;(S=b.chart).hasRendered&&S.series.forEach(function(l){l.type===b.type&&(l.isDirty=!0)})}getColumnMetrics(){let d,S=this,p=S.options,b=S.xAxis,l=S.yAxis,n=b.options.reversedStacks,o=b.reversed&&!n||!b.reversed&&n,h={},c=0;!1===p.grouping?c=1:S.chart.series.forEach(function(O){let z,j=O.yAxis,J=O.options;O.type===S.type&&O.reserveSpace()&&l.len===j.len&&l.pos===j.pos&&(J.stacking&&"group"!==J.stacking?(void 0===h[d=O.stackKey]&&(h[d]=c++),z=h[d]):!1!==J.grouping&&(z=c++),O.columnIndex=z)});let f=Math.min(Math.abs(b.transA)*(!b.brokenAxis?.hasBreaks&&b.ordinal?.slope||p.pointRange||b.closestPointRange||b.tickInterval||1),b.len),u=f*p.groupPadding,M=(f-2*u)/(c||1),U=Math.min(p.maxPointWidth||b.len,v(p.pointWidth,M*(1-2*p.pointPadding)));return S.columnMetrics={width:U,offset:(M-U)/2+(u+((S.columnIndex||0)+(o?1:0))*M-f/2)*(o?-1:1),paddedWidth:M,columnCount:c},S.columnMetrics}crispCol(S,p,b,l){let n=this.borderWidth,o=this.chart.inverted;return l=W(p+l,n,o)-(p=W(p,n,o)),this.options.crisp&&(b=W(S+b,n)-(S=W(S,n))),{x:S,y:p,width:b,height:l}}adjustForMissingColumns(S,p,b,l){if(!b.isNull&&l.columnCount>1){let n=this.xAxis.series.filter(c=>c.visible).map(c=>c.index),o=0,h=0;T(this.xAxis.stacking?.stacks,c=>{if("number"==typeof b.x){let f=c[b.x.toString()];if(f&&A(f.points[this.index])){let u=Object.keys(f.points).filter(M=>!M.match(",")&&f.points[M]&&f.points[M].length>1).map(parseFloat).filter(M=>-1!==n.indexOf(M)).sort((M,U)=>U-M);o=u.indexOf(this.index),h=u.length}}}),o=this.xAxis.reversed?h-1-o:o,S=(b.plotX||0)+((h-1)*l.paddedWidth+p)/2-p-o*l.paddedWidth}return S}translate(){let S=this,p=S.chart,b=S.options,l=S.dense=S.closestPointRange*S.xAxis.transA<2,n=S.borderWidth=v(b.borderWidth,l?0:1),o=S.xAxis,h=S.yAxis,d=b.threshold,c=v(b.minPointLength,5),f=S.getColumnMetrics(),u=f.width,M=S.pointXOffset=f.offset,U=S.dataMin,x=S.dataMax,O=S.translatedThreshold=h.getThreshold(d),z=S.barW=Math.max(u,1+2*n);b.pointPadding&&(z=Math.ceil(z)),me.prototype.translate.apply(S),S.points.forEach(function(j){let X,J=v(j.yBottom,O),y=999+Math.abs(J),w=j.plotX||0,E=L(j.plotY,-y,h.len+y),m=Math.min(E,J),F=Math.max(E,J)-m,R=u,_=w+M,G=z;c&&Math.abs(F)<c&&(F=c,X=!h.reversed&&!j.negative||h.reversed&&j.negative,D(d)&&D(x)&&j.y===d&&x<=d&&(h.min||0)<d&&(U!==x||(h.max||0)<=d)&&(X=!X,j.negative=!j.negative),m=Math.abs(m-O)>c?J-c:O-(X?c:0)),N(j.options.pointWidth)&&(_-=Math.round(((R=G=Math.ceil(j.options.pointWidth))-u)/2)),b.centerInCategory&&!b.stacking&&(_=S.adjustForMissingColumns(_,R,j,f)),j.barX=_,j.pointWidth=R,j.tooltipPos=p.inverted?[L(h.len+h.pos-p.plotLeft-E,h.pos-p.plotLeft,h.len+h.pos-p.plotLeft),o.len+o.pos-p.plotTop-_-G/2,F]:[o.left-p.plotLeft+_+G/2,L(E+h.pos-p.plotTop,h.pos-p.plotTop,h.len+h.pos-p.plotTop),F],j.shapeType=S.pointClass.prototype.shapeType||"roundedRect",j.shapeArgs=S.crispCol(_,j.isNull?O:m,G,j.isNull?0:F)}),C(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(S,p){let h,d,c,b=this.options,l=this.pointAttrToOptions||{},n=l.stroke||"borderColor",o=l["stroke-width"]||"borderWidth",f=S&&S.color||this.color,u=S&&S[n]||b[n]||f,M=S&&S.options.dashStyle||b.dashStyle,U=S&&S[o]||b[o]||this[o]||0,x=v(S&&S.opacity,b.opacity,1);S&&this.zones.length&&(d=S.getZone(),f=S.options.color||d&&(d.color||S.nonZonedColor)||this.color,d&&(u=d.borderColor||u,M=d.dashStyle||M,U=d.borderWidth||U)),p&&S&&(c=(h=P(b.states[p],S.options.states&&S.options.states[p]||{})).brightness,f=h.color||void 0!==c&&te(f).brighten(h.brightness).get()||f,u=h[n]||u,U=h[o]||U,M=h.dashStyle||M,x=v(h.opacity,x));let O={fill:f,stroke:u,"stroke-width":U,opacity:x};return M&&(O.dashstyle=M),O}drawPoints(S=this.points){let p,b=this,l=this.chart,n=b.options,o=l.renderer,h=n.animationLimit||250;S.forEach(function(d){let f=d.graphic,u=!!f,M=f&&l.pointCount<h?"animate":"attr";D(d.plotY)&&null!==d.y?(p=d.shapeArgs,f&&d.hasNewShapeType()&&(f=f.destroy()),b.enabledDataSorting&&(d.startXPos=b.xAxis.reversed?-(p&&p.width||0):b.xAxis.width),!f&&(d.graphic=f=o[d.shapeType](p).add(d.group||b.group),f&&b.enabledDataSorting&&l.hasRendered&&l.pointCount<h&&(f.attr({x:d.startXPos}),u=!0,M="animate")),f&&u&&f[M](P(p)),l.styledMode||f[M](b.pointAttribs(d,d.selected&&"select")).shadow(!1!==d.allowShadow&&n.shadow),f&&(f.addClass(d.getClassName(),!0),f.attr({visibility:d.visible?"inherit":"hidden"}))):f&&(d.graphic=f.destroy())})}drawTracker(S=this.points){let p,b=this,l=b.chart,n=l.pointer,o=function(h){let d=n?.getPointFromEvent(h);n&&d&&b.options.enableMouseTracking&&(n.isDirectTouch=!0,d.onMouseOver(h))};S.forEach(function(h){p=A(h.dataLabels)?h.dataLabels:h.dataLabel?[h.dataLabel]:[],h.graphic&&(h.graphic.element.point=h),p.forEach(function(d){(d.div||d.element).point=h})}),b._hasTracking||(b.trackerGroups.forEach(function(h){b[h]&&(b[h].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(d){n?.onTrackerMouseOut(d)}).on("touchstart",o),!l.styledMode&&b.options.cursor&&b[h].css({cursor:b.options.cursor}))}),b._hasTracking=!0),C(this,"afterDrawTracker")}remove(){let S=this,p=S.chart;p.hasRendered&&p.series.forEach(function(b){b.type===S.type&&(b.isDirty=!0)}),me.prototype.remove.apply(S,arguments)}}return H.defaultOptions=P(me.defaultOptions,xe),I(H.prototype,{directTouch:!0,getSymbol:ee,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),de.registerSeriesType("column",H),H}),Ne(Y,"Core/Series/DataLabel.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Templating.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve;let{getDeferredAnimation:me}=Z,{format:de}=ce,{defined:he,extend:Q,fireEvent:te,isArray:ee,isString:L,merge:W,objectEach:N,pick:I,pInt:C,splat:A}=xe;return function(D){function P(){return b(this).some(n=>n?.enabled)}function v(n,o,h,d,c){let{chart:f,enabledDataSorting:u}=this,M=this.isCartesian&&f.inverted,U=n.plotX,x=n.plotY,O=h.rotation||0,z=he(U)&&he(x)&&f.isInsidePlot(U,Math.round(x),{inverted:M,paneCoordinates:!0,series:this}),j=0===O&&"justify"===I(h.overflow,u?"none":"justify"),J=this.visible&&!1!==n.visible&&he(U)&&(n.series.forceDL||u&&!j||z||I(h.inside,!!this.options.stacking)&&d&&f.isInsidePlot(U,M?d.x+1:d.y+d.height-1,{inverted:M,paneCoordinates:!0,series:this})),y=n.pos();if(J&&y){let E=o.getBBox(),X=o.getBBox(void 0,0),m={right:1,center:.5}[h.align||0]||0,F={bottom:1,middle:.5}[h.verticalAlign||0]||0;if(d=Q({x:y[0],y:Math.round(y[1]),width:0,height:0},d||{}),"plotEdges"===h.alignTo&&this.isCartesian&&(d[M?"x":"y"]=0,d[M?"width":"height"]=this.yAxis?.len||0),Q(h,{width:E.width,height:E.height}),u&&this.xAxis&&!j&&this.setDataLabelStartPos(n,o,c,z,d),o.align(W(h,{width:X.width,height:X.height}),!1,d,!1),o.alignAttr.x+=m*(X.width-E.width),o.alignAttr.y+=F*(X.height-E.height),o[o.placed?"animate":"attr"]({x:o.alignAttr.x+(E.width-X.width)/2,y:o.alignAttr.y+(E.height-X.height)/2,rotationOriginX:(o.width||0)/2,rotationOriginY:(o.height||0)/2}),j&&d.height>=0)this.justifyDataLabel(o,h,o.alignAttr,E,d,c);else if(I(h.crop,!0)){let{x:R,y:_}=o.alignAttr;J=f.isInsidePlot(R,_,{paneCoordinates:!0,series:this})&&f.isInsidePlot(R+E.width-1,_+E.height-1,{paneCoordinates:!0,series:this})}h.shape&&!O&&o[c?"attr":"animate"]({anchorX:y[0],anchorY:y[1]})}c&&u&&(o.placed=!1),J||u&&!j?(o.show(),o.placed=!0):(o.hide(),o.placed=!1)}function T(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function H(n){let o=this.hasRendered||0,h=this.initDataLabelsGroup().attr({opacity:+o});return!o&&h&&(this.visible&&h.show(),this.options.animation?h.animate({opacity:1},n):h.attr({opacity:1})),h}function B(n){let o;n=n||this.points;let h=this,d=h.chart,c=h.options,f=d.renderer,{backgroundColor:u,plotBackgroundColor:M}=d.options.chart,U=f.getContrast(L(M)&&M||L(u)&&u||"#000000"),x=b(h),{animation:O,defer:z}=x[0],j=z?me(d,O,h):{defer:0,duration:0};te(this,"drawDataLabels"),h.hasDataLabels?.()&&(o=this.initDataLabels(j),n.forEach(J=>{let y=J.dataLabels||[];A(p(x,J.dlOptions||J.options?.dataLabels)).forEach((E,X)=>{let K,oe,ae,ue,q,m=E.enabled&&(J.visible||J.dataLabelOnHidden)&&(!J.isNull||J.dataLabelOnNull)&&function(re,le){let pe=le.filter;if(pe){let ge=pe.operator,we=re[pe.property],ye=pe.value;return">"===ge&&we>ye||"<"===ge&&we<ye||">="===ge&&we>=ye||"<="===ge&&we<=ye||"=="===ge&&we==ye||"==="===ge&&we===ye||"!="===ge&&we!=ye||"!=="===ge&&we!==ye}return!0}(J,E),{backgroundColor:F,borderColor:R,distance:_,style:G={}}=E,be={},Se=y[X],ie=!Se;m&&(oe=I(E[J.formatPrefix+"Format"],E.format),K=J.getLabelConfig(),ae=he(oe)?de(oe,K,d):(E[J.formatPrefix+"Formatter"]||E.formatter).call(K,E),ue=E.rotation,!d.styledMode&&(G.color=I(E.color,G.color,L(h.color)?h.color:void 0,"#000000"),"contrast"===G.color?("none"!==F&&(q=F),J.contrastColor=f.getContrast("auto"!==q&&q||J.color||h.color),G.color=q||!he(_)&&E.inside||0>C(_||0)||c.stacking?J.contrastColor:U):delete J.contrastColor,c.cursor&&(G.cursor=c.cursor)),be={r:E.borderRadius||0,rotation:ue,padding:E.padding,zIndex:1},d.styledMode||(be.fill="auto"===F?J.color:F,be.stroke="auto"===R?J.color:R,be["stroke-width"]=E.borderWidth),N(be,(re,le)=>{void 0===re&&delete be[le]})),!Se||m&&he(ae)&&!!Se.div==!!E.useHTML&&(Se.rotation&&E.rotation||Se.rotation===E.rotation)||(Se=void 0,ie=!0),m&&he(ae)&&(Se?be.text=ae:(Se=f.label(ae,0,0,E.shape,void 0,void 0,E.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+J.colorIndex+" "+(E.className||"")+(E.useHTML?" highcharts-tracker":"")),Se&&(Se.options=E,Se.attr(be),d.styledMode?G.width&&Se.css({width:G.width,textOverflow:G.textOverflow}):Se.css(G).shadow(E.shadow),te(Se,"beforeAddingDataLabel",{labelOptions:E,point:J}),Se.added||Se.add(o),h.alignDataLabel(J,Se,E,void 0,ie),Se.isActive=!0,y[X]&&y[X]!==Se&&y[X].destroy(),y[X]=Se))});let w=y.length;for(;w--;)y[w]&&y[w].isActive?y[w].isActive=!1:(y[w]?.destroy(),y.splice(w,1));J.dataLabel=y[0],J.dataLabels=y})),te(this,"afterDrawDataLabels")}function S(n,o,h,d,c,f){let E,X,u=this.chart,M=o.align,U=o.verticalAlign,x=n.box?0:n.padding||0,O=u.inverted?this.yAxis:this.xAxis,z=O?O.left-u.plotLeft:0,j=u.inverted?this.xAxis:this.yAxis,J=j?j.top-u.plotTop:0,{x:y=0,y:w=0}=o;return(E=(h.x||0)+x+z)<0&&("right"===M&&y>=0?(o.align="left",o.inside=!0):y-=E,X=!0),(E=(h.x||0)+d.width-x+z)>u.plotWidth&&("left"===M&&y<=0?(o.align="right",o.inside=!0):y+=u.plotWidth-E,X=!0),(E=h.y+x+J)<0&&("bottom"===U&&w>=0?(o.verticalAlign="top",o.inside=!0):w-=E,X=!0),(E=(h.y||0)+d.height-x+J)>u.plotHeight&&("top"===U&&w<=0?(o.verticalAlign="bottom",o.inside=!0):w+=u.plotHeight-E,X=!0),X&&(o.x=y,o.y=w,n.placed=!f,n.align(o,void 0,c)),X}function p(n,o){let d,h=[];if(ee(n)&&!ee(o))h=n.map(function(c){return W(c,o)});else if(ee(o)&&!ee(n))h=o.map(function(c){return W(n,c)});else if(ee(n)||ee(o)){if(ee(n)&&ee(o))for(d=Math.max(n.length,o.length);d--;)h[d]=W(n[d],o[d])}else h=W(n,o);return h}function b(n){let o=n.chart.options.plotOptions;return A(p(p(o?.series?.dataLabels,o?.[n.type]?.dataLabels),n.options.dataLabels))}function l(n,o,h,d,c){let f=this.chart,u=f.inverted,M=this.xAxis,U=M.reversed,x=((u?o.height:o.width)||0)/2,O=n.pointWidth,z=O?O/2:0;o.startXPos=u?c.x:U?-x-z:M.width-x+z,o.startYPos=u?U?this.yAxis.height-x+z:-x-z:c.y,d?"hidden"===o.visibility&&(o.show(),o.attr({opacity:0}).animate({opacity:1})):o.attr({opacity:1}).animate({opacity:0},void 0,o.hide),f.hasRendered&&(h&&o.attr({x:o.startXPos,y:o.startYPos}),o.placed=!0)}D.compose=function(n){let o=n.prototype;o.initDataLabels||(o.initDataLabels=H,o.initDataLabelsGroup=T,o.alignDataLabel=v,o.drawDataLabels=B,o.justifyDataLabel=S,o.setDataLabelStartPos=l,o.hasDataLabels=P)}}(ve||(ve={})),ve}),Ne(Y,"Series/Column/ColumnDataLabel.js",[Y["Core/Series/DataLabel.js"],Y["Core/Globals.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{composed:de}=ce,{series:he}=xe,{merge:Q,pick:te,pushUnique:ee}=ve;return function(L){function W(N,I,C,A,D){let P=this.chart.inverted,v=N.series,T=(v.xAxis?v.xAxis.len:this.chart.plotSizeX)||0,H=(v.yAxis?v.yAxis.len:this.chart.plotSizeY)||0,B=N.dlBox||N.shapeArgs,S=te(N.below,N.plotY>te(this.translatedThreshold,H)),p=te(C.inside,!!this.options.stacking);if(B){if(A=Q(B),"allow"!==C.overflow||!1!==C.crop){A.y<0&&(A.height+=A.y,A.y=0);let b=A.y+A.height-H;b>0&&b<A.height-1&&(A.height-=b)}P&&(A={x:H-A.y-A.height,y:T-A.x-A.width,width:A.height,height:A.width}),p||(P?(A.x+=S?0:A.width,A.width=0):(A.y+=S?A.height:0,A.height=0))}C.align=te(C.align,!P||p?"center":S?"right":"left"),C.verticalAlign=te(C.verticalAlign,P||p?"middle":S?"top":"bottom"),he.prototype.alignDataLabel.call(this,N,I,C,A,D),C.inside&&N.contrastColor&&I.css({color:N.contrastColor})}L.compose=function(N){Z.compose(he),ee(de,"ColumnDataLabel")&&(N.prototype.alignDataLabel=W)}}(me||(me={})),me}),Ne(Y,"Series/Bar/BarSeries.js",[Y["Series/Column/ColumnSeries.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{extend:ve,merge:me}=xe;class de extends Z{}return de.defaultOptions=me(Z.defaultOptions,{}),ve(de.prototype,{inverted:!0}),ce.registerSeriesType("bar",de),de}),Ne(Y,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),Ne(Y,"Series/Scatter/ScatterSeries.js",[Y["Series/Scatter/ScatterSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{column:ve,line:me}=ce.seriesTypes,{addEvent:de,extend:he,merge:Q}=xe;class te extends me{applyJitter(){let L=this,W=this.options.jitter,N=this.points.length;W&&this.points.forEach(function(I,C){["x","y"].forEach(function(A,D){if(W[A]&&!I.isNull){let P=`plot${A.toUpperCase()}`,v=L[`${A}Axis`],T=W[A]*v.transA;if(v&&!v.logarithmic){let H=Math.max(0,(I[P]||0)-T),B=Math.min(v.len,(I[P]||0)+T);I[P]=H+(B-H)*function(S){let p=1e4*Math.sin(S);return p-Math.floor(p)}(C+D*N),"x"===A&&(I.clientX=I.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return te.defaultOptions=Q(me.defaultOptions,Z),he(te.prototype,{drawTracker:ve.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),de(te,"afterTranslate",function(){this.applyJitter()}),ce.registerSeriesType("scatter",te),te}),Ne(Y,"Series/CenteredUtilities.js",[Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){var ve,me;let{deg2rad:de}=Z,{fireEvent:he,isNumber:Q,pick:te,relativeLength:ee}=xe;return(me=ve||(ve={})).getCenter=function(){let v,B,S,L=this.options,W=this.chart,N=2*(L.slicedOffset||0),I=W.plotWidth-2*N,C=W.plotHeight-2*N,A=L.center,D=Math.min(I,C),P=L.thickness,T=L.size,H=L.innerSize||0;"string"==typeof T&&(T=parseFloat(T)),"string"==typeof H&&(H=parseFloat(H));let p=[te(A[0],"50%"),te(A[1],"50%"),te(T&&T<0?void 0:L.size,"100%"),te(H&&H<0?void 0:L.innerSize||0,"0%")];for(!W.angular||this instanceof ce||(p[3]=0),B=0;B<4;++B)S=p[B],v=B<2||2===B&&/%$/.test(S),p[B]=ee(S,[I,C,D,p[2]][B])+(v?N:0);return p[3]>p[2]&&(p[3]=p[2]),Q(P)&&2*P<p[2]&&P>0&&(p[3]=p[2]-2*P),he(this,"afterGetCenter",{positions:p}),p},me.getStartAndEndRadians=function(L,W){let N=Q(L)?L:0,I=Q(W)&&W>N&&W-N<360?W:N+360;return{start:de*(N+-90),end:de*(I+-90)}},ve}),Ne(Y,"Series/Pie/PiePoint.js",[Y["Core/Animation/AnimationUtilities.js"],Y["Core/Series/Point.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{setAnimation:ve}=Z,{addEvent:me,defined:de,extend:he,isNumber:Q,pick:te,relativeLength:ee}=xe;class L extends ce{getConnectorPath(N){let I=N.dataLabelPosition,C=N.options||{},A=C.connectorShape;return I&&(this.connectorShapes[A]||A).call(this,{...I.computed,alignment:I.alignment},I.connectorPosition,C)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(N){let I=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(I.x,I.y,I.r+N,I.r+N,{innerR:I.r-1,start:I.start,end:I.end,borderRadius:I.borderRadius})}constructor(N,I,C){super(N,I,C),this.half=0,this.name??(this.name="Slice");let A=D=>{this.slice("select"===D.type)};me(this,"select",A),me(this,"unselect",A)}isValid(){return Q(this.y)&&this.y>=0}setVisible(N,I=!0){N!==this.visible&&this.update({visible:N??!this.visible},I,void 0,!1)}slice(N,I,C){let A=this.series;ve(C,A.chart),I=te(I,!0),this.sliced=this.options.sliced=N=de(N)?N:!this.sliced,A.options.data[A.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return he(L.prototype,{connectorShapes:{fixedOffset:function(W,N,I){let C=N.breakAt,A=N.touchingSliceAt;return[["M",W.x,W.y],I.softConnector?["C",W.x+("left"===W.alignment?-5:5),W.y,2*C.x-A.x,2*C.y-A.y,C.x,C.y]:["L",C.x,C.y],["L",A.x,A.y]]},straight:function(W,N){let I=N.touchingSliceAt;return[["M",W.x,W.y],["L",I.x,I.y]]},crookedLine:function(W,N,I){let{breakAt:C,touchingSliceAt:A}=N,{series:D}=this,[P,v,T]=D.center,H=T/2,{plotLeft:B,plotWidth:S}=D.chart,p="left"===W.alignment,{x:b,y:l}=W,n=C.x;if(I.crookDistance){let h=ee(I.crookDistance,1);n=p?P+H+(S+B-P-H)*(1-h):B+(P-H)*h}else n=P+(v-l)*Math.tan((this.angle||0)-Math.PI/2);let o=[["M",b,l]];return(p?n<=b&&n>=C.x:n>=b&&n<=C.x)&&o.push(["L",n,l]),o.push(["L",C.x,C.y],["L",A.x,A.y]),o}}}),L}),Ne(Y,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),Ne(Y,"Series/Pie/PieSeries.js",[Y["Series/CenteredUtilities.js"],Y["Series/Column/ColumnSeries.js"],Y["Core/Globals.js"],Y["Series/Pie/PiePoint.js"],Y["Series/Pie/PieSeriesDefaults.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/Symbols.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te){let{getStartAndEndRadians:ee}=Z,{noop:L}=xe,{clamp:W,extend:N,fireEvent:I,merge:C,pick:A}=te;class D extends de{animate(v){let T=this,B=T.startAngleRad;v||T.points.forEach(function(S){let p=S.graphic,b=S.shapeArgs;p&&b&&(p.attr({r:A(S.startR,T.center&&T.center[3]/2),start:B,end:B}),p.animate({r:b.r,start:b.start,end:b.end},T.options.animation))})}drawEmpty(){let v,T,H=this.startAngleRad,B=this.endAngleRad,S=this.options;0===this.total&&this.center?(v=this.center[0],T=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(v,T,this.center[1]/2,0,H,B).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Q.arc(v,T,this.center[2]/2,0,{start:H,end:B,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":S.borderWidth,fill:S.fillColor||"none",stroke:S.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let v=this.chart.renderer;this.points.forEach(function(T){T.graphic&&T.hasNewShapeType()&&(T.graphic=T.graphic.destroy()),T.graphic||(T.graphic=v[T.shapeType](T.shapeArgs).add(T.series.group),T.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(v,T,H,B){let S=this.center,p=this.radii?this.radii[H.index]||0:S[2]/2,b=B.dataLabelPosition,l=b?.distance||0,n=Math.asin(W((v-S[1])/(p+l),-1,1));return S[0]+Math.cos(n)*(p+l)*(T?-1:1)+(l>0?(T?-1:1)*(B.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let v,T,H,B,S=this,p=S.chart;this.drawEmpty(),S.group&&!p.styledMode&&S.group.shadow(S.options.shadow),S.points.forEach(function(b){let l={};T=b.graphic,!b.isNull&&T?(B=b.shapeArgs,v=b.getTranslate(),p.styledMode||(H=S.pointAttribs(b,b.selected&&"select")),b.delayedRendering?(T.setRadialReference(S.center).attr(B).attr(v),p.styledMode||T.attr(H).attr({"stroke-linejoin":"round"}),b.delayedRendering=!1):(T.setRadialReference(S.center),p.styledMode||C(!0,l,H),C(!0,l,B,v),T.animate(l)),T.attr({visibility:b.visible?"inherit":"hidden"}),T.addClass(b.getClassName(),!0)):T&&(b.graphic=T.destroy())})}sortByAngle(v,T){v.sort(function(H,B){return void 0!==H.angle&&(B.angle-H.angle)*T})}translate(v){I(this,"translate"),this.generatePoints();let o,h,d,c,f,u,M,T=this.options,H=T.slicedOffset,B=ee(T.startAngle,T.endAngle),S=this.startAngleRad=B.start,p=(this.endAngleRad=B.end)-S,b=this.points,l=T.ignoreHiddenPoint,n=b.length,U=0;for(v||(this.center=v=this.getCenter()),u=0;u<n;u++){M=b[u],o=S+U*p,M.isValid()&&(!l||M.visible)&&(U+=M.percentage/100),h=S+U*p;let x={x:v[0],y:v[1],r:v[2]/2,innerR:v[3]/2,start:Math.round(1e3*o)/1e3,end:Math.round(1e3*h)/1e3};M.shapeType="arc",M.shapeArgs=x,(d=(h+o)/2)>1.5*Math.PI?d-=2*Math.PI:d<-Math.PI/2&&(d+=2*Math.PI),M.slicedTranslation={translateX:Math.round(Math.cos(d)*H),translateY:Math.round(Math.sin(d)*H)},c=Math.cos(d)*v[2]/2,f=Math.sin(d)*v[2]/2,M.tooltipPos=[v[0]+.7*c,v[1]+.7*f],M.half=d<-Math.PI/2||d>Math.PI/2?1:0,M.angle=d}I(this,"afterTranslate")}updateTotals(){let B,S,v=this.points,T=v.length,H=this.options.ignoreHiddenPoint,p=0;for(B=0;B<T;B++)(S=v[B]).isValid()&&(!H||S.visible)&&(p+=S.y);for(B=0,this.total=p;B<T;B++)(S=v[B]).percentage=p>0&&(S.visible||!H)?S.y/p*100:0,S.total=p}}return D.defaultOptions=C(de.defaultOptions,me),N(D.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:ce.prototype.drawTracker,getCenter:Z.getCenter,getSymbol:L,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:ce.prototype.pointAttribs,pointClass:ve,requireSorting:!1,searchPoint:L,trackerGroups:["group","dataLabelsGroup"]}),he.registerSeriesType("pie",D),D}),Ne(Y,"Series/Pie/PieDataLabel.js",[Y["Core/Series/DataLabel.js"],Y["Core/Globals.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){var de;let{composed:he,noop:Q}=ce,{distribute:te}=xe,{series:ee}=ve,{arrayMax:L,clamp:W,defined:N,pick:I,pushUnique:C,relativeLength:A}=me;return function(D){let P={radialDistributionY:function(S,p){return(p.dataLabelPosition?.top||0)+S.distributeBox.pos},radialDistributionX:function(S,p,b,l,n){let o=n.dataLabelPosition;return S.getX(b<(o?.top||0)+2||b>(o?.bottom||0)-2?l:b,p.half,p,n)},justify:function(S,p,b,l){return l[0]+(S.half?-1:1)*(b+(p.dataLabelPosition?.distance||0))},alignToPlotEdges:function(S,p,b,l){let n=S.getBBox().width;return p?n+l:b-n-l},alignToConnectors:function(S,p,b,l){let o,n=0;return S.forEach(function(h){(o=h.dataLabel.getBBox().width)>n&&(n=o)}),p?n+l:b-n-l}};function v(S,p){let{center:b,options:l}=this,n=b[2]/2,o=S.angle||0,h=Math.cos(o),d=Math.sin(o),c=b[0]+h*n,f=b[1]+d*n,u=Math.min((l.slicedOffset||0)+(l.borderWidth||0),p/5);return{natural:{x:c+h*p,y:f+d*p},computed:{},alignment:p<0?"center":S.half?"right":"left",connectorPosition:{breakAt:{x:c+h*u,y:f+d*u},touchingSliceAt:{x:c,y:f}},distance:p}}function T(){let x,O,z,S=this,p=S.points,b=S.chart,l=b.plotWidth,n=b.plotHeight,o=b.plotLeft,h=Math.round(b.chartWidth/3),d=S.center,c=d[2]/2,f=d[1],u=[[],[]],M=[0,0,0,0],U=S.dataLabelPositioners,j=0;S.visible&&S.hasDataLabels?.()&&(p.forEach(J=>{(J.dataLabels||[]).forEach(y=>{y.shortened&&(y.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),y.shortened=!1)})}),ee.prototype.drawDataLabels.apply(S),p.forEach(J=>{(J.dataLabels||[]).forEach((y,w)=>{let E=d[2]/2,X=y.options,m=A(X?.distance||0,E);0===w&&u[J.half].push(J),!N(X?.style?.width)&&y.getBBox().width>h&&(y.css({width:Math.round(.7*h)+"px"}),y.shortened=!0),y.dataLabelPosition=this.getDataLabelPosition(J,m),j=Math.max(j,m)})}),u.forEach((J,y)=>{let X,m,R,E=[],F=0;J.length&&(S.sortByAngle(J,y-.5),j>0&&(X=Math.max(0,f-c-j),m=Math.min(f+c+j,b.plotHeight),J.forEach(_=>{(_.dataLabels||[]).forEach(G=>{let K=G.dataLabelPosition;K&&K.distance>0&&(K.top=Math.max(0,f-c-K.distance),K.bottom=Math.min(f+c+K.distance,b.plotHeight),F=G.getBBox().height||21,G.lineHeight=b.renderer.fontMetrics(G.text||G).h+2*G.padding,_.distributeBox={target:(G.dataLabelPosition?.natural.y||0)-K.top+G.lineHeight/2,size:F,rank:_.y},E.push(_.distributeBox))})}),te(E,R=m+F-X,R/5)),J.forEach(_=>{(_.dataLabels||[]).forEach(G=>{let K=G.options||{},oe=_.distributeBox,ae=G.dataLabelPosition,ue=ae?.natural.y||0,be=K.connectorPadding||0,Se=G.lineHeight||21,ie=(Se-G.getBBox().height)/2,q=0,re=ue,le="inherit";if(ae){if(E&&N(oe)&&ae.distance>0&&(void 0===oe.pos?le="hidden":(z=oe.size,re=U.radialDistributionY(_,G))),K.justify)q=U.justify(_,G,c,d);else switch(K.alignTo){case"connectors":q=U.alignToConnectors(J,y,l,o);break;case"plotEdges":q=U.alignToPlotEdges(G,y,l,o);break;default:q=U.radialDistributionX(S,_,re-ie,ue,G)}if(ae.attribs={visibility:le,align:ae.alignment},ae.posAttribs={x:q+(K.x||0)+({left:be,right:-be}[ae.alignment]||0),y:re+(K.y||0)-Se/2},ae.computed.x=q,ae.computed.y=re-ie,I(K.crop,!0)){let pe;q-(O=G.getBBox().width)<be&&1===y?(pe=Math.round(O-q+be),M[3]=Math.max(pe,M[3])):q+O>l-be&&0===y&&(pe=Math.round(q+O-l+be),M[1]=Math.max(pe,M[1])),re-z/2<0?M[0]=Math.max(Math.round(z/2-re),M[0]):re+z/2>n&&(M[2]=Math.max(Math.round(re+z/2-n),M[2])),ae.sideOverflow=pe}}})}))}),(0===L(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),this.points.forEach(J=>{(J.dataLabels||[]).forEach(y=>{let{connectorColor:w,connectorWidth:E=1}=y.options||{},X=y.dataLabelPosition;if(E){let m;x=y.connector,X&&X.distance>0?(m=!x,x||(y.connector=x=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+J.colorIndex+(J.className?" "+J.className:"")).add(S.dataLabelsGroup)),b.styledMode||x.attr({"stroke-width":E,stroke:w||J.color||"#666666"}),x[m?"attr":"animate"]({d:J.getConnectorPath(y)}),x.attr({visibility:X.attribs?.visibility})):x&&(y.connector=x.destroy())}})})))}function H(){this.points.forEach(S=>{(S.dataLabels||[]).forEach(p=>{let b=p.dataLabelPosition;b?(b.sideOverflow&&(p.css({width:Math.max(p.getBBox().width-b.sideOverflow,0)+"px",textOverflow:(p.options?.style||{}).textOverflow||"ellipsis"}),p.shortened=!0),p.attr(b.attribs),p[p.moved?"animate":"attr"](b.posAttribs),p.moved=!0):p&&p.attr({y:-9999})}),delete S.distributeBox},this)}function B(S){let p=this.center,b=this.options,l=b.center,n=b.minSize||80,o=n,h=null!==b.size;return!h&&(null!==l[0]?o=Math.max(p[2]-Math.max(S[1],S[3]),n):(o=Math.max(p[2]-S[1]-S[3],n),p[0]+=(S[3]-S[1])/2),null!==l[1]?o=W(o,n,p[2]-Math.max(S[0],S[2])):(o=W(o,n,p[2]-S[0]-S[2]),p[1]+=(S[0]-S[2])/2),o<p[2]?(p[2]=o,p[3]=Math.min(b.thickness?Math.max(0,o-2*b.thickness):Math.max(0,A(b.innerSize||0,o)),o),this.translate(p),this.drawDataLabels&&this.drawDataLabels()):h=!0),h}D.compose=function(S){if(Z.compose(ee),C(he,"PieDataLabel")){let p=S.prototype;p.dataLabelPositioners=P,p.alignDataLabel=Q,p.drawDataLabels=T,p.getDataLabelPosition=v,p.placeDataLabels=H,p.verifyDataLabelOverflow=B}}}(de||(de={})),de}),Ne(Y,"Core/Geometry/GeometryUtilities.js",[],function(){var Z,ce;return(ce=Z||(Z={})).getCenterOfPoints=function(xe){let ve=xe.reduce((me,de)=>(me.x+=de.x,me.y+=de.y,me),{x:0,y:0});return{x:ve.x/xe.length,y:ve.y/xe.length}},ce.getDistanceBetweenPoints=function(xe,ve){return Math.sqrt(Math.pow(ve.x-xe.x,2)+Math.pow(ve.y-xe.y,2))},ce.getAngleBetweenPoints=function(xe,ve){return Math.atan2(ve.x-xe.x,ve.y-xe.y)},ce.pointInPolygon=function({x:xe,y:ve},me){let he,Q,de=me.length,te=!1;for(he=0,Q=de-1;he<de;Q=he++){let[ee,L]=me[he],[W,N]=me[Q];L>ve!=N>ve&&xe<(W-ee)*(ve-L)/(N-L)+ee&&(te=!te)}return te},Z}),Ne(Y,"Extensions/OverlappingDataLabels.js",[Y["Core/Geometry/GeometryUtilities.js"],Y["Core/Utilities.js"]],function(Z,ce){let{pointInPolygon:xe}=Z,{addEvent:ve,fireEvent:me,objectEach:de,pick:he}=ce;function Q(L){let C,A,D,P,v,W=L.length,N=(H,B)=>!(B.x>=H.x+H.width||B.x+B.width<=H.x||B.y>=H.y+H.height||B.y+B.height<=H.y),I=(H,B)=>{for(let S of H)if(xe({x:S[0],y:S[1]},B))return!0;return!1},T=!1;for(let H=0;H<W;H++)(C=L[H])&&(C.oldOpacity=C.opacity,C.newOpacity=1,C.absoluteBox=function(B){if(B&&(!B.alignAttr||B.placed)){let S=B.box?0:B.padding||0,p=B.alignAttr||{x:B.attr("x"),y:B.attr("y")},b=B.getBBox();return B.width=b.width,B.height=b.height,{x:p.x+(B.parentGroup?.translateX||0)+S,y:p.y+(B.parentGroup?.translateY||0)+S,width:(B.width||0)-2*S,height:(B.height||0)-2*S,polygon:b?.polygon}}}(C));L.sort((H,B)=>(B.labelrank||0)-(H.labelrank||0));for(let H=0;H<W;++H){P=(A=L[H])&&A.absoluteBox;let B=P?.polygon;for(let S=H+1;S<W;++S){v=(D=L[S])&&D.absoluteBox;let p=!1;if(P&&v&&A!==D&&0!==A.newOpacity&&0!==D.newOpacity&&"hidden"!==A.visibility&&"hidden"!==D.visibility){let b=v.polygon;if(B&&b&&B!==b?I(B,b)&&(p=!0):N(P,v)&&(p=!0),p){let l=A.labelrank<D.labelrank?A:D,n=l.text;l.newOpacity=0,n?.element.querySelector("textPath")&&n.hide()}}}}for(let H of L)te(H,this)&&(T=!0);T&&me(this,"afterHideAllOverlappingLabels")}function te(L,W){let N,I,C=!1;return L&&(I=L.newOpacity,L.oldOpacity!==I&&(L.hasClass("highcharts-data-label")?(L[I?"removeClass":"addClass"]("highcharts-data-label-hidden"),N=function(){W.styledMode||L.css({pointerEvents:I?"auto":"none"})},C=!0,L[L.isOld?"animate":"attr"]({opacity:I},void 0,N),me(W,"afterHideOverlappingLabel")):L.attr({opacity:I})),L.isOld=!0),C}function ee(){let L=this,W=[];for(let N of L.labelCollectors||[])W=W.concat(N());for(let N of L.yAxis||[])N.stacking&&N.options.stackLabels&&!N.options.stackLabels.allowOverlap&&de(N.stacking.stacks,I=>{de(I,C=>{C.label&&W.push(C.label)})});for(let N of L.series||[])if(N.visible&&N.hasDataLabels?.()){let I=C=>{for(let A of C)A.visible&&(A.dataLabels||[]).forEach(D=>{let P=D.options||{};D.labelrank=he(P.labelrank,A.labelrank,A.shapeArgs?.height),P.allowOverlap??Number(P.distance)>0?(D.oldOpacity=D.opacity,D.newOpacity=1,te(D,L)):W.push(D)})};I(N.nodes||[]),I(N.points)}this.hideOverlappingLabels(W)}return{compose:function(L){let W=L.prototype;W.hideOverlappingLabels||(W.hideOverlappingLabels=Q,ve(L,"render",ee))}}}),Ne(Y,"Extensions/BorderRadius.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{defaultOptions:ve}=Z,{noop:me}=ce,{addEvent:de,extend:he,isObject:Q,merge:te,relativeLength:ee}=xe,L={radius:0,scope:"stack",where:void 0},W=me,N=me;function I(v,T,H,B,S={}){let p=W(v,T,H,B,S),{innerR:b=0,r:l=H,start:n=0,end:o=0}=S;if(S.open||!S.borderRadius)return p;let h=o-n,d=Math.sin(h/2),c=Math.max(Math.min(ee(S.borderRadius||0,l-b),(l-b)/2,l*d/(1+d)),0),f=Math.min(c,h/Math.PI*2*b),u=p.length-1;for(;u--;)!function(M,U,x){let O,z,j,J=M[U],y=M[U+1];if("Z"===y[0]&&(y=M[0]),"M"!==J[0]&&"L"!==J[0]||"A"!==y[0]?"A"===J[0]&&("M"===y[0]||"L"===y[0])&&(O=y,z=J):(O=J,z=y,j=!0),O&&z&&z.params){let w=z[1],E=z[5],X=z.params,{start:m,end:F,cx:R,cy:_}=X,G=E?w-x:w+x,K=G?Math.asin(x/G):0,oe=E?K:-K,ae=Math.cos(K)*G;j?(X.start=m+oe,O[1]=R+ae*Math.cos(m),O[2]=_+ae*Math.sin(m),M.splice(U+1,0,["A",x,x,0,0,1,R+w*Math.cos(X.start),_+w*Math.sin(X.start)])):(X.end=F-oe,z[6]=R+w*Math.cos(X.end),z[7]=_+w*Math.sin(X.end),M.splice(U+1,0,["A",x,x,0,0,1,R+ae*Math.cos(F),_+ae*Math.sin(F)])),z[4]=Math.abs(X.end-X.start)<Math.PI?0:1}}(p,u,u>1?f:c);return p}function C(){if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){let{options:v,yAxis:T}=this,H="percent"===v.stacking,B=ve.plotOptions?.[this.type]?.borderRadius,S=A(v.borderRadius,Q(B)?B:{}),p=T.options.reversed;for(let b of this.points){let{shapeArgs:l}=b;if("roundedRect"===b.shapeType&&l){let{width:n=0,height:o=0,y:h=0}=l,d=h,c=o;if("stack"===S.scope&&b.stackTotal){let U=T.translate(H?100:b.stackTotal,!1,!0,!1,!0),x=T.translate(v.threshold||0,!1,!0,!1,!0),O=this.crispCol(0,Math.min(U,x),0,Math.abs(U-x));d=O.y,c=O.height}let f=(b.negative?-1:1)*(p?-1:1)==-1,u=S.where;!u&&this.is("waterfall")&&Math.abs((b.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(u="all"),u||(u="end");let M=Math.min(ee(S.radius,n),n/2,"all"===u?o/2:1/0)||0;"end"===u&&(f&&(d-=M),c+=M),he(l,{brBoxHeight:c,brBoxY:d,r:M})}}}}function A(v,T){return Q(v)||(v={radius:v||0}),te(L,T,v)}function D(){let v=A(this.options.borderRadius);for(let T of this.points){let H=T.shapeArgs;H&&(H.borderRadius=ee(v.radius,(H.r||0)-(H.innerR||0)))}}function P(v,T,H,B,S={}){let p=N(v,T,H,B,S),{r:b=0,brBoxHeight:l=B,brBoxY:n=T}=S,o=T-n,h=n+l-(T+B),d=o-b>-.1?0:b,c=h-b>-.1?0:b,f=Math.max(d&&o,0),u=Math.max(c&&h,0),M=[v+d,T],U=[v+H-d,T],x=[v+H,T+d],O=[v+H,T+B-c],z=[v+H-c,T+B],j=[v+c,T+B],J=[v,T+B-c],y=[v,T+d],w=(E,X)=>Math.sqrt(Math.pow(E,2)-Math.pow(X,2));if(f){let E=w(d,d-f);M[0]-=E,U[0]+=E,x[1]=y[1]=T+d-f}if(B<d-f){let E=w(d,d-f-B);x[0]=O[0]=v+H-d+E,z[0]=Math.min(x[0],z[0]),j[0]=Math.max(O[0],j[0]),J[0]=y[0]=v+d-E,x[1]=y[1]=T+B}if(u){let E=w(c,c-u);z[0]+=E,j[0]-=E,O[1]=J[1]=T+B-c+u}if(B<c-u){let E=w(c,c-u-B);x[0]=O[0]=v+H-c+E,U[0]=Math.min(x[0],U[0]),M[0]=Math.max(O[0],M[0]),J[0]=y[0]=v+c-E,O[1]=J[1]=T}return p.length=0,p.push(["M",...M],["L",...U],["A",d,d,0,0,1,...x],["L",...O],["A",c,c,0,0,1,...z],["L",...j],["A",c,c,0,0,1,...J],["L",...y],["A",d,d,0,0,1,...M],["Z"]),p}return{compose:function(v,T,H){let B=v.types.pie;if(!T.symbolCustomAttribs.includes("borderRadius")){let S=H.prototype.symbols;de(v,"afterColumnTranslate",C,{order:9}),de(B,"afterTranslate",D),T.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),W=S.arc,N=S.roundedRect,S.arc=I,S.roundedRect=P}},optionsToObject:A}}),Ne(Y,"Core/Responsive.js",[Y["Core/Utilities.js"]],function(Z){var ce;let{diffObjects:xe,extend:ve,find:me,merge:de,pick:he,uniqueKey:Q}=Z;return function(te){function ee(W,N){let I=W.condition;(I.callback||function(){return this.chartWidth<=he(I.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=he(I.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=he(I.minWidth,0)&&this.chartHeight>=he(I.minHeight,0)}).call(this)&&N.push(W._id)}function L(W,N){let D,I=this.options.responsive,C=this.currentResponsive,A=[];!N&&I&&I.rules&&I.rules.forEach(T=>{void 0===T._id&&(T._id=Q()),this.matchResponsiveRule(T,A)},this);let P=de(...A.map(T=>me((I||{}).rules||[],H=>H._id===T)).map(T=>T&&T.chartOptions));P.isResponsiveOptions=!0,A=A.toString()||void 0,A===(C&&C.ruleIds)||(C&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(C.undoOptions,W,!0),this.updatingResponsive=!1),A?((D=xe(P,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:A,mergedOptions:P,undoOptions:D},this.updatingResponsive||this.update(P,W,!0)):this.currentResponsive=void 0)}te.compose=function(W){let N=W.prototype;return N.matchResponsiveRule||ve(N,{matchResponsiveRule:ee,setResponsive:L}),W}}(ce||(ce={})),ce}),Ne(Y,"masters/highcharts.src.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"],Y["Core/Defaults.js"],Y["Core/Animation/Fx.js"],Y["Core/Animation/AnimationUtilities.js"],Y["Core/Renderer/HTML/AST.js"],Y["Core/Templating.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Renderer/HTML/HTMLElement.js"],Y["Core/Axis/Axis.js"],Y["Core/Axis/DateTimeAxis.js"],Y["Core/Axis/LogarithmicAxis.js"],Y["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],Y["Core/Axis/Tick.js"],Y["Core/Tooltip.js"],Y["Core/Series/Point.js"],Y["Core/Pointer.js"],Y["Core/Legend/Legend.js"],Y["Core/Legend/LegendSymbol.js"],Y["Core/Chart/Chart.js"],Y["Extensions/ScrollablePlotArea.js"],Y["Core/Axis/Stacking/StackingAxis.js"],Y["Core/Axis/Stacking/StackItem.js"],Y["Core/Series/Series.js"],Y["Core/Series/SeriesRegistry.js"],Y["Series/Column/ColumnDataLabel.js"],Y["Series/Pie/PieDataLabel.js"],Y["Core/Series/DataLabel.js"],Y["Extensions/OverlappingDataLabels.js"],Y["Extensions/BorderRadius.js"],Y["Core/Responsive.js"],Y["Core/Color/Color.js"],Y["Core/Time.js"]],function(Z,ce,xe,ve,me,de,he,Q,te,ee,L,W,N,I,C,A,D,P,v,T,H,B,S,p,b,l,n,o,h,d,c,f,u,M,U,x){return Z.AST=de,Z.Axis=N,Z.Chart=S,Z.Color=U,Z.DataLabel=c,Z.Fx=ve,Z.HTMLElement=W,Z.Legend=H,Z.LegendSymbol=B,Z.OverlappingDataLabels=Z.OverlappingDataLabels||f,Z.PlotLineOrBand=A,Z.Point=v,Z.Pointer=T,Z.RendererRegistry=Q,Z.Series=n,Z.SeriesRegistry=o,Z.StackItem=l,Z.SVGElement=ee,Z.SVGRenderer=L,Z.Templating=he,Z.Tick=D,Z.Time=x,Z.Tooltip=P,Z.animate=me.animate,Z.animObject=me.animObject,Z.chart=S.chart,Z.color=U.parse,Z.dateFormat=he.dateFormat,Z.defaultOptions=xe.defaultOptions,Z.distribute=te.distribute,Z.format=he.format,Z.getDeferredAnimation=me.getDeferredAnimation,Z.getOptions=xe.getOptions,Z.numberFormat=he.numberFormat,Z.seriesType=o.seriesType,Z.setAnimation=me.setAnimation,Z.setOptions=xe.setOptions,Z.stop=me.stop,Z.time=xe.defaultTime,Z.timers=ve.timers,u.compose(Z.Series,Z.SVGElement,Z.SVGRenderer),h.compose(Z.Series.types.column),c.compose(Z.Series),I.compose(Z.Axis),W.compose(Z.SVGRenderer),H.compose(Z.Chart),C.compose(Z.Axis),f.compose(Z.Chart),d.compose(Z.Series.types.pie),A.compose(Z.Chart,Z.Axis),T.compose(Z.Chart),M.compose(Z.Chart),p.compose(Z.Axis,Z.Chart,Z.Series),b.compose(Z.Axis,Z.Chart,Z.Series),P.compose(Z.Pointer),ce.extend(Z,ce),Z}),Ne(Y,"Series/DataModifyComposition.js",[Y["Core/Axis/Axis.js"],Y["Core/Series/Point.js"],Y["Core/Series/Series.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{tooltipFormatter:de}=ce.prototype,{addEvent:he,arrayMax:Q,arrayMin:te,correctFloat:ee,defined:L,isArray:W,isNumber:N,isString:I,pick:C}=ve;return function(A){function D(n,o,h){!this.isXAxis&&(this.series.forEach(function(d){"compare"===n&&"boolean"!=typeof o?d.setCompare(o,!1):"cumulative"!==n||I(o)||d.setCumulative(o,!1)}),C(h,!0)&&this.chart.redraw())}function P(n){let o=this,{numberFormatter:h}=o.series.chart,d=function(c){n=n.replace("{point."+c+"}",(o[c]>0&&"change"===c?"+":"")+h(o[c],C(o.series.tooltipOptions.changeDecimals,2)))};return L(o.change)&&d("change"),L(o.cumulativeSum)&&d("cumulativeSum"),de.apply(this,[n])}function v(){let n,o=this.options.compare;("percent"===o||"value"===o||this.options.cumulative)&&(n=new l(this),"percent"===o||"value"===o?n.initCompare(o):n.initCumulative()),this.dataModify=n}function T(n){let o=n.dataExtremes,h=o.activeYData;if(this.dataModify&&o){let d;this.options.compare?d=[this.dataModify.modifyValue(o.dataMin),this.dataModify.modifyValue(o.dataMax)]:this.options.cumulative&&W(h)&&h.length>=2&&(d=l.getCumulativeExtremes(h)),d&&(o.dataMin=te(d),o.dataMax=Q(d))}}function H(n,o){this.options.compare=this.userOptions.compare=n,this.update({},C(o,!0)),!this.dataModify||"value"!==n&&"percent"!==n?this.points.forEach(h=>{delete h.change}):this.dataModify.initCompare(n)}function B(){if(this.xAxis&&this.processedYData&&this.dataModify){let f,n=this.processedXData,o=this.processedYData,h=o.length,d=!0===this.options.compareStart?0:1,c=-1;for(this.pointArrayMap&&(c=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),f=0;f<h-d;f++){let u=o[f]&&c>-1?o[f][c]:o[f];if(N(u)&&0!==u&&n[f+d]>=(this.xAxis.min||0)){this.dataModify.compareValue=u;break}}}}function S(n,o){this.setModifier("compare",n,o)}function p(n,o){n=C(n,!1),this.options.cumulative=this.userOptions.cumulative=n,this.update({},C(o,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(h=>{delete h.cumulativeSum})}function b(n,o){this.setModifier("cumulative",n,o)}A.compose=function(n,o,h){let d=o.prototype,c=h.prototype,f=n.prototype;return f.setCompare||(f.setCompare=H,f.setCumulative=p,he(n,"afterInit",v),he(n,"afterGetExtremes",T),he(n,"afterProcessData",B)),d.setCompare||(d.setCompare=S,d.setModifier=D,d.setCumulative=b,c.tooltipFormatter=P),n};class l{constructor(o){this.series=o}modifyValue(){return 0}static getCumulativeExtremes(o){let h=1/0,d=-1/0;return o.reduce((c,f)=>{let u=c+f;return h=Math.min(h,u,c),d=Math.max(d,u,c),u}),[h,d]}initCompare(o){this.modifyValue=function(h,d){null===h&&(h=0);let c=this.compareValue;if(void 0!==h&&void 0!==c){if("value"===o?h-=c:h=h/c*100-(100===this.series.options.compareBase?0:100),void 0!==d){let f=this.series.points[d];f&&(f.change=h)}return h}return 0}}initCumulative(){this.modifyValue=function(o,h){if(null===o&&(o=0),void 0!==o&&void 0!==h){let d=h>0?this.series.points[h-1]:null;d&&d.cumulativeSum&&(o=ee(d.cumulativeSum+o));let c=this.series.points[h];return c&&(c.cumulativeSum=!c.series.options.cumulativeStart||c.x<=this.series.xAxis.max&&c.x>=this.series.xAxis.min?o:void 0),o}return 0}}}A.Additions=l}(me||(me={})),me}),Ne(Y,"Stock/Navigator/ChartNavigatorComposition.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let xe,{isTouchDevice:ve}=Z,{addEvent:me,merge:de,pick:he}=ce,Q=[];function te(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function ee(){let A,D,P,v=this.legend,T=this.navigator;if(T){A=v&&v.options,D=T.xAxis,P=T.yAxis;let{scrollbarHeight:H,scrollButtonSize:B}=T;this.inverted?(T.left=T.opposite?this.chartWidth-H-T.height:this.spacing[3]+H,T.top=this.plotTop+B):(T.left=he(D.left,this.plotLeft+B),T.top=T.navigatorOptions.top||this.chartHeight-T.height-H-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(A&&"bottom"===A.verticalAlign&&"proximate"!==A.layout&&A.enabled&&!A.floating?v.legendHeight+he(A.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),D&&P&&(this.inverted?D.options.left=P.options.left=T.left:D.options.top=P.options.top=T.top,D.setAxisSize(),P.setAxisSize())}}function L(A){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new xe(this),he(A.redraw,!0)&&this.redraw(A.animation))}function W(){let A=this.options;(A.navigator.enabled||A.scrollbar.enabled)&&(this.scroller=this.navigator=new xe(this))}function N(){let A=this.options,D=A.navigator,P=A.rangeSelector;if((D&&D.enabled||P&&P.enabled)&&(!ve&&"x"===this.zooming.type||ve&&"x"===this.zooming.pinchType))return!1}function I(A){let D=A.navigator;if(D&&A.xAxis[0]){let P=A.xAxis[0].getExtremes();D.render(P.min,P.max)}}function C(A){let D=A.options.navigator||{},P=A.options.scrollbar||{};!this.navigator&&!this.scroller&&(D.enabled||P.enabled)&&(de(!0,this.options.navigator,D),de(!0,this.options.scrollbar,P),delete A.options.navigator,delete A.options.scrollbar)}return{compose:function(A,D){ce.pushUnique(Q,A)&&(xe=D,A.prototype.callbacks.push(I),me(A,"afterAddSeries",te),me(A,"afterSetChartSize",ee),me(A,"afterUpdate",L),me(A,"beforeRender",W),me(A,"beforeShowResetZoom",N),me(A,"update",C))}}}),Ne(Y,"Core/Axis/NavigatorAxisComposition.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){let{isTouchDevice:xe}=Z,{addEvent:ve,correctFloat:me,defined:de,isNumber:he,pick:Q}=ce;function te(){this.navigatorAxis||(this.navigatorAxis=new L(this))}function ee(W){let N,I=this.chart,C=I.options,A=C.navigator,D=this.navigatorAxis,P=I.zooming.pinchType,v=C.rangeSelector,T=I.zooming.type;if(this.isXAxis&&(A?.enabled||v?.enabled))if("y"===T&&"zoom"===W.trigger)N=!1;else if(("zoom"===W.trigger&&"xy"===T||xe&&"xy"===P)&&this.options.range){let H=D.previousZoom;de(W.min)?D.previousZoom=[this.min,this.max]:H&&(W.min=H[0],W.max=H[1],D.previousZoom=void 0)}void 0!==N&&W.preventDefault()}class L{static compose(N){N.keepProps.includes("navigatorAxis")||(N.keepProps.push("navigatorAxis"),ve(N,"init",te),ve(N,"setExtremes",ee))}constructor(N){this.axis=N}destroy(){this.axis=void 0}toFixedRange(N,I,C,A){let D=this.axis,P=(D.pointRange||0)/2,v=Q(C,D.translate(N,!0,!D.horiz)),T=Q(A,D.translate(I,!0,!D.horiz));return de(C)||(v=me(v+P)),de(A)||(T=me(T-P)),he(v)&&he(T)||(v=T=void 0),{min:v,max:T}}}return L}),Ne(Y,"Stock/Navigator/NavigatorDefaults.js",[Y["Core/Color/Color.js"],Y["Core/Series/SeriesRegistry.js"]],function(Z,ce){let{parse:xe}=Z,{seriesTypes:ve}=ce;return{height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:xe("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===ve.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),Ne(Y,"Stock/Navigator/NavigatorSymbols.js",[Y["Core/Renderer/SVG/Symbols.js"],Y["Core/Utilities.js"]],function(Z,ce){let{relativeLength:xe}=ce;return{"navigator-handle":function(ve,me,de,he,Q={}){let te=Q.width?Q.width/2:de,ee=xe(Q.borderRadius||0,Math.min(2*te,he));return[["M",-1.5,(he=Q.height||he)/2-3.5],["L",-1.5,he/2+4.5],["M",.5,he/2-3.5],["L",.5,he/2+4.5],...Z.rect(-te-1,.5,2*te+1,he,{r:ee})]}}}),Ne(Y,"Stock/Utilities/StockUtilities.js",[Y["Core/Utilities.js"]],function(Z){let{defined:ce}=Z;return{setFixedRange:function(xe){let ve=this.xAxis[0];this.fixedRange=ce(ve.dataMax)&&ce(ve.dataMin)&&xe?Math.min(xe,ve.dataMax-ve.dataMin):xe}}}),Ne(Y,"Stock/Navigator/NavigatorComposition.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Axis/NavigatorAxisComposition.js"],Y["Stock/Navigator/NavigatorDefaults.js"],Y["Stock/Navigator/NavigatorSymbols.js"],Y["Core/Renderer/RendererRegistry.js"],Y["Stock/Utilities/StockUtilities.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){let{setOptions:te}=Z,{composed:ee}=ce,{getRendererType:L}=de,{setFixedRange:W}=he,{addEvent:N,extend:I,pushUnique:C}=Q;function A(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function(D,P,v){xe.compose(P),C(ee,"Navigator")&&(D.prototype.setFixedRange=W,I(L().prototype.symbols,me),N(v,"afterUpdate",A),te({navigator:ve}))}}}),Ne(Y,"Core/Axis/ScrollbarAxis.js",[Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce){var xe;let{composed:ve}=Z,{addEvent:me,defined:de,pick:he,pushUnique:Q}=ce;return function(te){let ee;function L(C){let A=he(C.options&&C.options.min,C.min),D=he(C.options&&C.options.max,C.max);return{axisMin:A,axisMax:D,scrollMin:de(C.dataMin)?Math.min(A,C.min,C.dataMin,he(C.threshold,1/0)):A,scrollMax:de(C.dataMax)?Math.max(D,C.max,C.dataMax,he(C.threshold,-1/0)):D}}function W(){let C=this.scrollbar,D=this.horiz?2:C&&!C.options.opposite?3:1;C&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[D]+=C.size+(C.options.margin||0))}function N(){let C=this;C.options&&C.options.scrollbar&&C.options.scrollbar.enabled&&(C.options.scrollbar.vertical=!C.horiz,C.options.startOnTick=C.options.endOnTick=!1,C.scrollbar=new ee(C.chart.renderer,C.options.scrollbar,C.chart),me(C.scrollbar,"changed",function(A){let D,P,{axisMin:v,axisMax:T,scrollMin:H,scrollMax:B}=L(C),S=B-H;de(v)&&de(T)&&(C.horiz&&!C.reversed||!C.horiz&&C.reversed?(D=H+S*this.to,P=H+S*this.from):(D=H+S*(1-this.from),P=H+S*(1-this.to)),this.shouldUpdateExtremes(A.DOMType)?C.setExtremes(P,D,!0,"mousemove"!==A.DOMType&&"touchmove"!==A.DOMType&&void 0,A):this.setRange(this.from,this.to))}))}function I(){let C,A,D,{scrollMin:P,scrollMax:v}=L(this),T=this.scrollbar,H=this.axisTitleMargin+(this.titleOffset||0),B=this.chart.scrollbarsOffsets,S=this.options.margin||0;if(T&&B){if(this.horiz)this.opposite||(B[1]+=H),T.position(this.left,this.top+this.height+2+B[1]-(this.opposite?S:0),this.width,this.height),this.opposite||(B[1]+=S),C=1;else{let p;this.opposite&&(B[0]+=H),p=T.options.opposite?this.left+this.width+2+B[0]-(this.opposite?0:S):this.opposite?0:S,T.position(p,this.top,this.width,this.height),this.opposite&&(B[0]+=S),C=0}if(B[C]+=T.size+(T.options.margin||0),isNaN(P)||isNaN(v)||!de(this.min)||!de(this.max)||this.dataMin===this.dataMax)T.setRange(0,1);else if(this.min===this.max){let p=this.pointRange/(this.dataMax+1);A=p*this.min,D=p*(this.max+1),T.setRange(A,D)}else A=(this.min-P)/(v-P),D=(this.max-P)/(v-P),this.horiz&&!this.reversed||!this.horiz&&this.reversed?T.setRange(A,D):T.setRange(1-D,1-A)}}te.compose=function(C,A){Q(ve,"Axis.Scrollbar")&&(ee=A,me(C,"afterGetOffset",W),me(C,"afterInit",N),me(C,"afterRender",I))}}(xe||(xe={})),xe}),Ne(Y,"Stock/Scrollbar/ScrollbarDefaults.js",[],function(){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),Ne(Y,"Stock/Scrollbar/Scrollbar.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Axis/ScrollbarAxis.js"],Y["Stock/Scrollbar/ScrollbarDefaults.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{defaultOptions:de}=Z,{addEvent:he,correctFloat:Q,crisp:te,defined:ee,destroyObjectProperties:L,fireEvent:W,merge:N,pick:I,removeEvent:C}=me;class A{static compose(P){xe.compose(P,A)}static swapXY(P,v){return v&&P.forEach(T=>{let H,B=T.length;for(let S=0;S<B;S+=2)"number"==typeof(H=T[S+1])&&(T[S+1]=T[S+2],T[S+2]=H)}),P}constructor(P,v,T){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(P,v,T)}addEvents(){let P=this.options.inverted?[1,0]:[0,1],v=this.scrollbarButtons,T=this.scrollbarGroup.element,H=this.track.element,B=this.mouseDownHandler.bind(this),S=this.mouseMoveHandler.bind(this),p=this.mouseUpHandler.bind(this),b=[[v[P[0]].element,"click",this.buttonToMinClick.bind(this)],[v[P[1]].element,"click",this.buttonToMaxClick.bind(this)],[H,"click",this.trackClick.bind(this)],[T,"mousedown",B],[T.ownerDocument,"mousemove",S],[T.ownerDocument,"mouseup",p],[T,"touchstart",B],[T.ownerDocument,"touchmove",S],[T.ownerDocument,"touchend",p]];b.forEach(function(l){he.apply(null,l)}),this._events=b}buttonToMaxClick(P){let v=(this.to-this.from)*I(this.options.step,.2);this.updatePosition(this.from+v,this.to+v),W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}buttonToMinClick(P){let v=Q(this.to-this.from)*I(this.options.step,.2);this.updatePosition(Q(this.from-v),Q(this.to-v)),W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}cursorToScrollbarPosition(P){let v=this.options,T=v.minWidth>this.calculatedWidth?v.minWidth:0;return{chartX:(P.chartX-this.x-this.xOffset)/(this.barWidth-T),chartY:(P.chartY-this.y-this.yOffset)/(this.barWidth-T)}}destroy(){let P=this,v=P.chart.scroller;P.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(T){P[T]&&P[T].destroy&&(P[T]=P[T].destroy())}),v&&P===v.scrollbar&&(v.scrollbar=null,L(v.scrollbarButtons))}drawScrollbarButton(P){let v=this.renderer,T=this.scrollbarButtons,H=this.options,B=this.size,S=v.g().add(this.group);if(T.push(S),H.buttonsEnabled){let p=v.rect().addClass("highcharts-scrollbar-button").add(S);this.chart.styledMode||p.attr({stroke:H.buttonBorderColor,"stroke-width":H.buttonBorderWidth,fill:H.buttonBackgroundColor}),p.attr(p.crisp({x:-.5,y:-.5,width:B,height:B,r:H.buttonBorderRadius},p.strokeWidth()));let b=v.path(A.swapXY([["M",B/2+(P?-1:1),B/2-3],["L",B/2+(P?-1:1),B/2+3],["L",B/2+(P?2:-2),B/2]],H.vertical)).addClass("highcharts-scrollbar-arrow").add(T[P]);this.chart.styledMode||b.attr({fill:H.buttonArrowColor})}}init(P,v,T){this.scrollbarButtons=[],this.renderer=P,this.userOptions=v,this.options=N(ve,de.scrollbar,v),this.options.margin=I(this.options.margin,10),this.chart=T,this.size=I(this.options.size,this.options.height),v.enabled&&(this.render(),this.addEvents())}mouseDownHandler(P){let v=this.chart.pointer?.normalize(P)||P,T=this.cursorToScrollbarPosition(v);this.chartX=T.chartX,this.chartY=T.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(P){let v,T=this.chart.pointer?.normalize(P)||P,H=this.options.vertical?"chartY":"chartX",B=this.initPositions||[];this.grabbedCenter&&(!P.touches||0!==P.touches[0][H])&&(v=this.cursorToScrollbarPosition(T)[H]-this[H],this.hasDragged=!0,this.updatePosition(B[0]+v,B[1]+v),this.hasDragged&&W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}))}mouseUpHandler(P){this.hasDragged&&W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(P,v,T,H){let{buttonsEnabled:B,margin:S=0,vertical:p}=this.options,b=this.rendered?"animate":"attr",l=H,n=0;this.group.show(),this.x=P,this.y=v+this.trackBorderWidth,this.width=T,this.height=H,this.xOffset=l,this.yOffset=n,p?(this.width=this.yOffset=T=n=this.size,this.xOffset=l=0,this.yOffset=n=B?this.size:0,this.barWidth=H-(B?2*T:0),this.x=P+=S):(this.height=H=this.size,this.xOffset=l=B?this.size:0,this.barWidth=T-(B?2*H:0),this.y=this.y+S),this.group[b]({translateX:P,translateY:this.y}),this.track[b]({width:T,height:H}),this.scrollbarButtons[1][b]({translateX:p?0:T-l,translateY:p?H-n:0})}removeEvents(){this._events.forEach(function(P){C.apply(null,P)}),this._events.length=0}render(){let P=this.renderer,v=this.options,T=this.size,H=this.chart.styledMode,B=P.g("scrollbar").attr({zIndex:v.zIndex}).hide().add();this.group=B,this.track=P.rect().addClass("highcharts-scrollbar-track").attr({r:v.trackBorderRadius||0,height:T,width:T}).add(B),H||this.track.attr({fill:v.trackBackgroundColor,stroke:v.trackBorderColor,"stroke-width":v.trackBorderWidth});let S=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-te(0,S),y:-te(0,S)}),this.scrollbarGroup=P.g().add(B),this.scrollbar=P.rect().addClass("highcharts-scrollbar-thumb").attr({height:T-S,width:T-S,r:v.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=P.path(A.swapXY([["M",-3,T/4],["L",-3,2*T/3],["M",0,T/4],["L",0,2*T/3],["M",3,T/4],["L",3,2*T/3]],v.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),H||(this.scrollbar.attr({fill:v.barBackgroundColor,stroke:v.barBorderColor,"stroke-width":v.barBorderWidth}),this.scrollbarRifles.attr({stroke:v.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-te(0,this.scrollbarStrokeWidth),-te(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(P,v){let T,H,B=this.options,S=B.vertical,p=B.minWidth,b=this.barWidth,l=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!ee(b))return;let n=b*Math.min(v,1);T=Math.ceil(b*(P=Math.max(P,0))),this.calculatedWidth=H=Q(n-T),H<p&&(T=(b-p+H)*P,H=p);let o=Math.floor(T+this.xOffset+this.yOffset),h=H/2-.5;this.from=P,this.to=v,S?(this.scrollbarGroup[l]({translateY:o}),this.scrollbar[l]({height:H}),this.scrollbarRifles[l]({translateY:h}),this.scrollbarTop=o,this.scrollbarLeft=0):(this.scrollbarGroup[l]({translateX:o}),this.scrollbar[l]({width:H}),this.scrollbarRifles[l]({translateX:h}),this.scrollbarLeft=o,this.scrollbarTop=0),H<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===B.showFull&&(P<=0&&v>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(P){return I(this.options.liveRedraw,ce.svg&&!ce.isTouchDevice&&!this.chart.boosted)||"mouseup"===P||"touchend"===P||!ee(P)}trackClick(P){let v=this.chart.pointer?.normalize(P)||P,T=this.to-this.from;this.options.vertical&&v.chartY>this.y+this.scrollbarTop||!this.options.vertical&&v.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+T,this.to+T):this.updatePosition(this.from-T,this.to-T),W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}update(P){this.destroy(),this.init(this.chart.renderer,N(!0,this.options,P),this.chart)}updatePosition(P,v){v>1&&(P=Q(1-Q(v-P)),v=1),P<0&&(v=Q(v-P),P=0),this.from=P,this.to=v}}return A.defaultOptions=ve,de.scrollbar=N(!0,A.defaultOptions,de.scrollbar),A}),Ne(Y,"Stock/Navigator/Navigator.js",[Y["Core/Axis/Axis.js"],Y["Stock/Navigator/ChartNavigatorComposition.js"],Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Core/Axis/NavigatorAxisComposition.js"],Y["Stock/Navigator/NavigatorComposition.js"],Y["Stock/Scrollbar/Scrollbar.js"],Y["Core/Renderer/SVG/SVGRenderer.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te){let{defaultOptions:ee}=xe,{isTouchDevice:L}=ve,{prototype:{symbols:W}}=Q,{addEvent:N,clamp:I,correctFloat:C,defined:A,destroyObjectProperties:D,erase:P,extend:v,find:T,fireEvent:H,isArray:B,isNumber:S,merge:p,pick:b,removeEvent:l,splat:n}=te;function o(d,...c){let f=[].filter.call(c,S);if(f.length)return Math[d].apply(0,f)}class h{static compose(c,f,u){ce.compose(c,h),de.compose(c,f,u)}constructor(c){this.isDirty=!1,this.scrollbarHeight=0,this.init(c)}drawHandle(c,f,u,M){let U=this.navigatorOptions.handles.height;this.handles[f][M](u?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(c,10)+.5-U)}:{translateX:Math.round(this.left+parseInt(c,10)),translateY:Math.round(this.top+this.height/2-U/2-1)})}drawOutline(c,f,u,M){let F,R,U=this.navigatorOptions.maskInside,x=this.outline.strokeWidth(),O=x/2,z=x%2/2,j=this.scrollButtonSize,J=this.size,y=this.top,w=this.height,E=y-O,X=y+w,m=this.left;u?(F=y+f+z,R=[["M",m+w,y-j-z],["L",m+w,F],["L",m,F],["M",m,f=y+c+z],["L",m+w,f],["L",m+w,y+J+j]],U&&R.push(["M",m+w,F-O],["L",m+w,f+O])):(m-=j,R=[["M",m,E],["L",c+=m+j-z,E],["L",c,X],["M",f+=m+j-z,X],["L",f,E],["L",m+J+2*j,E]],U&&R.push(["M",c-O,E],["L",f+O,E])),this.outline[M]({d:R})}drawMasks(c,f,u,M){let U,x,O,z,j=this.left,J=this.top,y=this.height;u?(O=[j,j,j],z=[J,J+c,J+f],x=[y,y,y],U=[c,f-c,this.size-f]):(O=[j,j+c,j+f],z=[J,J,J],x=[c,f-c,this.size-f],U=[y,y,y]),this.shades.forEach((w,E)=>{w[M]({x:O[E],y:z[E],width:x[E],height:U[E]})})}renderElements(){let c=this,f=c.navigatorOptions,u=f.maskInside,M=c.chart,x=M.renderer,O={cursor:M.inverted?"ns-resize":"ew-resize"},z=c.navigatorGroup??(c.navigatorGroup=x.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!u,u,!u].forEach((j,J)=>{let y=c.shades[J]??(c.shades[J]=x.rect().addClass("highcharts-navigator-mask"+(1===J?"-inside":"-outside")).add(z));M.styledMode||(y.attr({fill:j?f.maskFill:"rgba(0,0,0,0)"}),1===J&&y.css(O))}),c.outline||(c.outline=x.path().addClass("highcharts-navigator-outline").add(z)),M.styledMode||c.outline.attr({"stroke-width":f.outlineWidth,stroke:f.outlineColor}),f.handles?.enabled){let j=f.handles,{height:J,width:y}=j;[0,1].forEach(w=>{let E=j.symbols[w];if(c.handles[w]&&c.handles[w].symbolUrl===E){if(!c.handles[w].isImg&&c.handles[w].symbolName!==E){let X=W[E].call(W,-y/2-1,0,y,J);c.handles[w].attr({d:X}),c.handles[w].symbolName=E}}else c.handles[w]?.destroy(),c.handles[w]=x.symbol(E,-y/2-1,0,y,J,j),c.handles[w].attr({zIndex:7-w}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][w]).add(z),c.addMouseEvents();M.inverted&&c.handles[w].attr({rotation:90,rotationOriginX:Math.floor(-y/2),rotationOriginY:(J+y)/2}),M.styledMode||c.handles[w].attr({fill:j.backgroundColor,stroke:j.borderColor,"stroke-width":j.lineWidth,width:j.width,height:j.height,x:-y/2-1,y:0}).css(O)})}}update(c,f=!1){let u=this.chart,M=u.options.chart.inverted!==u.scrollbar?.options.vertical;if(p(!0,u.options.navigator,c),this.navigatorOptions=u.options.navigator||{},this.setOpposite(),A(c.enabled)||M)return this.destroy(),this.navigatorEnabled=c.enabled||this.navigatorEnabled,this.init(u);if(this.navigatorEnabled&&(this.isDirty=!0,!1===c.adaptToUpdatedData&&this.baseSeries.forEach(U=>{l(U,"updatedData",this.updatedDataHandler)},this),c.adaptToUpdatedData&&this.baseSeries.forEach(U=>{U.eventsToUnbind.push(N(U,"updatedData",this.updatedDataHandler))},this),(c.series||c.baseSeries)&&this.setBaseSeries(void 0,!1),c.height||c.xAxis||c.yAxis)){this.height=c.height??this.height;let U=this.getXAxisOffsets();this.xAxis.update({...c.xAxis,offsets:U,[u.inverted?"width":"height"]:this.height,[u.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...c.yAxis,[u.inverted?"width":"height"]:this.height},!1)}f&&u.redraw()}render(c,f,u,M){let m,F,R,G,K,U=this.chart,x=this.xAxis,O=x.pointRange||0,z=x.navigatorAxis.fake?U.xAxis[0]:x,j=this.navigatorEnabled,J=this.rendered,y=U.inverted,w=U.xAxis[0].minRange,E=U.xAxis[0].options.maxRange,X=this.scrollButtonSize,_=this.scrollbarHeight;if(this.hasDragged&&!A(u))return;if(this.isDirty&&this.renderElements(),c=C(c-O/2),f=C(f+O/2),!S(c)||!S(f)){if(!J)return;u=0,M=b(x.width,z.width)}this.left=b(x.left,U.plotLeft+X+(y?U.plotWidth:0));let oe=this.size=G=b(x.len,(y?U.plotHeight:U.plotWidth)-2*X);m=y?_:G+2*X,u=b(u,x.toPixels(c,!0)),M=b(M,x.toPixels(f,!0)),S(u)&&Math.abs(u)!==1/0||(u=0,M=m);let ae=x.toValue(u,!0),ue=x.toValue(M,!0),be=Math.abs(C(ue-ae));be<w?this.grabbedLeft?u=x.toPixels(ue-w-O,!0):this.grabbedRight&&(M=x.toPixels(ae+w+O,!0)):A(E)&&C(be-O)>E&&(this.grabbedLeft?u=x.toPixels(ue-E-O,!0):this.grabbedRight&&(M=x.toPixels(ae+E+O,!0))),this.zoomedMax=I(Math.max(u,M),0,oe),this.zoomedMin=I(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(u,M),0,oe),this.range=this.zoomedMax-this.zoomedMin,oe=Math.round(this.zoomedMax);let Se=Math.round(this.zoomedMin);j&&(this.navigatorGroup.attr({visibility:"inherit"}),K=J&&!this.hasDragged?"animate":"attr",this.drawMasks(Se,oe,y,K),this.drawOutline(Se,oe,y,K),this.navigatorOptions.handles.enabled&&(this.drawHandle(Se,0,y,K),this.drawHandle(oe,1,y,K))),this.scrollbar&&(y?(R=this.top-X,F=this.left-_+(j||!z.opposite?0:(z.titleOffset||0)+z.axisTitleMargin),_=G+2*X):(R=this.top+(j?this.height:-_),F=this.left-X),this.scrollbar.position(F,R,m,_),this.scrollbar.setRange(this.zoomedMin/(G||1),this.zoomedMax/(G||1))),this.rendered=!0,this.isDirty=!1,H(this,"afterRender")}addMouseEvents(){let U,x,c=this,f=c.chart,u=f.container,M=[];c.mouseMoveHandler=U=function(O){c.onMouseMove(O)},c.mouseUpHandler=x=function(O){c.onMouseUp(O)},(M=c.getPartsEvents("mousedown")).push(N(f.renderTo,"mousemove",U),N(u.ownerDocument,"mouseup",x),N(f.renderTo,"touchmove",U),N(u.ownerDocument,"touchend",x)),M.concat(c.getPartsEvents("touchstart")),c.eventsToUnbind=M,c.series&&c.series[0]&&M.push(N(c.series[0].xAxis,"foundExtremes",function(){f.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(c){let f=this,u=[];return["shades","handles"].forEach(function(M){f[M].forEach(function(U,x){u.push(N(U.element,c,function(O){f[M+"Mousedown"](O,x)}))})}),u}shadesMousedown(c,f){c=this.chart.pointer?.normalize(c)||c;let J,y,w,E,M=this.xAxis,U=this.zoomedMin,x=this.size,O=this.range,z=this.left,j=c.chartX;this.chart.inverted&&(j=c.chartY,z=this.top),1===f?(this.grabbedCenter=j,this.fixedWidth=O,this.dragOffset=j-U):(E=j-z-O/2,0===f?E=Math.max(0,E):2===f&&E+O>=x&&(E=x-O,this.reversedExtremes?(E-=O,y=this.getUnionExtremes().dataMin):J=this.getUnionExtremes().dataMax),E!==U&&(this.fixedWidth=O,A((w=M.navigatorAxis.toFixedRange(E,E+O,y,J)).min)&&H(this,"setRange",{min:Math.min(w.min,w.max),max:Math.max(w.min,w.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(c,f){c=this.chart.pointer?.normalize(c)||c;let u=this.chart,M=u.xAxis[0],U=this.reversedExtremes;0===f?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=U?M.min:M.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=U?M.max:M.min),u.setFixedRange(void 0)}onMouseMove(c){let j,f=this,u=f.chart,M=f.navigatorSize,U=f.range,x=f.dragOffset,O=u.inverted,z=f.left;(!c.touches||0!==c.touches[0].pageX)&&(j=(c=u.pointer?.normalize(c)||c).chartX,O&&(z=f.top,j=c.chartY),f.grabbedLeft?(f.hasDragged=!0,f.render(0,0,j-z,f.otherHandlePos)):f.grabbedRight?(f.hasDragged=!0,f.render(0,0,f.otherHandlePos,j-z)):f.grabbedCenter&&(f.hasDragged=!0,j<x?j=x:j>M+x-U&&(j=M+x-U),f.render(0,0,j-x,j-x+U)),f.hasDragged&&f.scrollbar&&b(f.scrollbar.options.liveRedraw,!L&&!this.chart.boosted)&&(c.DOMType=c.type,setTimeout(function(){f.onMouseUp(c)},0)))}onMouseUp(c){let f,u,M,U,x,O,j=this.xAxis,J=this.scrollbar,y=c.DOMEvent||c,w=this.chart.inverted,E=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!J||!J.hasDragged)||"scrollbar"===c.trigger)&&(M=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?U=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(x=this.fixedExtreme),this.zoomedMax===this.size&&(x=this.reversedExtremes?M.dataMin:M.dataMax),0===this.zoomedMin&&(U=this.reversedExtremes?M.dataMax:M.dataMin),A((O=j.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,U,x)).min)&&H(this,"setRange",{min:Math.min(O.min,O.max),max:Math.max(O.min,O.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:y}})),"mousemove"!==c.DOMType&&"touchmove"!==c.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&S(this.zoomedMin)&&S(this.zoomedMax)&&(u=Math.round(this.zoomedMin),f=Math.round(this.zoomedMax),this.shades&&this.drawMasks(u,f,w,E),this.outline&&this.drawOutline(u,f,w,E),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(u,0,w,E),this.drawHandle(f,1,w,E)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(c){c()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let c=this.baseSeries||[];this.navigatorEnabled&&c[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&c.forEach(function(f){l(f,"updatedData",this.updatedDataHandler)},this),c[0].xAxis&&l(c[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(c){let f=c.options,u=f.navigator||{},M=u.enabled,U=f.scrollbar||{},x=U.enabled,O=M&&u.height||0,z=x&&U.height||0,j=U.buttonsEnabled&&z||0;this.handles=[],this.shades=[],this.chart=c,this.setBaseSeries(),this.height=O,this.scrollbarHeight=z,this.scrollButtonSize=j,this.scrollbarEnabled=x,this.navigatorEnabled=M,this.navigatorOptions=u,this.scrollbarOptions=U,this.setOpposite();let J=this,y=J.baseSeries,w=c.xAxis.length,E=c.yAxis.length,X=y&&y[0]&&y[0].xAxis||c.xAxis[0]||{options:{}};if(c.isDirtyBox=!0,J.navigatorEnabled){let m=this.getXAxisOffsets();J.xAxis=new Z(c,p({breaks:X.options.breaks,ordinal:X.options.ordinal,overscroll:X.options.overscroll},u.xAxis,{type:"datetime",yAxis:u.yAxis?.id,index:w,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:X.options.ordinal?0:X.options.minPadding,maxPadding:X.options.ordinal?0:X.options.maxPadding,zoomEnabled:!1},c.inverted?{offsets:m,width:O}:{offsets:m,height:O}),"xAxis"),J.yAxis=new Z(c,p(u.yAxis,{alignTicks:!1,offset:0,index:E,isInternal:!0,reversed:b(u.yAxis&&u.yAxis.reversed,c.yAxis[0]&&c.yAxis[0].reversed,!1),zoomEnabled:!1},c.inverted?{width:O}:{height:O}),"yAxis"),y||u.series.data?J.updateNavigatorSeries(!1):0===c.series.length&&(J.unbindRedraw=N(c,"beforeRedraw",function(){c.series.length>0&&!J.series&&(J.setBaseSeries(),J.unbindRedraw())})),J.reversedExtremes=c.inverted&&!J.xAxis.reversed||!c.inverted&&J.xAxis.reversed,J.renderElements(),J.addMouseEvents()}else J.xAxis={chart:c,navigatorAxis:{fake:!0},translate:function(m,F){let R=c.xAxis[0],_=R.getExtremes(),G=R.len-2*j,K=o("min",R.options.min,_.dataMin),oe=o("max",R.options.max,_.dataMax)-K;return F?m*oe/G+K:G*(m-K)/oe},toPixels:function(m){return this.translate(m)},toValue:function(m){return this.translate(m,!0)}},J.xAxis.navigatorAxis.axis=J.xAxis,J.xAxis.navigatorAxis.toFixedRange=me.prototype.toFixedRange.bind(J.xAxis.navigatorAxis);if(c.options.scrollbar.enabled){let m=p(c.options.scrollbar,{vertical:c.inverted});!S(m.margin)&&J.navigatorEnabled&&(m.margin=c.inverted?-3:3),c.scrollbar=J.scrollbar=new he(c.renderer,m,c),N(J.scrollbar,"changed",function(F){let R=J.size,_=R*this.to,G=R*this.from;J.hasDragged=J.scrollbar.hasDragged,J.render(0,0,G,_),this.shouldUpdateExtremes(F.DOMType)&&setTimeout(function(){J.onMouseUp(F)})})}J.addBaseSeriesEvents(),J.addChartEvents()}setOpposite(){this.opposite=b(this.navigatorOptions.opposite,!(this.navigatorEnabled||!this.chart.inverted))}getUnionExtremes(c){let f,u=this.chart.xAxis[0],M=this.xAxis,U=M.options,x=u.options;return c&&null===u.dataMin||(f={dataMin:b(U&&U.min,o("min",x.min,u.dataMin,M.dataMin,M.min)),dataMax:b(U&&U.max,o("max",x.max,u.dataMax,M.dataMax,M.max))}),f}setBaseSeries(c,f){let u=this.chart,M=this.baseSeries=[];c=c||u.options&&u.options.navigator.baseSeries||(u.series.length?T(u.series,U=>!U.options.isInternal).index:0),(u.series||[]).forEach((U,x)=>{!U.options.isInternal&&(U.options.showInNavigator||(x===c||U.options.id===c)&&!1!==U.options.showInNavigator)&&M.push(U)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,f)}updateNavigatorSeries(c,f){let z,j,y,u=this,M=u.chart,U=u.baseSeries,x={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},O=u.series=(u.series||[]).filter(w=>{let E=w.baseSeries;return!(0>U.indexOf(E)&&(E&&(l(E,"updatedData",u.updatedDataHandler),delete E.navigatorSeries),w.chart&&w.destroy(),1))}),J=u.navigatorOptions.series;U&&U.length&&U.forEach(w=>{let E=w.navigatorSeries,X=v({color:w.color,visible:w.visible},B(J)?ee.navigator.series:J);if(E&&!1===u.navigatorOptions.adaptToUpdatedData)return;x.name="Navigator "+U.length,y=(z=w.options||{}).navigatorOptions||{},X.dataLabels=n(X.dataLabels),(j=p(z,x,X,y)).pointRange=b(X.pointRange,y.pointRange,ee.plotOptions[j.type||"line"].pointRange);let m=y.data||X.data;u.hasNavigatorData=u.hasNavigatorData||!!m,j.data=m||z.data&&z.data.slice(0),E&&E.options?E.update(j,f):(w.navigatorSeries=M.initSeries(j),M.setSortedData(),w.navigatorSeries.baseSeries=w,O.push(w.navigatorSeries))}),(J.data&&!(U&&U.length)||B(J))&&(u.hasNavigatorData=!1,(J=n(J)).forEach((w,E)=>{x.name="Navigator "+(O.length+1),(j=p(ee.navigator.series,{color:M.series[E]&&!M.series[E].options.isInternal&&M.series[E].color||M.options.colors[E]||M.options.colors[0]},x,w)).data=w.data,j.data&&(u.hasNavigatorData=!0,O.push(M.initSeries(j)))})),c&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let c=this,f=c.baseSeries||[];f[0]&&f[0].xAxis&&f[0].eventsToUnbind.push(N(f[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),f.forEach(u=>{u.eventsToUnbind.push(N(u,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),u.eventsToUnbind.push(N(u,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&u.xAxis&&u.eventsToUnbind.push(N(u,"updatedData",this.updatedDataHandler)),u.eventsToUnbind.push(N(u,"remove",function(){f&&P(f,u),this.navigatorSeries&&(P(c.series,this.navigatorSeries),A(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(c){return this.baseSeries.reduce(function(f,u){return Math.min(f,u.xData&&u.xData.length?u.xData[0]:f)},c)}modifyNavigatorAxisExtremes(){let c=this.xAxis;if(void 0!==c.getExtremes){let f=this.getUnionExtremes(!0);f&&(f.dataMin!==c.min||f.dataMax!==c.max)&&(c.min=f.dataMin,c.max=f.dataMax)}}modifyBaseAxisExtremes(){let c,f,u=this.chart.navigator,M=this.getExtremes(),O=M.dataMin,z=M.dataMax,j=M.max-M.min,J=u.stickToMin,y=u.stickToMax,w=b(this.ordinal?.convertOverscroll(this.options.overscroll),0),E=u.series&&u.series[0],X=!!this.setExtremes;!(this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger)&&(J&&(c=(f=O)+j),y&&(c=z+w,J||(f=Math.max(O,c-j,u.getBaseSeriesMin(E&&E.xData?E.xData[0]:-Number.MAX_VALUE)))),X&&(J||y)&&S(f)&&(this.min=this.userMin=f,this.max=this.userMax=c)),u.stickToMin=u.stickToMax=null}updatedDataHandler(){let c=this.chart.navigator,f=this.navigatorSeries,u=c.reversedExtremes?0===Math.round(c.zoomedMin):Math.round(c.zoomedMax)>=Math.round(c.size);c.stickToMax=b(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,u),c.stickToMin=c.shouldStickToMin(this,c),f&&!c.hasNavigatorData&&(f.options.pointStart=this.xData[0],f.setData(this.options.data,!1,null,!1))}shouldStickToMin(c,f){let u=f.getBaseSeriesMin(c.xData[0]),M=c.xAxis,U=M.max,x=M.min,O=M.options.range;return!(!S(U)||!S(x))&&(O&&U-u>0?U-u<O:x<=u)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(N(this.chart,"redraw",function(){let c=this.navigator,f=c&&(c.baseSeries&&c.baseSeries[0]&&c.baseSeries[0].xAxis||this.xAxis[0]);f&&c.render(f.min,f.max)}),N(this.chart,"getMargins",function(){let c=this.navigator,f=c.opposite?"plotTop":"marginBottom";this.inverted&&(f=c.opposite?"marginRight":"plotLeft"),this[f]=(this[f]||0)+(c.navigatorEnabled||!this.inverted?c.height+c.scrollbarHeight:0)+c.navigatorOptions.margin}),N(h,"setRange",function(c){this.chart.xAxis[0].setExtremes(c.min,c.max,c.redraw,c.animation,c.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(P(this.chart.xAxis,this.xAxis),P(this.chart.axes,this.xAxis)),this.yAxis&&(P(this.chart.yAxis,this.yAxis),P(this.chart.axes,this.yAxis)),(this.series||[]).forEach(c=>{c.destroy&&c.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(c=>{this[c]&&this[c].destroy&&this[c].destroy(),this[c]=null}),[this.handles].forEach(c=>{D(c)}),this.navigatorEnabled=!1}}return h}),Ne(Y,"Core/Axis/OrdinalAxis.js",[Y["Core/Axis/Axis.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{addEvent:de,correctFloat:he,css:Q,defined:te,error:ee,isNumber:L,pick:W,timeUnits:N,isString:I}=ve;return function(C){function A(o,h,d,c,f=[],u=0,M){let j,J,y,w,E,U={},x=this.options.tickPixelInterval,O=this.chart.time,z=[],X=0,m=[],F=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!f||f.length<3||void 0===h)return O.getTimeTicks.apply(O,arguments);let R=f.length;for(j=0;j<R;j++){if(E=j&&f[j-1]>d,f[j]<h&&(X=j),j===R-1||f[j+1]-f[j]>5*u||E){if(f[j]>F){for(J=O.getTimeTicks(o,f[X],f[j],c);J.length&&J[0]<=F;)J.shift();J.length&&(F=J[J.length-1]),z.push(m.length),m=m.concat(J)}X=j+1}if(E)break}if(J){if(w=J.info,M&&w.unitRange<=N.hour){for(X=1,j=m.length-1;X<j;X++)O.dateFormat("%d",m[X])!==O.dateFormat("%d",m[X-1])&&(U[m[X]]="day",y=!0);y&&(U[m[0]]="day"),w.higherRanks=U}w.segmentStarts=z,m.info=w}else ee(12,!1,this.chart);if(M&&te(x)){let oe,ae,ue,be,Se,_=m.length,G=[],K=[],ie=_;for(;ie--;)ae=this.translate(m[ie]),ue&&(K[ie]=ue-ae),G[ie]=ue=ae;for(K.sort((q,re)=>q-re),(be=K[Math.floor(K.length/2)])<.6*x&&(be=null),ie=m[_-1]>d?_-1:_,ue=void 0;ie--;)Se=Math.abs(ue-(ae=G[ie])),ue&&Se<.8*x&&(null===be||Se<.8*be)?(U[m[ie]]&&!U[m[ie+1]]?(oe=ie+1,ue=ae):oe=ie,m.splice(oe,1)):ue=ae}return m}function D(o){let h=this.ordinal.positions;if(!h)return o;let c,d=h.length-1;return o<0?o=h[0]:o>d?o=h[d]:(d=Math.floor(o),c=o-d),void 0!==c&&void 0!==h[d]?h[d]+(c?c*(h[d+1]-h[d]):0):o}function P(o){let h=this.ordinal,d=this.old?this.old.min:this.min,c=this.old?this.old.transA:this.transA,f=h.getExtendedPositions();if(f&&f.length){let u=he((o-d)*c+this.minPixelPadding),M=he(h.getIndexOfPoint(u,f)),U=he(M%1);if(M>=0&&M<=f.length-1){let x=f[Math.floor(M)],O=f[Math.ceil(M)];return f[Math.floor(M)]+U*(O-x)}}return o}function v(o,h){let d=C.Additions.findIndexOf(o,h,!0);return o[d]===h?d:d+(h-o[d])/(o[d+1]-o[d])}function T(){this.ordinal||(this.ordinal=new C.Additions(this))}function H(){let{eventArgs:o,options:h}=this;if(this.isXAxis&&te(h.overscroll)&&0!==h.overscroll&&L(this.max)&&L(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&("pan"!==o?.trigger||this.isInternal)&&"navigator"!==o?.trigger)){let d=this.ordinal.convertOverscroll(h.overscroll);this.max+=d,!this.isInternal&&te(this.userMin)&&"mousewheel"!==o?.trigger&&(this.min+=d)}}function B(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function S(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function p(o){let h=this.xAxis[0],d=h.ordinal.convertOverscroll(h.options.overscroll),c=o.originalEvent.chartX,f=this.options.chart.panning,u=!1;if(f&&"y"!==f.type&&h.options.ordinal&&h.series.length&&(!o.touches||o.touches.length<=1)){let M,U,x=this.mouseDownX,O=h.getExtremes(),z=O.dataMin,j=O.dataMax,J=O.min,y=O.max,w=this.hoverPoints,X=Math.round((x-c)/(h.translationSlope*(h.ordinal.slope||h.closestPointRange||h.ordinal&&h.ordinal.overscrollPointsRange))),m=h.ordinal.getExtendedPositions(),F={ordinal:{positions:m,extendedOrdinalPositions:m}},R=h.index2val,_=h.val2lin;if(J<=z&&X<0||y+d>=j&&X>0)return;F.ordinal.positions?Math.abs(X)>1&&(w&&w.forEach(function(G){G.setState()}),j>(U=F.ordinal.positions)[U.length-1]&&U.push(j),this.setFixedRange(y-J),(M=h.navigatorAxis.toFixedRange(void 0,void 0,R.apply(F,[_.apply(F,[J,!0])+X]),R.apply(F,[_.apply(F,[y,!0])+X]))).min>=Math.min(O.dataMin,J)&&M.max<=Math.max(j,y)+d&&h.setExtremes(M.min,M.max,!0,!1,{trigger:"pan"}),this.mouseDownX=c,Q(this.container,{cursor:"move"})):u=!0}else u=!0;u||f&&/y/.test(f.type)?d&&(h.max=h.dataMax+d):o.preventDefault()}function b(){let o=this.xAxis;o&&o.options.ordinal&&(delete o.ordinal.index,delete o.ordinal.originalOrdinalRange)}function l(o,h){let d,M,c=this.ordinal,f=c.positions,u=c.slope;if(!f)return o;if(f[0]<=o&&f[f.length-1]>=o)d=v(f,o);else{if(!(M=c.getExtendedPositions&&c.getExtendedPositions())||!M.length)return o;let x=M.length;u||(u=(M[x-1]-M[0])/x);let O=v(M,f[0]);if(o>=M[0]&&o<=M[x-1])d=v(M,o)-O;else{if(!h)return o;d=o<M[0]?-O-(M[0]-o)/u:(o-M[x-1])/u+x-O}}return h?d:u*(d||0)+c.offset}C.compose=function(o,h,d){let c=o.prototype;return c.ordinal2lin||(c.getTimeTicks=A,c.index2val=D,c.lin2val=P,c.val2lin=l,c.ordinal2lin=c.val2lin,de(o,"afterInit",T),de(o,"foundExtremes",H),de(o,"afterSetScale",B),de(o,"initialAxisTranslation",S),de(d,"pan",p),de(d,"touchpan",p),de(h,"updatedData",b)),o};class n{constructor(h){this.index={},this.axis=h}beforeSetTickPositions(){let x,O,z,j,J,y,w,h=this.axis,d=h.ordinal,c=h.getExtremes(),f=c.min,u=c.max,M=h.brokenAxis?.hasBreaks,U=h.options.ordinal,E=[],X=Number.MAX_VALUE,m=!1,F=!1,R=!1;if(U||M){let _=0;if(h.series.forEach(function(G,K){if(O=[],K>0&&"highcharts-navigator-series"!==G.options.id&&G.processedXData.length>1&&(F=_!==G.processedXData[1]-G.processedXData[0]),_=G.processedXData[1]-G.processedXData[0],G.boosted&&(R=G.boosted),G.reserveSpace()&&(!1!==G.takeOrdinalPosition||M)&&(x=(E=E.concat(G.processedXData)).length,E.sort(function(oe,ae){return oe-ae}),X=Math.min(X,W(G.closestPointRange,X)),x)){for(K=0;K<x-1;)E[K]!==E[K+1]&&O.push(E[K+1]),K++;O[0]!==E[0]&&O.unshift(E[0]),E=O}}),h.ordinal.originalOrdinalRange||(h.ordinal.originalOrdinalRange=(E.length-1)*X),F&&R&&(E.pop(),E.shift()),(x=E.length)>2){for(z=E[1]-E[0],w=x-1;w--&&!m;)E[w+1]-E[w]!==z&&(m=!0);!h.options.keepOrdinalPadding&&(E[0]-f>z||u-E[E.length-1]>z)&&(m=!0)}else h.options.overscroll&&(2===x?X=E[1]-E[0]:1===x?(X=h.ordinal.convertOverscroll(h.options.overscroll),E=[E[0],E[0]+X]):X=d.overscrollPointsRange);m||h.forceOrdinal?(h.options.overscroll&&(d.overscrollPointsRange=X,E=E.concat(d.getOverscrollPositions())),d.positions=E,j=h.ordinal2lin(Math.max(f,E[0]),!0),J=Math.max(h.ordinal2lin(Math.min(u,E[E.length-1]),!0),1),d.slope=y=(u-f)/(J-j),d.offset=f-j*y):(d.overscrollPointsRange=W(h.closestPointRange,d.overscrollPointsRange),d.positions=h.ordinal.slope=d.offset=void 0)}h.isOrdinal=U&&m,d.groupIntervalFactor=null}static findIndexOf(h,d,c){let M,f=0,u=h.length-1;for(;f<u;)h[M=Math.ceil((f+u)/2)]<=d?f=M:u=M-1;return h[f]===d||c?f:-1}getExtendedPositions(h=!0){let z,j,d=this,c=d.axis,f=c.constructor.prototype,u=c.chart,M=c.series[0]?.currentDataGrouping,U=M?M.count+M.unitName:"raw",x=h?c.ordinal.convertOverscroll(c.options.overscroll):0,O=c.getExtremes(),J=d.index;return J||(J=d.index={}),J[U]||((z={series:[],chart:u,forceOrdinal:!1,getExtremes:function(){return{min:O.dataMin,max:O.dataMax+x}},applyGrouping:f.applyGrouping,getGroupPixelWidth:f.getGroupPixelWidth,getTimeTicks:f.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:f.ordinal2lin,getIndexOfPoint:f.getIndexOfPoint,val2lin:f.val2lin}).ordinal.axis=z,c.series.forEach(function(y){j={xAxis:z,xData:y.xData.slice(),chart:u,groupPixelWidth:y.groupPixelWidth,destroyGroupedData:ce.noop,getProcessedData:xe.prototype.getProcessedData,applyGrouping:xe.prototype.applyGrouping,reserveSpace:xe.prototype.reserveSpace,visible:y.visible},h&&(j.xData=j.xData.concat(d.getOverscrollPositions())),j.options={dataGrouping:M?{firstAnchor:y.options.dataGrouping?.firstAnchor,anchor:y.options.dataGrouping?.anchor,lastAnchor:y.options.dataGrouping?.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[M.unitName,[M.count]]]}:{enabled:!1}},z.series.push(j),y.processData.apply(j)}),z.applyGrouping({hasExtremesChanged:!0}),j?.closestPointRange!==j?.basePointRange&&j.currentDataGrouping&&(z.forceOrdinal=!0),c.ordinal.beforeSetTickPositions.apply({axis:z}),!c.ordinal.originalOrdinalRange&&z.ordinal.originalOrdinalRange&&(c.ordinal.originalOrdinalRange=z.ordinal.originalOrdinalRange),J[U]=z.ordinal.positions),J[U]}getGroupIntervalFactor(h,d,c){let U,x,f=c.processedXData,u=f.length,M=[],O=this.groupIntervalFactor;if(!O){for(x=0;x<u-1;x++)M[x]=f[x+1]-f[x];M.sort(function(z,j){return z-j}),U=M[Math.floor(u/2)],h=Math.max(h,f[0]),d=Math.min(d,f[u-1]),this.groupIntervalFactor=O=u*U/(d-h)}return O}getIndexOfPoint(h,d){let c,f=this.axis,u=0;f.series.forEach(O=>{let z=O.points?.[0];te(z?.plotX)&&(z.plotX<c||!te(c))&&function(O){let{min:z,max:j}=f;return!(!te(z)||!te(j))&&O.points.some(J=>J.x>=z&&J.x<=j)}(O)&&(c=z.plotX,u=z.x)}),c??(c=f.minPixelPadding);let x=he((h-c)/(f.translationSlope*(this.slope||f.closestPointRange||this.overscrollPointsRange)));return n.findIndexOf(d,u,!0)+x}getOverscrollPositions(){let h=this.axis,d=this.convertOverscroll(h.options.overscroll),c=this.overscrollPointsRange,f=[],u=h.dataMax;if(te(c))for(;u<=h.dataMax+d;)f.push(u+=c);return f}postProcessTickInterval(h){let d=this.axis,c=this.slope;return c?d.options.breaks?d.closestPointRange||h:h/(c/d.closestPointRange):h}convertOverscroll(h=0){let d=this,c=d.axis,f=function(u){return W(d.originalOrdinalRange,te(c.dataMax)&&te(c.dataMin)?c.dataMax-c.dataMin:0)*u};if(I(h)){let u=parseInt(h,10);if(/%$/.test(h))return f(u/100);if(/px/.test(h)){let M=Math.min(u,.9*c.len)/c.len;return f(M/(1-M))}return 0}return h}}C.Additions=n}(me||(me={})),me}),Ne(Y,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),Ne(Y,"Stock/RangeSelector/RangeSelectorComposition.js",[Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Stock/RangeSelector/RangeSelectorDefaults.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let me,{defaultOptions:de}=Z,{composed:he}=ce,{addEvent:Q,defined:te,extend:ee,isNumber:L,merge:W,pick:N,pushUnique:I}=ve,C=[];function A(){let S,p,b=this.range,l=b.type,n=this.max,o=this.chart.time,h=function(c,f){let u="year"===l?"FullYear":"Month",M=new o.Date(c),U=o.get(u,M);return o.set(u,M,U+f),U===o.get(u,M)&&o.set("Date",M,0),M.getTime()-c};L(b)?(S=n-b,p=b):b&&(S=n+h(n,-(b.count||1)),this.chart&&this.chart.setFixedRange(n-S));let d=N(this.dataMin,Number.MIN_VALUE);return L(S)||(S=d),S<=d&&(S=d,void 0===p&&(p=h(S,b.count)),this.newMax=Math.min(S+p,N(this.dataMax,Number.MAX_VALUE))),L(n)?!L(b)&&b&&b._offsetMin&&(S+=b._offsetMin):S=void 0,S}function D(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new me(this))}function P(){let S=this.rangeSelector;if(S){L(S.deferredYTDClick)&&(S.clickButton(S.deferredYTDClick),delete S.deferredYTDClick);let p=S.options.verticalAlign;S.options.floating||("bottom"===p?this.extraBottomMargin=!0:"middle"===p||(this.extraTopMargin=!0))}}function v(){let S,p=this.rangeSelector;if(!p)return;let b=this.xAxis[0].getExtremes(),l=this.legend,n=p&&p.options.verticalAlign;L(b.min)&&p.render(b.min,b.max),l.display&&"top"===n&&n===l.options.verticalAlign&&(S=W(this.spacingBox),"vertical"===l.options.layout?S.y=this.plotTop:S.y+=p.getHeight(),l.group.placed=!1,l.align(S))}function T(){for(let S=0,p=C.length;S<p;++S){let b=C[S];if(b[0]===this)return b[1].forEach(l=>l()),void C.splice(S,1)}}function H(){let S=this.rangeSelector;if(S){let p=S.getHeight();this.extraTopMargin&&(this.plotTop+=p),this.extraBottomMargin&&(this.marginBottom+=p)}}function B(S){let p=S.options.rangeSelector,b=this.extraBottomMargin,l=this.extraTopMargin,n=this.rangeSelector;if(p&&p.enabled&&!te(n)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=n=new me(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,n){let o=p&&p.verticalAlign||n.options&&n.options.verticalAlign;n.options.floating||("bottom"===o?this.extraBottomMargin=!0:"middle"===o||(this.extraTopMargin=!0)),(this.extraBottomMargin!==b||this.extraTopMargin!==l)&&(this.isDirtyBox=!0)}}return{compose:function(S,p,b){if(me=b,I(he,"RangeSelector")){let l=p.prototype;S.prototype.minFromRange=A,Q(p,"afterGetContainer",D),Q(p,"beforeRender",P),Q(p,"destroy",T),Q(p,"getMargins",H),Q(p,"redraw",v),Q(p,"update",B),l.callbacks.push(v),ee(de,{rangeSelector:xe.rangeSelector}),ee(de.lang,xe.lang)}}}}),Ne(Y,"Stock/RangeSelector/RangeSelector.js",[Y["Core/Axis/Axis.js"],Y["Core/Defaults.js"],Y["Core/Globals.js"],Y["Stock/RangeSelector/RangeSelectorComposition.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"],Y["Core/Axis/OrdinalAxis.js"]],function(Z,ce,xe,ve,me,de,he){let{defaultOptions:Q}=ce,{addEvent:te,createElement:ee,css:L,defined:W,destroyObjectProperties:N,discardElement:I,extend:C,fireEvent:A,isNumber:D,merge:P,objectEach:v,pad:T,pick:H,pInt:B,splat:S}=de;class p{static compose(l,n){ve.compose(l,n,p)}constructor(l){this.buttonOptions=p.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.init(l)}clickButton(l,n){let x,z,J,y,w,o=this.chart,h=this.buttonOptions[l],d=o.xAxis[0],c=o.scroller&&o.scroller.getUnionExtremes()||d||{},f=h.type,u=h.dataGrouping,M=c.dataMin,U=c.dataMax,O=d&&Math.round(Math.min(d.max,H(U,d.max))),j=h._range,E=!0;if(null!==M&&null!==U){if(this.setSelected(l),u&&(this.forcedDataGrouping=!0,Z.prototype.setDataGrouping.call(d||{chart:this.chart},u,!1),this.frozenStates=h.preserveDataGrouping),"month"===f||"year"===f)d?(y={range:h,max:O,chart:o,dataMin:M,dataMax:U},x=d.minFromRange.call(y),D(y.newMax)&&(O=y.newMax),E=!1):j=h;else if(j)O=Math.min((x=Math.max(O-j,M))+j,U),E=!1;else if("ytd"===f){if(!d)return void(this.deferredYTDClick=l);(void 0===U||void 0===M)&&(M=Number.MAX_VALUE,U=Number.MIN_VALUE,o.series.forEach(X=>{let m=X.xData;m&&(M=Math.min(m[0],M),U=Math.max(m[m.length-1],U))}),n=!1),x=J=(w=this.getYTDExtremes(U,M,o.time.useUTC)).min,O=w.max}else"all"===f&&d&&(o.navigator&&o.navigator.baseSeries[0]&&(o.navigator.baseSeries[0].xAxis.options.range=void 0),x=M,O=U);if(E&&h._offsetMin&&W(x)&&(x+=h._offsetMin),h._offsetMax&&W(O)&&(O+=h._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=l+1),d)d.setExtremes(x,O,H(n,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:h}),o.setFixedRange(h._range);else{z=S(o.options.xAxis)[0];let X=te(o,"afterGetAxes",function(){let m=o.xAxis[0];m.range=m.options.range=j,m.min=m.options.min=J});te(o,"load",function(){let m=o.xAxis[0];o.setFixedRange(h._range),m.options.range=z.range,m.options.min=z.min,X()})}A(this,"afterBtnClick")}}setSelected(l){this.selected=this.options.selected=l}init(l){let n=this,o=l.options.rangeSelector,h=o.buttons||n.defaultButtons.slice(),d=o.selected,c=function(){let f=n.minInput,u=n.maxInput;f&&f.blur&&A(f,"blur"),u&&u.blur&&A(u,"blur")};n.chart=l,n.options=o,n.buttons=[],n.buttonOptions=h,this.eventsToUnbind=[],this.eventsToUnbind.push(te(l.container,"mousedown",c)),this.eventsToUnbind.push(te(l,"resize",c)),h.forEach(n.computeButtonRange),void 0!==d&&h[d]&&this.clickButton(d,!1),this.eventsToUnbind.push(te(l,"load",function(){l.xAxis&&l.xAxis[0]&&te(l.xAxis[0],"setExtremes",function(f){D(this.max)&&D(this.min)&&this.max-this.min!==l.fixedRange&&"rangeSelectorButton"!==f.trigger&&"updatedData"!==f.trigger&&n.forcedDataGrouping&&!n.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let l=this,n=this.chart,o=this.dropdown,h=this.dropdownLabel,d=n.xAxis[0],c=Math.round(d.max-d.min),f=!d.hasVisibleSeries,u=864e5,M=n.scroller&&n.scroller.getUnionExtremes()||d,U=M.dataMin,x=M.dataMax,O=l.getYTDExtremes(x,U,n.time.useUTC),z=O.min,j=O.max,J=l.selected,y=l.options.allButtonsEnabled,w=Array(l.buttonOptions.length).fill(0),E=D(J),X=l.buttons,m=!1,F=null;l.buttonOptions.forEach((R,_)=>{let G=R._range,K=R.type,oe=R.count||1,ae=R._offsetMax-R._offsetMin,ue=_===J,be=G>x-U,Se=G<d.minRange,ie=!1,q=G===c;if(ue&&be&&(m=!0),d.isOrdinal&&d.ordinal?.positions&&G&&c<G){let pe=d.ordinal.positions,ge=he.Additions.findIndexOf(pe,d.min,!0);pe[Math.min(he.Additions.findIndexOf(pe,d.max,!0)+1,pe.length-1)]-pe[ge]>G&&(q=!0)}else("month"===K||"year"===K)&&c+36e5>={month:28,year:365}[K]*u*oe-ae&&c-36e5<={month:31,year:366}[K]*u*oe+ae?q=!0:"ytd"===K?(q=j-z+ae===c,ie=!ue):"all"===K&&(q=d.max-d.min>=x-U);y||m&&"all"===K||!(be||Se||f)?(m&&"all"===K||!ie&&q||ue&&l.frozenStates)&&(!E||_===J)&&(F=_):w[_]=3}),null!==F?(w[F]=2,l.setSelected(F)):(l.setSelected(),h&&(h.setState(0),h.attr({text:(Q.lang.rangeSelectorZoom||"")+" \u25be"})));for(let R=0;R<w.length;R++){let _=w[R],G=X[R];if(G.state!==_&&(G.setState(_),o)){o.options[R+1].disabled=3===_,2===_&&(h&&(h.setState(2),h.attr({text:l.buttonOptions[R].text+" \u25be"})),o.selectedIndex=R+1);let K=h.getBBox();L(o,{width:`${K.width}px`,height:`${K.height}px`})}}}computeButtonRange(l){let n=l.type,o=l.count||1,h={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};h[n]?l._range=h[n]*o:("month"===n||"year"===n)&&(l._range=24*{month:30,year:365}[n]*36e5*o),l._offsetMin=H(l.offsetMin,0),l._offsetMax=H(l.offsetMax,0),l._range+=l._offsetMax-l._offsetMin}getInputValue(l){let n="min"===l?this.minInput:this.maxInput,h=this.chart.time;return n?("text"===n.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(n.value,h.useUTC,h):0}setInputValue(l,n){let o=this.options,h=this.chart.time,d="min"===l?this.minInput:this.maxInput,c="min"===l?this.minDateBox:this.maxDateBox;if(d){let f=d.getAttribute("data-hc-time"),u=W(f)?Number(f):void 0;if(W(n)){let M=u;W(M)&&d.setAttribute("data-hc-time-previous",M),d.setAttribute("data-hc-time",n),u=n}d.value=h.dateFormat(this.inputTypeFormats[d.type]||o.inputEditDateFormat,u),c&&c.attr({text:h.dateFormat(o.inputDateFormat,u)})}}setInputExtremes(l,n,o){let h="min"===l?this.minInput:this.maxInput;if(h){let d=this.inputTypeFormats[h.type],c=this.chart.time;if(d){let f=c.dateFormat(d,n);h.min!==f&&(h.min=f);let u=c.dateFormat(d,o);h.max!==u&&(h.max=u)}}}showInput(l){let n="min"===l?this.minDateBox:this.maxDateBox,o="min"===l?this.minInput:this.maxInput;if(o&&n&&this.inputGroup){let h="text"===o.type,{translateX:d=0,translateY:c=0}=this.inputGroup,{x:f=0,width:u=0,height:M=0}=n,{inputBoxWidth:U}=this.options;L(o,{width:h?u+(U?-2:20)+"px":"auto",height:M-2+"px",border:"2px solid silver"}),L(o,h&&U?{left:d+f+"px",top:c+"px"}:{left:Math.min(Math.round(f+d-(o.offsetWidth-u)/2),this.chart.chartWidth-o.offsetWidth)+"px",top:c-(o.offsetHeight-M)/2+"px"})}}hideInput(l){let n="min"===l?this.minInput:this.maxInput;n&&L(n,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(l,n,o){let h=l.split("/").join("-").split(" ").join("T");if(-1===h.indexOf("T")&&(h+="T00:00"),n)h+="Z";else{let c;if(xe.isSafari&&(!((c=h).length>6)||c.lastIndexOf("-")!==c.length-6&&c.lastIndexOf("+")!==c.length-6)){let f=new Date(h).getTimezoneOffset()/60;h+=f<=0?`+${T(-f)}:00`:`-${T(f)}:00`}}let d=Date.parse(h);if(!D(d)){let c=l.split("-");d=Date.UTC(B(c[0]),B(c[1])-1,B(c[2]))}return o&&n&&D(d)&&(d+=o.getTimezoneOffset(d)),d}drawInput(l){let{chart:n,div:o,inputGroup:h}=this,d=this,c=n.renderer.style||{},f=n.renderer,u=n.options.rangeSelector,U="min"===l;function x(w){let{maxInput:E,minInput:X}=d,m=n.xAxis[0],F=n.scroller?.getUnionExtremes()||m,R=F.dataMin,_=F.dataMax,G=n.xAxis[0].getExtremes()[w],K=d.getInputValue(w);D(K)&&K!==G&&(U&&E&&D(R)?K>Number(E.getAttribute("data-hc-time"))?K=void 0:K<R&&(K=R):X&&D(_)&&(K<Number(X.getAttribute("data-hc-time"))?K=void 0:K>_&&(K=_)),void 0!==K&&m.setExtremes(U?K:m.min,U?m.max:K,void 0,void 0,{trigger:"rangeSelectorInput"}))}let O=Q.lang[U?"rangeSelectorFrom":"rangeSelectorTo"]||"",z=f.label(O,0).addClass("highcharts-range-label").attr({padding:O?2:0,height:O?u.inputBoxHeight:0}).add(h),j=f.label("",0).addClass("highcharts-range-input").attr({padding:2,width:u.inputBoxWidth,height:u.inputBoxHeight,"text-align":"center"}).on("click",function(){d.showInput(l),d[l+"Input"].focus()});n.styledMode||j.attr({stroke:u.inputBoxBorderColor,"stroke-width":1}),j.add(h);let J=ee("input",{name:l,className:"highcharts-range-selector"},void 0,o);J.setAttribute("type",function(w){if(-1!==w.indexOf("%L"))return"text";let E=["a","A","d","e","w","b","B","m","o","y","Y"].some(m=>-1!==w.indexOf("%"+m)),X=["H","k","I","l","M","S"].some(m=>-1!==w.indexOf("%"+m));return E&&X?"datetime-local":E?"date":X?"time":"text"}(u.inputDateFormat||"%e %b %Y")),n.styledMode||(z.css(P(c,u.labelStyle)),j.css(P({color:"#333333"},c,u.inputStyle)),L(J,C({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:c.fontSize,fontFamily:c.fontFamily,top:"-9999em"},u.inputStyle))),J.onfocus=()=>{d.showInput(l)},J.onblur=()=>{J===xe.doc.activeElement&&x(l),d.hideInput(l),d.setInputValue(l),J.blur()};let y=!1;return J.onchange=()=>{y||(x(l),d.hideInput(l),J.blur())},J.onkeypress=w=>{13===w.keyCode&&x(l)},J.onkeydown=w=>{y=!0,("ArrowUp"===w.key||"ArrowDown"===w.key||"Tab"===w.key)&&x(l)},J.onkeyup=()=>{y=!1},{dateBox:j,input:J,label:z}}getPosition(){let l=this.chart,n=l.options.rangeSelector,o="top"===n.verticalAlign?l.plotTop-l.axisOffset[0]:0;return{buttonTop:o+n.buttonPosition.y,inputTop:o+n.inputPosition.y-10}}getYTDExtremes(l,n,o){let h=this.chart.time,d=new h.Date(l),c=h.get("FullYear",d),f=Math.max(n,o?h.Date.UTC(c,0,1):+new h.Date(c,0,1)),u=d.getTime();return{max:Math.min(l||u,u),min:f}}createElements(){let l=this.chart,n=l.renderer,o=l.container,h=l.options,d=h.rangeSelector,c=d.inputEnabled,f=H(h.chart.style?.zIndex,0)+1;if(!1!==d.enabled&&(this.group=n.g("range-selector-group").attr({zIndex:7}).add(),this.div=ee("div",void 0,{position:"relative",height:0,zIndex:f}),this.buttonOptions.length&&this.renderButtons(),o.parentNode&&o.parentNode.insertBefore(this.div,o),c)){this.inputGroup=n.g("input-group").add(this.group);let u=this.drawInput("min");this.minDateBox=u.dateBox,this.minLabel=u.label,this.minInput=u.input;let M=this.drawInput("max");this.maxDateBox=M.dateBox,this.maxLabel=M.label,this.maxInput=M.input}}render(l,n){let o=this.chart,h=o.options.rangeSelector;if(!1!==h.enabled){if(h.inputEnabled){this.setInputValue("min",l),this.setInputValue("max",n);let c=o.scroller&&o.scroller.getUnionExtremes()||o.xAxis[0]||{};if(W(c.dataMin)&&W(c.dataMax)){let f=o.xAxis[0].minRange||0;this.setInputExtremes("min",c.dataMin,Math.min(c.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(c.dataMin,this.getInputValue("min"))+f,c.dataMax)}if(this.inputGroup){let f=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(u=>{if(u){let{width:M}=u.getBBox();M&&(u.attr({x:f}),f+=M+h.inputSpacing)}})}}this.alignElements(),this.updateButtonStates()}}renderButtons(){let{buttons:l,chart:n,options:o}=this,h=Q.lang,d=n.renderer,c=P(o.buttonTheme),f=c&&c.states,u=c.width||28;delete c.width,delete c.states,this.buttonGroup=d.g("range-selector-buttons").add(this.group);let M=this.dropdown=ee("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),U=n.userOptions.rangeSelector?.buttonTheme;this.dropdownLabel=d.button("",0,0,()=>{},P(c,{"stroke-width":H(c["stroke-width"],0),width:"auto",paddingLeft:H(o.buttonTheme.paddingLeft,U?.padding,8),paddingRight:H(o.buttonTheme.paddingRight,U?.padding,8)}),f&&f.hover,f&&f.select,f&&f.disabled).hide().add(this.group),te(M,"touchstart",()=>{M.style.fontSize="16px"});let x=xe.isMS?"mouseover":"mouseenter",O=xe.isMS?"mouseout":"mouseleave";te(M,x,()=>{A(this.dropdownLabel.element,x)}),te(M,O,()=>{A(this.dropdownLabel.element,O)}),te(M,"change",()=>{A(this.buttons[M.selectedIndex-1].element,"click")}),this.zoomText=d.label(h.rangeSelectorZoom||"",0).attr({padding:o.buttonTheme.padding,height:o.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(o.labelStyle),c["stroke-width"]=H(c["stroke-width"],0)),ee("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,M),this.buttonOptions.forEach((z,j)=>{ee("option",{textContent:z.title||z.text},void 0,M),l[j]=d.button(z.text,0,0,J=>{let y,w=z.events&&z.events.click;w&&(y=w.call(z,J)),!1!==y&&this.clickButton(j),this.isActive=!0},c,f&&f.hover,f&&f.select,f&&f.disabled).attr({"text-align":"center",width:u}).add(this.buttonGroup),z.title&&l[j].attr("title",z.title)})}alignElements(){let{buttonGroup:l,buttons:n,chart:o,group:h,inputGroup:d,options:c,zoomText:f}=this,u=o.options,M=u.exporting&&!1!==u.exporting.enabled&&u.navigation&&u.navigation.buttonOptions,{buttonPosition:U,inputPosition:x,verticalAlign:O}=c,z=(J,y)=>M&&this.titleCollision(o)&&"top"===O&&"right"===y.align&&y.y-J.getBBox().height-12<(M.y||0)+(M.height||0)+o.spacing[0]?-40:0,j=o.plotLeft;if(h&&U&&x){let J=U.x-o.spacing[3];if(l){if(this.positionButtons(),!this.initialButtonGroupWidth){let G=0;f&&(G+=f.getBBox().width+5),n.forEach((K,oe)=>{G+=K.width||0,oe!==n.length-1&&(G+=c.buttonSpacing)}),this.initialButtonGroupWidth=G}j-=o.spacing[3];let _=z(l,U);this.alignButtonGroup(_),this.buttonGroup?.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),h.placed=l.placed=o.hasLoaded}let y=0;d&&(y=z(d,x),"left"===x.align?J=j:"right"===x.align&&(J=-Math.max(o.axisOffset[1],-y)),d.align({y:x.y,width:d.getBBox().width,align:x.align,x:x.x+J-2},!0,o.spacingBox),d.placed=o.hasLoaded),this.handleCollision(y),h.align({verticalAlign:O},!0,o.spacingBox);let w=h.alignAttr.translateY,E=h.getBBox().height+20,X=0;if("bottom"===O){let _=o.legend&&o.legend.options;X=w-(E=E+(_&&"bottom"===_.verticalAlign&&_.enabled&&!_.floating?o.legend.legendHeight+H(_.margin,10):0)-20)-(c.floating?0:c.y)-(o.titleOffset?o.titleOffset[2]:0)-10}"top"===O?(c.floating&&(X=0),o.titleOffset&&o.titleOffset[0]&&(X=o.titleOffset[0]),X+=o.margin[0]-o.spacing[0]||0):"middle"===O&&(x.y===U.y?X=w:(x.y||U.y)&&(x.y<0||U.y<0?X-=Math.min(x.y,U.y):X=w-E)),h.translate(c.x,c.y+Math.floor(X));let{minInput:m,maxInput:F,dropdown:R}=this;c.inputEnabled&&m&&F&&(m.style.marginTop=h.translateY+"px",F.style.marginTop=h.translateY+"px"),R&&(R.style.marginTop=h.translateY+"px")}}alignButtonGroup(l,n){let{chart:o,options:h,buttonGroup:d}=this,{buttonPosition:c}=h,f=o.plotLeft-o.spacing[3],u=c.x-o.spacing[3];"right"===c.align?u+=l-f:"center"===c.align&&(u-=f/2),d&&d.align({y:c.y,width:H(n,this.initialButtonGroupWidth),align:c.align,x:u},!0,o.spacingBox)}positionButtons(){let{buttons:l,chart:n,options:o,zoomText:h}=this,d=n.hasLoaded?"animate":"attr",{buttonPosition:c}=o,f=n.plotLeft,u=f;h&&"hidden"!==h.visibility&&(h[d]({x:H(f+c.x,f)}),u+=c.x+h.getBBox().width+5);for(let M=0,U=this.buttonOptions.length;M<U;++M)"hidden"!==l[M].visibility?(l[M][d]({x:u}),u+=(l[M].width||0)+o.buttonSpacing):l[M][d]({x:f})}handleCollision(l){let{chart:n,buttonGroup:o,inputGroup:h}=this,{buttonPosition:d,dropdown:c,inputPosition:f}=this.options,u=()=>{let x=0;return this.buttons.forEach(O=>{let z=O.getBBox();z.width>x&&(x=z.width)}),x},M=x=>{if(h?.alignOptions&&o){let O=h.alignAttr.translateX+h.alignOptions.x-l+h.getBBox().x+2,z=h.alignOptions.width||0,j=o.alignAttr.translateX+o.getBBox().x;return j+x>O&&O+z>j&&d.y<f.y+h.getBBox().height}return!1},U=()=>{h&&o&&h.attr({translateX:h.alignAttr.translateX+(n.axisOffset[1]>=-l?0:-l),translateY:h.alignAttr.translateY+o.getBBox().height+10})};if(o){if("always"===c)return this.collapseButtons(),void(M(u())&&U());"never"===c&&this.expandButtons()}h&&o?f.align===d.align||M(this.initialButtonGroupWidth+20)?"responsive"===c?(this.collapseButtons(),M(u())&&U()):U():"responsive"===c&&this.expandButtons():o&&"responsive"===c&&(this.initialButtonGroupWidth>n.plotWidth?this.collapseButtons():this.expandButtons())}collapseButtons(){let{buttons:l,zoomText:n}=this;!0!==this.isCollapsed&&(this.isCollapsed=!0,n.hide(),l.forEach(o=>{o.hide()}),this.showDropdown())}expandButtons(){let{buttons:l,zoomText:n}=this;!1!==this.isCollapsed&&(this.isCollapsed=!1,this.hideDropdown(),n.show(),l.forEach(o=>{o.show()}),this.positionButtons())}showDropdown(){let{buttonGroup:l,chart:n,dropdownLabel:o,dropdown:h}=this;if(l&&h){let{translateX:d=0,translateY:c=0}=l,f=n.plotLeft+d;o.attr({x:f,y:c}).show(),L(h,{left:f+"px",top:c+"px",visibility:"inherit"}),this.hasVisibleDropdown=!0}}hideDropdown(){let{dropdown:l}=this;l&&(this.dropdownLabel.hide(),L(l,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let l=this.options,n=this.group,d=l.y,c=l.buttonPosition.y,f=l.inputPosition.y,u=0;if(l.height)return l.height;this.alignElements(),u=n?n.getBBox(!0).height+13+d:0;let M=Math.min(f,c);return(f<0&&c<0||f>0&&c>0)&&(u+=Math.abs(M)),u}titleCollision(l){return!(l.options.title.text||l.options.subtitle.text)}update(l,n=!0){let o=this.chart;P(!0,o.options.rangeSelector,l),this.destroy(),this.init(o),n&&this.render()}destroy(){let l=this,n=l.minInput,o=l.maxInput;l.eventsToUnbind&&(l.eventsToUnbind.forEach(h=>h()),l.eventsToUnbind=void 0),N(l.buttons),n&&(n.onfocus=n.onblur=n.onchange=null),o&&(o.onfocus=o.onblur=o.onchange=null),v(l,function(h,d){h&&"chart"!==d&&(h instanceof me?h.destroy():h instanceof Qt.HTMLElement&&I(h)),h!==p.prototype[d]&&(l[d]=null)},this)}}return C(p.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),p}),Ne(Y,"Core/Chart/StockChart.js",[Y["Core/Chart/Chart.js"],Y["Core/Templating.js"],Y["Core/Defaults.js"],Y["Stock/Navigator/NavigatorDefaults.js"],Y["Stock/RangeSelector/RangeSelectorDefaults.js"],Y["Stock/Scrollbar/ScrollbarDefaults.js"],Y["Stock/Utilities/StockUtilities.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q){let{format:te}=ce,{getOptions:ee}=xe,{setFixedRange:L}=he,{addEvent:W,clamp:N,crisp:I,defined:C,extend:A,find:D,isNumber:P,isString:v,merge:T,pick:H,splat:B}=Q;function S(l,n,o){return"xAxis"===l?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:"yAxis"===l?{labels:{y:-2},opposite:o.opposite??n.opposite??!0,showLastLabel:!(!n.categories&&"category"!==n.type),title:{text:"Values"!==o.title?.text?o.title?.text:null}}:{}}function p(l,n){if("xAxis"===l){let h={type:"datetime",categories:void 0};return H(n.navigator&&n.navigator.enabled,ve.enabled,!0)&&(h.startOnTick=!1,h.endOnTick=!1),h}return{}}class b extends Z{init(n,o){let h=ee(),d=n.xAxis,c=n.yAxis,f=H(n.navigator&&n.navigator.enabled,ve.enabled,!0);n.xAxis=n.yAxis=void 0;let u=T({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:f},scrollbar:{enabled:H(de.enabled,!0)},rangeSelector:{enabled:H(me.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:H(h.tooltip&&h.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},n,{isStock:!0});n.xAxis=d,n.yAxis=c,u.xAxis=B(n.xAxis||{}).map(M=>T(S("xAxis",M,h.xAxis),M,p("xAxis",n))),u.yAxis=B(n.yAxis||{}).map(M=>T(S("yAxis",M,h.yAxis),M)),super.init(u,o)}createAxis(n,o){return o.axis=T(S(n,o.axis,ee()[n]),o.axis,p(n,this.userOptions)),super.createAxis(n,o)}}return W(Z,"update",function(l){let n=l.options;"scrollbar"in n&&this.navigator&&(T(!0,this.options.scrollbar,n.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete n.scrollbar)}),function(l){function n(U){if(!(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&P(this.min)&&P(this.max)))return;let G,K,ue,x=this.chart,O=this.logarithmic,z=this.crosshair.label,j=this.horiz,J=this.opposite,y=this.left,w=this.top,E=this.width,X="inside"===this.options.tickPosition,m=!1!==this.crosshair.snap,F=U.e||this.cross&&this.cross.e,R=U.point,_=this.crossLabel,oe=z.format,ae="",be=0,Se=this.min,ie=this.max;O&&(Se=O.lin2log(this.min),ie=O.lin2log(this.max));let q=j?"center":J?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center";_||(_=this.crossLabel=x.renderer.label("",0,void 0,z.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(R&&R.series?R.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:z.align||q,padding:H(z.padding,8),r:H(z.borderRadius,3),zIndex:2}).add(this.labelGroup),x.styledMode||_.attr({fill:z.backgroundColor||R&&R.series&&R.series.color||"#666666",stroke:z.borderColor||"","stroke-width":z.borderWidth||0}).css(A({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},z.style||{}))),j?(G=m?(R.plotX||0)+y:F.chartX,K=w+(J?0:this.height)):(G=y+this.offset+(J?E:0),K=m?(R.plotY||0)+w:F.chartY),oe||z.formatter||(this.dateTime&&(ae="%b %d, %Y"),oe="{value"+(ae?":"+ae:"")+"}");let re=m?this.isXAxis?R.x:R.y:this.toValue(j?F.chartX:F.chartY),le=R&&R.series?R.series.isPointInside(R):P(re)&&re>Se&&re<ie,pe="";oe?pe=te(oe,{value:re},x):z.formatter&&P(re)&&(pe=z.formatter.call(this,re)),_.attr({text:pe,x:G,y:K,visibility:le?"inherit":"hidden"});let ge=_.getBBox();!P(_.x)||j||J||(G=_.x-ge.width/2),P(_.y)&&(j?(X&&!J||!X&&J)&&(K=_.y-ge.height):K=_.y-ge.height/2),ue=j?{left:y,right:y+this.width}:{left:"left"===this.labelAlign?y:0,right:"right"===this.labelAlign?y+this.width:x.chartWidth};let we=_.translateX||0;we<ue.left&&(be=ue.left-we),we+ge.width>=ue.right&&(be=-(we+ge.width-ue.right)),_.attr({x:G+be,y:K,anchorX:j?G:this.opposite?0:x.chartWidth,anchorY:j?this.opposite?x.chartHeight:0:K+ge.height/2})}function o(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function h(U){let x=this.chart,O=this.options,z=x._labelPanes=x._labelPanes||{},j=O.labels;if(x.options.isStock&&"yAxis"===this.coll){let J=O.top+","+O.height;!z[J]&&j.enabled&&(15===j.distance&&1===this.side&&(j.distance=0),void 0===j.align&&(j.align="right"),z[J]=this,U.align="right",U.preventDefault())}}function d(){let U=this.chart,x=this.options&&this.options.top+","+this.options.height;x&&U._labelPanes&&U._labelPanes[x]===this&&delete U._labelPanes[x]}function c(U){let F,R,_,G,oe,ae,x=this,O=x.isLinked&&!x.series&&x.linkedParent?x.linkedParent.series:x.series,z=x.chart,j=z.renderer,J=x.left,y=x.top,w=[],E=U.translatedValue,X=U.value,m=U.force,K=[];if(z.options.isStock&&!1!==U.acrossPanes&&"xAxis"===x.coll||"yAxis"===x.coll){for(let ue of(U.preventDefault(),K=(be=>{let Se="xAxis"===be?"yAxis":"xAxis",ie=x.options[Se];return P(ie)?[z[Se][ie]]:v(ie)?[z.get(ie)]:O.map(q=>q[Se])})(x.coll),x.isXAxis?z.yAxis:z.xAxis))if(!ue.options.isInternal){let be=ue.isXAxis?"yAxis":"xAxis";x===(C(ue.options[be])?z[be][ue.options[be]]:z[be][0])&&K.push(ue)}for(let ue of(oe=K.length?[]:[x.isXAxis?z.yAxis[0]:z.xAxis[0]],K))-1!==oe.indexOf(ue)||D(oe,be=>be.pos===ue.pos&&be.len===ue.len)||oe.push(ue);if(P(ae=H(E,x.translate(X||0,void 0,void 0,U.old))))if(x.horiz)for(let ue of oe){let be;G=(R=ue.pos)+ue.len,F=_=Math.round(ae+x.transB),"pass"!==m&&(F<J||F>J+x.width)&&(m?F=_=N(F,J,J+x.width):be=!0),be||w.push(["M",F,R],["L",_,G])}else for(let ue of oe){let be;_=(F=ue.pos)+ue.len,R=G=Math.round(y+x.height-ae),"pass"!==m&&(R<y||R>y+x.height)&&(m?R=G=N(R,y,y+x.height):be=!0),be||w.push(["M",F,R],["L",_,G])}U.path=w.length>0?j.crispPolyLine(w,U.lineWidth||1):void 0}}function f(U){if(this.chart.options.isStock){let x;this.is("column")||this.is("columnrange")?x={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(x={marker:{enabled:!1,radius:2}}),x&&(U.plotOptions[this.type]=T(U.plotOptions[this.type],x))}}function u(){let x=this.options.dataGrouping;return!1!==this.allowDG&&x&&H(x.enabled,this.chart.options.isStock)}function M(U,x){for(let O=0;O<U.length;O+=2){let z=U[O],j=U[O+1];C(z[1])&&z[1]===j[1]&&(z[1]=j[1]=I(z[1],x)),C(z[2])&&z[2]===j[2]&&(z[2]=j[2]=I(z[2],x))}return U}l.compose=function(U,x,O,z){let j=O.prototype;j.forceCropping||(W(x,"afterDrawCrosshair",n),W(x,"afterHideCrosshair",o),W(x,"autoLabelAlign",h),W(x,"destroy",d),W(x,"getPlotLinePath",c),U.prototype.setFixedRange=L,j.forceCropping=u,W(O,"setOptions",f),z.prototype.crispPolyLine=M)},l.stockChart=function(U,x,O){return new l(U,x,O)}}(b||(b={})),b}),Ne(Y,"Series/HLC/HLCPoint.js",[Y["Core/Series/SeriesRegistry.js"]],function(Z){let{column:{prototype:{pointClass:ce}}}=Z.seriesTypes;return class extends ce{}}),Ne(Y,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),Ne(Y,"Series/HLC/HLCSeries.js",[Y["Series/HLC/HLCPoint.js"],Y["Series/HLC/HLCSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){let{column:me}=xe.seriesTypes,{crisp:de,extend:he,merge:Q}=ve;class te extends me{extendStem(L,W,N){let I=L[0],C=L[1];"number"==typeof I[2]&&(I[2]=Math.max(N+W,I[2])),"number"==typeof C[2]&&(C[2]=Math.min(N-W,C[2]))}getPointPath(L,W){let N=W.strokeWidth(),I=L.series,C=de(L.plotX||0,N),A=Math.round(L.shapeArgs.width/2),D=[["M",C,Math.round(L.yBottom)],["L",C,Math.round(L.plotHigh)]];if(null!==L.close){let P=de(L.plotClose,N);D.push(["M",C,P],["L",C+A,P]),I.extendStem(D,N/2,P)}return D}drawSinglePoint(L){let I,W=L.series,N=W.chart,C=L.graphic;void 0!==L.plotY&&(C||(L.graphic=C=N.renderer.path().add(W.group)),N.styledMode||C.attr(W.pointAttribs(L,L.selected&&"select")),I=W.getPointPath(L,C),C[C?"animate":"attr"]({d:I}).addClass(L.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(L,W){let N=super.pointAttribs.call(this,L,W);return delete N.fill,N}toYData(L){return[L.high,L.low,L.close]}translate(){let L=this,W=L.yAxis,N=this.pointArrayMap&&this.pointArrayMap.slice()||[],I=N.map(C=>`plot${C.charAt(0).toUpperCase()+C.slice(1)}`);I.push("yBottom"),N.push("low"),super.translate.apply(L),L.points.forEach(function(C){N.forEach(function(A,D){let P=C[A];null!==P&&(L.dataModify&&(P=L.dataModify.modifyValue(P)),C[I[D]]=W.toPixels(P,!0))}),C.tooltipPos[1]=C.plotHigh+W.pos-L.chart.plotTop})}}return te.defaultOptions=Q(me.defaultOptions,ce),he(te.prototype,{pointClass:Z,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),xe.registerSeriesType("hlc",te),te}),Ne(Y,"Series/OHLC/OHLCPoint.js",[Y["Core/Series/SeriesRegistry.js"]],function(Z){let{seriesTypes:{hlc:ce}}=Z;return class xe extends ce.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let me=super.getZone();return this.resolveUpColor(),me}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}}),Ne(Y,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),Ne(Y,"Series/OHLC/OHLCSeries.js",[Y["Core/Globals.js"],Y["Series/OHLC/OHLCPoint.js"],Y["Series/OHLC/OHLCSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me){let{composed:de}=Z,{hlc:he}=ve.seriesTypes,{addEvent:Q,crisp:te,extend:ee,merge:L,pushUnique:W}=me;function N(A){let D=A.options,P=D.dataGrouping;P&&D.useOhlcData&&"highcharts-navigator-series"!==D.id&&(P.approximation="ohlc")}function I(A){let D=A.options;D.useOhlcData&&"highcharts-navigator-series"!==D.id&&ee(this,{pointValKey:C.prototype.pointValKey,pointArrayMap:C.prototype.pointArrayMap,toYData:C.prototype.toYData})}class C extends he{static compose(D,...P){W(de,"OHLCSeries")&&(Q(D,"afterSetOptions",N),Q(D,"init",I))}getPointPath(D,P){let v=super.getPointPath(D,P),T=P.strokeWidth(),H=te(D.plotX||0,T),B=Math.round(D.shapeArgs.width/2);if(null!==D.open){let S=te(D.plotOpen,T);v.push(["M",H,S],["L",H-B,S]),super.extendStem(v,T/2,S)}return v}pointAttribs(D,P){let v=super.pointAttribs.call(this,D,P),T=this.options;return delete v.fill,!D.options.color&&T.upColor&&D.open<D.close&&(v.stroke=T.upColor),v}toYData(D){return[D.open,D.high,D.low,D.close]}}return C.defaultOptions=L(he.defaultOptions,xe),ee(C.prototype,{pointClass:ce,pointArrayMap:["open","high","low","close"]}),ve.registerSeriesType("ohlc",C),C}),Ne(Y,"Series/Candlestick/CandlestickSeriesDefaults.js",[],function(){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),Ne(Y,"Series/Candlestick/CandlestickSeries.js",[Y["Series/Candlestick/CandlestickSeriesDefaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe){let{column:ve,ohlc:me}=ce.seriesTypes,{crisp:de,merge:he}=xe;class Q extends me{pointAttribs(ee,L){let W=ve.prototype.pointAttribs.call(this,ee,L),N=this.options,I=ee.open<ee.close,C=N.lineColor||this.color,A=ee.color||this.color;if(W["stroke-width"]=N.lineWidth,W.fill=ee.options.color||I&&N.upColor||A,W.stroke=ee.options.lineColor||I&&N.upLineColor||C,L){let D=N.states[L];W.fill=D.color||W.fill,W.stroke=D.lineColor||W.stroke,W["stroke-width"]=D.lineWidth||W["stroke-width"]}return W}drawPoints(){let ee=this.points,L=this.chart,W=this.yAxis.reversed;for(let N of ee){let C,A,D,P,v,T,H,B,S,I=N.graphic,p=!I;if(void 0!==N.plotY){I||(N.graphic=I=L.renderer.path().add(this.group)),this.chart.styledMode||I.attr(this.pointAttribs(N,N.selected&&"select")).shadow(this.options.shadow);let b=I.strokeWidth();H=de(N.plotX||0,b),D=Math.min(C=N.plotOpen,A=N.plotClose),P=Math.max(C,A),S=Math.round(N.shapeArgs.width/2),v=W?P!==N.yBottom:Math.round(D)!==Math.round(N.plotHigh||0),T=W?Math.round(D)!==Math.round(N.plotHigh||0):P!==N.yBottom,D=de(D,b),P=de(P,b),(B=[]).push(["M",H-S,P],["L",H-S,D],["L",H+S,D],["L",H+S,P],["Z"],["M",H,D],["L",H,v?Math.round(W?N.yBottom:N.plotHigh):D],["M",H,P],["L",H,T?Math.round(W?N.plotHigh:N.yBottom):P]),I[p?"attr":"animate"]({d:B}).addClass(N.getClassName(),!0)}}}}return Q.defaultOptions=he(me.defaultOptions,{tooltip:me.defaultOptions.tooltip},Z),ce.registerSeriesType("candlestick",Q),Q}),Ne(Y,"Series/Flags/FlagsPoint.js",[Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce){let{column:{prototype:{pointClass:xe}}}=Z.seriesTypes,{isNumber:ve}=ce;return class extends xe{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return ve(this.y)||void 0===this.y}hasNewShapeType(){let me=this.options.shape||this.series.options.shape;return this.graphic&&me&&me!==this.graphic.symbolKey}}}),Ne(Y,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),Ne(Y,"Series/Flags/FlagsSymbols.js",[Y["Core/Renderer/RendererRegistry.js"]],function(Z){var ce;return function(xe){let ve=[];function me(he,Q,te,ee,L){let W=L&&L.anchorX||he,N=L&&L.anchorY||Q,I=this.circle(W-1,N-1,2,2);return I.push(["M",W,N],["L",he,Q+ee],["L",he,Q],["L",he+te,Q],["L",he+te,Q+ee],["L",he,Q+ee],["Z"]),I}function de(he,Q){he[Q+"pin"]=function(te,ee,L,W,N){let I,C=N&&N.anchorX,A=N&&N.anchorY;if("circle"===Q&&W>L&&(te-=Math.round((W-L)/2),L=W),I=he[Q](te,ee,L,W,N),C&&A){let D=C;if("circle"===Q)D=te+L/2;else{let v=I[0],T=I[1];"M"===v[0]&&"L"===T[0]&&(D=(v[1]+T[1])/2)}I.push(["M",D,ee>A?ee:ee+W],["L",C,A]),I=I.concat(he.circle(C-1,A-1,2,2))}return I}}xe.compose=function(he){if(-1===ve.indexOf(he)){ve.push(he);let te=he.prototype.symbols;te.flag=me,de(te,"circle"),de(te,"square")}let Q=Z.getRendererType();ve.indexOf(Q)&&ve.push(Q)}}(ce||(ce={})),ce}),Ne(Y,"Series/OnSeriesComposition.js",[Y["Series/Column/ColumnSeries.js"],Y["Core/Globals.js"],Y["Core/Series/Series.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve){var me;let{composed:de}=ce,{prototype:he}=Z,{prototype:Q}=xe,{defined:te,pushUnique:ee,stableSort:L}=ve;return function(W){function N(C){return Q.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,C)}function I(){he.translate.apply(this);let n,o,f,u,M,U,x,C=this,A=C.options,D=C.chart,P=C.points,v=A.onSeries,T=v&&D.get(v),H=T&&T.options.step,B=T&&T.points,S=D.inverted,p=C.xAxis,b=C.yAxis,l=P.length-1,h=A.onKey||"y",d=B&&B.length,c=0;if(T&&T.visible&&d)for(c=(T.pointXOffset||0)+(T.barW||0)/2,U=T.currentDataGrouping,u=B[d-1].x+(U?U.totalRange:0),L(P,(O,z)=>O.x-z.x),h="plot"+h[0].toUpperCase()+h.substr(1);d--&&P[l];)if(f=B[d],(n=P[l]).y=f.y,f.x<=n.x&&void 0!==f[h]){if(n.x<=u&&(n.plotY=f[h],f.x<n.x&&!H&&(M=B[d+1])&&void 0!==M[h]))if(te(n.plotX)&&T.is("spline")){let X,O=[f.plotX||0,f.plotY||0],z=[M.plotX||0,M.plotY||0],j=f.controlPoints?.high||O,J=M.controlPoints?.low||z,y=(m,F)=>Math.pow(1-m,3)*O[F]+3*(1-m)*(1-m)*m*j[F]+3*(1-m)*m*m*J[F]+m*m*m*z[F],w=0,E=1;for(let m=0;m<100;m++){let F=(w+E)/2,R=y(F,0);if(null===R)break;if(.25>Math.abs(R-n.plotX)){X=F;break}R<n.plotX?w=F:E=F}te(X)&&(n.plotY=y(X,1),n.y=b.toValue(n.plotY,!0))}else x=(n.x-f.x)/(M.x-f.x),n.plotY+=x*(M[h]-f[h]),n.y+=x*(M.y-f.y);if(l--,d++,l<0)break}P.forEach((O,z)=>{let j;O.plotX+=c,(void 0===O.plotY||S)&&(O.plotX>=0&&O.plotX<=p.len?S?(O.plotY=p.translate(O.x,0,1,0,1),O.plotX=te(O.y)?b.translate(O.y,0,0,0,1):0):O.plotY=(p.opposite?0:C.yAxis.len)+p.offset:O.shapeArgs={}),(o=P[z-1])&&o.plotX===O.plotX&&(void 0===o.stackIndex&&(o.stackIndex=0),j=o.stackIndex+1),O.stackIndex=j}),this.onSeries=T}W.compose=function(C){if(ee(de,"OnSeries")){let A=C.prototype;A.getPlotBox=N,A.translate=I}return C},W.getPlotBox=N,W.translate=I}(me||(me={})),me}),Ne(Y,"Series/Flags/FlagsSeries.js",[Y["Series/Flags/FlagsPoint.js"],Y["Series/Flags/FlagsSeriesDefaults.js"],Y["Series/Flags/FlagsSymbols.js"],Y["Core/Globals.js"],Y["Series/OnSeriesComposition.js"],Y["Core/Renderer/RendererUtilities.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Renderer/SVG/SVGElement.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de,he,Q,te){let{noop:ee}=ve,{distribute:L}=de,{series:W,seriesTypes:{column:N}}=he,{addEvent:I,defined:C,extend:A,isNumber:D,merge:P,objectEach:v,wrap:T}=te;class H extends N{animate(S){S&&this.setClip()}drawPoints(){let S,p,b,l,n,o,h,d,c,f,u,M=this.points,U=this.chart,x=U.renderer,O=U.inverted,z=this.options,j=z.y,J=this.yAxis,y={},w=[],E=D(z.borderRadius)?z.borderRadius:0;for(l=M.length;l--;)n=M[l],f=(O?n.plotY:n.plotX)>this.xAxis.len,S=n.plotX,h=n.stackIndex,b=n.options.shape||z.shape,void 0!==(p=n.plotY)&&(p=n.plotY+j-(void 0!==h&&h*z.stackDistance)),n.anchorX=h?void 0:n.plotX,d=h?void 0:n.plotY,u="flag"!==b,o=n.graphic,void 0!==p&&S>=0&&!f?(o&&n.hasNewShapeType()&&(o=o.destroy()),o||(o=n.graphic=x.label("",0,void 0,b,void 0,void 0,z.useHTML).addClass("highcharts-point").add(this.markerGroup),n.graphic.div&&(n.graphic.div.point=n),o.isNew=!0),o.attr({align:u?"center":"left",width:z.width,height:z.height,"text-align":z.textAlign,r:E}),U.styledMode||o.attr(this.pointAttribs(n)).css(P(z.style,n.style)).shadow(z.shadow),S>0&&(S-=o.strokeWidth()%2),c={y:p,anchorY:d},z.allowOverlapX&&(c.x=S,c.anchorX=n.anchorX),o.attr({text:n.options.title??z.title??"A"})[o.isNew?"attr":"animate"](c),z.allowOverlapX||(y[n.plotX]?y[n.plotX].size=Math.max(y[n.plotX].size,o.width||0):y[n.plotX]={align:u?.5:0,size:o.width||0,target:S,anchorX:S}),n.tooltipPos=[S,p+J.pos-U.plotTop]):o&&(n.graphic=o.destroy());if(!z.allowOverlapX){let X=100;for(let m of(v(y,function(F){F.plotX=F.anchorX,w.push(F),X=Math.max(F.size,X)}),L(w,O?J.len:this.xAxis.len,X),M)){let R=m.graphic,_=R&&y[m.plotX];_&&R&&(C(_.pos)?R[R.isNew?"attr":"animate"]({x:_.pos+(_.align||0)*_.size,anchorX:m.anchorX}).show().isNew=!1:R.hide().isNew=!0)}}z.useHTML&&this.markerGroup&&T(this.markerGroup,"on",function(X){return Q.prototype.on.apply(X.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let S=this.points;for(let p of(super.drawTracker(),S)){let b=p.graphic;b&&(p.unbindMouseOver&&p.unbindMouseOver(),p.unbindMouseOver=I(b.element,"mouseover",function(){for(let l of(p.stackIndex>0&&!p.raised&&(p._y=b.y,b.attr({y:p._y-8}),p.raised=!0),S))l!==p&&l.raised&&l.graphic&&(l.graphic.attr({y:l._y}),l.raised=!1)}))}}pointAttribs(S,p){let b=this.options,l=S&&S.color||this.color,n=b.lineColor,o=S&&S.lineWidth,h=S&&S.fillColor||b.fillColor;return p&&(h=b.states[p].fillColor,n=b.states[p].lineColor,o=b.states[p].lineWidth),{fill:h||l,stroke:n||l,"stroke-width":o||b.lineWidth||0}}setClip(){W.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return H.compose=xe.compose,H.defaultOptions=P(N.defaultOptions,ce),me.compose(H),A(H.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:Z,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:ee,init:W.prototype.init}),he.registerSeriesType("flags",H),H}),Ne(Y,"Core/Axis/BrokenAxis.js",[Y["Core/Axis/Stacking/StackItem.js"],Y["Core/Utilities.js"]],function(Z,ce){var xe;let{addEvent:ve,find:me,fireEvent:de,isArray:he,isNumber:Q,pick:te}=ce;return function(ee){function L(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function W(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function N(){let T=this.brokenAxis;if(T?.hasBreaks){let H=this.tickPositions,B=this.tickPositions.info,S=[];for(let p=0;p<H.length;p++)T.isInAnyBreak(H[p])||S.push(H[p]);this.tickPositions=S,this.tickPositions.info=B}}function I(){this.brokenAxis||(this.brokenAxis=new v(this))}function C(){let{isDirty:T,options:{connectNulls:H},points:B,xAxis:S,yAxis:p}=this;if(T){let b=B.length;for(;b--;){let l=B[b],n=!(null===l.y&&!1===H)&&(S?.brokenAxis?.isInAnyBreak(l.x,!0)||p?.brokenAxis?.isInAnyBreak(l.y,!0));l.visible=!n&&!1!==l.options.visible}}}function A(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,te(this.pointArrayMap,["y"]))}function D(T,H){let B,S,p,b=this,l=b.points;if(T?.brokenAxis?.hasBreaks){let n=T.brokenAxis;H.forEach(function(o){B=n?.breakArray||[],S=T.isXAxis?T.min:te(b.options.threshold,T.min);let h=T?.options?.breaks?.filter(function(d){let c=!0;for(let f=0;f<B.length;f++){let u=B[f];if(u.from===d.from&&u.to===d.to){c=!1;break}}return c});l.forEach(function(d){p=te(d["stack"+o.toUpperCase()],d[o]),B.forEach(function(c){if(Q(S)&&Q(p)){let f="";S<c.from&&p>c.to||S>c.from&&p<c.from?f="pointBreak":(S<c.from&&p>c.from&&p<c.to||S>c.from&&p>c.to&&p<c.from)&&(f="pointInBreak"),f&&de(T,f,{point:d,brk:c})}}),h?.forEach(function(c){de(T,"pointOutsideOfBreak",{point:d,brk:c})})})})}}function P(){let T=this.currentDataGrouping,H=T?.gapSize,B=this.points.slice(),S=this.yAxis,p=this.options.gapSize,b=B.length-1;if(p&&b>0){let l,n;for("value"!==this.options.gapUnit&&(p*=this.basePointRange),H&&H>p&&H>=this.basePointRange&&(p=H);b--;)if(n&&!1!==n.visible||(n=B[b+1]),l=B[b],!1!==n.visible&&!1!==l.visible){if(n.x-l.x>p){let o=(l.x+n.x)/2;B.splice(b+1,0,{isNull:!0,x:o}),S.stacking&&this.options.stacking&&((S.stacking.stacks[this.stackKey][o]=new Z(S,S.options.stackLabels,!1,o,this.stack)).total=0)}n=l}}return this.getGraphPath(B)}ee.compose=function(T,H){if(!T.keepProps.includes("brokenAxis")){T.keepProps.push("brokenAxis"),ve(T,"init",I),ve(T,"afterInit",L),ve(T,"afterSetTickPositions",N),ve(T,"afterSetOptions",W);let B=H.prototype;B.drawBreaks=D,B.gappedPath=P,ve(H,"afterGeneratePoints",C),ve(H,"afterRender",A)}return T};class v{static isInBreak(H,B){let S=H.repeat||1/0,p=H.from,b=H.to-H.from,l=B>=p?(B-p)%S:S-(p-B)%S;return H.inclusive?l<=b:l<b&&0!==l}static lin2Val(H){let B=this.brokenAxis,S=B&&B.breakArray;if(!S||!Q(H))return H;let b,l,p=H;for(l=0;l<S.length&&!((b=S[l]).from>=p);l++)(b.to<p||v.isInBreak(b,p))&&(p+=b.len);return p}static val2Lin(H){let B=this.brokenAxis,S=B&&B.breakArray;if(!S||!Q(H))return H;let b,l,p=H;for(l=0;l<S.length;l++)if((b=S[l]).to<=H)p-=b.len;else{if(b.from>=H)break;if(v.isInBreak(b,H)){p-=H-b.from;break}}return p}constructor(H){this.hasBreaks=!1,this.axis=H}findBreakAt(H,B){return me(B,function(S){return S.from<H&&H<S.to})}isInAnyBreak(H,B){let l,n,o,S=this.axis,p=S.options.breaks||[],b=p.length;if(b&&Q(H)){for(;b--;)v.isInBreak(p[b],H)&&(l=!0,n||(n=te(p[b].showPoints,!S.isXAxis)));o=l&&B?l&&!n:l}return o}setBreaks(H,B){let S=this,p=S.axis,b=he(H)&&!!H.length&&!!Object.keys(H[0]).length;p.isDirty=S.hasBreaks!==b,S.hasBreaks=b,H!==p.options.breaks&&(p.options.breaks=p.userOptions.breaks=H),p.forceRedraw=!0,p.series.forEach(function(l){l.isDirty=!0}),b||p.val2lin!==v.val2Lin||(delete p.val2lin,delete p.lin2val),b&&(p.userOptions.ordinal=!1,p.lin2val=v.lin2Val,p.val2lin=v.val2Lin,p.setExtremes=function(l,n,o,h,d){if(S.hasBreaks){let c,f=this.options.breaks||[];for(;c=S.findBreakAt(l,f);)l=c.to;for(;c=S.findBreakAt(n,f);)n=c.from;n<l&&(n=l)}p.constructor.prototype.setExtremes.call(this,l,n,o,h,d)},p.setAxisTranslation=function(){if(p.constructor.prototype.setAxisTranslation.call(this),S.unitLength=void 0,S.hasBreaks){let c,f,U,x,l=p.options.breaks||[],n=[],o=[],h=te(p.pointRangePadding,0),d=0,u=p.userMin||p.min,M=p.userMax||p.max;l.forEach(function(O){f=O.repeat||1/0,Q(u)&&Q(M)&&(v.isInBreak(O,u)&&(u+=O.to%f-u%f),v.isInBreak(O,M)&&(M-=M%f-O.from%f))}),l.forEach(function(O){if(U=O.from,f=O.repeat||1/0,Q(u)&&Q(M)){for(;U-f>u;)U-=f;for(;U<u;)U+=f;for(x=U;x<M;x+=f)n.push({value:x,move:"in"}),n.push({value:x+O.to-O.from,move:"out",size:O.breakSize})}}),n.sort(function(O,z){return O.value===z.value?("in"===O.move?0:1)-("in"===z.move?0:1):O.value-z.value}),c=0,U=u,n.forEach(function(O){1===(c+="in"===O.move?1:-1)&&"in"===O.move&&(U=O.value),0===c&&Q(U)&&(o.push({from:U,to:O.value,len:O.value-U-(O.size||0)}),d+=O.value-U-(O.size||0))}),S.breakArray=o,Q(u)&&Q(M)&&Q(p.min)&&(S.unitLength=M-u-d+h,de(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:S.unitLength&&(p.transA*=(M-p.min+h)/S.unitLength),h&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=u,p.max=M)}}),te(B,!0)&&p.chart.redraw()}}ee.Additions=v}(xe||(xe={})),xe}),Ne(Y,"masters/modules/broken-axis.src.js",[Y["Core/Globals.js"],Y["Core/Axis/BrokenAxis.js"]],function(Z,ce){return Z.BrokenAxis=Z.BrokenAxis||ce,Z.BrokenAxis.compose(Z.Axis,Z.Series),Z}),Ne(Y,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),Ne(Y,"Extensions/DataGrouping/ApproximationDefaults.js",[Y["Extensions/DataGrouping/ApproximationRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce){let{arrayMax:xe,arrayMin:ve,correctFloat:me,extend:de,isNumber:he}=ce;function Q(L){let W=L.length,N=te(L);return he(N)&&W&&(N=me(N/W)),N}function te(L){let N,W=L.length;if(!W&&L.hasNulls)N=null;else if(W)for(N=0;W--;)N+=L[W];return N}let ee={average:Q,averages:function(){let L=[];return[].forEach.call(arguments,function(W){L.push(Q(W))}),void 0===L[0]?void 0:L},close:function(L){return L.length?L[L.length-1]:L.hasNulls?null:void 0},high:function(L){return L.length?xe(L):L.hasNulls?null:void 0},hlc:function(L,W,N){if(L=Z.high(L),W=Z.low(W),N=Z.close(N),he(L)||he(W)||he(N))return[L,W,N]},low:function(L){return L.length?ve(L):L.hasNulls?null:void 0},ohlc:function(L,W,N,I){if(L=Z.open(L),W=Z.high(W),N=Z.low(N),I=Z.close(I),he(L)||he(W)||he(N)||he(I))return[L,W,N,I]},open:function(L){return L.length?L[0]:L.hasNulls?null:void 0},range:function(L,W){return L=Z.low(L),W=Z.high(W),he(L)||he(W)?[L,W]:null===L&&null===W?null:void 0},sum:te};return de(Z,ee),ee}),Ne(Y,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),Ne(Y,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[Y["Extensions/DataGrouping/DataGroupingDefaults.js"],Y["Core/Utilities.js"]],function(Z,ce){let xe,{addEvent:ve,extend:me,merge:de,pick:he}=ce;function Q(W){let N=this,I=N.series;I.forEach(function(C){C.groupPixelWidth=void 0}),I.forEach(function(C){C.groupPixelWidth=N.getGroupPixelWidth&&N.getGroupPixelWidth(),C.groupPixelWidth&&(C.hasProcessed=!0),C.applyGrouping(!!W.hasExtremesChanged)})}function te(){let A,D,W=this.series,N=W.length,I=0,C=!1;for(;N--;)(D=W[N].options.dataGrouping)&&(I=Math.max(I,he(D.groupPixelWidth,Z.common.groupPixelWidth)),A=(W[N].processedXData||W[N].data).length,(W[N].groupPixelWidth||A>this.chart.plotSizeX/I||A&&D.forced)&&(C=!0));return C?I:0}function ee(){this.series.forEach(function(W){W.hasProcessed=!1})}function L(W,N){let I;if(N=he(N,!0),W||(W={forced:!1,units:null}),this instanceof xe)for(I=this.series.length;I--;)this.series[I].update({dataGrouping:W},!1);else this.chart.options.series.forEach(function(C){C.dataGrouping="boolean"==typeof W?W:de(W,C.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),N&&this.chart.redraw()}return{compose:function(W){xe=W;let N=W.prototype;N.applyGrouping||(ve(W,"afterSetScale",ee),ve(W,"postProcessData",Q),me(N,{applyGrouping:Q,getGroupPixelWidth:te,setDataGrouping:L}))}}}),Ne(Y,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[Y["Extensions/DataGrouping/ApproximationRegistry.js"],Y["Extensions/DataGrouping/DataGroupingDefaults.js"],Y["Core/Axis/DateTimeAxis.js"],Y["Core/Defaults.js"],Y["Core/Series/SeriesRegistry.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de){let{series:{prototype:he}}=me,{addEvent:Q,defined:te,error:ee,extend:L,isNumber:W,merge:N,pick:I}=de,C=he.generatePoints;function A(B){var S;let p,b,c,f,l=this.chart,n=this.options.dataGrouping,o=!1!==this.allowDG&&n&&I(n.enabled,l.options.isStock),h=this.reserveSpace(),d=this.currentDataGrouping,u=!1;o&&!this.requireSorting&&(this.requireSorting=u=!0);let M=!(!this.isCartesian||this.isDirty||this.xAxis.isDirty||this.yAxis.isDirty||B)||!o;if(u&&(this.requireSorting=!1),M)return;this.destroyGroupedData();let U=n.groupAll?this.xData:this.processedXData,x=n.groupAll?this.yData:this.processedYData,O=l.plotSizeX,z=this.xAxis,j=z.options.ordinal,J=this.groupPixelWidth;if(J&&U&&U.length&&O){b=!0,this.isDirty=!0,this.points=null;let y=z.getExtremes(),w=y.min,E=y.max,X=j&&z.ordinal&&z.ordinal.getGroupIntervalFactor(w,E,this)||1,F=z.getTimeTicks(xe.Additions.prototype.normalizeTimeTickInterval(J*(E-w)/O*X,n.units||ce.units),Math.min(w,U[0]),Math.max(E,U[U.length-1]),z.options.startOfWeek,U,this.closestPointRange),R=he.groupData.apply(this,[U,x,F,n.approximation]),_=R.groupedXData,G=R.groupedYData,K=0;for(n&&n.smoothed&&_.length&&(n.firstAnchor="firstPoint",n.anchor="middle",n.lastAnchor="lastPoint",ee(32,!1,l,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),p=1;p<F.length;p++)F.info.segmentStarts&&-1!==F.info.segmentStarts.indexOf(p)||(K=Math.max(F[p]-F[p-1],K));(c=F.info).gapSize=K,this.closestPointRange=F.info.totalRange,this.groupMap=R.groupMap,this.currentDataGrouping=c,function(oe,ae,ue){let be=oe.options.dataGrouping,Se=oe.currentDataGrouping&&oe.currentDataGrouping.gapSize;if(!(be&&oe.xData&&Se&&oe.groupMap))return;let ie=ae.length-1,q=be.anchor,re=be.firstAnchor,le=be.lastAnchor,pe=ae.length-1,ge=0;if(re&&oe.xData[0]>=ae[0]){let we;ge++;let ye=oe.groupMap[0].start,Me=oe.groupMap[0].length;W(ye)&&W(Me)&&(we=ye+(Me-1)),ae[0]={start:ae[0],middle:ae[0]+.5*Se,end:ae[0]+Se,firstPoint:oe.xData[0],lastPoint:we&&oe.xData[we]}[re]}if(ie>0&&le&&Se&&ae[ie]>=ue-Se){pe--;let we=oe.groupMap[oe.groupMap.length-1].start;ae[ie]={start:ae[ie],middle:ae[ie]+.5*Se,end:ae[ie]+Se,firstPoint:we&&oe.xData[we],lastPoint:oe.xData[oe.xData.length-1]}[le]}if(q&&"start"!==q){let we=Se*{middle:.5,end:1}[q];for(;pe>=ge;)ae[pe]+=we,pe--}}(this,_,E),h&&(te((S=_)[0])&&W(z.min)&&W(z.dataMin)&&S[0]<z.min&&((!te(z.options.min)&&z.min<=z.dataMin||z.min===z.dataMin)&&(z.min=Math.min(S[0],z.min)),z.dataMin=Math.min(S[0],z.dataMin)),te(S[S.length-1])&&W(z.max)&&W(z.dataMax)&&S[S.length-1]>z.max&&((!te(z.options.max)&&W(z.dataMax)&&z.max>=z.dataMax||z.max===z.dataMax)&&(z.max=Math.max(S[S.length-1],z.max)),z.dataMax=Math.max(S[S.length-1],z.dataMax))),n.groupAll&&(this.allGroupedData=G,_=(f=this.cropData(_,G,z.min,z.max)).xData,G=f.yData,this.cropStart=f.start),this.processedXData=_,this.processedYData=G}else this.groupMap=null,this.currentDataGrouping=void 0;this.hasGroupedData=b,this.preventGraphAnimation=(d&&d.totalRange)!==(c&&c.totalRange)}function D(){this.groupedData&&(this.groupedData.forEach(function(B,S){B&&(this.groupedData[S]=B.destroy?B.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedData)}function P(){C.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function v(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function T(B,S,p,b){let j,J,y,l=this,n=l.data,o=l.options&&l.options.data,h=[],d=[],c=[],f=B.length,u=!!S,M=[],U=l.pointArrayMap,x=U&&U.length,O=["x"].concat(U||["y"]),z=this.options.dataGrouping&&this.options.dataGrouping.groupAll,w=0,E=0,X="function"==typeof b?b:b&&Z[b]?Z[b]:Z[l.getDGApproximation&&l.getDGApproximation()||"average"];if(x){let F=U.length;for(;F--;)M.push([])}else M.push([]);let m=x||1;for(let F=0;F<=f;F++)if(!(B[F]<p[0])){for(;void 0!==p[w+1]&&B[F]>=p[w+1]||F===f;){j=p[w],l.dataGroupInfo={start:z?E:l.cropStart+E,length:M[0].length,groupStart:j},y=X.apply(l,M),l.pointClass&&!te(l.dataGroupInfo.options)&&(l.dataGroupInfo.options=N(l.pointClass.prototype.optionsToObject.call({series:l},l.options.data[l.cropStart+E])),O.forEach(function(R){delete l.dataGroupInfo.options[R]})),void 0!==y&&(h.push(j),d.push(y),c.push(l.dataGroupInfo)),E=F;for(let R=0;R<m;R++)M[R].length=0,M[R].hasNulls=!1;if(w+=1,F===f)break}if(F===f)break;if(U){let R,_=l.options.dataGrouping&&l.options.dataGrouping.groupAll?F:l.cropStart+F,G=n&&n[_]||l.pointClass.prototype.applyOptions.apply({series:l},[o[_]]);for(let K=0;K<x;K++)W(R=G[U[K]])?M[K].push(R):null===R&&(M[K].hasNulls=!0)}else W(J=u?S[F]:null)?M[0].push(J):null===J&&(M[0].hasNulls=!0)}return{groupedXData:h,groupedYData:d,groupMap:c}}function H(B){let S=B.options,p=this.type,b=this.chart.options.plotOptions,l=this.useCommonDataGrouping&&ce.common,n=ce.seriesSpecific,o=ve.defaultOptions.plotOptions[p].dataGrouping;if(b&&(n[p]||l)){let h=this.chart.rangeSelector;o||(o=N(ce.common,n[p])),S.dataGrouping=N(l,o,b.series&&b.series.dataGrouping,b[p].dataGrouping,this.userOptions.dataGrouping,!S.isInternal&&h&&W(h.selected)&&h.buttonOptions[h.selected].dataGrouping)}}return{compose:function(B){let S=B.prototype;S.applyGrouping||(Q(B.prototype.pointClass,"update",function(){if(this.dataGroup)return ee(24,!1,this.series.chart),!1}),Q(B,"afterSetOptions",H),Q(B,"destroy",D),L(S,{applyGrouping:A,destroyGroupedData:D,generatePoints:P,getDGApproximation:v,groupData:T}))},groupData:T}}),Ne(Y,"Extensions/DataGrouping/DataGrouping.js",[Y["Extensions/DataGrouping/DataGroupingAxisComposition.js"],Y["Extensions/DataGrouping/DataGroupingDefaults.js"],Y["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],Y["Core/Templating.js"],Y["Core/Globals.js"],Y["Core/Utilities.js"]],function(Z,ce,xe,ve,me,de){let{format:he}=ve,{composed:Q}=me,{addEvent:te,extend:ee,isNumber:L,pick:W,pushUnique:N}=de;function I(C){let l,n,o,h,d,A=this.chart,D=A.time,P=C.labelConfig,v=P.series,T=P.point,B=v.tooltipOptions,S=v.options.dataGrouping,p=v.xAxis,b=B.xDateFormat,c=B[C.isFooter?"footerFormat":"headerFormat"];if(p&&"datetime"===p.options.type&&S&&L(P.key)){n=v.currentDataGrouping,o=S.dateTimeLabelFormats||ce.common.dateTimeLabelFormats,n?(h=o[n.unitName],1===n.count?b=h[0]:(b=h[1],l=h[2])):!b&&o&&p.dateTime&&(b=p.dateTime.getXDateFormat(P.x,B.dateTimeLabelFormats));let f=W(v.groupMap?.[T.index].groupStart,P.key),u=f+n?.totalRange-1;d=D.dateFormat(b,f),l&&(d+=D.dateFormat(l,u)),v.chart.styledMode&&(c=this.styledModeFormat(c)),C.text=he(c,{point:ee(P.point,{key:d}),series:v},A),C.preventDefault()}}return{compose:function(C,A,D){Z.compose(C),xe.compose(A),D&&N(Q,"DataGrouping")&&te(D,"headerFormatter",I)},groupData:xe.groupData}}),Ne(Y,"masters/modules/datagrouping.src.js",[Y["Core/Globals.js"],Y["Extensions/DataGrouping/ApproximationDefaults.js"],Y["Extensions/DataGrouping/ApproximationRegistry.js"],Y["Extensions/DataGrouping/DataGrouping.js"]],function(Z,ce,xe,ve){return Z.dataGrouping=Z.dataGrouping||{},Z.dataGrouping.approximationDefaults=Z.dataGrouping.approximationDefaults||ce,Z.dataGrouping.approximations=Z.dataGrouping.approximations||xe,ve.compose(Z.Axis,Z.Series,Z.Tooltip),Z}),Ne(Y,"Extensions/Annotations/NavigationBindingsUtilities.js",[Y["Core/Utilities.js"]],function(Z){let{defined:ce,isNumber:xe,pick:ve}=Z,me={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:me,getAssignedAxis:function(de){return de.filter(he=>{let Q=he.axis.getExtremes(),te=Q.min,ee=Q.max,L=ve(he.axis.minPointOffset,0);return xe(te)&&xe(ee)&&he.value>=te-L&&he.value<=ee+L&&!he.axis.options.isInternal})[0]},getFieldType:function(de,he){let Q=me[de],te=typeof he;return ce(Q)&&(te=Q),{string:"text",number:"number",boolean:"checkbox"}[te]}}}),Ne(Y,"Extensions/MouseWheelZoom/MouseWheelZoom.js",[Y["Core/Utilities.js"],Y["Extensions/Annotations/NavigationBindingsUtilities.js"]],function(Z,ce){let xe,{addEvent:ve,isObject:me,pick:de,defined:he,merge:Q}=Z,{getAssignedAxis:te}=ce,ee=[],L={enabled:!0,sensitivity:1.1};function I(){let C=(C=>(me(C)||(C={enabled:C??!0}),Q(L,C)))(this.zooming.mouseWheel);C.enabled&&ve(this.container,"wheel",A=>{A=this.pointer?.normalize(A)||A;let{pointer:D}=this,P=D&&!D.inClass(A.target,"highcharts-no-mousewheel");if(this.isInsidePlot(A.chartX-this.plotLeft,A.chartY-this.plotTop)&&P){let v=C.sensitivity||1.1,T=A.detail||(A.deltaY||0)/120,H=te(D.getCoordinates(A).xAxis),B=te(D.getCoordinates(A).yAxis);(function(C,A,D,P,v,T,H){let B=de(H.type,C.zooming.type,""),S=[];"x"===B?S=D:"y"===B?S=P:"xy"===B&&(S=C.axes);let p=C.transform({axes:S,to:{x:v-5,y:T-5,width:10,height:10},from:{x:v-5*A,y:T-5*A,width:10*A,height:10*A},trigger:"mousewheel"});return p&&(he(xe)&&clearTimeout(xe),xe=setTimeout(()=>{C.pointer?.drop()},400)),p})(this,Math.pow(v,T),H?[H.axis]:this.xAxis,B?[B.axis]:this.yAxis,A.chartX,A.chartY,C)&&A.preventDefault?.()}})}return{compose:function(C){-1===ee.indexOf(C)&&(ee.push(C),ve(C,"afterGetContainer",I))}}}),Ne(Y,"masters/modules/mouse-wheel-zoom.src.js",[Y["Core/Globals.js"],Y["Extensions/MouseWheelZoom/MouseWheelZoom.js"]],function(Z,ce){return Z.MouseWheelZoom=Z.MouseWheelZoom||ce,Z.MouseWheelZoom.compose(Z.Chart),Z}),Ne(Y,"masters/modules/stock.src.js",[Y["Core/Globals.js"],Y["Series/DataModifyComposition.js"],Y["Stock/Navigator/Navigator.js"],Y["Core/Axis/OrdinalAxis.js"],Y["Stock/RangeSelector/RangeSelector.js"],Y["Stock/Scrollbar/Scrollbar.js"],Y["Core/Chart/StockChart.js"],Y["Series/OHLC/OHLCSeries.js"],Y["Series/Flags/FlagsSeries.js"]],function(Z,ce,xe,ve,me,de,he,Q,te){return Z.Navigator=Z.Navigator||xe,Z.OrdinalAxis=Z.OrdinalAxis||ve,Z.RangeSelector=Z.RangeSelector||me,Z.Scrollbar=Z.Scrollbar||de,Z.stockChart=Z.stockChart||he.stockChart,Z.StockChart=Z.StockChart||Z.stockChart,Z.extend(Z.StockChart,he),ce.compose(Z.Series,Z.Axis,Z.Point),te.compose(Z.Renderer),Q.compose(Z.Series),Z.Navigator.compose(Z.Chart,Z.Axis,Z.Series),Z.OrdinalAxis.compose(Z.Axis,Z.Series,Z.Chart),Z.RangeSelector.compose(Z.Axis,Z.Chart),Z.Scrollbar.compose(Z.Axis),Z.StockChart.compose(Z.Chart,Z.Axis,Z.Series,Z.SVGRenderer),Z}),Ne(Y,"masters/highstock.src.js",[Y["masters/highcharts.src.js"]],function(Z){return Z.product="Highstock",Z}),Y["masters/highstock.src.js"]._modules=Y,Y["masters/highstock.src.js"]},Zi.exports?(Y.default=Y,Zi.exports=Qt&&Qt.document?Y(Qt):Y):void 0!==(ji=function(){return Y(Qt)}.call(Gs,mi,Gs,Zi))&&(Zi.exports=ji)}}]);