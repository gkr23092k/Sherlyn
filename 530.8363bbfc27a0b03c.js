"use strict";(self.webpackChunkSherlyn=self.webpackChunkSherlyn||[]).push([[530],{2530:(X,f,o)=>{o.r(f),o.d(f,{DashboardModule:()=>R});var b=o(177),C=o(803),t=o(7705),u=o(1088),d=o(8585),r=o(9153),D=o(3339),I=o(1591),v=o(205),l=o(2102),h=o(5084),m=o(9417);d.DPo(D.A);let y=(()=>{class a{constructor(e,n){this.data=e,this.fb=n,this.dataarrayobj=[],this.content="",this.groupedData=[],this.msg="",this.grpcount=0,this.dataforfilter=[],this.colorlist=[],this.enddaterange=new Date,this.startdaterange=(0,I.e)(new Date,30),this.dataEmitter=new t.bkB}ngOnChanges(){this.groupedData=this.spendlist,console.log(this.spendlist),this.initializeChart()}onDateRangeChanged(){console.log("Start Date:",this.startdaterange),console.log("End Date:",this.enddaterange),this.enddaterange&&this.dataEmitter.emit({startdate:this.startdaterange,enddate:this.enddaterange})}initializeChart(){this.chart=d.vtF("donut-chartdiv",r.KC),this.chart.innerRadius=d.KNB(55),this.chart.data=this.groupedData;const e=this.chart.series.push(new r.tB);e.dataFields.value="totalPrice",e.dataFields.category="matgroup",e.labels.template.text="",this.chart.legend=new r.s$}disposeChart(){this.chart?(this.chart.dispose(),console.log("Chart disposed successfully.")):console.warn("Chart was not initialized before disposal.")}static#t=this.\u0275fac=function(n){return new(n||a)(t.rXU(v.i),t.rXU(u.f))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["donut-chart"]],inputs:{spendlist:["Spendlist","spendlist"]},outputs:{dataEmitter:"dataEmitter"},features:[t.OA$],decls:11,vars:4,consts:[[1,"d-flex","justify-content-center"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date",3,"ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],["id","donut-chartdiv",1,"shadow-lg","p-2","mx-1",2,"width","99%","height","70vh"]],template:function(n,s){if(1&n&&(t.j41(0,"div",0)(1,"mat-form-field")(2,"mat-label"),t.EFF(3,"Selected date range MM/DD/YYYY"),t.k0s(),t.j41(4,"mat-date-range-input",1)(5,"input",2),t.bIt("ngModelChange",function(c){return s.startdaterange=c}),t.k0s(),t.j41(6,"input",3),t.bIt("ngModelChange",function(c){return s.enddaterange=c})("ngModelChange",function(){return s.onDateRangeChanged()}),t.k0s()(),t.nrm(7,"mat-datepicker-toggle",4)(8,"mat-date-range-picker",null,5),t.k0s()(),t.nrm(10,"div",6)),2&n){const i=t.sdS(9);t.R7$(4),t.Y8G("rangePicker",i),t.R7$(1),t.Y8G("ngModel",s.startdaterange),t.R7$(1),t.Y8G("ngModel",s.enddaterange),t.R7$(1),t.Y8G("for",i)}},dependencies:[l.rl,l.nJ,l.yw,h.bU,h.el,h.xR,h.IG,h.SG,m.me,m.BC,m.vS]})}return a})();var g=o(7376);d.DPo(D.A);let S=(()=>{class a{constructor(e,n){this.data=e,this.fb=n,this.dataarrayobj=[],this.chartdiv=""}ngOnChanges(){this.spendlist&&this.Idtoken&&(this.dataarrayobj=this.spendlist,this.chartdiv="chartdiv-"+this.Idtoken,this.dataloaded())}dataloaded(){this.disposeChart(),setTimeout(()=>{if(document.getElementById(this.chartdiv)){this.chart=d.vtF(this.chartdiv,r.C1);const e=g.groupBy(this.dataarrayobj,"date");this.dataarrayobj=g.map(e,(c,N)=>({date:N,matprice:g.sumBy(c,"matprice")})),console.log(this.dataarrayobj,"chart loader"),this.chart.data=this.dataarrayobj;const n=this.chart.xAxes.push(new r.cX);n.renderer.minGridDistance=25,n.renderer.labels.template.fontSize=12,n.renderer.labels.template.rotation=45,n.renderer.grid.template.location=0,this.chart.yAxes.push(new r.FL);const i=this.chart.series.push(new r.Im);i.dataFields.dateX="date",i.dataFields.valueY="matprice",i.strokeWidth=3,i.tooltipText="{matprice} Rs in {date}",i.stroke=d.yWT(this.colorcode),this.chart.cursor=new r.Av,this.chart.cursor.behavior="zoomX",this.chart.scrollbarX=new d.ZeV}else console.warn(`Chart container with id ${this.chartdiv} not found.`)},100)}ngOnDestroy(){this.disposeChart()}disposeChart(){this.chart?(this.chart.dispose(),console.log("Chart disposed successfully.")):console.warn("Chart was not initialized before disposal.")}static#t=this.\u0275fac=function(n){return new(n||a)(t.rXU(v.i),t.rXU(u.f))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["line-chart"]],inputs:{spendlist:["Spendlist","spendlist"],Idtoken:"Idtoken",colorcode:"colorcode"},features:[t.OA$],decls:1,vars:1,consts:[[1,"shadow-lg","p-2","m-2",2,"width","99%","height","80vh",3,"id"]],template:function(n,s){1&n&&t.nrm(0,"div",0),2&n&&t.Y8G("id",s.chartdiv)}})}return a})();function G(a,p){if(1&a){const e=t.RV6();t.j41(0,"donut-chart",4),t.bIt("dataEmitter",function(s){t.eBV(e);const i=t.XpG();return t.Njj(i.receiveData(s))}),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("Spendlist",e.groupeddata)}}function T(a,p){if(1&a&&t.nrm(0,"line-chart",5),2&a){const e=t.XpG();t.Y8G("colorcode","red")("Idtoken",1)("Spendlist",e.data)}}function k(a,p){if(1&a&&t.nrm(0,"line-chart",5),2&a){const e=t.XpG();t.Y8G("colorcode","red")("Idtoken",2)("Spendlist",e.groupeddatamonthly)}}function Y(a,p){if(1&a&&t.nrm(0,"line-chart",5),2&a){const e=t.XpG();t.Y8G("colorcode","green")("Idtoken",3)("Spendlist",e.investdata)}}function E(a,p){if(1&a&&t.nrm(0,"line-chart",5),2&a){const e=t.XpG();t.Y8G("colorcode","green")("Idtoken",4)("Spendlist",e.groupeddatamonthlyinv)}}const M=[{path:"main",component:(()=>{class a{constructor(e){this.fb=e,this.ischart="SDAY"}ngOnInit(){this.fb.getAllspendItems().subscribe(e=>{this.data=e}),this.fb.getmatgroupspendItems().subscribe(e=>{this.groupeddata=e,console.log(e,"group spend items")}),this.fb.getAllSpendItemsMonthly().subscribe(e=>{this.groupeddatamonthly=e}),this.fb.getAllinvestItems().subscribe(e=>{this.investdata=e,console.log(this.data,"ssl")}),this.fb.getAllInvestItemsMonthly().subscribe(e=>{this.groupeddatamonthlyinv=e})}receiveData(e){console.log(e),this.fb.getmatgroupspendItems(e.startdate,e.enddate).subscribe(n=>{this.groupeddata=n})}static#t=this.\u0275fac=function(n){return new(n||a)(t.rXU(u.f))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-dashboardmain"]],decls:16,vars:5,consts:[[1,"d-flex","justify-content-center","my-2"],[1,"btn","btn-sm","btn-info","mx-1","text-white",3,"click"],[3,"Spendlist","dataEmitter",4,"ngIf"],[3,"colorcode","Idtoken","Spendlist",4,"ngIf"],[3,"Spendlist","dataEmitter"],[3,"colorcode","Idtoken","Spendlist"]],template:function(n,s){1&n&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return s.ischart="SDAY"}),t.EFF(2,"DAY SPENDS"),t.k0s(),t.j41(3,"button",1),t.bIt("click",function(){return s.ischart="SMONTH"}),t.EFF(4,"MONTH SPENDS"),t.k0s(),t.j41(5,"button",1),t.bIt("click",function(){return s.ischart="GROUP"}),t.EFF(6,"GROUP"),t.k0s(),t.j41(7,"button",1),t.bIt("click",function(){return s.ischart="IDAY"}),t.EFF(8,"DAY INVEST"),t.k0s(),t.j41(9,"button",1),t.bIt("click",function(){return s.ischart="IMONTH"}),t.EFF(10,"MONTH INVEST"),t.k0s()(),t.DNE(11,G,1,1,"donut-chart",2),t.DNE(12,T,1,3,"line-chart",3),t.DNE(13,k,1,3,"line-chart",3),t.DNE(14,Y,1,3,"line-chart",3),t.DNE(15,E,1,3,"line-chart",3)),2&n&&(t.R7$(11),t.Y8G("ngIf","GROUP"==s.ischart),t.R7$(1),t.Y8G("ngIf","SDAY"==s.ischart),t.R7$(1),t.Y8G("ngIf","SMONTH"==s.ischart),t.R7$(1),t.Y8G("ngIf","IDAY"==s.ischart),t.R7$(1),t.Y8G("ngIf","IMONTH"==s.ischart))},dependencies:[b.bT,y,S]})}return a})()},{path:"**",redirectTo:"main"}];let F=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275mod=t.$C({type:a});static#a=this.\u0275inj=t.G2t({imports:[C.iI.forChild(M),C.iI]})}return a})();var j=o(9631),A=o(6600);let R=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275mod=t.$C({type:a});static#a=this.\u0275inj=t.G2t({imports:[b.MD,F,l.RG,j.fS,h.X6,A.WX,m.YN]})}return a})()}}]);