"use strict";(self.webpackChunkSherlyn=self.webpackChunkSherlyn||[]).push([[639],{92639:(H,x,o)=>{o.r(x),o.d(x,{DashboardModule:()=>z});var m=o(60177),y=o(30803),e=o(17705),f=o(31088),l=o(8585),c=o(69153),v=o(53339),k=o(31591),w=o(20205),_=o(32102),u=o(25084),g=o(89417);l.DPo(v.A);let S=(()=>{class i{constructor(t,r){this.data=t,this.fb=r,this.dataarrayobj=[],this.content="",this.groupedData=[],this.msg="",this.grpcount=0,this.dataforfilter=[],this.colorlist=[],this.enddaterange=new Date,this.startdaterange=(0,k.e)(new Date,30),this.dataEmitter=new e.bkB}ngOnChanges(){this.groupedData=this.spendlist,console.log(this.spendlist),this.initializeChart()}onDateRangeChanged(){console.log("Start Date:",this.startdaterange),console.log("End Date:",this.enddaterange),this.enddaterange&&this.dataEmitter.emit({startdate:this.startdaterange,enddate:this.enddaterange})}initializeChart(){this.chart=l.vtF("subdonut-chartdiv",c.KC),this.chart.innerRadius=l.KNB(55),this.chart.data=this.groupedData;const t=this.chart.series.push(new c.tB);t.dataFields.value="totalPrice",t.dataFields.category="matgroup",t.labels.template.text="",this.chart.legend=new c.s$,t.slices.template.events.on("hit",r=>{console.log(r.target.dataItem.category)})}disposeChart(){this.chart?(this.chart.dispose(),console.log("Chart disposed successfully.")):console.warn("Chart was not initialized before disposal.")}static#t=this.\u0275fac=function(r){return new(r||i)(e.rXU(w.i),e.rXU(f.f))};static#e=this.\u0275cmp=e.VBU({type:i,selectors:[["app-breakdowndonut"]],inputs:{spendlist:["Spendlist","spendlist"],selectedgroup:["Chosengroup","selectedgroup"]},outputs:{dataEmitter:"dataEmitter"},features:[e.OA$],decls:1,vars:0,consts:[["id","subdonut-chartdiv",1,"shadow-lg","p-2","mx-1",2,"width","99%","height","70vh"]],template:function(r,n){1&r&&e.nrm(0,"div",0)},styles:[".subheader[_ngcontent-%COMP%]{position:absolute;top:100px}"]})}return i})();function I(i,s){if(1&i){const t=e.RV6();e.j41(0,"span",9)(1,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectedgroup=!1)}),e.EFF(2,"X"),e.k0s(),e.j41(3,"h1",11),e.EFF(4),e.k0s(),e.nrm(5,"app-breakdowndonut",12),e.k0s()}if(2&i){const t=e.XpG();e.R7$(4),e.SpI("Drill Down ",t.selectedgroup,""),e.R7$(1),e.Y8G("Spendlist",t.matnamedata)("Chosengroup",t.selectedgroup)}}l.DPo(v.A);let E=(()=>{class i{constructor(t,r){this.data=t,this.fb=r,this.dataarrayobj=[],this.content="",this.groupedData=[],this.msg="",this.grpcount=0,this.dataforfilter=[],this.colorlist=[],this.enddaterange=new Date,this.startdaterange=(0,k.e)(new Date,30),this.showFiller=!1,this.dataEmitter=new e.bkB}ngOnChanges(){this.groupedData=this.spendlist,console.log(this.spendlist),this.initializeChart()}ngOnInit(){this.fb.getmatnamespendItems("Investment").subscribe(t=>{this.matnamedata=t,console.log(t,"group spend items")})}onDateRangeChanged(){console.log("Start Date:",this.startdaterange),console.log("End Date:",this.enddaterange),this.enddaterange&&this.dataEmitter.emit({startdate:this.startdaterange,enddate:this.enddaterange})}initializeChart(){this.chart=l.vtF("donut-chartdiv",c.KC),this.chart.innerRadius=l.KNB(55),this.chart.data=this.groupedData;const t=this.chart.series.push(new c.tB);t.dataFields.value="totalPrice",t.dataFields.category="matgroup",t.labels.template.text="",this.chart.legend=new c.s$,t.slices.template.events.on("hit",r=>{t.slices.each(a=>{a.isActive=!1}),console.log(r.target.dataItem.category),this.selectedgroup=r.target.dataItem.category,this.fb.getmatnamespendItems(r.target.dataItem.category,this.startdaterange,this.enddaterange).subscribe(a=>{this.matnamedata=a,console.log(a,"group spend items")})})}disposeChart(){this.chart?(this.chart.dispose(),console.log("Chart disposed successfully.")):console.warn("Chart was not initialized before disposal.")}static#t=this.\u0275fac=function(r){return new(r||i)(e.rXU(w.i),e.rXU(f.f))};static#e=this.\u0275cmp=e.VBU({type:i,selectors:[["donut-chart"]],inputs:{spendlist:["Spendlist","spendlist"]},outputs:{dataEmitter:"dataEmitter"},features:[e.OA$],decls:13,vars:5,consts:[[1,"d-flex","justify-content-center"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date",3,"ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],[1,"d-flex","flex-grow-1"],["id","donut-chartdiv",1,"shadow-lg","p-2","mx-1",2,"width","100%","height","70vh"],["style","width: 100%; height: 70vh;",4,"ngIf"],[2,"width","100%","height","70vh"],[1,"btn","btn-sm","btn-danger","closersub",3,"click"],[1,"subheader"],[3,"Spendlist","Chosengroup"]],template:function(r,n){if(1&r&&(e.j41(0,"div",0)(1,"mat-form-field")(2,"mat-label"),e.EFF(3,"Selected date range MM/DD/YYYY"),e.k0s(),e.j41(4,"mat-date-range-input",1)(5,"input",2),e.bIt("ngModelChange",function(d){return n.startdaterange=d}),e.k0s(),e.j41(6,"input",3),e.bIt("ngModelChange",function(d){return n.enddaterange=d})("ngModelChange",function(){return n.onDateRangeChanged()}),e.k0s()(),e.nrm(7,"mat-datepicker-toggle",4)(8,"mat-date-range-picker",null,5),e.k0s()(),e.j41(10,"div",6),e.nrm(11,"div",7),e.DNE(12,I,6,3,"span",8),e.k0s()),2&r){const a=e.sdS(9);e.R7$(4),e.Y8G("rangePicker",a),e.R7$(1),e.Y8G("ngModel",n.startdaterange),e.R7$(1),e.Y8G("ngModel",n.enddaterange),e.R7$(1),e.Y8G("for",a),e.R7$(5),e.Y8G("ngIf",n.selectedgroup)}},dependencies:[m.bT,_.rl,_.nJ,_.yw,u.bU,u.el,u.xR,u.IG,u.SG,g.me,g.BC,g.vS,S],styles:[".subheader[_ngcontent-%COMP%]{position:absolute;top:30%;left:52%}.closersub[_ngcontent-%COMP%]{position:absolute;top:30%;right:2%;z-index:5;opacity:.5}"]})}return i})();var b=o(67376);l.DPo(v.A);let F=(()=>{class i{constructor(t,r){this.data=t,this.fb=r,this.dataarrayobj=[],this.chartdiv=""}ngOnChanges(){this.spendlist&&this.Idtoken&&(this.dataarrayobj=this.spendlist,this.chartdiv="chartdiv-"+this.Idtoken,this.dataloaded())}dataloaded(){this.disposeChart(),setTimeout(()=>{if(document.getElementById(this.chartdiv)){this.chart=l.vtF(this.chartdiv,c.C1);const t=b.groupBy(this.dataarrayobj,"date");this.dataarrayobj=b.map(t,(d,D)=>({date:D,matprice:b.sumBy(d,"matprice")})),console.log(this.dataarrayobj,"chart loader"),this.chart.data=this.dataarrayobj;const r=this.chart.xAxes.push(new c.cX);r.renderer.minGridDistance=25,r.renderer.labels.template.fontSize=12,r.renderer.labels.template.rotation=45,r.renderer.grid.template.location=0,this.chart.yAxes.push(new c.FL);const a=this.chart.series.push(new c.Im);a.dataFields.dateX="date",a.dataFields.valueY="matprice",a.strokeWidth=3,a.tooltipText="{matprice} Rs in {date}",a.stroke=l.yWT(this.colorcode),this.chart.cursor=new c.Av,this.chart.cursor.behavior="zoomX",this.chart.scrollbarX=new l.ZeV}else console.warn(`Chart container with id ${this.chartdiv} not found.`)},100)}ngOnDestroy(){this.disposeChart()}disposeChart(){this.chart?(this.chart.dispose(),console.log("Chart disposed successfully.")):console.warn("Chart was not initialized before disposal.")}static#t=this.\u0275fac=function(r){return new(r||i)(e.rXU(w.i),e.rXU(f.f))};static#e=this.\u0275cmp=e.VBU({type:i,selectors:[["line-chart"]],inputs:{spendlist:["Spendlist","spendlist"],Idtoken:"Idtoken",colorcode:"colorcode"},features:[e.OA$],decls:1,vars:1,consts:[[1,"shadow-lg","p-2","m-2",2,"width","99%","height","80vh",3,"id"]],template:function(r,n){1&r&&e.nrm(0,"div",0),2&r&&e.Y8G("id",n.chartdiv)}})}return i})();function T(i,s){if(1&i){const t=e.RV6();e.j41(0,"donut-chart",4),e.bIt("dataEmitter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.receiveData(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("Spendlist",t.groupeddata)}}function R(i,s){if(1&i&&e.nrm(0,"line-chart",5),2&i){const t=e.XpG();e.Y8G("colorcode","red")("Idtoken",1)("Spendlist",t.data)}}function A(i,s){if(1&i&&e.nrm(0,"line-chart",5),2&i){const t=e.XpG();e.Y8G("colorcode","red")("Idtoken",2)("Spendlist",t.groupeddatamonthly)}}function B(i,s){if(1&i&&e.nrm(0,"line-chart",5),2&i){const t=e.XpG();e.Y8G("colorcode","green")("Idtoken",3)("Spendlist",t.investdata)}}function j(i,s){if(1&i&&e.nrm(0,"line-chart",5),2&i){const t=e.XpG();e.Y8G("colorcode","green")("Idtoken",4)("Spendlist",t.groupeddatamonthlyinv)}}const O=[{path:"main",component:(()=>{class i{constructor(t){this.fb=t,this.ischart="SDAY"}ngOnInit(){this.fb.getAllspendItems().subscribe(t=>{this.data=t}),this.fb.getmatgroupspendItems().subscribe(t=>{this.groupeddata=t,console.log(t,"group spend items")}),this.fb.getAllSpendItemsMonthly().subscribe(t=>{this.groupeddatamonthly=t}),this.fb.getAllinvestItems().subscribe(t=>{this.investdata=t,console.log(this.data,"ssl")}),this.fb.getAllInvestItemsMonthly().subscribe(t=>{this.groupeddatamonthlyinv=t})}receiveData(t){console.log(t),this.fb.getmatgroupspendItems(t.startdate,t.enddate).subscribe(r=>{this.groupeddata=r})}static#t=this.\u0275fac=function(r){return new(r||i)(e.rXU(f.f))};static#e=this.\u0275cmp=e.VBU({type:i,selectors:[["app-dashboardmain"]],decls:16,vars:5,consts:[[1,"d-flex","justify-content-center","my-2"],[1,"btn","btn-sm","btn-info","mx-1","text-white",3,"click"],[3,"Spendlist","dataEmitter",4,"ngIf"],[3,"colorcode","Idtoken","Spendlist",4,"ngIf"],[3,"Spendlist","dataEmitter"],[3,"colorcode","Idtoken","Spendlist"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return n.ischart="SDAY"}),e.EFF(2,"DAY SPENDS"),e.k0s(),e.j41(3,"button",1),e.bIt("click",function(){return n.ischart="SMONTH"}),e.EFF(4,"MONTH SPENDS"),e.k0s(),e.j41(5,"button",1),e.bIt("click",function(){return n.ischart="GROUP"}),e.EFF(6,"GROUP"),e.k0s(),e.j41(7,"button",1),e.bIt("click",function(){return n.ischart="IDAY"}),e.EFF(8,"DAY INVEST"),e.k0s(),e.j41(9,"button",1),e.bIt("click",function(){return n.ischart="IMONTH"}),e.EFF(10,"MONTH INVEST"),e.k0s()(),e.DNE(11,T,1,1,"donut-chart",2),e.DNE(12,R,1,3,"line-chart",3),e.DNE(13,A,1,3,"line-chart",3),e.DNE(14,B,1,3,"line-chart",3),e.DNE(15,j,1,3,"line-chart",3)),2&r&&(e.R7$(11),e.Y8G("ngIf","GROUP"==n.ischart),e.R7$(1),e.Y8G("ngIf","SDAY"==n.ischart),e.R7$(1),e.Y8G("ngIf","SMONTH"==n.ischart),e.R7$(1),e.Y8G("ngIf","IDAY"==n.ischart),e.R7$(1),e.Y8G("ngIf","IMONTH"==n.ischart))},dependencies:[m.bT,E,F]})}return i})()},{path:"**",redirectTo:"main"}];let P=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=e.$C({type:i});static#r=this.\u0275inj=e.G2t({imports:[y.iI.forChild(O),y.iI]})}return i})();var G=o(99631),C=o(86600),M=o(6914);o(49969);let N=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=e.$C({type:i});static#r=this.\u0275inj=e.G2t({imports:[m.MD,C.yE,M.Gj,M.Gj,C.yE]})}return i})(),z=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=e.$C({type:i});static#r=this.\u0275inj=e.G2t({imports:[m.MD,P,_.RG,G.fS,u.X6,C.WX,g.YN,N]})}return i})()}}]);