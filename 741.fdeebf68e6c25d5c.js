"use strict";(self.webpackChunkSherlyn=self.webpackChunkSherlyn||[]).push([[741],{85741:(nt,w,l)=>{l.r(w),l.d(w,{DashboardModule:()=>st});var p=l(60177),E=l(51188),z=l(67376),t=l(17705),S=l(31088),h=l(8585),u=l(69153),k=l(31591),I=l(25642),o=l(91812);const b=function(s){(0,I.is)(s,"InterfaceColorSet")&&(s.setFor("stroke",(0,o.yW)("#000000")),s.setFor("fill",(0,o.yW)("#2b2b2b")),s.setFor("primaryButton",(0,o.yW)("#6794dc").lighten(-.2)),s.setFor("primaryButtonHover",(0,o.yW)("#6771dc").lighten(-.2)),s.setFor("primaryButtonDown",(0,o.yW)("#68dc75").lighten(-.2)),s.setFor("primaryButtonActive",(0,o.yW)("#68dc75").lighten(-.2)),s.setFor("primaryButtonText",(0,o.yW)("#FFFFFF")),s.setFor("primaryButtonStroke",(0,o.yW)("#6794dc")),s.setFor("secondaryButton",(0,o.yW)("#3b3b3b")),s.setFor("secondaryButtonHover",(0,o.yW)("#3b3b3b").lighten(.1)),s.setFor("secondaryButtonDown",(0,o.yW)("#3b3b3b").lighten(.15)),s.setFor("secondaryButtonActive",(0,o.yW)("#3b3b3b").lighten(.15)),s.setFor("secondaryButtonText",(0,o.yW)("#bbbbbb")),s.setFor("secondaryButtonStroke",(0,o.yW)("#3b3b3b").lighten(-.2)),s.setFor("grid",(0,o.yW)("#bbbbbb")),s.setFor("background",(0,o.yW)("#000000")),s.setFor("alternativeBackground",(0,o.yW)("#ffffff")),s.setFor("text",(0,o.yW)("#ffffff")),s.setFor("alternativeText",(0,o.yW)("#000000")),s.setFor("disabledBackground",(0,o.yW)("#bbbbbb"))),(0,I.is)(s,"Scrollbar")&&(s.background.fillOpacity=.4,s.thumb.background.fillOpacity=.5)};var D=l(20205),y=l(32102),f=l(25084),v=l(89417),C=l(5779),d=l(81455);const G=["container"];function M(s,c){1&s&&t.eu8(0)}function P(s,c){if(1&s){const e=t.RV6();t.j41(0,"div",6),t.bIt("mousedown",function(n){t.eBV(e);const a=t.XpG().index,r=t.XpG();return t.Njj(r.onGutterMouseDown(n,a))})("touchstart",function(n){t.eBV(e);const a=t.XpG().index,r=t.XpG();return t.Njj(r.onGutterTouchStart(n,a))})("touchmove",function(n){t.eBV(e);const a=t.XpG(2);return t.Njj(a.onGutterTouchMove(n))})("touchend",function(n){t.eBV(e);const a=t.XpG().index,r=t.XpG();return t.Njj(r.onGutterTouchEnd(n,a))}),t.j41(1,"div",7),t.bIt("keyup",function(n){t.eBV(e);const a=t.XpG(2);return t.Njj(a.onGutterKeyUp(n))})("keydown",function(n){t.eBV(e);const a=t.XpG().index,r=t.XpG();return t.Njj(r.onGutterKeyDown(n,a))}),t.k0s()()}if(2&s){const e=t.XpG(2);t.BMQ("data-p-gutter-resizing",!1)("data-pc-section","gutter"),t.R7$(1),t.Y8G("ngStyle",e.gutterStyle()),t.BMQ("aria-orientation",e.layout)("aria-valuenow",e.prevSize)("data-pc-section","gutterhandle")}}function B(s,c){if(1&s&&(t.j41(0,"div",3),t.DNE(1,M,1,0,"ng-container",4),t.k0s(),t.DNE(2,P,2,6,"div",5)),2&s){const e=c.$implicit,i=c.index,n=t.XpG();t.HbH(n.panelStyleClass),t.Y8G("ngClass",n.panelContainerClass())("ngStyle",n.panelStyle),t.BMQ("data-pc-name","splitter")("data-pc-section","root"),t.R7$(1),t.Y8G("ngTemplateOutlet",e),t.R7$(1),t.Y8G("ngIf",i!==n.panels.length-1)}}let R=(()=>{class s{document;platformId;renderer;cd;el;styleClass;panelStyleClass;style;panelStyle;stateStorage="session";stateKey=null;layout="horizontal";gutterSize=4;step=5;minSizes=[];get panelSizes(){return this._panelSizes}set panelSizes(e){if(this._panelSizes=e,this.el&&this.el.nativeElement&&this.panels.length>0){let i=[...this.el.nativeElement.children[0].children].filter(a=>d.D.hasClass(a,"p-splitter-panel")),n=[];this.panels.map((a,r)=>{let m=(this.panelSizes.length-1>=r?this.panelSizes[r]:null)||100/this.panels.length;n[r]=m,i[r].style.flexBasis="calc("+m+"% - "+(this.panels.length-1)*this.gutterSize+"px)"})}}onResizeEnd=new t.bkB;onResizeStart=new t.bkB;templates;containerViewChild;nested=!1;panels=[];dragging=!1;mouseMoveListener;mouseUpListener;touchMoveListener;touchEndListener;size;gutterElement;startPos;prevPanelElement;nextPanelElement;nextPanelSize;prevPanelSize;_panelSizes=[];prevPanelIndex;timer;prevSize;window;constructor(e,i,n,a,r){this.document=e,this.platformId=i,this.renderer=n,this.cd=a,this.el=r,this.window=this.document.defaultView}ngOnInit(){this.nested=this.isNested()}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.panels.push(e.template)})}ngAfterViewInit(){if(this.panels&&this.panels.length){let e=!1;if(this.isStateful()&&(0,p.UE)(this.platformId)&&(e=this.restoreState()),!e){let i=[...this.el.nativeElement.children[0].children].filter(a=>d.D.hasClass(a,"p-splitter-panel")),n=[];this.panels.map((a,r)=>{let m=(this.panelSizes.length-1>=r?this.panelSizes[r]:null)||100/this.panels.length;n[r]=m,i[r].style.flexBasis="calc("+m+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),this._panelSizes=n,this.prevSize=parseFloat(n[0]).toFixed(4)}}}resizeStart(e,i,n){this.gutterElement=e.currentTarget||e.target.parentElement,this.size=this.horizontal()?d.D.getWidth(this.containerViewChild.nativeElement):d.D.getHeight(this.containerViewChild.nativeElement),n||(this.dragging=!0,this.startPos=this.horizontal()?e instanceof MouseEvent?e.pageX:e.changedTouches[0].pageX:e instanceof MouseEvent?e.pageY:e.changedTouches[0].pageY),this.prevPanelElement=this.gutterElement.previousElementSibling,this.nextPanelElement=this.gutterElement.nextElementSibling,n?(this.prevPanelSize=this.horizontal()?d.D.getOuterWidth(this.prevPanelElement,!0):d.D.getOuterHeight(this.prevPanelElement,!0),this.nextPanelSize=this.horizontal()?d.D.getOuterWidth(this.nextPanelElement,!0):d.D.getOuterHeight(this.nextPanelElement,!0)):(this.prevPanelSize=100*(this.horizontal()?d.D.getOuterWidth(this.prevPanelElement,!0):d.D.getOuterHeight(this.prevPanelElement,!0))/this.size,this.nextPanelSize=100*(this.horizontal()?d.D.getOuterWidth(this.nextPanelElement,!0):d.D.getOuterHeight(this.nextPanelElement,!0))/this.size),this.prevPanelIndex=i,d.D.addClass(this.gutterElement,"p-splitter-gutter-resizing"),this.gutterElement.setAttribute("data-p-gutter-resizing","true"),d.D.addClass(this.containerViewChild.nativeElement,"p-splitter-resizing"),this.containerViewChild.nativeElement.setAttribute("data-p-resizing","true"),this.onResizeStart.emit({originalEvent:e,sizes:this._panelSizes})}onResize(e,i,n){let a,r,g;n?this.horizontal()?(r=100*(this.prevPanelSize+i)/this.size,g=100*(this.nextPanelSize-i)/this.size):(r=100*(this.prevPanelSize-i)/this.size,g=100*(this.nextPanelSize+i)/this.size):(a=this.horizontal()?100*e.pageX/this.size-100*this.startPos/this.size:100*e.pageY/this.size-100*this.startPos/this.size,r=this.prevPanelSize+a,g=this.nextPanelSize-a),this.prevSize=parseFloat(r).toFixed(4),this.validateResize(r,g)&&(this.prevPanelElement.style.flexBasis="calc("+r+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this.nextPanelElement.style.flexBasis="calc("+g+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this._panelSizes[this.prevPanelIndex]=r,this._panelSizes[this.prevPanelIndex+1]=g)}resizeEnd(e){this.isStateful()&&this.saveState(),this.onResizeEnd.emit({originalEvent:e,sizes:this._panelSizes}),d.D.removeClass(this.gutterElement,"p-splitter-gutter-resizing"),d.D.removeClass(this.containerViewChild.nativeElement,"p-splitter-resizing"),this.clear()}onGutterMouseDown(e,i){this.resizeStart(e,i),this.bindMouseListeners()}onGutterTouchStart(e,i){e.cancelable&&(this.resizeStart(e,i),this.bindTouchListeners(),e.preventDefault())}onGutterTouchMove(e){this.onResize(e),e.preventDefault()}onGutterTouchEnd(e){this.resizeEnd(e),this.unbindTouchListeners(),e.cancelable&&e.preventDefault()}repeat(e,i,n){this.resizeStart(e,i,!0),this.onResize(e,n,!0)}setTimer(e,i,n){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,i,n)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}onGutterKeyUp(e){this.clearTimer(),this.resizeEnd(e)}onGutterKeyDown(e,i){switch(e.code){case"ArrowLeft":"horizontal"===this.layout&&this.setTimer(e,i,-1*this.step),e.preventDefault();break;case"ArrowRight":"horizontal"===this.layout&&this.setTimer(e,i,this.step),e.preventDefault();break;case"ArrowDown":"vertical"===this.layout&&this.setTimer(e,i,-1*this.step),e.preventDefault();break;case"ArrowUp":"vertical"===this.layout&&this.setTimer(e,i,this.step),e.preventDefault()}}validateResize(e,i){return!(this.minSizes.length>=1&&this.minSizes[0]&&this.minSizes[0]>e||this.minSizes.length>1&&this.minSizes[1]&&this.minSizes[1]>i)}bindMouseListeners(){this.mouseMoveListener||(this.mouseMoveListener=this.renderer.listen(this.document,"mousemove",e=>{this.onResize(e)})),this.mouseUpListener||(this.mouseUpListener=this.renderer.listen(this.document,"mouseup",e=>{this.resizeEnd(e),this.unbindMouseListeners()}))}bindTouchListeners(){this.touchMoveListener||(this.touchMoveListener=this.renderer.listen(this.document,"touchmove",e=>{this.onResize(e.changedTouches[0])})),this.touchEndListener||(this.touchEndListener=this.renderer.listen(this.document,"touchend",e=>{this.resizeEnd(e),this.unbindTouchListeners()}))}unbindMouseListeners(){this.mouseMoveListener&&(this.mouseMoveListener(),this.mouseMoveListener=null),this.mouseUpListener&&(this.mouseUpListener(),this.mouseUpListener=null)}unbindTouchListeners(){this.touchMoveListener&&(this.touchMoveListener(),this.touchMoveListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}clear(){this.dragging=!1,this.size=null,this.startPos=null,this.prevPanelElement=null,this.nextPanelElement=null,this.prevPanelSize=null,this.nextPanelSize=null,this.gutterElement=null,this.prevPanelIndex=null}isNested(){if(this.el.nativeElement){let e=this.el.nativeElement.parentElement;for(;e&&!d.D.hasClass(e,"p-splitter");)e=e.parentElement;return null!==e}return!1}isStateful(){return null!=this.stateKey}getStorage(){if(!(0,p.UE)(this.platformId))throw new Error("Storage is not a available by default on the server.");switch(this.stateStorage){case"local":return this.window.localStorage;case"session":return this.window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}saveState(){this.getStorage().setItem(this.stateKey,JSON.stringify(this._panelSizes))}restoreState(){const i=this.getStorage().getItem(this.stateKey);return!!i&&(this._panelSizes=JSON.parse(i),[...this.containerViewChild.nativeElement.children].filter(a=>d.D.hasClass(a,"p-splitter-panel")).forEach((a,r)=>{a.style.flexBasis="calc("+this._panelSizes[r]+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),!0)}containerClass(){return{"p-splitter p-component":!0,"p-splitter-horizontal":"horizontal"===this.layout,"p-splitter-vertical":"vertical"===this.layout}}panelContainerClass(){return{"p-splitter-panel":!0,"p-splitter-panel-nested":!0}}gutterStyle(){return this.horizontal()?{width:this.gutterSize+"px"}:{height:this.gutterSize+"px"}}horizontal(){return"horizontal"===this.layout}static \u0275fac=function(i){return new(i||s)(t.rXU(p.qQ),t.rXU(t.Agw),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(t.aKT))};static \u0275cmp=t.VBU({type:s,selectors:[["p-splitter"]],contentQueries:function(i,n,a){if(1&i&&t.wni(a,C.Ei,4),2&i){let r;t.mGM(r=t.lsd())&&(n.templates=r)}},viewQuery:function(i,n){if(1&i&&t.GBs(G,5),2&i){let a;t.mGM(a=t.lsd())&&(n.containerViewChild=a.first)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,n){2&i&&t.AVh("p-splitter-panel-nested",n.nested)},inputs:{styleClass:"styleClass",panelStyleClass:"panelStyleClass",style:"style",panelStyle:"panelStyle",stateStorage:"stateStorage",stateKey:"stateKey",layout:"layout",gutterSize:"gutterSize",step:"step",minSizes:"minSizes",panelSizes:"panelSizes"},outputs:{onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart"},decls:3,vars:8,consts:[[3,"ngClass","ngStyle"],["container",""],["ngFor","",3,"ngForOf"],["tabindex","-1",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-splitter-gutter","role","separator","tabindex","-1",3,"mousedown","touchstart","touchmove","touchend",4,"ngIf"],["role","separator","tabindex","-1",1,"p-splitter-gutter",3,"mousedown","touchstart","touchmove","touchend"],["tabindex","0",1,"p-splitter-gutter-handle",3,"ngStyle","keyup","keydown"]],template:function(i,n){1&i&&(t.j41(0,"div",0,1),t.DNE(2,B,3,8,"ng-template",2),t.k0s()),2&i&&(t.HbH(n.styleClass),t.Y8G("ngClass",n.containerClass())("ngStyle",n.style),t.BMQ("data-pc-name","splitter")("data-p-gutter-resizing",!1)("data-pc-section","root"),t.R7$(2),t.Y8G("ngForOf",n.panels))},dependencies:[p.YU,p.Sq,p.bT,p.T3,p.B3],styles:["@layer primeng{.p-splitter{display:flex;flex-wrap:nowrap}.p-splitter-vertical{flex-direction:column}.p-splitter-panel{flex-grow:1}.p-splitter-panel-nested{display:flex;min-width:0}.p-splitter-panel p-splitter{flex-grow:1}.p-splitter-panel .p-splitter{flex-grow:1;border:0 none}.p-splitter-gutter{flex-grow:0;flex-shrink:0;display:flex;align-items:center;justify-content:center;cursor:col-resize}.p-splitter-horizontal.p-splitter-resizing{cursor:col-resize;-webkit-user-select:none;user-select:none}.p-splitter-horizontal>.p-splitter-gutter>.p-splitter-gutter-handle{height:24px;width:100%}.p-splitter-horizontal>.p-splitter-gutter{cursor:col-resize}.p-splitter-vertical.p-splitter-resizing{cursor:row-resize;-webkit-user-select:none;user-select:none}.p-splitter-vertical>.p-splitter-gutter{cursor:row-resize}.p-splitter-vertical>.p-splitter-gutter>.p-splitter-gutter-handle{width:24px;height:100%}}\n"],encapsulation:2,changeDetection:0})}return s})(),X=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[p.MD,C.Gg]})}return s})();var _=l(53339);const Y=function(s){return{backgroundColor:s}};h.DPo(_.A);let A=(()=>{class s{constructor(e,i){this.data=e,this.fb=i,this.dataarrayobj=[],this.content="",this.groupedData=[],this.msg="",this.grpcount=0,this.dataforfilter=[],this.colorlist=[],this.enddaterange=new Date,this.startdaterange=(0,k.e)(new Date,30),this.isDark=!0,this.dataEmitter=new t.bkB}ngOnInit(){this.fb.emitTheme().subscribe(e=>{this.isDark=e,console.log(e,"mode"),e?(h.qF2(),h.DPo(b)):(h.qF2(),h.DPo(_.A))})}ngOnChanges(){this.groupedData=this.spendlist,console.log(this.spendlist),this.initializeChart()}ngAfterViewInit(){this.initializeChart()}onDateRangeChanged(){console.log("Start Date:",this.startdaterange),console.log("End Date:",this.enddaterange),this.enddaterange&&this.dataEmitter.emit({startdate:this.startdaterange,enddate:this.enddaterange})}initializeChart(){this.chart=h.vtF("subdonut-chartdiv",u.KC),this.chart.hiddenState.properties.opacity=0,this.chart.data=this.groupedData;const e=this.chart.series.push(new u.tB);e.dataFields.value="totalPrice",e.dataFields.category="matgroup",e.labels.template.fontSize=12,this.chart.legend=new u.s$,this.chart.legend.scrollable=!0,this.chart.legend.maxHeight=80,this.chart.legend.fontSize=14,e.slices.template.events.on("hit",i=>{console.log(i.target.dataItem.category)})}disposeChart(){this.chart?(this.chart.dispose(),console.log("Chart disposed successfully.")):console.warn("Chart was not initialized before disposal.")}static#t=this.\u0275fac=function(i){return new(i||s)(t.rXU(D.i),t.rXU(S.f))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-breakdowndonut"]],inputs:{spendlist:["Spendlist","spendlist"],selectedgroup:["Chosengroup","selectedgroup"]},outputs:{dataEmitter:"dataEmitter"},features:[t.OA$],decls:1,vars:3,consts:[["id","subdonut-chartdiv",1,"shadow-lg","p-2","mx-1",2,"width","99%","height","77vh",3,"ngStyle"]],template:function(i,n){1&i&&t.nrm(0,"div",0),2&i&&t.Y8G("ngStyle",t.eq3(1,Y,n.isDark?"#303030":"#fff"))},dependencies:[p.B3],styles:["#subdonut-chartdiv[_ngcontent-%COMP%]{font-size:12px!important}"]})}return s})();const T=function(s){return{backgroundColor:s}};function O(s,c){if(1&s&&t.nrm(0,"div",9),2&s){const e=t.XpG();t.Y8G("ngStyle",t.eq3(1,T,e.isDark?"#303030":"#fff"))}}function L(s,c){if(1&s){const e=t.RV6();t.j41(0,"span",11)(1,"button",12),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.selectedgroup=!1)}),t.EFF(2,"X"),t.k0s(),t.j41(3,"marquee",13),t.EFF(4),t.k0s(),t.nrm(5,"app-breakdowndonut",14),t.k0s()}if(2&s){const e=t.XpG(2);t.R7$(4),t.SpI("Drill Down ",e.selectedgroup,""),t.R7$(1),t.Y8G("Spendlist",e.matnamedata)("Chosengroup",e.selectedgroup)}}function W(s,c){if(1&s&&t.DNE(0,L,6,3,"span",10),2&s){const e=t.XpG();t.Y8G("ngIf",e.selectedgroup)}}const U=function(){return{height:"78vh",backgroundColor:"#495057"}},V=function(s,c){return[s,c]};h.qF2(),h.DPo(b);let N=(()=>{class s{constructor(e,i){this.data=e,this.fb=i,this.dataarrayobj=[],this.content="",this.groupedData=[],this.msg="",this.grpcount=0,this.dataforfilter=[],this.colorlist=[],this.enddaterange=new Date,this.startdaterange=(0,k.e)(new Date,30),this.selectedgroup=!1,this.showFiller=!1,this.isDark=!0,this.dataEmitter=new t.bkB}ngOnChanges(){this.groupedData=this.spendlist,console.log(this.spendlist),this.initializeChart()}ngAfterViewInit(){this.initializeChart()}ngOnInit(){this.fb.emitTheme().subscribe(e=>{this.isDark=e})}onDateRangeChanged(){console.log("Start Date:",this.startdaterange),console.log("End Date:",this.enddaterange),this.enddaterange&&this.dataEmitter.emit({startdate:this.startdaterange,enddate:this.enddaterange})}initializeChart(){this.chart=h.vtF("donut-chartdiv",u.KC),this.chart.data=this.groupedData;const e=this.chart.series.push(new u.tB);this.chart.hiddenState.properties.opacity=0,e.dataFields.value="totalPrice",e.dataFields.category="matgroup",e.labels.template.fontSize=12,this.chart.legend=new u.s$,this.chart.legend.scrollable=!0,this.chart.legend.maxHeight=80,this.chart.legend.fontSize=14,this.matnamedata=void 0,this.selectedgroup=void 0,e.slices.template.events.on("hit",i=>{e.slices.each(a=>{a.isActive=!1}),console.log(i.target.dataItem.category),this.selectedgroup=i.target.dataItem.category,this.fb.getmatnamespendItems(i.target.dataItem.category,this.startdaterange,this.enddaterange).subscribe(a=>{this.matnamedata=a,this.matnamedata=z.orderBy(this.matnamedata,"totalPrice","desc"),console.log(a,"group spend items")})})}disposeChart(){this.chart?(this.chart.dispose(),console.log("Chart disposed successfully.")):console.warn("Chart was not initialized before disposal.")}static#t=this.\u0275fac=function(i){return new(i||s)(t.rXU(D.i),t.rXU(S.f))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["donut-chart"]],inputs:{spendlist:["Spendlist","spendlist"]},outputs:{dataEmitter:"dataEmitter"},features:[t.OA$],decls:13,vars:14,consts:[[1,"d-flex","justify-content-center"],[1,"hide-subscript"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date",3,"ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],[3,"panelSizes","ngStyle"],["pTemplate",""],["id","donut-chartdiv",1,"shadow-lg","p-2","mx-1",2,"width","100%","height","77vh",3,"ngStyle"],["style","width: 100%; height: 70vh;",4,"ngIf"],[2,"width","100%","height","70vh"],[1,"btn","btn-sm","btn-danger","closersub",3,"click"],[1,"subheader"],[1,"bg-dark",3,"Spendlist","Chosengroup"]],template:function(i,n){if(1&i&&(t.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),t.EFF(3,"Selected date range MM/DD/YYYY"),t.k0s(),t.j41(4,"mat-date-range-input",2)(5,"input",3),t.bIt("ngModelChange",function(r){return n.startdaterange=r}),t.k0s(),t.j41(6,"input",4),t.bIt("ngModelChange",function(r){return n.enddaterange=r})("ngModelChange",function(){return n.onDateRangeChanged()}),t.k0s()(),t.nrm(7,"mat-datepicker-toggle",5)(8,"mat-date-range-picker",null,6),t.k0s()(),t.j41(10,"p-splitter",7),t.DNE(11,O,1,3,"ng-template",8),t.DNE(12,W,1,1,"ng-template",8),t.k0s()),2&i){const a=t.sdS(9);t.R7$(4),t.Y8G("rangePicker",a),t.R7$(1),t.Y8G("ngModel",n.startdaterange),t.R7$(1),t.Y8G("ngModel",n.enddaterange),t.R7$(1),t.Y8G("for",a),t.R7$(3),t.Aen(t.lJ4(8,U)),t.Y8G("panelSizes",t.l_i(9,V,n.selectedgroup?40:99,n.selectedgroup?60:1))("ngStyle",t.eq3(12,T,n.isDark?"#303030":"#fff"))}},dependencies:[p.bT,p.B3,y.rl,y.nJ,y.yw,f.bU,f.el,f.xR,f.IG,f.SG,v.me,v.BC,v.vS,R,C.Ei,A],styles:[".subheader[_ngcontent-%COMP%]{position:absolute;top:25%;left:52%}.closersub[_ngcontent-%COMP%]{position:absolute;top:25%;right:2%;z-index:5;opacity:.5}  .hide-subscript .mat-mdc-form-field-subscript-wrapper{display:none!important}"]})}return s})();var x=l(36554);let $=(()=>{class s{constructor(e,i,n,a){this.data=e,this.fb=i,this.ngZone=n,this.spinner=a,this.dataarrayobj=[],this.chartdiv="",this.chartCreated=!1,this.isDark=!0,this.zoomRange="days"}ngOnChanges(){this.spendlist&&this.Idtoken&&(this.dataarrayobj=this.spendlist,this.chartdiv="chartdiv-"+this.Idtoken,this.chartCreated=!1,this.spinner.show())}ngOnInit(){this.spendlist&&this.Idtoken&&(this.spinner.show(),this.createChart()),this.fb.emitTheme().subscribe(e=>{this.isDark=e,console.log(e,"mode"),h.DPo(e?_.A:b)})}ngAfterViewChecked(){this.spendlist&&this.Idtoken&&!this.chartCreated&&this.createChart()}createChart(){this.ngZone.runOutsideAngular(()=>{if(this.chart&&this.chart.dispose(),!document.getElementById(this.chartdiv))return console.warn(`Element with id ${this.chartdiv} is missing in DOM.`),void this.spinner.hide();this.chart=h.vtF(this.chartdiv,u.C1),this.chartCreated=!0,this.chart.data=this.dataarrayobj;let i=this.chart.xAxes.push(new u.cX);i.renderer.minGridDistance=25,i.renderer.labels.template.fontSize=12,i.renderer.labels.template.rotation=45,i.renderer.grid.template.location=0,this.chart.yAxes.push(new u.FL);let a=this.chart.series.push(new u.kW);a.name="matprice",a.fill=h.yWT(this.colorcode),a.dataFields.valueY="matprice",a.dataFields.dateX="date",a.columns.template.propertyFields.fillOpacity="fillOpacity",a.columns.template.propertyFields.stroke="stroke",a.columns.template.propertyFields.strokeWidth="strokeWidth",a.columns.template.propertyFields.strokeDasharray="columnDash",a.tooltip&&(a.tooltip.label.textAlign="middle");let r=this.chart.series.push(new u.Im);r.name="Expenses",r.dataFields.valueY="matprice",r.dataFields.dateX="date",r.stroke=h.yWT(this.colorcode,.3),r.strokeWidth=3,r.propertyFields.strokeDasharray="lineDash",r.tooltip&&(r.tooltip.label.textAlign="middle");let g=r.bullets.push(new u.Dv);g.fill=h.yWT("#fdd400"),g.tooltipText="[#fff font-size: 0.8rem]{name} \n {dateX}\n[/][#fff font-size: 1rem]{valueY}[/] [#fff]{additional}[/]";let m=g.createChild(h.jlt);m.radius=4,m.fill=h.yWT("#fff"),m.strokeWidth=1,this.chart.cursor=new u.Av,this.chart.cursor.behavior="zoomX",this.chart.cursor.lineX.disabled=!0,this.chart.cursor.lineY.disabled=!0,this.chart.scrollbarX=new h.ZeV,this.chart.scrollbarX.marginBottom=30,this.chart.events.on("ready",()=>{this.spinner.hide()})}),this.chart.events.on("ready",()=>{const e=new Date;let i;if("days"===this.zoomRange)i=new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),this.chart.xAxes.getIndex(0).zoomToDates(i,e,!0);else if("months"===this.zoomRange){i=new Date(e.getFullYear(),e.getMonth()-6,1);const n=new Date(e.getFullYear(),e.getMonth()+1,1);this.chart.xAxes.getIndex(0).zoomToDates(i,n,!0)}})}ngOnDestroy(){this.chart&&this.chart.dispose(),this.spinner.hide()}static#t=this.\u0275fac=function(i){return new(i||s)(t.rXU(D.i),t.rXU(S.f),t.rXU(t.SKi),t.rXU(x.ex))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-bar-line"]],inputs:{spendlist:["Spendlist","spendlist"],Idtoken:"Idtoken",colorcode:"colorcode",zoomRange:"zoomRange"},features:[t.OA$],decls:4,vars:2,consts:[[1,"shadow-lg","p-2","m-2",2,"width","99%","height","86vh",3,"id"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-clip-rotate-multiple",3,"fullScreen"],[2,"color","white"]],template:function(i,n){1&i&&(t.nrm(0,"div",0),t.j41(1,"ngx-spinner",1)(2,"p",2),t.EFF(3," Loading... "),t.k0s()()),2&i&&(t.Y8G("id","chartdiv-"+n.Idtoken),t.R7$(1),t.Y8G("fullScreen",!0))},dependencies:[x.et],styles:["#chartdiv[_ngcontent-%COMP%]{flex:1;height:90%;min-height:10px;width:100%;max-height:1500px}  g>rect{position:absolute;top:50px;background-color:red!important}  .amcharts-amexport-item.amcharts-amexport-item-level-0{position:relative;top:100px}"]})}return s})();function j(s,c){if(1&s){const e=t.RV6();t.j41(0,"donut-chart",2),t.bIt("dataEmitter",function(n){t.eBV(e);const a=t.XpG();return t.Njj(a.receiveData(n))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("Spendlist",e.groupeddata)}}function H(s,c){if(1&s&&t.nrm(0,"app-bar-line",3),2&s){const e=t.XpG();t.Y8G("Idtoken",1)("colorcode","red")("Spendlist",e.data)("zoomRange","days")}}function K(s,c){if(1&s&&t.nrm(0,"app-bar-line",3),2&s){const e=t.XpG();t.Y8G("Idtoken",2)("colorcode","red")("Spendlist",e.groupeddatamonthly)("zoomRange","months")}}function Q(s,c){if(1&s&&t.nrm(0,"app-bar-line",3),2&s){const e=t.XpG();t.Y8G("Idtoken",3)("colorcode","green")("Spendlist",e.investdata)("zoomRange","days")}}function J(s,c){if(1&s&&t.nrm(0,"app-bar-line",3),2&s){const e=t.XpG();t.Y8G("Idtoken",4)("colorcode","green")("Spendlist",e.groupeddatamonthlyinv)("zoomRange","months")}}const Z=[{path:"main",component:(()=>{class s{constructor(e){this.fb=e,this.ischart="SDAY"}ngOnInit(){this.fb.emitViewTokem().subscribe(e=>{this.ischart=e}),this.fb.getAllspendItems().subscribe(e=>{this.data=e}),this.fb.getmatgroupspendItems().subscribe(e=>{this.groupeddata=e,this.groupeddata=z.orderBy(this.groupeddata,"totalPrice","desc")}),this.fb.getAllSpendItemsMonthly().subscribe(e=>{this.groupeddatamonthly=e}),this.fb.getAllinvestItems().subscribe(e=>{this.investdata=e}),this.fb.getAllInvestItemsMonthly().subscribe(e=>{this.groupeddatamonthlyinv=e})}receiveData(e){console.log(e),this.fb.getmatgroupspendItems(e.startdate,e.enddate).subscribe(i=>{this.groupeddata=i,this.groupeddata=z.orderBy(this.groupeddata,"totalPrice","desc")})}static#t=this.\u0275fac=function(i){return new(i||s)(t.rXU(S.f))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-dashboardmain"]],decls:5,vars:5,consts:[[3,"Spendlist","dataEmitter",4,"ngIf"],[3,"Idtoken","colorcode","Spendlist","zoomRange",4,"ngIf"],[3,"Spendlist","dataEmitter"],[3,"Idtoken","colorcode","Spendlist","zoomRange"]],template:function(i,n){1&i&&(t.DNE(0,j,1,1,"donut-chart",0),t.DNE(1,H,1,4,"app-bar-line",1),t.DNE(2,K,1,4,"app-bar-line",1),t.DNE(3,Q,1,4,"app-bar-line",1),t.DNE(4,J,1,4,"app-bar-line",1)),2&i&&(t.Y8G("ngIf","GROUP"==n.ischart),t.R7$(1),t.Y8G("ngIf","SDAY"==n.ischart),t.R7$(1),t.Y8G("ngIf","SMONTH"==n.ischart),t.R7$(1),t.Y8G("ngIf","IDAY"==n.ischart),t.R7$(1),t.Y8G("ngIf","IMONTH"==n.ischart))},dependencies:[p.bT,N,$]})}return s})()},{path:"**",redirectTo:"main"}];let q=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=t.$C({type:s});static#i=this.\u0275inj=t.G2t({imports:[E.iI.forChild(Z),E.iI]})}return s})();var tt=l(99631),et=l(86600),it=l(90882);let st=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=t.$C({type:s});static#i=this.\u0275inj=t.G2t({imports:[p.MD,q,x.PO,y.RG,tt.fS,f.X6,et.WX,v.YN,it.vg,X]})}return s})()}}]);