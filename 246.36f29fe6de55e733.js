"use strict";(self.webpackChunkSherlyn=self.webpackChunkSherlyn||[]).push([[246],{2246:(M,u,r)=>{r.r(u),r.d(u,{CreditcardModule:()=>S});var o=r(60177),f=r(99631),h=r(57250),d=r(89417),g=r(30803),C=r(27468),t=r(17705),v=r(31088),c=r(36554),m=r(32102),p=r(86600);let F=(()=>{class e{ngOnChanges(i){}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-creditcardui"]],inputs:{carddetails:["Creditcards","carddetails"]},features:[t.OA$],decls:22,vars:13,consts:[[1,"credit-card"],[1,"card-header"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"me-5"],[1,"my-auto"],[1,"my-auto","fs-6","fw-bold","p-1",3,"ngClass"],["alt","type.logo",2,"height","5vh","width","9vh",3,"src"]],template:function(a,n){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3),t.k0s()(),t.j41(4,"div",2)(5,"div",3)(6,"p"),t.EFF(7),t.k0s(),t.j41(8,"p"),t.EFF(9),t.k0s()(),t.j41(10,"div",3)(11,"p"),t.EFF(12),t.k0s(),t.j41(13,"p",4),t.EFF(14),t.k0s()(),t.j41(15,"div",3)(16,"p",5),t.EFF(17),t.k0s(),t.j41(18,"span",6),t.EFF(19),t.nI1(20,"number"),t.k0s(),t.nrm(21,"img",7),t.k0s()()()),2&a&&(t.R7$(3),t.JRh(n.carddetails.cardname),t.R7$(4),t.JRh(n.carddetails.cardholder),t.R7$(2),t.SpI("**** **** **** ",n.carddetails.cardnumber,""),t.R7$(3),t.SpI(" VD ",n.carddetails.expirydate,""),t.R7$(2),t.SpI(" CVV ",n.carddetails.cvv,""),t.R7$(3),t.Lme(" ",n.carddetails.utilised,"/",n.carddetails.totallimit,""),t.R7$(1),t.Y8G("ngClass",n.carddetails.utilised/n.carddetails.totallimit*100<30?"text-success":"text-danger"),t.R7$(1),t.SpI(" ",t.i5U(20,10,n.carddetails.utilised/n.carddetails.totallimit*100,"1.2-2"),"% "),t.R7$(2),t.Y8G("src","assets/images/"+n.carddetails.type+".png",t.B4B))},dependencies:[o.YU,o.QX],styles:[".credit-card[_ngcontent-%COMP%]{width:40vh;height:25vh;background:linear-gradient(135deg,#da4c4c 0%,#77bee1 100%);color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 20px #0000004d;position:relative;overflow:hidden}.card-header[_ngcontent-%COMP%]{text-align:center}"]})}return e})();const y=["creditcard"];function b(e,l){if(1&e&&(t.qex(0),t.nrm(1,"app-creditcardui",10),t.bVm()),2&e){const i=l.$implicit;t.R7$(1),t.Y8G("Creditcards",i)}}function j(e,l){if(1&e&&(t.qex(0),t.DNE(1,b,2,1,"ng-container",9),t.bVm()),2&e){const i=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",i.data)}}function E(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"No cards found..."),t.k0s())}function R(e,l){if(1&e&&(t.j41(0,"div",6),t.DNE(1,j,2,1,"ng-container",7),t.DNE(2,E,2,0,"ng-template",null,8,t.C5r),t.k0s()),2&e){const i=t.sdS(3),a=t.XpG();t.R7$(1),t.Y8G("ngIf",a.data.length>0)("ngIfElse",i)}}function I(e,l){if(1&e){const i=t.RV6();t.j41(0,"form",11,12),t.bIt("ngSubmit",function(){t.eBV(i);const n=t.sdS(1),s=t.XpG();return t.Njj(s.addentry(n))}),t.j41(2,"div",13)(3,"div",14)(4,"mat-form-field",15)(5,"mat-label"),t.EFF(6,"Card Name"),t.k0s(),t.nrm(7,"input",16),t.k0s()(),t.j41(8,"div",14)(9,"mat-form-field",15)(10,"mat-label"),t.EFF(11,"Name on Card"),t.k0s(),t.nrm(12,"input",17),t.k0s()(),t.j41(13,"div",14)(14,"mat-form-field",15)(15,"mat-label"),t.EFF(16,"Card Number"),t.k0s(),t.j41(17,"input",18),t.bIt("ngModelChange",function(n){t.eBV(i);const s=t.XpG();return t.Njj(s.cardnumber=n)}),t.k0s()()(),t.j41(18,"div",19)(19,"mat-form-field",15)(20,"mat-label"),t.EFF(21,"Valid"),t.k0s(),t.nrm(22,"input",20),t.k0s()(),t.j41(23,"div",19)(24,"mat-form-field",15)(25,"mat-label"),t.EFF(26,"CVV"),t.k0s(),t.nrm(27,"input",21),t.k0s()(),t.j41(28,"div",19)(29,"mat-form-field",15)(30,"mat-label"),t.EFF(31,"Total Limit"),t.k0s(),t.nrm(32,"input",22),t.k0s()(),t.j41(33,"div",19)(34,"mat-form-field",15)(35,"mat-label"),t.EFF(36,"Card Type"),t.k0s(),t.j41(37,"mat-select",23)(38,"mat-option",24),t.EFF(39,"VISA"),t.k0s(),t.j41(40,"mat-option",24),t.EFF(41,"MASTER"),t.k0s(),t.j41(42,"mat-option",24),t.EFF(43,"RUPAY"),t.k0s()()()(),t.j41(44,"div",14)(45,"button",25),t.EFF(46,"Submit"),t.k0s()()()()}if(2&e){const i=t.sdS(1),a=t.XpG();t.R7$(17),t.Y8G("ngModel",a.cardnumber),t.R7$(21),t.Y8G("value","visa"),t.R7$(2),t.Y8G("value","master"),t.R7$(2),t.Y8G("value","rupay"),t.R7$(3),t.Y8G("disabled",i.invalid)}}const k=[{path:"main",component:(()=>{class e{constructor(i,a){this.fb=i,this.spinner=a,this.isnewentry=!1,this.data=[]}ngOnInit(){this.refreshcarddata()}addentry(i){console.log(i),this.spinner.show(),this.creditcard.form.patchValue({...i});const a={...i.value};this.fb.CreditCards(a).finally(()=>{this.creditcard.resetForm(),this.refreshcarddata(),this.spinner.hide()})}refreshcarddata(){this.spinner.show(),(0,C.p)({creditcards:this.fb.getAllCreditcards(),lendItems:this.fb.getAllLenditems()}).subscribe(({creditcards:i,lendItems:a})=>{this.data=i.map(n=>{const s=a.find(V=>V.cardname===n.cardname);return n.utilised=n.utilised?n.utilised:0,s?{...n,...s}:n}),console.log(this.data),this.spinner.hide()},i=>{console.error("Error fetching data:",i),this.spinner.hide()})}static#t=this.\u0275fac=function(a){return new(a||e)(t.rXU(v.f),t.rXU(c.ex))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-creditmain"]],viewQuery:function(a,n){if(1&a&&t.GBs(y,5),2&a){let s;t.mGM(s=t.lsd())&&(n.creditcard=s.first)}},decls:8,vars:4,consts:[[1,"d-flex","justify-content-center","mb-2"],[1,"btn","btn-sm","btn-info","text-white",3,"click"],["class","container d-flex flex-wrap gap-3 justify-content-center",4,"ngIf"],["class","container vh-50 mt-3",3,"ngSubmit",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-clip-rotate-multiple",3,"fullScreen"],[2,"color","white"],[1,"container","d-flex","flex-wrap","gap-3","justify-content-center"],[4,"ngIf","ngIfElse"],["content",""],[4,"ngFor","ngForOf"],[3,"Creditcards"],[1,"container","vh-50","mt-3",3,"ngSubmit"],["creditcard","ngForm"],[1,"row"],[1,"col-12"],["appearance","fill",1,"w-100"],["matInput","","required","","placeholder","Card Name","ngModel","","name","cardname"],["matInput","","required","","placeholder","Name on card","ngModel","","name","cardholder","type","text"],["matInput","","required","","placeholder","Last 4 digits","name","cardnumber","type","text","maxlength","4","inputmode","numeric",3,"ngModel","ngModelChange"],[1,"col-md-6"],["matInput","","required","","placeholder","mm/yy","type","text","maxlength","5","minlength","5","inputmode","numeric","ngModel","","name","expirydate"],["matInput","","required","","placeholder","CVV","maxlength","3","minlength","3","pattern","\\d{3}","inputmode","numeric","ngModel","","name","cvv","type","text"],["matInput","","required","","placeholder","Total Limit","ngModel","","name","totallimit","type","number"],["required","","ngModel","","name","type"],[3,"value"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"]],template:function(a,n){1&a&&(t.j41(0,"span",0)(1,"button",1),t.bIt("click",function(){return n.isnewentry=!n.isnewentry}),t.EFF(2),t.k0s()(),t.DNE(3,R,4,2,"div",2),t.DNE(4,I,47,5,"form",3),t.j41(5,"ngx-spinner",4)(6,"p",5),t.EFF(7," Loading... "),t.k0s()()),2&a&&(t.R7$(2),t.JRh(n.isnewentry?"Back":"Add card"),t.R7$(1),t.Y8G("ngIf",!n.isnewentry),t.R7$(1),t.Y8G("ngIf",n.isnewentry),t.R7$(1),t.Y8G("fullScreen",!0))},dependencies:[o.Sq,o.bT,m.rl,m.nJ,f.fg,d.qT,d.me,d.Q0,d.BC,d.cb,d.YS,d.xh,d.tU,d.R_,d.vS,d.cV,h.VO,p.wT,c.et,F]})}return e})()},{path:"**",redirectTo:"main"}];let $=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[g.iI.forChild(k),g.iI]})}return e})();var x=r(88834),G=r(21801);let S=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[o.MD,$,x.Hl,m.RG,f.fS,p.WX,d.YN,d.X1,G.m_,h.Ve,p.Sy,c.PO]})}return e})()}}]);